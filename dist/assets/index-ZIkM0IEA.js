var HL=Object.defineProperty;var u1=t=>{throw TypeError(t)};var qL=(t,e,n)=>e in t?HL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fe=(t,e,n)=>qL(t,typeof e!="symbol"?e+"":e,n),Yg=(t,e,n)=>e.has(t)||u1("Cannot "+n);var C=(t,e,n)=>(Yg(t,e,"read from private field"),n?n.call(t):e.get(t)),H=(t,e,n)=>e.has(t)?u1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),K=(t,e,n,r)=>(Yg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Y=(t,e,n)=>(Yg(t,e,"access private method"),n);var qf=(t,e,n,r)=>({set _(s){K(t,e,s,n)},get _(){return C(t,e,r)}});function KL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OT={exports:{}},Dm={},DT={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=Symbol.for("react.element"),YL=Symbol.for("react.portal"),GL=Symbol.for("react.fragment"),QL=Symbol.for("react.strict_mode"),XL=Symbol.for("react.profiler"),ZL=Symbol.for("react.provider"),JL=Symbol.for("react.context"),e4=Symbol.for("react.forward_ref"),t4=Symbol.for("react.suspense"),n4=Symbol.for("react.memo"),r4=Symbol.for("react.lazy"),d1=Symbol.iterator;function s4(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var FT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LT=Object.assign,VT={};function Ic(t,e,n){this.props=t,this.context=e,this.refs=VT,this.updater=n||FT}Ic.prototype.isReactComponent={};Ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UT(){}UT.prototype=Ic.prototype;function Jw(t,e,n){this.props=t,this.context=e,this.refs=VT,this.updater=n||FT}var eb=Jw.prototype=new UT;eb.constructor=Jw;LT(eb,Ic.prototype);eb.isPureReactComponent=!0;var f1=Array.isArray,$T=Object.prototype.hasOwnProperty,tb={current:null},BT={key:!0,ref:!0,__self:!0,__source:!0};function zT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$T.call(e,r)&&!BT.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:mf,type:t,key:i,ref:o,props:s,_owner:tb.current}}function i4(t,e){return{$$typeof:mf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nb(t){return typeof t=="object"&&t!==null&&t.$$typeof===mf}function a4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h1=/\/+/g;function Gg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a4(""+t.key):e.toString(36)}function Ah(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mf:case YL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gg(o,0):r,f1(s)?(n="",t!=null&&(n=t.replace(h1,"$&/")+"/"),Ah(s,e,n,"",function(u){return u})):s!=null&&(nb(s)&&(s=i4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(h1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",f1(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Gg(i,l);o+=Ah(i,e,n,c,s)}else if(c=s4(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Gg(i,l++),o+=Ah(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kf(t,e,n){if(t==null)return t;var r=[],s=0;return Ah(t,r,"","",function(i){return e.call(n,i,s++)}),r}function o4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},Rh={transition:null},l4={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:Rh,ReactCurrentOwner:tb};function WT(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Kf,forEach:function(t,e,n){Kf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kf(t,function(){e++}),e},toArray:function(t){return Kf(t,function(e){return e})||[]},only:function(t){if(!nb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Ic;ze.Fragment=GL;ze.Profiler=XL;ze.PureComponent=Jw;ze.StrictMode=QL;ze.Suspense=t4;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l4;ze.act=WT;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tb.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)$T.call(e,c)&&!BT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:mf,type:t.type,key:s,ref:i,props:r,_owner:o}};ze.createContext=function(t){return t={$$typeof:JL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZL,_context:t},t.Consumer=t};ze.createElement=zT;ze.createFactory=function(t){var e=zT.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:e4,render:t}};ze.isValidElement=nb;ze.lazy=function(t){return{$$typeof:r4,_payload:{_status:-1,_result:t},_init:o4}};ze.memo=function(t,e){return{$$typeof:n4,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Rh.transition;Rh.transition={};try{t()}finally{Rh.transition=e}};ze.unstable_act=WT;ze.useCallback=function(t,e){return kn.current.useCallback(t,e)};ze.useContext=function(t){return kn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return kn.current.useEffect(t,e)};ze.useId=function(){return kn.current.useId()};ze.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return kn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};ze.useRef=function(t){return kn.current.useRef(t)};ze.useState=function(t){return kn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return kn.current.useTransition()};ze.version="18.3.1";DT.exports=ze;var p=DT.exports;const re=hi(p),Fm=KL({__proto__:null,default:re},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4=p,u4=Symbol.for("react.element"),d4=Symbol.for("react.fragment"),f4=Object.prototype.hasOwnProperty,h4=c4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p4={key:!0,ref:!0,__self:!0,__source:!0};function HT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)f4.call(e,r)&&!p4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:u4,type:t,key:i,ref:o,props:s,_owner:h4.current}}Dm.Fragment=d4;Dm.jsx=HT;Dm.jsxs=HT;OT.exports=Dm;var a=OT.exports,qT={exports:{}},tr={},KT={exports:{}},YT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,R){var q=_.length;_.push(R);e:for(;0<q;){var G=q-1>>>1,se=_[G];if(0<s(se,R))_[G]=R,_[q]=se,q=G;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var R=_[0],q=_.pop();if(q!==R){_[0]=q;e:for(var G=0,se=_.length,J=se>>>1;G<J;){var ce=2*(G+1)-1,Se=_[ce],W=ce+1,Q=_[W];if(0>s(Se,q))W<se&&0>s(Q,Se)?(_[G]=Q,_[W]=q,G=W):(_[G]=Se,_[ce]=q,G=ce);else if(W<se&&0>s(Q,q))_[G]=Q,_[W]=q,G=W;else break e}}return R}function s(_,R){var q=_.sortIndex-R.sortIndex;return q!==0?q:_.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=_)r(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(u)}}function S(_){if(g=!1,b(_),!y)if(n(c)!==null)y=!0,V(E);else{var R=n(u);R!==null&&$(S,R.startTime-_)}}function E(_,R){y=!1,g&&(g=!1,x(N),N=-1),m=!0;var q=h;try{for(b(R),f=n(c);f!==null&&(!(f.expirationTime>R)||_&&!O());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var se=G(f.expirationTime<=R);R=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(c)&&r(c),b(R)}else r(c);f=n(c)}if(f!==null)var J=!0;else{var ce=n(u);ce!==null&&$(S,ce.startTime-R),J=!1}return J}finally{f=null,h=q,m=!1}}var k=!1,T=null,N=-1,j=5,P=-1;function O(){return!(t.unstable_now()-P<j)}function I(){if(T!==null){var _=t.unstable_now();P=_;var R=!0;try{R=T(!0,_)}finally{R?B():(k=!1,T=null)}}else k=!1}var B;if(typeof v=="function")B=function(){v(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=I,B=function(){M.postMessage(null)}}else B=function(){w(I,0)};function V(_){T=_,k||(k=!0,B())}function $(_,R){N=w(function(){_(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,V(E))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(_){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var q=h;h=R;try{return _()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,R){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var q=h;h=_;try{return R()}finally{h=q}},t.unstable_scheduleCallback=function(_,R,q){var G=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,_){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=q+se,_={id:d++,callback:R,priorityLevel:_,startTime:q,expirationTime:se,sortIndex:-1},q>G?(_.sortIndex=q,e(u,_),n(c)===null&&_===n(u)&&(g?(x(N),N=-1):g=!0,$(S,q-G))):(_.sortIndex=se,e(c,_),y||m||(y=!0,V(E))),_},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(_){var R=h;return function(){var q=h;h=R;try{return _.apply(this,arguments)}finally{h=q}}}})(YT);KT.exports=YT;var m4=KT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4=p,Zn=m4;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GT=new Set,Zu={};function Mo(t,e){uc(t,e),uc(t+"Capture",e)}function uc(t,e){for(Zu[t]=e,t=0;t<e.length;t++)GT.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dv=Object.prototype.hasOwnProperty,y4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p1={},m1={};function v4(t){return dv.call(m1,t)?!0:dv.call(p1,t)?!1:y4.test(t)?m1[t]=!0:(p1[t]=!0,!1)}function x4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w4(t,e,n,r){if(e===null||typeof e>"u"||x4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tn[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tn[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tn[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tn[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tn[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tn[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tn[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tn[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tn[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rb=/[\-:]([a-z])/g;function sb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rb,sb);tn[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rb,sb);tn[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rb,sb);tn[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ib(t,e,n,r){var s=tn.hasOwnProperty(e)?tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w4(e,n,s,r)&&(n=null),r||s===null?v4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pi=g4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yf=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),ab=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),XT=Symbol.for("react.context"),ob=Symbol.for("react.forward_ref"),hv=Symbol.for("react.suspense"),pv=Symbol.for("react.suspense_list"),lb=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),ZT=Symbol.for("react.offscreen"),g1=Symbol.iterator;function Qc(t){return t===null||typeof t!="object"?null:(t=g1&&t[g1]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,Qg;function gu(t){if(Qg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qg=e&&e[1]||""}return`
`+Qg+t}var Xg=!1;function Zg(t,e){if(!t||Xg)return"";Xg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Xg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gu(t):""}function b4(t){switch(t.tag){case 5:return gu(t.type);case 16:return gu("Lazy");case 13:return gu("Suspense");case 19:return gu("SuspenseList");case 0:case 2:case 15:return t=Zg(t.type,!1),t;case 11:return t=Zg(t.type.render,!1),t;case 1:return t=Zg(t.type,!0),t;default:return""}}function mv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Zo:return"Portal";case fv:return"Profiler";case ab:return"StrictMode";case hv:return"Suspense";case pv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XT:return(t.displayName||"Context")+".Consumer";case QT:return(t._context.displayName||"Context")+".Provider";case ob:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lb:return e=t.displayName||null,e!==null?e:mv(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return mv(t(e))}catch{}}return null}function S4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mv(e);case 8:return e===ab?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C4(t){var e=JT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gf(t){t._valueTracker||(t._valueTracker=C4(t))}function ek(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gv(t,e){var n=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function y1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ua(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tk(t,e){e=e.checked,e!=null&&ib(t,"checked",e,!1)}function yv(t,e){tk(t,e);var n=ua(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vv(t,e.type,n):e.hasOwnProperty("defaultValue")&&vv(t,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vv(t,e,n){(e!=="number"||cp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yu=Array.isArray;function yl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ua(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(yu(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ua(n)}}function nk(t,e){var n=ua(e.value),r=ua(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qf,sk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qf=Qf||document.createElement("div"),Qf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E4=["Webkit","ms","Moz","O"];Object.keys(Ru).forEach(function(t){E4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ru[e]=Ru[t]})});function ik(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ru.hasOwnProperty(t)&&Ru[t]?(""+e).trim():e+"px"}function ak(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ik(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var N4=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bv(t,e){if(e){if(N4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Sv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cv=null;function cb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ev=null,vl=null,xl=null;function b1(t){if(t=vf(t)){if(typeof Ev!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Bm(e),Ev(t.stateNode,t.type,e))}}function ok(t){vl?xl?xl.push(t):xl=[t]:vl=t}function lk(){if(vl){var t=vl,e=xl;if(xl=vl=null,b1(t),e)for(t=0;t<e.length;t++)b1(e[t])}}function ck(t,e){return t(e)}function uk(){}var Jg=!1;function dk(t,e,n){if(Jg)return t(e,n);Jg=!0;try{return ck(t,e,n)}finally{Jg=!1,(vl!==null||xl!==null)&&(uk(),lk())}}function ed(t,e){var n=t.stateNode;if(n===null)return null;var r=Bm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Nv=!1;if(ri)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){Nv=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{Nv=!1}function j4(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Iu=!1,up=null,dp=!1,jv=null,T4={onError:function(t){Iu=!0,up=t}};function k4(t,e,n,r,s,i,o,l,c){Iu=!1,up=null,j4.apply(T4,arguments)}function P4(t,e,n,r,s,i,o,l,c){if(k4.apply(this,arguments),Iu){if(Iu){var u=up;Iu=!1,up=null}else throw Error(ie(198));dp||(dp=!0,jv=u)}}function Oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S1(t){if(Oo(t)!==t)throw Error(ie(188))}function _4(t){var e=t.alternate;if(!e){if(e=Oo(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return S1(s),t;if(i===r)return S1(s),e;i=i.sibling}throw Error(ie(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function hk(t){return t=_4(t),t!==null?pk(t):null}function pk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pk(t);if(e!==null)return e;t=t.sibling}return null}var mk=Zn.unstable_scheduleCallback,C1=Zn.unstable_cancelCallback,A4=Zn.unstable_shouldYield,R4=Zn.unstable_requestPaint,Ot=Zn.unstable_now,I4=Zn.unstable_getCurrentPriorityLevel,ub=Zn.unstable_ImmediatePriority,gk=Zn.unstable_UserBlockingPriority,fp=Zn.unstable_NormalPriority,M4=Zn.unstable_LowPriority,yk=Zn.unstable_IdlePriority,Lm=null,ws=null;function O4(t){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(Lm,t,void 0,(t.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:L4,D4=Math.log,F4=Math.LN2;function L4(t){return t>>>=0,t===0?32:31-(D4(t)/F4|0)|0}var Xf=64,Zf=4194304;function vu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=vu(l):(i&=o,i!==0&&(r=vu(i)))}else o=n&~s,o!==0?r=vu(o):i!==0&&(r=vu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kr(e),s=1<<n,r|=t[n],e&=~s;return r}function V4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=V4(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Tv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vk(){var t=Xf;return Xf<<=1,!(Xf&4194240)&&(Xf=64),t}function ey(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kr(e),t[e]=n}function $4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function db(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var at=0;function xk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wk,fb,bk,Sk,Ck,kv=!1,Jf=[],Xi=null,Zi=null,Ji=null,td=new Map,nd=new Map,Ri=[],B4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E1(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(e.pointerId)}}function Zc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=vf(e),e!==null&&fb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function z4(t,e,n,r,s){switch(e){case"focusin":return Xi=Zc(Xi,t,e,n,r,s),!0;case"dragenter":return Zi=Zc(Zi,t,e,n,r,s),!0;case"mouseover":return Ji=Zc(Ji,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return td.set(i,Zc(td.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nd.set(i,Zc(nd.get(i)||null,t,e,n,r,s)),!0}return!1}function Ek(t){var e=Ua(t.target);if(e!==null){var n=Oo(e);if(n!==null){if(e=n.tag,e===13){if(e=fk(n),e!==null){t.blockedOn=e,Ck(t.priority,function(){bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cv=r,n.target.dispatchEvent(r),Cv=null}else return e=vf(n),e!==null&&fb(e),t.blockedOn=n,!1;e.shift()}return!0}function N1(t,e,n){Ih(t)&&n.delete(e)}function W4(){kv=!1,Xi!==null&&Ih(Xi)&&(Xi=null),Zi!==null&&Ih(Zi)&&(Zi=null),Ji!==null&&Ih(Ji)&&(Ji=null),td.forEach(N1),nd.forEach(N1)}function Jc(t,e){t.blockedOn===e&&(t.blockedOn=null,kv||(kv=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,W4)))}function rd(t){function e(s){return Jc(s,t)}if(0<Jf.length){Jc(Jf[0],t);for(var n=1;n<Jf.length;n++){var r=Jf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&Jc(Xi,t),Zi!==null&&Jc(Zi,t),Ji!==null&&Jc(Ji,t),td.forEach(e),nd.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)Ek(n),n.blockedOn===null&&Ri.shift()}var wl=pi.ReactCurrentBatchConfig,pp=!0;function H4(t,e,n,r){var s=at,i=wl.transition;wl.transition=null;try{at=1,hb(t,e,n,r)}finally{at=s,wl.transition=i}}function q4(t,e,n,r){var s=at,i=wl.transition;wl.transition=null;try{at=4,hb(t,e,n,r)}finally{at=s,wl.transition=i}}function hb(t,e,n,r){if(pp){var s=Pv(t,e,n,r);if(s===null)uy(t,e,r,mp,n),E1(t,r);else if(z4(s,t,e,n,r))r.stopPropagation();else if(E1(t,r),e&4&&-1<B4.indexOf(t)){for(;s!==null;){var i=vf(s);if(i!==null&&wk(i),i=Pv(t,e,n,r),i===null&&uy(t,e,r,mp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uy(t,e,r,null,n)}}var mp=null;function Pv(t,e,n,r){if(mp=null,t=cb(r),t=Ua(t),t!==null)if(e=Oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mp=t,null}function Nk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I4()){case ub:return 1;case gk:return 4;case fp:case M4:return 16;case yk:return 536870912;default:return 16}default:return 16}}var Yi=null,pb=null,Mh=null;function jk(){if(Mh)return Mh;var t,e=pb,n=e.length,r,s="value"in Yi?Yi.value:Yi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Mh=s.slice(t,1<r?1-r:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eh(){return!0}function j1(){return!1}function nr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eh:j1,this.isPropagationStopped=j1,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),e}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mb=nr(Mc),yf=Nt({},Mc,{view:0,detail:0}),K4=nr(yf),ty,ny,eu,Vm=Nt({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(ty=t.screenX-eu.screenX,ny=t.screenY-eu.screenY):ny=ty=0,eu=t),ty)},movementY:function(t){return"movementY"in t?t.movementY:ny}}),T1=nr(Vm),Y4=Nt({},Vm,{dataTransfer:0}),G4=nr(Y4),Q4=Nt({},yf,{relatedTarget:0}),ry=nr(Q4),X4=Nt({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),Z4=nr(X4),J4=Nt({},Mc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e3=nr(J4),t3=Nt({},Mc,{data:0}),k1=nr(t3),n3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s3[t])?!!e[t]:!1}function gb(){return i3}var a3=Nt({},yf,{key:function(t){if(t.key){var e=n3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gb,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o3=nr(a3),l3=Nt({},Vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P1=nr(l3),c3=Nt({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gb}),u3=nr(c3),d3=Nt({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),f3=nr(d3),h3=Nt({},Vm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p3=nr(h3),m3=[9,13,27,32],yb=ri&&"CompositionEvent"in window,Mu=null;ri&&"documentMode"in document&&(Mu=document.documentMode);var g3=ri&&"TextEvent"in window&&!Mu,Tk=ri&&(!yb||Mu&&8<Mu&&11>=Mu),_1=" ",A1=!1;function kk(t,e){switch(t){case"keyup":return m3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var el=!1;function y3(t,e){switch(t){case"compositionend":return Pk(e);case"keypress":return e.which!==32?null:(A1=!0,_1);case"textInput":return t=e.data,t===_1&&A1?null:t;default:return null}}function v3(t,e){if(el)return t==="compositionend"||!yb&&kk(t,e)?(t=jk(),Mh=pb=Yi=null,el=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tk&&e.locale!=="ko"?null:e.data;default:return null}}var x3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x3[t.type]:e==="textarea"}function _k(t,e,n,r){ok(r),e=gp(e,"onChange"),0<e.length&&(n=new mb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ou=null,sd=null;function w3(t){$k(t,0)}function Um(t){var e=rl(t);if(ek(e))return t}function b3(t,e){if(t==="change")return e}var Ak=!1;if(ri){var sy;if(ri){var iy="oninput"in document;if(!iy){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),iy=typeof I1.oninput=="function"}sy=iy}else sy=!1;Ak=sy&&(!document.documentMode||9<document.documentMode)}function M1(){Ou&&(Ou.detachEvent("onpropertychange",Rk),sd=Ou=null)}function Rk(t){if(t.propertyName==="value"&&Um(sd)){var e=[];_k(e,sd,t,cb(t)),dk(w3,e)}}function S3(t,e,n){t==="focusin"?(M1(),Ou=e,sd=n,Ou.attachEvent("onpropertychange",Rk)):t==="focusout"&&M1()}function C3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Um(sd)}function E3(t,e){if(t==="click")return Um(e)}function N3(t,e){if(t==="input"||t==="change")return Um(e)}function j3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xr=typeof Object.is=="function"?Object.is:j3;function id(t,e){if(Xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dv.call(e,s)||!Xr(t[s],e[s]))return!1}return!0}function O1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D1(t,e){var n=O1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O1(n)}}function Ik(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ik(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mk(){for(var t=window,e=cp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cp(t.document)}return e}function vb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T3(t){var e=Mk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ik(n.ownerDocument.documentElement,n)){if(r!==null&&vb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=D1(n,i);var o=D1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k3=ri&&"documentMode"in document&&11>=document.documentMode,tl=null,_v=null,Du=null,Av=!1;function F1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Av||tl==null||tl!==cp(r)||(r=tl,"selectionStart"in r&&vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Du&&id(Du,r)||(Du=r,r=gp(_v,"onSelect"),0<r.length&&(e=new mb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tl)))}function th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nl={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},ay={},Ok={};ri&&(Ok=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function $m(t){if(ay[t])return ay[t];if(!nl[t])return t;var e=nl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ok)return ay[t]=e[n];return t}var Dk=$m("animationend"),Fk=$m("animationiteration"),Lk=$m("animationstart"),Vk=$m("transitionend"),Uk=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(t,e){Uk.set(t,e),Mo(e,[t])}for(var oy=0;oy<L1.length;oy++){var ly=L1[oy],P3=ly.toLowerCase(),_3=ly[0].toUpperCase()+ly.slice(1);Sa(P3,"on"+_3)}Sa(Dk,"onAnimationEnd");Sa(Fk,"onAnimationIteration");Sa(Lk,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(Vk,"onTransitionEnd");uc("onMouseEnter",["mouseout","mouseover"]);uc("onMouseLeave",["mouseout","mouseover"]);uc("onPointerEnter",["pointerout","pointerover"]);uc("onPointerLeave",["pointerout","pointerover"]);Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function V1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P4(r,e,void 0,t),t.currentTarget=null}function $k(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;V1(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;V1(s,l,u),i=c}}}if(dp)throw t=jv,dp=!1,jv=null,t}function mt(t,e){var n=e[Dv];n===void 0&&(n=e[Dv]=new Set);var r=t+"__bubble";n.has(r)||(Bk(e,t,2,!1),n.add(r))}function cy(t,e,n){var r=0;e&&(r|=4),Bk(n,t,r,e)}var nh="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[nh]){t[nh]=!0,GT.forEach(function(n){n!=="selectionchange"&&(A3.has(n)||cy(n,!1,t),cy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nh]||(e[nh]=!0,cy("selectionchange",!1,e))}}function Bk(t,e,n,r){switch(Nk(e)){case 1:var s=H4;break;case 4:s=q4;break;default:s=hb}n=s.bind(null,e,n,t),s=void 0,!Nv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function uy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ua(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}dk(function(){var u=i,d=cb(n),f=[];e:{var h=Uk.get(t);if(h!==void 0){var m=mb,y=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":m=o3;break;case"focusin":y="focus",m=ry;break;case"focusout":y="blur",m=ry;break;case"beforeblur":case"afterblur":m=ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=G4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=u3;break;case Dk:case Fk:case Lk:m=Z4;break;case Vk:m=f3;break;case"scroll":m=K4;break;case"wheel":m=p3;break;case"copy":case"cut":case"paste":m=e3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=P1}var g=(e&4)!==0,w=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,b;v!==null;){b=v;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=ed(v,x),S!=null&&g.push(od(v,S,b)))),w)break;v=v.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Cv&&(y=n.relatedTarget||n.fromElement)&&(Ua(y)||y[si]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ua(y):null,y!==null&&(w=Oo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=T1,S="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=P1,S="onPointerLeave",x="onPointerEnter",v="pointer"),w=m==null?h:rl(m),b=y==null?h:rl(y),h=new g(S,v+"leave",m,n,d),h.target=w,h.relatedTarget=b,S=null,Ua(d)===u&&(g=new g(x,v+"enter",y,n,d),g.target=b,g.relatedTarget=w,S=g),w=S,m&&y)t:{for(g=m,x=y,v=0,b=g;b;b=Bo(b))v++;for(b=0,S=x;S;S=Bo(S))b++;for(;0<v-b;)g=Bo(g),v--;for(;0<b-v;)x=Bo(x),b--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=Bo(g),x=Bo(x)}g=null}else g=null;m!==null&&U1(f,h,m,g,!1),y!==null&&w!==null&&U1(f,w,y,g,!0)}}e:{if(h=u?rl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=b3;else if(R1(h))if(Ak)E=N3;else{E=C3;var k=S3}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=E3);if(E&&(E=E(t,u))){_k(f,E,n,d);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&vv(h,"number",h.value)}switch(k=u?rl(u):window,t){case"focusin":(R1(k)||k.contentEditable==="true")&&(tl=k,_v=u,Du=null);break;case"focusout":Du=_v=tl=null;break;case"mousedown":Av=!0;break;case"contextmenu":case"mouseup":case"dragend":Av=!1,F1(f,n,d);break;case"selectionchange":if(k3)break;case"keydown":case"keyup":F1(f,n,d)}var T;if(yb)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else el?kk(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Tk&&n.locale!=="ko"&&(el||N!=="onCompositionStart"?N==="onCompositionEnd"&&el&&(T=jk()):(Yi=d,pb="value"in Yi?Yi.value:Yi.textContent,el=!0)),k=gp(u,N),0<k.length&&(N=new k1(N,t,null,n,d),f.push({event:N,listeners:k}),T?N.data=T:(T=Pk(n),T!==null&&(N.data=T)))),(T=g3?y3(t,n):v3(t,n))&&(u=gp(u,"onBeforeInput"),0<u.length&&(d=new k1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}$k(f,e)})}function od(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ed(t,n),i!=null&&r.unshift(od(t,i,s)),i=ed(t,e),i!=null&&r.push(od(t,i,s))),t=t.return}return r}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function U1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ed(n,i),c!=null&&o.unshift(od(n,c,l))):s||(c=ed(n,i),c!=null&&o.push(od(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var R3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function $1(t){return(typeof t=="string"?t:""+t).replace(R3,`
`).replace(I3,"")}function rh(t,e,n){if(e=$1(e),$1(t)!==e&&n)throw Error(ie(425))}function yp(){}var Rv=null,Iv=null;function Mv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ov=typeof setTimeout=="function"?setTimeout:void 0,M3=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,O3=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(t){return B1.resolve(null).then(t).catch(D3)}:Ov;function D3(t){setTimeout(function(){throw t})}function dy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),rd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);rd(e)}function ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),gs="__reactFiber$"+Oc,ld="__reactProps$"+Oc,si="__reactContainer$"+Oc,Dv="__reactEvents$"+Oc,F3="__reactListeners$"+Oc,L3="__reactHandles$"+Oc;function Ua(t){var e=t[gs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[si]||n[gs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z1(t);t!==null;){if(n=t[gs])return n;t=z1(t)}return e}t=n,n=t.parentNode}return null}function vf(t){return t=t[gs]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Bm(t){return t[ld]||null}var Fv=[],sl=-1;function Ca(t){return{current:t}}function yt(t){0>sl||(t.current=Fv[sl],Fv[sl]=null,sl--)}function ht(t,e){sl++,Fv[sl]=t.current,t.current=e}var da={},gn=Ca(da),Ln=Ca(!1),mo=da;function dc(t,e){var n=t.type.contextTypes;if(!n)return da;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Vn(t){return t=t.childContextTypes,t!=null}function vp(){yt(Ln),yt(gn)}function W1(t,e,n){if(gn.current!==da)throw Error(ie(168));ht(gn,e),ht(Ln,n)}function zk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ie(108,S4(t)||"Unknown",s));return Nt({},n,r)}function xp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||da,mo=gn.current,ht(gn,t),ht(Ln,Ln.current),!0}function H1(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=zk(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,yt(Ln),yt(gn),ht(gn,t)):yt(Ln),ht(Ln,n)}var Ds=null,zm=!1,fy=!1;function Wk(t){Ds===null?Ds=[t]:Ds.push(t)}function V3(t){zm=!0,Wk(t)}function Ea(){if(!fy&&Ds!==null){fy=!0;var t=0,e=at;try{var n=Ds;for(at=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ds=null,zm=!1}catch(s){throw Ds!==null&&(Ds=Ds.slice(t+1)),mk(ub,Ea),s}finally{at=e,fy=!1}}return null}var il=[],al=0,wp=null,bp=0,ur=[],dr=0,go=null,Ks=1,Ys="";function Ra(t,e){il[al++]=bp,il[al++]=wp,wp=t,bp=e}function Hk(t,e,n){ur[dr++]=Ks,ur[dr++]=Ys,ur[dr++]=go,go=t;var r=Ks;t=Ys;var s=32-Kr(r)-1;r&=~(1<<s),n+=1;var i=32-Kr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ks=1<<32-Kr(e)+s|n<<s|r,Ys=i+t}else Ks=1<<i|n<<s|r,Ys=t}function xb(t){t.return!==null&&(Ra(t,1),Hk(t,1,0))}function wb(t){for(;t===wp;)wp=il[--al],il[al]=null,bp=il[--al],il[al]=null;for(;t===go;)go=ur[--dr],ur[dr]=null,Ys=ur[--dr],ur[dr]=null,Ks=ur[--dr],ur[dr]=null}var Gn=null,Yn=null,wt=!1,Br=null;function qk(t,e){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,Yn=ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,Yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:Ks,overflow:Ys}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,Yn=null,!0):!1;default:return!1}}function Lv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vv(t){if(wt){var e=Yn;if(e){var n=e;if(!q1(t,e)){if(Lv(t))throw Error(ie(418));e=ea(n.nextSibling);var r=Gn;e&&q1(t,e)?qk(r,n):(t.flags=t.flags&-4097|2,wt=!1,Gn=t)}}else{if(Lv(t))throw Error(ie(418));t.flags=t.flags&-4097|2,wt=!1,Gn=t}}}function K1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function sh(t){if(t!==Gn)return!1;if(!wt)return K1(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mv(t.type,t.memoizedProps)),e&&(e=Yn)){if(Lv(t))throw Kk(),Error(ie(418));for(;e;)qk(t,e),e=ea(e.nextSibling)}if(K1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yn=ea(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yn=null}}else Yn=Gn?ea(t.stateNode.nextSibling):null;return!0}function Kk(){for(var t=Yn;t;)t=ea(t.nextSibling)}function fc(){Yn=Gn=null,wt=!1}function bb(t){Br===null?Br=[t]:Br.push(t)}var U3=pi.ReactCurrentBatchConfig;function tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function ih(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y1(t){var e=t._init;return e(t._payload)}function Yk(t){function e(x,v){if(t){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=sa(x,v),x.index=0,x.sibling=null,x}function i(x,v,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,v,b,S){return v===null||v.tag!==6?(v=xy(b,x.mode,S),v.return=x,v):(v=s(v,b),v.return=x,v)}function c(x,v,b,S){var E=b.type;return E===Jo?d(x,v,b.props.children,S,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pi&&Y1(E)===v.type)?(S=s(v,b.props),S.ref=tu(x,v,b),S.return=x,S):(S=Bh(b.type,b.key,b.props,null,x.mode,S),S.ref=tu(x,v,b),S.return=x,S)}function u(x,v,b,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=wy(b,x.mode,S),v.return=x,v):(v=s(v,b.children||[]),v.return=x,v)}function d(x,v,b,S,E){return v===null||v.tag!==7?(v=fo(b,x.mode,S,E),v.return=x,v):(v=s(v,b),v.return=x,v)}function f(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xy(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yf:return b=Bh(v.type,v.key,v.props,null,x.mode,b),b.ref=tu(x,null,v),b.return=x,b;case Zo:return v=wy(v,x.mode,b),v.return=x,v;case Pi:var S=v._init;return f(x,S(v._payload),b)}if(yu(v)||Qc(v))return v=fo(v,x.mode,b,null),v.return=x,v;ih(x,v)}return null}function h(x,v,b,S){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:l(x,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yf:return b.key===E?c(x,v,b,S):null;case Zo:return b.key===E?u(x,v,b,S):null;case Pi:return E=b._init,h(x,v,E(b._payload),S)}if(yu(b)||Qc(b))return E!==null?null:d(x,v,b,S,null);ih(x,b)}return null}function m(x,v,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,l(v,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yf:return x=x.get(S.key===null?b:S.key)||null,c(v,x,S,E);case Zo:return x=x.get(S.key===null?b:S.key)||null,u(v,x,S,E);case Pi:var k=S._init;return m(x,v,b,k(S._payload),E)}if(yu(S)||Qc(S))return x=x.get(b)||null,d(v,x,S,E,null);ih(v,S)}return null}function y(x,v,b,S){for(var E=null,k=null,T=v,N=v=0,j=null;T!==null&&N<b.length;N++){T.index>N?(j=T,T=null):j=T.sibling;var P=h(x,T,b[N],S);if(P===null){T===null&&(T=j);break}t&&T&&P.alternate===null&&e(x,T),v=i(P,v,N),k===null?E=P:k.sibling=P,k=P,T=j}if(N===b.length)return n(x,T),wt&&Ra(x,N),E;if(T===null){for(;N<b.length;N++)T=f(x,b[N],S),T!==null&&(v=i(T,v,N),k===null?E=T:k.sibling=T,k=T);return wt&&Ra(x,N),E}for(T=r(x,T);N<b.length;N++)j=m(T,x,N,b[N],S),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?N:j.key),v=i(j,v,N),k===null?E=j:k.sibling=j,k=j);return t&&T.forEach(function(O){return e(x,O)}),wt&&Ra(x,N),E}function g(x,v,b,S){var E=Qc(b);if(typeof E!="function")throw Error(ie(150));if(b=E.call(b),b==null)throw Error(ie(151));for(var k=E=null,T=v,N=v=0,j=null,P=b.next();T!==null&&!P.done;N++,P=b.next()){T.index>N?(j=T,T=null):j=T.sibling;var O=h(x,T,P.value,S);if(O===null){T===null&&(T=j);break}t&&T&&O.alternate===null&&e(x,T),v=i(O,v,N),k===null?E=O:k.sibling=O,k=O,T=j}if(P.done)return n(x,T),wt&&Ra(x,N),E;if(T===null){for(;!P.done;N++,P=b.next())P=f(x,P.value,S),P!==null&&(v=i(P,v,N),k===null?E=P:k.sibling=P,k=P);return wt&&Ra(x,N),E}for(T=r(x,T);!P.done;N++,P=b.next())P=m(T,x,N,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?N:P.key),v=i(P,v,N),k===null?E=P:k.sibling=P,k=P);return t&&T.forEach(function(I){return e(x,I)}),wt&&Ra(x,N),E}function w(x,v,b,S){if(typeof b=="object"&&b!==null&&b.type===Jo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Yf:e:{for(var E=b.key,k=v;k!==null;){if(k.key===E){if(E=b.type,E===Jo){if(k.tag===7){n(x,k.sibling),v=s(k,b.props.children),v.return=x,x=v;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pi&&Y1(E)===k.type){n(x,k.sibling),v=s(k,b.props),v.ref=tu(x,k,b),v.return=x,x=v;break e}n(x,k);break}else e(x,k);k=k.sibling}b.type===Jo?(v=fo(b.props.children,x.mode,S,b.key),v.return=x,x=v):(S=Bh(b.type,b.key,b.props,null,x.mode,S),S.ref=tu(x,v,b),S.return=x,x=S)}return o(x);case Zo:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(x,v.sibling),v=s(v,b.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=wy(b,x.mode,S),v.return=x,x=v}return o(x);case Pi:return k=b._init,w(x,v,k(b._payload),S)}if(yu(b))return y(x,v,b,S);if(Qc(b))return g(x,v,b,S);ih(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,b),v.return=x,x=v):(n(x,v),v=xy(b,x.mode,S),v.return=x,x=v),o(x)):n(x,v)}return w}var hc=Yk(!0),Gk=Yk(!1),Sp=Ca(null),Cp=null,ol=null,Sb=null;function Cb(){Sb=ol=Cp=null}function Eb(t){var e=Sp.current;yt(Sp),t._currentValue=e}function Uv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bl(t,e){Cp=t,Sb=ol=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dn=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(Sb!==t)if(t={context:t,memoizedValue:e,next:null},ol===null){if(Cp===null)throw Error(ie(308));ol=t,Cp.dependencies={lanes:0,firstContext:t}}else ol=ol.next=t;return e}var $a=null;function Nb(t){$a===null?$a=[t]:$a.push(t)}function Qk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Nb(e)):(n.next=s.next,s.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _i=!1;function jb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ta(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ii(t,n)}return s=r.interleaved,s===null?(e.next=e,Nb(r)):(e.next=s.next,s.next=e),r.interleaved=e,ii(t,n)}function Dh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,db(t,n)}}function G1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ep(t,e,n,r){var s=t.updateQueue;_i=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,g=l;switch(h=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Nt({},f,h);break e;case 2:_i=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vo|=o,t.lanes=o,t.memoizedState=f}}function Q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ie(191,s));s.call(r)}}}var xf={},bs=Ca(xf),cd=Ca(xf),ud=Ca(xf);function Ba(t){if(t===xf)throw Error(ie(174));return t}function Tb(t,e){switch(ht(ud,e),ht(cd,t),ht(bs,xf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wv(e,t)}yt(bs),ht(bs,e)}function pc(){yt(bs),yt(cd),yt(ud)}function Zk(t){Ba(ud.current);var e=Ba(bs.current),n=wv(e,t.type);e!==n&&(ht(cd,t),ht(bs,n))}function kb(t){cd.current===t&&(yt(bs),yt(cd))}var St=Ca(0);function Np(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hy=[];function Pb(){for(var t=0;t<hy.length;t++)hy[t]._workInProgressVersionPrimary=null;hy.length=0}var Fh=pi.ReactCurrentDispatcher,py=pi.ReactCurrentBatchConfig,yo=0,Et=null,Wt=null,Gt=null,jp=!1,Fu=!1,dd=0,$3=0;function sn(){throw Error(ie(321))}function _b(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xr(t[n],e[n]))return!1;return!0}function Ab(t,e,n,r,s,i){if(yo=i,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?H3:q3,t=n(r,s),Fu){i=0;do{if(Fu=!1,dd=0,25<=i)throw Error(ie(301));i+=1,Gt=Wt=null,e.updateQueue=null,Fh.current=K3,t=n(r,s)}while(Fu)}if(Fh.current=Tp,e=Wt!==null&&Wt.next!==null,yo=0,Gt=Wt=Et=null,jp=!1,e)throw Error(ie(300));return t}function Rb(){var t=dd!==0;return dd=0,t}function as(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Et.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function xr(){if(Wt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=Gt===null?Et.memoizedState:Gt.next;if(e!==null)Gt=e,Wt=t;else{if(t===null)throw Error(ie(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Gt===null?Et.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function fd(t,e){return typeof e=="function"?e(t):e}function my(t){var e=xr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((yo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Et.lanes|=d,vo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Xr(r,e.memoizedState)||(Dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Et.lanes|=i,vo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gy(t){var e=xr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xr(i,e.memoizedState)||(Dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Jk(){}function eP(t,e){var n=Et,r=xr(),s=e(),i=!Xr(r.memoizedState,s);if(i&&(r.memoizedState=s,Dn=!0),r=r.queue,Ib(rP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,hd(9,nP.bind(null,n,r,s,e),void 0,null),Qt===null)throw Error(ie(349));yo&30||tP(n,e,s)}return s}function tP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nP(t,e,n,r){e.value=n,e.getSnapshot=r,sP(e)&&iP(t)}function rP(t,e,n){return n(function(){sP(e)&&iP(t)})}function sP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xr(t,n)}catch{return!0}}function iP(t){var e=ii(t,1);e!==null&&Yr(e,t,1,-1)}function X1(t){var e=as();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},e.queue=t,t=t.dispatch=W3.bind(null,Et,t),[e.memoizedState,t]}function hd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aP(){return xr().memoizedState}function Lh(t,e,n,r){var s=as();Et.flags|=t,s.memoizedState=hd(1|e,n,void 0,r===void 0?null:r)}function Wm(t,e,n,r){var s=xr();r=r===void 0?null:r;var i=void 0;if(Wt!==null){var o=Wt.memoizedState;if(i=o.destroy,r!==null&&_b(r,o.deps)){s.memoizedState=hd(e,n,i,r);return}}Et.flags|=t,s.memoizedState=hd(1|e,n,i,r)}function Z1(t,e){return Lh(8390656,8,t,e)}function Ib(t,e){return Wm(2048,8,t,e)}function oP(t,e){return Wm(4,2,t,e)}function lP(t,e){return Wm(4,4,t,e)}function cP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uP(t,e,n){return n=n!=null?n.concat([t]):null,Wm(4,4,cP.bind(null,e,t),n)}function Mb(){}function dP(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_b(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fP(t,e){var n=xr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_b(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hP(t,e,n){return yo&21?(Xr(n,e)||(n=vk(),Et.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dn=!0),t.memoizedState=n)}function B3(t,e){var n=at;at=n!==0&&4>n?n:4,t(!0);var r=py.transition;py.transition={};try{t(!1),e()}finally{at=n,py.transition=r}}function pP(){return xr().memoizedState}function z3(t,e,n){var r=ra(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mP(t))gP(e,n);else if(n=Qk(t,e,n,r),n!==null){var s=jn();Yr(n,t,r,s),yP(n,e,r)}}function W3(t,e,n){var r=ra(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mP(t))gP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Xr(l,o)){var c=e.interleaved;c===null?(s.next=s,Nb(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Qk(t,e,s,r),n!==null&&(s=jn(),Yr(n,t,r,s),yP(n,e,r))}}function mP(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function gP(t,e){Fu=jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,db(t,n)}}var Tp={readContext:vr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},H3={readContext:vr,useCallback:function(t,e){return as().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:Z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4194308,4,cP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lh(4,2,t,e)},useMemo:function(t,e){var n=as();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=as();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z3.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=as();return t={current:t},e.memoizedState=t},useState:X1,useDebugValue:Mb,useDeferredValue:function(t){return as().memoizedState=t},useTransition:function(){var t=X1(!1),e=t[0];return t=B3.bind(null,t[1]),as().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Et,s=as();if(wt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Qt===null)throw Error(ie(349));yo&30||tP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Z1(rP.bind(null,r,i,t),[t]),r.flags|=2048,hd(9,nP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=as(),e=Qt.identifierPrefix;if(wt){var n=Ys,r=Ks;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q3={readContext:vr,useCallback:dP,useContext:vr,useEffect:Ib,useImperativeHandle:uP,useInsertionEffect:oP,useLayoutEffect:lP,useMemo:fP,useReducer:my,useRef:aP,useState:function(){return my(fd)},useDebugValue:Mb,useDeferredValue:function(t){var e=xr();return hP(e,Wt.memoizedState,t)},useTransition:function(){var t=my(fd)[0],e=xr().memoizedState;return[t,e]},useMutableSource:Jk,useSyncExternalStore:eP,useId:pP,unstable_isNewReconciler:!1},K3={readContext:vr,useCallback:dP,useContext:vr,useEffect:Ib,useImperativeHandle:uP,useInsertionEffect:oP,useLayoutEffect:lP,useMemo:fP,useReducer:gy,useRef:aP,useState:function(){return gy(fd)},useDebugValue:Mb,useDeferredValue:function(t){var e=xr();return Wt===null?e.memoizedState=t:hP(e,Wt.memoizedState,t)},useTransition:function(){var t=gy(fd)[0],e=xr().memoizedState;return[t,e]},useMutableSource:Jk,useSyncExternalStore:eP,useId:pP,unstable_isNewReconciler:!1};function Ar(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $v(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hm={isMounted:function(t){return(t=t._reactInternals)?Oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jn(),s=ra(t),i=Xs(r,s);i.payload=e,n!=null&&(i.callback=n),e=ta(t,i,s),e!==null&&(Yr(e,t,s,r),Dh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jn(),s=ra(t),i=Xs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ta(t,i,s),e!==null&&(Yr(e,t,s,r),Dh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jn(),r=ra(t),s=Xs(n,r);s.tag=2,e!=null&&(s.callback=e),e=ta(t,s,r),e!==null&&(Yr(e,t,r,n),Dh(e,t,r))}};function J1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!id(n,r)||!id(s,i):!0}function vP(t,e,n){var r=!1,s=da,i=e.contextType;return typeof i=="object"&&i!==null?i=vr(i):(s=Vn(e)?mo:gn.current,r=e.contextTypes,i=(r=r!=null)?dc(t,s):da),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function eC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hm.enqueueReplaceState(e,e.state,null)}function Bv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},jb(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vr(i):(i=Vn(e)?mo:gn.current,s.context=dc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&($v(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hm.enqueueReplaceState(s,s.state,null),Ep(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function mc(t,e){try{var n="",r=e;do n+=b4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function xP(t,e,n){n=Xs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pp||(Pp=!0,Jv=r),zv(t,e)},n}function wP(t,e,n){n=Xs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zv(t,e),typeof r!="function"&&(na===null?na=new Set([this]):na.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lV.bind(null,t,e,n),e.then(t,t))}function nC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xs(-1,1),e.tag=2,ta(n,e,1))),n.lanes|=1),t)}var G3=pi.ReactCurrentOwner,Dn=!1;function Cn(t,e,n,r){e.child=t===null?Gk(e,null,n,r):hc(e,t.child,n,r)}function sC(t,e,n,r,s){n=n.render;var i=e.ref;return bl(e,s),r=Ab(t,e,n,r,i,s),n=Rb(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ai(t,e,s)):(wt&&n&&xb(e),e.flags|=1,Cn(t,e,r,s),e.child)}function iC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Bb(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,bP(t,e,i,r,s)):(t=Bh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:id,n(o,r)&&t.ref===e.ref)return ai(t,e,s)}return e.flags|=1,t=sa(i,r),t.ref=e.ref,t.return=e,e.child=t}function bP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(id(i,r)&&t.ref===e.ref)if(Dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Dn=!0);else return e.lanes=t.lanes,ai(t,e,s)}return Wv(t,e,n,r,s)}function SP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(cl,Wn),Wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(cl,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ht(cl,Wn),Wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ht(cl,Wn),Wn|=r;return Cn(t,e,s,n),e.child}function CP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wv(t,e,n,r,s){var i=Vn(n)?mo:gn.current;return i=dc(e,i),bl(e,s),n=Ab(t,e,n,r,i,s),r=Rb(),t!==null&&!Dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ai(t,e,s)):(wt&&r&&xb(e),e.flags|=1,Cn(t,e,n,s),e.child)}function aC(t,e,n,r,s){if(Vn(n)){var i=!0;xp(e)}else i=!1;if(bl(e,s),e.stateNode===null)Vh(t,e),vP(e,n,r),Bv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vr(u):(u=Vn(n)?mo:gn.current,u=dc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&eC(e,o,r,u),_i=!1;var h=e.memoizedState;o.state=h,Ep(e,r,o,s),c=e.memoizedState,l!==r||h!==c||Ln.current||_i?(typeof d=="function"&&($v(e,n,d,r),c=e.memoizedState),(l=_i||J1(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xk(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ar(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=vr(c):(c=Vn(n)?mo:gn.current,c=dc(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&eC(e,o,r,c),_i=!1,h=e.memoizedState,o.state=h,Ep(e,r,o,s);var y=e.memoizedState;l!==f||h!==y||Ln.current||_i?(typeof m=="function"&&($v(e,n,m,r),y=e.memoizedState),(u=_i||J1(e,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Hv(t,e,n,r,i,s)}function Hv(t,e,n,r,s,i){CP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&H1(e,n,!1),ai(t,e,i);r=e.stateNode,G3.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hc(e,t.child,null,i),e.child=hc(e,null,l,i)):Cn(t,e,l,i),e.memoizedState=r.state,s&&H1(e,n,!0),e.child}function EP(t){var e=t.stateNode;e.pendingContext?W1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W1(t,e.context,!1),Tb(t,e.containerInfo)}function oC(t,e,n,r,s){return fc(),bb(s),e.flags|=256,Cn(t,e,n,r),e.child}var qv={dehydrated:null,treeContext:null,retryLane:0};function Kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function NP(t,e,n){var r=e.pendingProps,s=St.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ht(St,s&1),t===null)return Vv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ym(o,r,0,null),t=fo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kv(n),e.memoizedState=qv,t):Ob(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Q3(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=sa(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=sa(l,i):(i=fo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Kv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qv,r}return i=t.child,t=i.sibling,r=sa(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ob(t,e){return e=Ym({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ah(t,e,n,r){return r!==null&&bb(r),hc(e,t.child,null,n),t=Ob(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yy(Error(ie(422))),ah(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ym({mode:"visible",children:r.children},s,0,null),i=fo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&hc(e,t.child,null,o),e.child.memoizedState=Kv(o),e.memoizedState=qv,i);if(!(e.mode&1))return ah(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ie(419)),r=yy(i,r,void 0),ah(t,e,o,r)}if(l=(o&t.childLanes)!==0,Dn||l){if(r=Qt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ii(t,s),Yr(r,t,s,-1))}return $b(),r=yy(Error(ie(421))),ah(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yn=ea(s.nextSibling),Gn=e,wt=!0,Br=null,t!==null&&(ur[dr++]=Ks,ur[dr++]=Ys,ur[dr++]=go,Ks=t.id,Ys=t.overflow,go=e),e=Ob(e,r.children),e.flags|=4096,e)}function lC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uv(t.return,e,n)}function vy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Cn(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lC(t,n,e);else if(t.tag===19)lC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ht(St,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Np(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Np(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vy(e,!0,n,null,i);break;case"together":vy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=sa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function X3(t,e,n){switch(e.tag){case 3:EP(e),fc();break;case 5:Zk(e);break;case 1:Vn(e.type)&&xp(e);break;case 4:Tb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ht(Sp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ht(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?NP(t,e,n):(ht(St,St.current&1),t=ai(t,e,n),t!==null?t.sibling:null);ht(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,SP(t,e,n)}return ai(t,e,n)}var TP,Yv,kP,PP;TP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yv=function(){};kP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ba(bs.current);var i=null;switch(n){case"input":s=gv(t,s),r=gv(t,r),i=[];break;case"select":s=Nt({},s,{value:void 0}),r=Nt({},r,{value:void 0}),i=[];break;case"textarea":s=xv(t,s),r=xv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yp)}bv(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&mt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};PP=function(t,e,n,r){n!==r&&(e.flags|=4)};function nu(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function an(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z3(t,e,n){var r=e.pendingProps;switch(wb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(e),null;case 1:return Vn(e.type)&&vp(),an(e),null;case 3:return r=e.stateNode,pc(),yt(Ln),yt(gn),Pb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Br!==null&&(nx(Br),Br=null))),Yv(t,e),an(e),null;case 5:kb(e);var s=Ba(ud.current);if(n=e.type,t!==null&&e.stateNode!=null)kP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return an(e),null}if(t=Ba(bs.current),sh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gs]=e,r[ld]=i,t=(e.mode&1)!==0,n){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(s=0;s<xu.length;s++)mt(xu[s],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":y1(r,i),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mt("invalid",r);break;case"textarea":x1(r,i),mt("invalid",r)}bv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&rh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&rh(r.textContent,l,t),s=["children",""+l]):Zu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&mt("scroll",r)}switch(n){case"input":Gf(r),v1(r,i,!0);break;case"textarea":Gf(r),w1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gs]=e,t[ld]=r,TP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sv(n,r),n){case"dialog":mt("cancel",t),mt("close",t),s=r;break;case"iframe":case"object":case"embed":mt("load",t),s=r;break;case"video":case"audio":for(s=0;s<xu.length;s++)mt(xu[s],t);s=r;break;case"source":mt("error",t),s=r;break;case"img":case"image":case"link":mt("error",t),mt("load",t),s=r;break;case"details":mt("toggle",t),s=r;break;case"input":y1(t,r),s=gv(t,r),mt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Nt({},r,{value:void 0}),mt("invalid",t);break;case"textarea":x1(t,r),s=xv(t,r),mt("invalid",t);break;default:s=r}bv(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ak(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sk(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ju(t,c):typeof c=="number"&&Ju(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&mt("scroll",t):c!=null&&ib(t,i,c,o))}switch(n){case"input":Gf(t),v1(t,r,!1);break;case"textarea":Gf(t),w1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ua(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yl(t,!!r.multiple,i,!1):r.defaultValue!=null&&yl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return an(e),null;case 6:if(t&&e.stateNode!=null)PP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=Ba(ud.current),Ba(bs.current),sh(e)){if(r=e.stateNode,n=e.memoizedProps,r[gs]=e,(i=r.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:rh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gs]=e,e.stateNode=r}return an(e),null;case 13:if(yt(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&Yn!==null&&e.mode&1&&!(e.flags&128))Kk(),fc(),e.flags|=98560,i=!1;else if(i=sh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ie(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[gs]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;an(e),i=!1}else Br!==null&&(nx(Br),Br=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?qt===0&&(qt=3):$b())),e.updateQueue!==null&&(e.flags|=4),an(e),null);case 4:return pc(),Yv(t,e),t===null&&ad(e.stateNode.containerInfo),an(e),null;case 10:return Eb(e.type._context),an(e),null;case 17:return Vn(e.type)&&vp(),an(e),null;case 19:if(yt(St),i=e.memoizedState,i===null)return an(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)nu(i,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Np(t),o!==null){for(e.flags|=128,nu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ht(St,St.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ot()>gc&&(e.flags|=128,r=!0,nu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Np(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wt)return an(e),null}else 2*Ot()-i.renderingStartTime>gc&&n!==1073741824&&(e.flags|=128,r=!0,nu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ot(),e.sibling=null,n=St.current,ht(St,r?n&1|2:n&1),e):(an(e),null);case 22:case 23:return Ub(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(an(e),e.subtreeFlags&6&&(e.flags|=8192)):an(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function J3(t,e){switch(wb(e),e.tag){case 1:return Vn(e.type)&&vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pc(),yt(Ln),yt(gn),Pb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kb(e),null;case 13:if(yt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(St),null;case 4:return pc(),null;case 10:return Eb(e.type._context),null;case 22:case 23:return Ub(),null;case 24:return null;default:return null}}var oh=!1,dn=!1,eV=typeof WeakSet=="function"?WeakSet:Set,ve=null;function ll(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function Gv(t,e,n){try{n()}catch(r){_t(t,e,r)}}var cC=!1;function tV(t,e){if(Rv=pp,t=Mk(),vb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iv={focusedElem:t,selectionRange:n},pp=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ar(e.type,g),w);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(S){_t(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return y=cC,cC=!1,y}function Lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gv(e,n,i)}s=s.next}while(s!==r)}}function qm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _P(t){var e=t.alternate;e!==null&&(t.alternate=null,_P(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gs],delete e[ld],delete e[Dv],delete e[F3],delete e[L3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AP(t){return t.tag===5||t.tag===3||t.tag===4}function uC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yp));else if(r!==4&&(t=t.child,t!==null))for(Xv(t,e,n),t=t.sibling;t!==null;)Xv(t,e,n),t=t.sibling}function Zv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zv(t,e,n),t=t.sibling;t!==null;)Zv(t,e,n),t=t.sibling}var Zt=null,Ur=!1;function xi(t,e,n){for(n=n.child;n!==null;)RP(t,e,n),n=n.sibling}function RP(t,e,n){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(Lm,n)}catch{}switch(n.tag){case 5:dn||ll(n,e);case 6:var r=Zt,s=Ur;Zt=null,xi(t,e,n),Zt=r,Ur=s,Zt!==null&&(Ur?(t=Zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zt.removeChild(n.stateNode));break;case 18:Zt!==null&&(Ur?(t=Zt,n=n.stateNode,t.nodeType===8?dy(t.parentNode,n):t.nodeType===1&&dy(t,n),rd(t)):dy(Zt,n.stateNode));break;case 4:r=Zt,s=Ur,Zt=n.stateNode.containerInfo,Ur=!0,xi(t,e,n),Zt=r,Ur=s;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Gv(n,e,o),s=s.next}while(s!==r)}xi(t,e,n);break;case 1:if(!dn&&(ll(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_t(n,e,l)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,xi(t,e,n),dn=r):xi(t,e,n);break;default:xi(t,e,n)}}function dC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eV),e.forEach(function(r){var s=uV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Zt=l.stateNode,Ur=!1;break e;case 3:Zt=l.stateNode.containerInfo,Ur=!0;break e;case 4:Zt=l.stateNode.containerInfo,Ur=!0;break e}l=l.return}if(Zt===null)throw Error(ie(160));RP(i,o,s),Zt=null,Ur=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){_t(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IP(e,t),e=e.sibling}function IP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),is(t),r&4){try{Lu(3,t,t.return),qm(3,t)}catch(g){_t(t,t.return,g)}try{Lu(5,t,t.return)}catch(g){_t(t,t.return,g)}}break;case 1:kr(e,t),is(t),r&512&&n!==null&&ll(n,n.return);break;case 5:if(kr(e,t),is(t),r&512&&n!==null&&ll(n,n.return),t.flags&32){var s=t.stateNode;try{Ju(s,"")}catch(g){_t(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tk(s,i),Sv(l,o);var u=Sv(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?ak(s,f):d==="dangerouslySetInnerHTML"?sk(s,f):d==="children"?Ju(s,f):ib(s,d,f,u)}switch(l){case"input":yv(s,i);break;case"textarea":nk(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yl(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?yl(s,!!i.multiple,i.defaultValue,!0):yl(s,!!i.multiple,i.multiple?[]:"",!1))}s[ld]=i}catch(g){_t(t,t.return,g)}}break;case 6:if(kr(e,t),is(t),r&4){if(t.stateNode===null)throw Error(ie(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){_t(t,t.return,g)}}break;case 3:if(kr(e,t),is(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rd(e.containerInfo)}catch(g){_t(t,t.return,g)}break;case 4:kr(e,t),is(t);break;case 13:kr(e,t),is(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lb=Ot())),r&4&&dC(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(u=dn)||d,kr(e,t),dn=u):kr(e,t),is(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,m=h.child,h.tag){case 0:case 11:case 14:case 15:Lu(4,h,h.return);break;case 1:ll(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){_t(r,n,g)}}break;case 5:ll(h,h.return);break;case 22:if(h.memoizedState!==null){hC(f);continue}}m!==null?(m.return=h,ve=m):hC(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ik("display",o))}catch(g){_t(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){_t(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kr(e,t),is(t),r&4&&dC(t);break;case 21:break;default:kr(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AP(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ju(s,""),r.flags&=-33);var i=uC(t);Zv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=uC(t);Xv(t,l,o);break;default:throw Error(ie(161))}}catch(c){_t(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nV(t,e,n){ve=t,MP(t)}function MP(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var s=ve,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||oh;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dn;l=oh;var u=dn;if(oh=o,(dn=c)&&!u)for(ve=s;ve!==null;)o=ve,c=o.child,o.tag===22&&o.memoizedState!==null?pC(s):c!==null?(c.return=o,ve=c):pC(s);for(;i!==null;)ve=i,MP(i),i=i.sibling;ve=s,oh=l,dn=u}fC(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ve=i):fC(t)}}function fC(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||qm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ar(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Q1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q1(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&rd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}dn||e.flags&512&&Qv(e)}catch(h){_t(e,e.return,h)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function hC(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function pC(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qm(4,e)}catch(c){_t(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){_t(e,s,c)}}var i=e.return;try{Qv(e)}catch(c){_t(e,i,c)}break;case 5:var o=e.return;try{Qv(e)}catch(c){_t(e,o,c)}}}catch(c){_t(e,e.return,c)}if(e===t){ve=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ve=l;break}ve=e.return}}var rV=Math.ceil,kp=pi.ReactCurrentDispatcher,Db=pi.ReactCurrentOwner,gr=pi.ReactCurrentBatchConfig,Ye=0,Qt=null,$t=null,en=0,Wn=0,cl=Ca(0),qt=0,pd=null,vo=0,Km=0,Fb=0,Vu=null,On=null,Lb=0,gc=1/0,Os=null,Pp=!1,Jv=null,na=null,lh=!1,Gi=null,_p=0,Uu=0,ex=null,Uh=-1,$h=0;function jn(){return Ye&6?Ot():Uh!==-1?Uh:Uh=Ot()}function ra(t){return t.mode&1?Ye&2&&en!==0?en&-en:U3.transition!==null?($h===0&&($h=vk()),$h):(t=at,t!==0||(t=window.event,t=t===void 0?16:Nk(t.type)),t):1}function Yr(t,e,n,r){if(50<Uu)throw Uu=0,ex=null,Error(ie(185));gf(t,n,r),(!(Ye&2)||t!==Qt)&&(t===Qt&&(!(Ye&2)&&(Km|=n),qt===4&&Ii(t,en)),Un(t,r),n===1&&Ye===0&&!(e.mode&1)&&(gc=Ot()+500,zm&&Ea()))}function Un(t,e){var n=t.callbackNode;U4(t,e);var r=hp(t,t===Qt?en:0);if(r===0)n!==null&&C1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&C1(n),e===1)t.tag===0?V3(mC.bind(null,t)):Wk(mC.bind(null,t)),O3(function(){!(Ye&6)&&Ea()}),n=null;else{switch(xk(r)){case 1:n=ub;break;case 4:n=gk;break;case 16:n=fp;break;case 536870912:n=yk;break;default:n=fp}n=BP(n,OP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OP(t,e){if(Uh=-1,$h=0,Ye&6)throw Error(ie(327));var n=t.callbackNode;if(Sl()&&t.callbackNode!==n)return null;var r=hp(t,t===Qt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ap(t,r);else{e=r;var s=Ye;Ye|=2;var i=FP();(Qt!==t||en!==e)&&(Os=null,gc=Ot()+500,uo(t,e));do try{aV();break}catch(l){DP(t,l)}while(!0);Cb(),kp.current=i,Ye=s,$t!==null?e=0:(Qt=null,en=0,e=qt)}if(e!==0){if(e===2&&(s=Tv(t),s!==0&&(r=s,e=tx(t,s))),e===1)throw n=pd,uo(t,0),Ii(t,r),Un(t,Ot()),n;if(e===6)Ii(t,r);else{if(s=t.current.alternate,!(r&30)&&!sV(s)&&(e=Ap(t,r),e===2&&(i=Tv(t),i!==0&&(r=i,e=tx(t,i))),e===1))throw n=pd,uo(t,0),Ii(t,r),Un(t,Ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Ia(t,On,Os);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Lb+500-Ot(),10<e)){if(hp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){jn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ov(Ia.bind(null,t,On,Os),e);break}Ia(t,On,Os);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rV(r/1960))-r,10<r){t.timeoutHandle=Ov(Ia.bind(null,t,On,Os),r);break}Ia(t,On,Os);break;case 5:Ia(t,On,Os);break;default:throw Error(ie(329))}}}return Un(t,Ot()),t.callbackNode===n?OP.bind(null,t):null}function tx(t,e){var n=Vu;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=Ap(t,e),t!==2&&(e=On,On=n,e!==null&&nx(e)),t}function nx(t){On===null?On=t:On.push.apply(On,t)}function sV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~Fb,e&=~Km,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kr(e),r=1<<n;t[n]=-1,e&=~r}}function mC(t){if(Ye&6)throw Error(ie(327));Sl();var e=hp(t,0);if(!(e&1))return Un(t,Ot()),null;var n=Ap(t,e);if(t.tag!==0&&n===2){var r=Tv(t);r!==0&&(e=r,n=tx(t,r))}if(n===1)throw n=pd,uo(t,0),Ii(t,e),Un(t,Ot()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,On,Os),Un(t,Ot()),null}function Vb(t,e){var n=Ye;Ye|=1;try{return t(e)}finally{Ye=n,Ye===0&&(gc=Ot()+500,zm&&Ea())}}function xo(t){Gi!==null&&Gi.tag===0&&!(Ye&6)&&Sl();var e=Ye;Ye|=1;var n=gr.transition,r=at;try{if(gr.transition=null,at=1,t)return t()}finally{at=r,gr.transition=n,Ye=e,!(Ye&6)&&Ea()}}function Ub(){Wn=cl.current,yt(cl)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,M3(n)),$t!==null)for(n=$t.return;n!==null;){var r=n;switch(wb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vp();break;case 3:pc(),yt(Ln),yt(gn),Pb();break;case 5:kb(r);break;case 4:pc();break;case 13:yt(St);break;case 19:yt(St);break;case 10:Eb(r.type._context);break;case 22:case 23:Ub()}n=n.return}if(Qt=t,$t=t=sa(t.current,null),en=Wn=e,qt=0,pd=null,Fb=Km=vo=0,On=Vu=null,$a!==null){for(e=0;e<$a.length;e++)if(n=$a[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$a=null}return t}function DP(t,e){do{var n=$t;try{if(Cb(),Fh.current=Tp,jp){for(var r=Et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jp=!1}if(yo=0,Gt=Wt=Et=null,Fu=!1,dd=0,Db.current=null,n===null||n.return===null){qt=1,pd=e,$t=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=en,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nC(o);if(m!==null){m.flags&=-257,rC(m,o,l,i,e),m.mode&1&&tC(i,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){tC(i,u,e),$b();break e}c=Error(ie(426))}}else if(wt&&l.mode&1){var w=nC(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),rC(w,o,l,i,e),bb(mc(c,l));break e}}i=c=mc(c,l),qt!==4&&(qt=2),Vu===null?Vu=[i]:Vu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=xP(i,c,e);G1(i,x);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(na===null||!na.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=wP(i,l,e);G1(i,S);break e}}i=i.return}while(i!==null)}VP(n)}catch(E){e=E,$t===n&&n!==null&&($t=n=n.return);continue}break}while(!0)}function FP(){var t=kp.current;return kp.current=Tp,t===null?Tp:t}function $b(){(qt===0||qt===3||qt===2)&&(qt=4),Qt===null||!(vo&268435455)&&!(Km&268435455)||Ii(Qt,en)}function Ap(t,e){var n=Ye;Ye|=2;var r=FP();(Qt!==t||en!==e)&&(Os=null,uo(t,e));do try{iV();break}catch(s){DP(t,s)}while(!0);if(Cb(),Ye=n,kp.current=r,$t!==null)throw Error(ie(261));return Qt=null,en=0,qt}function iV(){for(;$t!==null;)LP($t)}function aV(){for(;$t!==null&&!A4();)LP($t)}function LP(t){var e=$P(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?VP(t):$t=e,Db.current=null}function VP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=J3(n,e),n!==null){n.flags&=32767,$t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,$t=null;return}}else if(n=Z3(n,e,Wn),n!==null){$t=n;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);qt===0&&(qt=5)}function Ia(t,e,n){var r=at,s=gr.transition;try{gr.transition=null,at=1,oV(t,e,n,r)}finally{gr.transition=s,at=r}return null}function oV(t,e,n,r){do Sl();while(Gi!==null);if(Ye&6)throw Error(ie(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($4(t,i),t===Qt&&($t=Qt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lh||(lh=!0,BP(fp,function(){return Sl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var o=at;at=1;var l=Ye;Ye|=4,Db.current=null,tV(t,n),IP(n,t),T3(Iv),pp=!!Rv,Iv=Rv=null,t.current=n,nV(n),R4(),Ye=l,at=o,gr.transition=i}else t.current=n;if(lh&&(lh=!1,Gi=t,_p=s),i=t.pendingLanes,i===0&&(na=null),O4(n.stateNode),Un(t,Ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pp)throw Pp=!1,t=Jv,Jv=null,t;return _p&1&&t.tag!==0&&Sl(),i=t.pendingLanes,i&1?t===ex?Uu++:(Uu=0,ex=t):Uu=0,Ea(),null}function Sl(){if(Gi!==null){var t=xk(_p),e=gr.transition,n=at;try{if(gr.transition=null,at=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,_p=0,Ye&6)throw Error(ie(331));var s=Ye;for(Ye|=4,ve=t.current;ve!==null;){var i=ve,o=i.child;if(ve.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Lu(8,d,i)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,m=d.return;if(_P(d),d===u){ve=null;break}if(h!==null){h.return=m,ve=h;break}ve=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ve=o;else e:for(;ve!==null;){if(i=ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ve=x;break e}ve=i.return}}var v=t.current;for(ve=v;ve!==null;){o=ve;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ve=b;else e:for(o=v;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qm(9,l)}}catch(E){_t(l,l.return,E)}if(l===o){ve=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ve=S;break e}ve=l.return}}if(Ye=s,Ea(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(Lm,t)}catch{}r=!0}return r}finally{at=n,gr.transition=e}}return!1}function gC(t,e,n){e=mc(n,e),e=xP(t,e,1),t=ta(t,e,1),e=jn(),t!==null&&(gf(t,1,e),Un(t,e))}function _t(t,e,n){if(t.tag===3)gC(t,t,n);else for(;e!==null;){if(e.tag===3){gC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(na===null||!na.has(r))){t=mc(n,t),t=wP(e,t,1),e=ta(e,t,1),t=jn(),e!==null&&(gf(e,1,t),Un(e,t));break}}e=e.return}}function lV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(en&n)===n&&(qt===4||qt===3&&(en&130023424)===en&&500>Ot()-Lb?uo(t,0):Fb|=n),Un(t,e)}function UP(t,e){e===0&&(t.mode&1?(e=Zf,Zf<<=1,!(Zf&130023424)&&(Zf=4194304)):e=1);var n=jn();t=ii(t,e),t!==null&&(gf(t,e,n),Un(t,n))}function cV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UP(t,n)}function uV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),UP(t,n)}var $P;$P=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ln.current)Dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dn=!1,X3(t,e,n);Dn=!!(t.flags&131072)}else Dn=!1,wt&&e.flags&1048576&&Hk(e,bp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vh(t,e),t=e.pendingProps;var s=dc(e,gn.current);bl(e,n),s=Ab(null,e,r,t,s,n);var i=Rb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vn(r)?(i=!0,xp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jb(e),s.updater=Hm,e.stateNode=s,s._reactInternals=e,Bv(e,r,t,n),e=Hv(null,e,r,!0,i,n)):(e.tag=0,wt&&i&&xb(e),Cn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fV(r),t=Ar(r,t),s){case 0:e=Wv(null,e,r,t,n);break e;case 1:e=aC(null,e,r,t,n);break e;case 11:e=sC(null,e,r,t,n);break e;case 14:e=iC(null,e,r,Ar(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),Wv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),aC(t,e,r,s,n);case 3:e:{if(EP(e),t===null)throw Error(ie(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Xk(t,e),Ep(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=mc(Error(ie(423)),e),e=oC(t,e,r,n,s);break e}else if(r!==s){s=mc(Error(ie(424)),e),e=oC(t,e,r,n,s);break e}else for(Yn=ea(e.stateNode.containerInfo.firstChild),Gn=e,wt=!0,Br=null,n=Gk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fc(),r===s){e=ai(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 5:return Zk(e),t===null&&Vv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Mv(r,s)?o=null:i!==null&&Mv(r,i)&&(e.flags|=32),CP(t,e),Cn(t,e,o,n),e.child;case 6:return t===null&&Vv(e),null;case 13:return NP(t,e,n);case 4:return Tb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hc(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),sC(t,e,r,s,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ht(Sp,r._currentValue),r._currentValue=o,i!==null)if(Xr(i.value,o)){if(i.children===s.children&&!Ln.current){e=ai(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Xs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Uv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ie(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Cn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bl(e,n),s=vr(s),r=r(s),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return r=e.type,s=Ar(r,e.pendingProps),s=Ar(r.type,s),iC(t,e,r,s,n);case 15:return bP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ar(r,s),Vh(t,e),e.tag=1,Vn(r)?(t=!0,xp(e)):t=!1,bl(e,n),vP(e,r,s),Bv(e,r,s,n),Hv(null,e,r,!0,t,n);case 19:return jP(t,e,n);case 22:return SP(t,e,n)}throw Error(ie(156,e.tag))};function BP(t,e){return mk(t,e)}function dV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,n,r){return new dV(t,e,n,r)}function Bb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fV(t){if(typeof t=="function")return Bb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ob)return 11;if(t===lb)return 14}return 2}function sa(t,e){var n=t.alternate;return n===null?(n=hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Bb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jo:return fo(n.children,s,i,e);case ab:o=8,s|=8;break;case fv:return t=hr(12,n,e,s|2),t.elementType=fv,t.lanes=i,t;case hv:return t=hr(13,n,e,s),t.elementType=hv,t.lanes=i,t;case pv:return t=hr(19,n,e,s),t.elementType=pv,t.lanes=i,t;case ZT:return Ym(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QT:o=10;break e;case XT:o=9;break e;case ob:o=11;break e;case lb:o=14;break e;case Pi:o=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=hr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fo(t,e,n,r){return t=hr(7,t,r,e),t.lanes=n,t}function Ym(t,e,n,r){return t=hr(22,t,r,e),t.elementType=ZT,t.lanes=n,t.stateNode={isHidden:!1},t}function xy(t,e,n){return t=hr(6,t,null,e),t.lanes=n,t}function wy(t,e,n){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ey(0),this.expirationTimes=ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ey(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zb(t,e,n,r,s,i,o,l,c){return t=new hV(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jb(i),t}function pV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zP(t){if(!t)return da;t=t._reactInternals;e:{if(Oo(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Vn(n))return zk(t,n,e)}return e}function WP(t,e,n,r,s,i,o,l,c){return t=zb(n,r,!0,t,s,i,o,l,c),t.context=zP(null),n=t.current,r=jn(),s=ra(n),i=Xs(r,s),i.callback=e??null,ta(n,i,s),t.current.lanes=s,gf(t,s,r),Un(t,r),t}function Gm(t,e,n,r){var s=e.current,i=jn(),o=ra(s);return n=zP(n),e.context===null?e.context=n:e.pendingContext=n,e=Xs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ta(s,e,o),t!==null&&(Yr(t,s,o,i),Dh(t,s,o)),o}function Rp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wb(t,e){yC(t,e),(t=t.alternate)&&yC(t,e)}function mV(){return null}var HP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hb(t){this._internalRoot=t}Qm.prototype.render=Hb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Gm(t,e,null,null)};Qm.prototype.unmount=Hb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){Gm(null,t,null,null)}),e[si]=null}};function Qm(t){this._internalRoot=t}Qm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&Ek(t)}};function qb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vC(){}function gV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Rp(o);i.call(u)}}var o=WP(e,r,t,0,null,!1,!1,"",vC);return t._reactRootContainer=o,t[si]=o.current,ad(t.nodeType===8?t.parentNode:t),xo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Rp(c);l.call(u)}}var c=zb(t,0,!1,null,null,!1,!1,"",vC);return t._reactRootContainer=c,t[si]=c.current,ad(t.nodeType===8?t.parentNode:t),xo(function(){Gm(e,c,n,r)}),c}function Zm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Rp(o);l.call(c)}}Gm(e,o,t,s)}else o=gV(n,e,t,s,r);return Rp(o)}wk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vu(e.pendingLanes);n!==0&&(db(e,n|1),Un(e,Ot()),!(Ye&6)&&(gc=Ot()+500,Ea()))}break;case 13:xo(function(){var r=ii(t,1);if(r!==null){var s=jn();Yr(r,t,1,s)}}),Wb(t,1)}};fb=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=jn();Yr(e,t,134217728,n)}Wb(t,134217728)}};bk=function(t){if(t.tag===13){var e=ra(t),n=ii(t,e);if(n!==null){var r=jn();Yr(n,t,e,r)}Wb(t,e)}};Sk=function(){return at};Ck=function(t,e){var n=at;try{return at=t,e()}finally{at=n}};Ev=function(t,e,n){switch(e){case"input":if(yv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bm(r);if(!s)throw Error(ie(90));ek(r),yv(r,s)}}}break;case"textarea":nk(t,n);break;case"select":e=n.value,e!=null&&yl(t,!!n.multiple,e,!1)}};ck=Vb;uk=xo;var yV={usingClientEntryPoint:!1,Events:[vf,rl,Bm,ok,lk,Vb]},ru={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vV={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hk(t),t===null?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||mV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Lm=ch.inject(vV),ws=ch}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yV;tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qb(e))throw Error(ie(200));return pV(t,e,null,n)};tr.createRoot=function(t,e){if(!qb(t))throw Error(ie(299));var n=!1,r="",s=HP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=zb(t,1,!1,null,null,n,!1,r,s),t[si]=e.current,ad(t.nodeType===8?t.parentNode:t),new Hb(e)};tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=hk(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t){return xo(t)};tr.hydrate=function(t,e,n){if(!Xm(e))throw Error(ie(200));return Zm(null,t,e,!0,n)};tr.hydrateRoot=function(t,e,n){if(!qb(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=HP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WP(e,null,t,1,n??null,s,!1,i,o),t[si]=e.current,ad(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qm(e)};tr.render=function(t,e,n){if(!Xm(e))throw Error(ie(200));return Zm(null,t,e,!1,n)};tr.unmountComponentAtNode=function(t){if(!Xm(t))throw Error(ie(40));return t._reactRootContainer?(xo(function(){Zm(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};tr.unstable_batchedUpdates=Vb;tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xm(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Zm(t,e,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function qP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qP)}catch(t){console.error(t)}}qP(),qT.exports=tr;var Do=qT.exports;const xV=hi(Do);var KP,xC=Do;KP=xC.createRoot,xC.hydrateRoot;function wV(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var YP={exports:{}},GP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=p;function bV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var SV=typeof Object.is=="function"?Object.is:bV,CV=yc.useState,EV=yc.useEffect,NV=yc.useLayoutEffect,jV=yc.useDebugValue;function TV(t,e){var n=e(),r=CV({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return NV(function(){s.value=n,s.getSnapshot=e,by(s)&&i({inst:s})},[t,n,e]),EV(function(){return by(s)&&i({inst:s}),t(function(){by(s)&&i({inst:s})})},[t]),jV(n),n}function by(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!SV(t,n)}catch{return!0}}function kV(t,e){return e()}var PV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kV:TV;GP.useSyncExternalStore=yc.useSyncExternalStore!==void 0?yc.useSyncExternalStore:PV;YP.exports=GP;var _V=YP.exports;const AV=Fm.useInsertionEffect,RV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IV=RV?p.useLayoutEffect:p.useEffect,MV=AV||IV,QP=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return MV(()=>{e[0]=t}),e[1]},OV="popstate",Kb="pushState",Yb="replaceState",DV="hashchange",wC=[OV,Kb,Yb,DV],FV=t=>{for(const e of wC)addEventListener(e,t);return()=>{for(const e of wC)removeEventListener(e,t)}},XP=(t,e)=>_V.useSyncExternalStore(FV,t,e),LV=()=>location.search,VV=({ssrSearch:t=""}={})=>XP(LV,()=>t),bC=()=>location.pathname,UV=({ssrPath:t}={})=>XP(bC,t?()=>t:bC),$V=(t,{replace:e=!1,state:n=null}={})=>history[e?Yb:Kb](n,"",t),BV=(t={})=>[UV(t),$V],SC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[SC]>"u"){for(const t of[Kb,Yb]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,SC,{value:!0})}const zV=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ZP=(t="")=>t==="/"?"":t,WV=(t,e)=>t[0]==="~"?t.slice(1):ZP(e)+t,HV=(t="",e)=>zV(CC(ZP(t)),CC(e)),CC=t=>{try{return decodeURI(t)}catch{return t}},JP={hook:BV,searchHook:VV,parser:wV,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},e_=p.createContext(JP),Dc=()=>p.useContext(e_),t_={},n_=p.createContext(t_),wf=()=>p.useContext(n_),Jm=t=>{const[e,n]=t.hook(t);return[HV(t.base,e),QP((r,s)=>n(WV(r,t.base),s))]},ks=()=>Jm(Dc()),Gb=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},r_=t=>Gb(Dc().parser,t,ks()[0]),qV=({children:t,...e})=>{var d,f;const n=Dc(),r=e.hook?JP:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=p.useRef({}),c=l.current,u=c;for(let h in r){const m=h==="base"?r[h]+(e[h]||""):e[h]||r[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,(m!==r[h]||m!==s[h])&&(s=u)}return p.createElement(e_.Provider,{value:s,children:t})},EC=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,KV=t=>{let e=p.useRef(t_);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},rr=({path:t,nest:e,match:n,...r})=>{const s=Dc(),[i]=Jm(s),[o,l,c]=n??Gb(s.parser,t,i,e),u=KV({...wf(),...l});if(!o)return null;const d=c?p.createElement(qV,{base:c},EC(r,u)):EC(r,u);return p.createElement(n_.Provider,{value:u,children:d})},md=p.forwardRef((t,e)=>{const n=Dc(),[r,s]=Jm(n),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=t,y=QP(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l==null||l(w),w.defaultPrevented||(w.preventDefault(),s(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(u)?p.cloneElement(u,{onClick:y,href:g}):p.createElement("a",{...m,onClick:y,href:g,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),s_=t=>Array.isArray(t)?t.flatMap(e=>s_(e&&e.type===p.Fragment?e.props.children:e)):[t],YV=({children:t,location:e})=>{const n=Dc(),[r]=Jm(n);for(const s of s_(t)){let i=0;if(p.isValidElement(s)&&(i=Gb(n.parser,s.props.path,e||r,s.props.nest))[0])return p.cloneElement(s,{match:i})}return null};var Fo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},GV={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Fi,Zw,CT,QV=(CT=class{constructor(){H(this,Fi,GV);H(this,Zw,!1)}setTimeoutProvider(t){K(this,Fi,t)}setTimeout(t,e){return C(this,Fi).setTimeout(t,e)}clearTimeout(t){C(this,Fi).clearTimeout(t)}setInterval(t,e){return C(this,Fi).setInterval(t,e)}clearInterval(t){C(this,Fi).clearInterval(t)}},Fi=new WeakMap,Zw=new WeakMap,CT),za=new QV;function XV(t){setTimeout(t,0)}var wo=typeof window>"u"||"Deno"in globalThis;function un(){}function ZV(t,e){return typeof t=="function"?t(e):t}function rx(t){return typeof t=="number"&&t>=0&&t!==1/0}function i_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ia(t,e){return typeof t=="function"?t(e):t}function cr(t,e){return typeof t=="function"?t(e):t}function NC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Qb(o,e.options))return!1}else if(!gd(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function jC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(bo(e.options.mutationKey)!==bo(i))return!1}else if(!gd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Qb(t,e){return((e==null?void 0:e.queryKeyHashFn)||bo)(t)}function bo(t){return JSON.stringify(t,(e,n)=>sx(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>gd(t[n],e[n])):!1}var JV=Object.prototype.hasOwnProperty;function Xb(t,e){if(t===e)return t;const n=TC(t)&&TC(e);if(!n&&!(sx(t)&&sx(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=t[d],h=e[d];if(f===h){l[d]=f,(n?u<s:JV.call(t,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=Xb(f,h);l[d]=m,m===f&&c++}return s===o&&c===s?t:l}function yd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function TC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sx(t){if(!kC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!kC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function kC(t){return Object.prototype.toString.call(t)==="[object Object]"}function eU(t){return new Promise(e=>{za.setTimeout(e,t)})}function ix(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Xb(t,e):e}function tU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Zb=Symbol();function a_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Zb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function o_(t,e){return typeof t=="function"?t(...e):!!t}var Ka,Li,Rl,ET,rU=(ET=class extends Fo{constructor(){super();H(this,Ka);H(this,Li);H(this,Rl);K(this,Rl,e=>{if(!wo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){C(this,Li)||this.setEventListener(C(this,Rl))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Li))==null||e.call(this),K(this,Li,void 0))}setEventListener(e){var n;K(this,Rl,e),(n=C(this,Li))==null||n.call(this),K(this,Li,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){C(this,Ka)!==e&&(K(this,Ka,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof C(this,Ka)=="boolean"?C(this,Ka):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ka=new WeakMap,Li=new WeakMap,Rl=new WeakMap,ET),Jb=new rU;function ax(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var sU=XV;function iU(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=sU;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Rt=iU(),Il,Vi,Ml,NT,aU=(NT=class extends Fo{constructor(){super();H(this,Il,!0);H(this,Vi);H(this,Ml);K(this,Ml,e=>{if(!wo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,Vi)||this.setEventListener(C(this,Ml))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Vi))==null||e.call(this),K(this,Vi,void 0))}setEventListener(e){var n;K(this,Ml,e),(n=C(this,Vi))==null||n.call(this),K(this,Vi,e(this.setOnline.bind(this)))}setOnline(e){C(this,Il)!==e&&(K(this,Il,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return C(this,Il)}},Il=new WeakMap,Vi=new WeakMap,Ml=new WeakMap,NT),Ip=new aU;function oU(t){return Math.min(1e3*2**t,3e4)}function l_(t){return(t??"online")==="online"?Ip.isOnline():!0}var ox=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function c_(t){let e=!1,n=0,r;const s=ax(),i=()=>s.status!=="pending",o=g=>{var w;if(!i()){const x=new ox(g);h(x),(w=t.onCancel)==null||w.call(t,x)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>Jb.isFocused()&&(t.networkMode==="always"||Ip.isOnline())&&t.canRun(),d=()=>l_(t.networkMode)&&t.canRun(),f=g=>{i()||(r==null||r(),s.resolve(g))},h=g=>{i()||(r==null||r(),s.reject(g))},m=()=>new Promise(g=>{var w;r=x=>{(i()||u())&&g(x)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;r=void 0,i()||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(i())return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var k;if(i())return;const v=t.retry??(wo?0:3),b=t.retryDelay??oU,S=typeof b=="function"?b(n,x):b,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(e||!E){h(x);return}n++,(k=t.onFail)==null||k.call(t,n,x),eU(S).then(()=>u()?void 0:m()).then(()=>{e?h(x):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),s)}}var Ya,jT,u_=(jT=class{constructor(){H(this,Ya)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rx(this.gcTime)&&K(this,Ya,za.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wo?1/0:5*60*1e3))}clearGcTimeout(){C(this,Ya)&&(za.clearTimeout(C(this,Ya)),K(this,Ya,void 0))}},Ya=new WeakMap,jT),Ga,Ol,ar,Qa,Yt,Bd,Xa,Rr,Ms,TT,lU=(TT=class extends u_{constructor(e){super();H(this,Rr);H(this,Ga);H(this,Ol);H(this,ar);H(this,Qa);H(this,Yt);H(this,Bd);H(this,Xa);K(this,Xa,!1),K(this,Bd,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,Qa,e.client),K(this,ar,C(this,Qa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,Ga,_C(this.options)),this.state=e.state??C(this,Ga),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,Yt))==null?void 0:e.promise}setOptions(e){if(this.options={...C(this,Bd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=_C(this.options);n.data!==void 0&&(this.setState(PC(n.data,n.dataUpdatedAt)),K(this,Ga,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,ar).remove(this)}setData(e,n){const r=ix(this.state.data,e,this.options);return Y(this,Rr,Ms).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Y(this,Rr,Ms).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=C(this,Yt))==null?void 0:r.promise;return(s=C(this,Yt))==null||s.cancel(e),n?n.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Ga))}isActive(){return this.observers.some(e=>cr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ia(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i_(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=C(this,Yt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=C(this,Yt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,ar).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(C(this,Yt)&&(C(this,Xa)?C(this,Yt).cancel({revert:!0}):C(this,Yt).cancelRetry()),this.scheduleGc()),C(this,ar).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Y(this,Rr,Ms).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,f,h,m,y,g,w,x,v,b;if(this.state.fetchStatus!=="idle"&&((c=C(this,Yt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(C(this,Yt))return C(this,Yt).continueRetry(),C(this,Yt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(E=>E.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(K(this,Xa,!0),r.signal)})},i=()=>{const S=a_(this.options,n),k=(()=>{const T={client:C(this,Qa),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return K(this,Xa,!1),this.options.persister?this.options.persister(S,k,this):S(k)},l=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:C(this,Qa),state:this.state,fetchFn:i};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),K(this,Ol,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Y(this,Rr,Ms).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),K(this,Yt,c_({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof ox&&S.revert&&this.setState({...C(this,Ol),fetchStatus:"idle"}),r.abort()},onFail:(S,E)=>{Y(this,Rr,Ms).call(this,{type:"failed",failureCount:S,error:E})},onPause:()=>{Y(this,Rr,Ms).call(this,{type:"pause"})},onContinue:()=>{Y(this,Rr,Ms).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await C(this,Yt).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(m=(h=C(this,ar).config).onSuccess)==null||m.call(h,S,this),(g=(y=C(this,ar).config).onSettled)==null||g.call(y,S,this.state.error,this),S}catch(S){if(S instanceof ox){if(S.silent)return C(this,Yt).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw Y(this,Rr,Ms).call(this,{type:"error",error:S}),(x=(w=C(this,ar).config).onError)==null||x.call(w,S,this),(b=(v=C(this,ar).config).onSettled)==null||b.call(v,this.state.data,S,this),S}finally{this.scheduleGc()}}},Ga=new WeakMap,Ol=new WeakMap,ar=new WeakMap,Qa=new WeakMap,Yt=new WeakMap,Bd=new WeakMap,Xa=new WeakMap,Rr=new WeakSet,Ms=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d_(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...PC(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,Ol,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Rt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,ar).notify({query:this,type:"updated",action:e})})},TT);function d_(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function PC(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _C(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rn,He,zd,xn,Za,Dl,Fs,Ui,Wd,Fl,Ll,Ja,eo,$i,Vl,nt,wu,lx,cx,ux,dx,fx,hx,px,f_,kT,e0=(kT=class extends Fo{constructor(e,n){super();H(this,nt);H(this,Rn);H(this,He);H(this,zd);H(this,xn);H(this,Za);H(this,Dl);H(this,Fs);H(this,Ui);H(this,Wd);H(this,Fl);H(this,Ll);H(this,Ja);H(this,eo);H(this,$i);H(this,Vl,new Set);this.options=n,K(this,Rn,e),K(this,Ui,null),K(this,Fs,ax()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,He).addObserver(this),AC(C(this,He),this.options)?Y(this,nt,wu).call(this):this.updateResult(),Y(this,nt,dx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mx(C(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mx(C(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,nt,fx).call(this),Y(this,nt,hx).call(this),C(this,He).removeObserver(this)}setOptions(e){const n=this.options,r=C(this,He);if(this.options=C(this,Rn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cr(this.options.enabled,C(this,He))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Y(this,nt,px).call(this),C(this,He).setOptions(this.options),n._defaulted&&!yd(this.options,n)&&C(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,He),observer:this});const s=this.hasListeners();s&&RC(C(this,He),r,this.options,n)&&Y(this,nt,wu).call(this),this.updateResult(),s&&(C(this,He)!==r||cr(this.options.enabled,C(this,He))!==cr(n.enabled,C(this,He))||ia(this.options.staleTime,C(this,He))!==ia(n.staleTime,C(this,He)))&&Y(this,nt,lx).call(this);const i=Y(this,nt,cx).call(this);s&&(C(this,He)!==r||cr(this.options.enabled,C(this,He))!==cr(n.enabled,C(this,He))||i!==C(this,$i))&&Y(this,nt,ux).call(this,i)}getOptimisticResult(e){const n=C(this,Rn).getQueryCache().build(C(this,Rn),e),r=this.createResult(n,e);return uU(this,r)&&(K(this,xn,r),K(this,Dl,this.options),K(this,Za,C(this,He).state)),r}getCurrentResult(){return C(this,xn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,Fs).status==="pending"&&C(this,Fs).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){C(this,Vl).add(e)}getCurrentQuery(){return C(this,He)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=C(this,Rn).defaultQueryOptions(e),r=C(this,Rn).getQueryCache().build(C(this,Rn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Y(this,nt,wu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,xn)))}createResult(e,n){var j;const r=C(this,He),s=this.options,i=C(this,xn),o=C(this,Za),l=C(this,Dl),u=e!==r?e.state:C(this,zd),{state:d}=e;let f={...d},h=!1,m;if(n._optimisticResults){const P=this.hasListeners(),O=!P&&AC(e,n),I=P&&RC(e,r,n,s);(O||I)&&(f={...f,...d_(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:w}=f;m=f.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&w==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,x=!0):P=typeof n.placeholderData=="function"?n.placeholderData((j=C(this,Ll))==null?void 0:j.state.data,C(this,Ll)):n.placeholderData,P!==void 0&&(w="success",m=ix(i==null?void 0:i.data,P,n),h=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&n.select===C(this,Wd))m=C(this,Fl);else try{K(this,Wd,n.select),m=n.select(m),m=ix(i==null?void 0:i.data,m,n),K(this,Fl,m),K(this,Ui,null)}catch(P){K(this,Ui,P)}C(this,Ui)&&(y=C(this,Ui),m=C(this,Fl),g=Date.now(),w="error");const v=f.fetchStatus==="fetching",b=w==="pending",S=w==="error",E=b&&v,k=m!==void 0,N={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:S,isInitialLoading:E,isLoading:E,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:S&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&k,isStale:t0(e,n),refetch:this.refetch,promise:C(this,Fs),isEnabled:cr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=B=>{N.status==="error"?B.reject(N.error):N.data!==void 0&&B.resolve(N.data)},O=()=>{const B=K(this,Fs,N.promise=ax());P(B)},I=C(this,Fs);switch(I.status){case"pending":e.queryHash===r.queryHash&&P(I);break;case"fulfilled":(N.status==="error"||N.data!==I.value)&&O();break;case"rejected":(N.status!=="error"||N.error!==I.reason)&&O();break}}return N}updateResult(){const e=C(this,xn),n=this.createResult(C(this,He),this.options);if(K(this,Za,C(this,He).state),K(this,Dl,this.options),C(this,Za).data!==void 0&&K(this,Ll,C(this,He)),yd(n,e))return;K(this,xn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!C(this,Vl).size)return!0;const o=new Set(i??C(this,Vl));return this.options.throwOnError&&o.add("error"),Object.keys(C(this,xn)).some(l=>{const c=l;return C(this,xn)[c]!==e[c]&&o.has(c)})};Y(this,nt,f_).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,nt,dx).call(this)}},Rn=new WeakMap,He=new WeakMap,zd=new WeakMap,xn=new WeakMap,Za=new WeakMap,Dl=new WeakMap,Fs=new WeakMap,Ui=new WeakMap,Wd=new WeakMap,Fl=new WeakMap,Ll=new WeakMap,Ja=new WeakMap,eo=new WeakMap,$i=new WeakMap,Vl=new WeakMap,nt=new WeakSet,wu=function(e){Y(this,nt,px).call(this);let n=C(this,He).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(un)),n},lx=function(){Y(this,nt,fx).call(this);const e=ia(this.options.staleTime,C(this,He));if(wo||C(this,xn).isStale||!rx(e))return;const r=i_(C(this,xn).dataUpdatedAt,e)+1;K(this,Ja,za.setTimeout(()=>{C(this,xn).isStale||this.updateResult()},r))},cx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,He)):this.options.refetchInterval)??!1},ux=function(e){Y(this,nt,hx).call(this),K(this,$i,e),!(wo||cr(this.options.enabled,C(this,He))===!1||!rx(C(this,$i))||C(this,$i)===0)&&K(this,eo,za.setInterval(()=>{(this.options.refetchIntervalInBackground||Jb.isFocused())&&Y(this,nt,wu).call(this)},C(this,$i)))},dx=function(){Y(this,nt,lx).call(this),Y(this,nt,ux).call(this,Y(this,nt,cx).call(this))},fx=function(){C(this,Ja)&&(za.clearTimeout(C(this,Ja)),K(this,Ja,void 0))},hx=function(){C(this,eo)&&(za.clearInterval(C(this,eo)),K(this,eo,void 0))},px=function(){const e=C(this,Rn).getQueryCache().build(C(this,Rn),this.options);if(e===C(this,He))return;const n=C(this,He);K(this,He,e),K(this,zd,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},f_=function(e){Rt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(C(this,xn))}),C(this,Rn).getQueryCache().notify({query:C(this,He),type:"observerResultsUpdated"})})},kT);function cU(t,e){return cr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function AC(t,e){return cU(t,e)||t.state.data!==void 0&&mx(t,e,e.refetchOnMount)}function mx(t,e,n){if(cr(e.enabled,t)!==!1&&ia(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&t0(t,e)}return!1}function RC(t,e,n,r){return(t!==e||cr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&t0(t,n)}function t0(t,e){return cr(e.enabled,t)!==!1&&t.isStaleByTime(ia(e.staleTime,t))}function uU(t,e){return!yd(t.getCurrentResult(),e)}function IC(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=a_(e.options,e.fetchOptions),v=async(b,S,E)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:S,direction:E?"backward":"forward",meta:e.options.meta};return w(O),O})(),N=await x(T),{maxPages:j}=e.options,P=E?nU:tU;return{pages:P(b.pages,N,j),pageParams:P(b.pageParams,S,j)}};if(s&&i.length){const b=s==="backward",S=b?dU:MC,E={pages:i,pageParams:o},k=S(r,E);l=await v(E,k,b)}else{const b=t??i.length;do{const S=c===0?o[0]??r.initialPageParam:MC(r,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function MC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function dU(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Hd,ls,wn,to,cs,Ni,PT,fU=(PT=class extends u_{constructor(e){super();H(this,cs);H(this,Hd);H(this,ls);H(this,wn);H(this,to);K(this,Hd,e.client),this.mutationId=e.mutationId,K(this,wn,e.mutationCache),K(this,ls,[]),this.state=e.state||h_(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,ls).includes(e)||(C(this,ls).push(e),this.clearGcTimeout(),C(this,wn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,ls,C(this,ls).filter(n=>n!==e)),this.scheduleGc(),C(this,wn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,ls).length||(this.state.status==="pending"?this.scheduleGc():C(this,wn).remove(this))}continue(){var e;return((e=C(this,to))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,u,d,f,h,m,y,g,w,x,v,b,S,E,k,T,N,j;const n=()=>{Y(this,cs,Ni).call(this,{type:"continue"})},r={client:C(this,Hd),meta:this.options.meta,mutationKey:this.options.mutationKey};K(this,to,c_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Y(this,cs,Ni).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Y(this,cs,Ni).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,wn).canRun(this)}));const s=this.state.status==="pending",i=!C(this,to).canStart();try{if(s)n();else{Y(this,cs,Ni).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(o=C(this,wn).config).onMutate)==null?void 0:l.call(o,e,this,r));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));O!==this.state.context&&Y(this,cs,Ni).call(this,{type:"pending",context:O,variables:e,isPaused:i})}const P=await C(this,to).start();return await((f=(d=C(this,wn).config).onSuccess)==null?void 0:f.call(d,P,e,this.state.context,this,r)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,P,e,this.state.context,r)),await((g=(y=C(this,wn).config).onSettled)==null?void 0:g.call(y,P,null,this.state.variables,this.state.context,this,r)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,P,null,e,this.state.context,r)),Y(this,cs,Ni).call(this,{type:"success",data:P}),P}catch(P){try{throw await((b=(v=C(this,wn).config).onError)==null?void 0:b.call(v,P,e,this.state.context,this,r)),await((E=(S=this.options).onError)==null?void 0:E.call(S,P,e,this.state.context,r)),await((T=(k=C(this,wn).config).onSettled)==null?void 0:T.call(k,void 0,P,this.state.variables,this.state.context,this,r)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,void 0,P,e,this.state.context,r)),P}finally{Y(this,cs,Ni).call(this,{type:"error",error:P})}}finally{C(this,wn).runNext(this)}}},Hd=new WeakMap,ls=new WeakMap,wn=new WeakMap,to=new WeakMap,cs=new WeakSet,Ni=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Rt.batch(()=>{C(this,ls).forEach(r=>{r.onMutationUpdate(e)}),C(this,wn).notify({mutation:this,type:"updated",action:e})})},PT);function h_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ls,Ir,qd,_T,hU=(_T=class extends Fo{constructor(e={}){super();H(this,Ls);H(this,Ir);H(this,qd);this.config=e,K(this,Ls,new Set),K(this,Ir,new Map),K(this,qd,0)}build(e,n,r){const s=new fU({client:e,mutationCache:this,mutationId:++qf(this,qd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){C(this,Ls).add(e);const n=uh(e);if(typeof n=="string"){const r=C(this,Ir).get(n);r?r.push(e):C(this,Ir).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(C(this,Ls).delete(e)){const n=uh(e);if(typeof n=="string"){const r=C(this,Ir).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&C(this,Ir).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=uh(e);if(typeof n=="string"){const r=C(this,Ir).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=uh(e);if(typeof n=="string"){const s=(r=C(this,Ir).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rt.batch(()=>{C(this,Ls).forEach(e=>{this.notify({type:"removed",mutation:e})}),C(this,Ls).clear(),C(this,Ir).clear()})}getAll(){return Array.from(C(this,Ls))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jC(n,r))}findAll(e={}){return this.getAll().filter(n=>jC(e,n))}notify(e){Rt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Rt.batch(()=>Promise.all(e.map(n=>n.continue().catch(un))))}},Ls=new WeakMap,Ir=new WeakMap,qd=new WeakMap,_T);function uh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Vs,Bi,In,Us,ni,zh,gx,AT,pU=(AT=class extends Fo{constructor(n,r){super();H(this,ni);H(this,Vs);H(this,Bi);H(this,In);H(this,Us);K(this,Vs,n),this.setOptions(r),this.bindMethods(),Y(this,ni,zh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=C(this,Vs).defaultMutationOptions(n),yd(this.options,r)||C(this,Vs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,In),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&bo(r.mutationKey)!==bo(this.options.mutationKey)?this.reset():((s=C(this,In))==null?void 0:s.state.status)==="pending"&&C(this,In).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=C(this,In))==null||n.removeObserver(this)}onMutationUpdate(n){Y(this,ni,zh).call(this),Y(this,ni,gx).call(this,n)}getCurrentResult(){return C(this,Bi)}reset(){var n;(n=C(this,In))==null||n.removeObserver(this),K(this,In,void 0),Y(this,ni,zh).call(this),Y(this,ni,gx).call(this)}mutate(n,r){var s;return K(this,Us,r),(s=C(this,In))==null||s.removeObserver(this),K(this,In,C(this,Vs).getMutationCache().build(C(this,Vs),this.options)),C(this,In).addObserver(this),C(this,In).execute(n)}},Vs=new WeakMap,Bi=new WeakMap,In=new WeakMap,Us=new WeakMap,ni=new WeakSet,zh=function(){var r;const n=((r=C(this,In))==null?void 0:r.state)??h_();K(this,Bi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},gx=function(n){Rt.batch(()=>{var r,s,i,o,l,c,u,d;if(C(this,Us)&&this.hasListeners()){const f=C(this,Bi).variables,h=C(this,Bi).context,m={client:C(this,Vs),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=C(this,Us)).onSuccess)==null||s.call(r,n.data,f,h,m),(o=(i=C(this,Us)).onSettled)==null||o.call(i,n.data,null,f,h,m)):(n==null?void 0:n.type)==="error"&&((c=(l=C(this,Us)).onError)==null||c.call(l,n.error,f,h,m),(d=(u=C(this,Us)).onSettled)==null||d.call(u,void 0,n.error,f,h,m))}this.listeners.forEach(f=>{f(C(this,Bi))})})},AT);function OC(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}function mU(t,e,n){const r=t.slice(0);return r[e]=n,r}var Ul,zn,$l,Bl,or,zi,Kd,Yd,Gd,nn,yx,vx,xx,wx,bx,RT,gU=(RT=class extends Fo{constructor(e,n,r){super();H(this,nn);H(this,Ul);H(this,zn);H(this,$l);H(this,Bl);H(this,or);H(this,zi);H(this,Kd);H(this,Yd);H(this,Gd,[]);K(this,Ul,e),K(this,Bl,r),K(this,$l,[]),K(this,or,[]),K(this,zn,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&C(this,or).forEach(e=>{e.subscribe(n=>{Y(this,nn,wx).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,C(this,or).forEach(e=>{e.destroy()})}setQueries(e,n){K(this,$l,e),K(this,Bl,n),Rt.batch(()=>{const r=C(this,or),s=Y(this,nn,xx).call(this,C(this,$l));K(this,Gd,s),s.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions));const i=s.map(f=>f.observer),o=i.map(f=>f.getCurrentResult()),l=r.length!==i.length,c=i.some((f,h)=>f!==r[h]),u=l||c,d=u?!0:o.some((f,h)=>{const m=C(this,zn)[h];return!m||!yd(f,m)});!u&&!d||(u&&K(this,or,i),K(this,zn,o),this.hasListeners()&&(u&&(OC(r,i).forEach(f=>{f.destroy()}),OC(i,r).forEach(f=>{f.subscribe(h=>{Y(this,nn,wx).call(this,f,h)})})),Y(this,nn,bx).call(this)))})}getCurrentResult(){return C(this,zn)}getQueries(){return C(this,or).map(e=>e.getCurrentQuery())}getObservers(){return C(this,or)}getOptimisticResult(e,n){const r=Y(this,nn,xx).call(this,e),s=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>Y(this,nn,vx).call(this,i??s,n),()=>Y(this,nn,yx).call(this,s,r)]}},Ul=new WeakMap,zn=new WeakMap,$l=new WeakMap,Bl=new WeakMap,or=new WeakMap,zi=new WeakMap,Kd=new WeakMap,Yd=new WeakMap,Gd=new WeakMap,nn=new WeakSet,yx=function(e,n){return n.map((r,s)=>{const i=e[s];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,o=>{n.forEach(l=>{l.observer.trackProp(o)})})})},vx=function(e,n){return n?((!C(this,zi)||C(this,zn)!==C(this,Yd)||n!==C(this,Kd))&&(K(this,Kd,n),K(this,Yd,C(this,zn)),K(this,zi,Xb(C(this,zi),n(e)))),C(this,zi)):e},xx=function(e){const n=new Map(C(this,or).map(s=>[s.options.queryHash,s])),r=[];return e.forEach(s=>{const i=C(this,Ul).defaultQueryOptions(s),o=n.get(i.queryHash);o?r.push({defaultedQueryOptions:i,observer:o}):r.push({defaultedQueryOptions:i,observer:new e0(C(this,Ul),i)})}),r},wx=function(e,n){const r=C(this,or).indexOf(e);r!==-1&&(K(this,zn,mU(C(this,zn),r,n)),Y(this,nn,bx).call(this))},bx=function(){var e;if(this.hasListeners()){const n=C(this,zi),r=Y(this,nn,yx).call(this,C(this,zn),C(this,Gd)),s=Y(this,nn,vx).call(this,r,(e=C(this,Bl))==null?void 0:e.combine);n!==s&&Rt.batch(()=>{this.listeners.forEach(i=>{i(C(this,zn))})})}},RT),us,IT,yU=(IT=class extends Fo{constructor(e={}){super();H(this,us);this.config=e,K(this,us,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Qb(s,n);let o=this.get(i);return o||(o=new lU({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){C(this,us).has(e.queryHash)||(C(this,us).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=C(this,us).get(e.queryHash);n&&(e.destroy(),n===e&&C(this,us).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Rt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,us).get(e)}getAll(){return[...C(this,us).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>NC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>NC(e,r)):n}notify(e){Rt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},us=new WeakMap,IT),kt,Wi,Hi,zl,Wl,qi,Hl,ql,MT,vU=(MT=class{constructor(t={}){H(this,kt);H(this,Wi);H(this,Hi);H(this,zl);H(this,Wl);H(this,qi);H(this,Hl);H(this,ql);K(this,kt,t.queryCache||new yU),K(this,Wi,t.mutationCache||new hU),K(this,Hi,t.defaultOptions||{}),K(this,zl,new Map),K(this,Wl,new Map),K(this,qi,0)}mount(){qf(this,qi)._++,C(this,qi)===1&&(K(this,Hl,Jb.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,kt).onFocus())})),K(this,ql,Ip.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,kt).onOnline())})))}unmount(){var t,e;qf(this,qi)._--,C(this,qi)===0&&((t=C(this,Hl))==null||t.call(this),K(this,Hl,void 0),(e=C(this,ql))==null||e.call(this),K(this,ql,void 0))}isFetching(t){return C(this,kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,Wi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=C(this,kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=C(this,kt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ia(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return C(this,kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=C(this,kt).get(r.queryHash),i=s==null?void 0:s.state.data,o=ZV(e,i);if(o!==void 0)return C(this,kt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Rt.batch(()=>C(this,kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=C(this,kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=C(this,kt);Rt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=C(this,kt);return Rt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Rt.batch(()=>C(this,kt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(un).catch(un)}invalidateQueries(t,e={}){return Rt.batch(()=>(C(this,kt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Rt.batch(()=>C(this,kt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(un)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(un)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=C(this,kt).build(this,e);return n.isStaleByTime(ia(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(un).catch(un)}fetchInfiniteQuery(t){return t.behavior=IC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(un).catch(un)}ensureInfiniteQueryData(t){return t.behavior=IC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ip.isOnline()?C(this,Wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,kt)}getMutationCache(){return C(this,Wi)}getDefaultOptions(){return C(this,Hi)}setDefaultOptions(t){K(this,Hi,t)}setQueryDefaults(t,e){C(this,zl).set(bo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...C(this,zl).values()],n={};return e.forEach(r=>{gd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){C(this,Wl).set(bo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...C(this,Wl).values()],n={};return e.forEach(r=>{gd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...C(this,Hi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Qb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Zb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,Hi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,kt).clear(),C(this,Wi).clear()}},kt=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,zl=new WeakMap,Wl=new WeakMap,qi=new WeakMap,Hl=new WeakMap,ql=new WeakMap,MT),p_=p.createContext(void 0),n0=t=>{const e=p.useContext(p_);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xU=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(p_.Provider,{value:t,children:e})),m_=p.createContext(!1),g_=()=>p.useContext(m_);m_.Provider;function wU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var bU=p.createContext(wU()),y_=()=>p.useContext(bU),v_=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},x_=t=>{p.useEffect(()=>{t.clearReset()},[t])},w_=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||o_(n,[t.error,r])),b_=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},S_=(t,e)=>t.isLoading&&t.isFetching&&!e,Sx=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Mp=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function SU({queries:t,...e},n){const r=n0(),s=g_(),i=y_(),o=p.useMemo(()=>t.map(g=>{const w=r.defaultQueryOptions(g);return w._optimisticResults=s?"isRestoring":"optimistic",w}),[t,r,s]);o.forEach(g=>{b_(g),v_(g,i)}),x_(i);const[l]=p.useState(()=>new gU(r,o,e)),[c,u,d]=l.getOptimisticResult(o,e.combine),f=!s&&e.subscribed!==!1;p.useSyncExternalStore(p.useCallback(g=>f?l.subscribe(Rt.batchCalls(g)):un,[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setQueries(o,e)},[o,e,l]);const m=c.some((g,w)=>Sx(o[w],g))?c.flatMap((g,w)=>{const x=o[w];if(x){const v=new e0(r,x);if(Sx(x,g))return Mp(x,v,i);S_(g,s)&&Mp(x,v,i)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=c.find((g,w)=>{const x=o[w];return x&&w_({result:g,errorResetBoundary:i,throwOnError:x.throwOnError,query:r.getQueryCache().get(x.queryHash),suspense:x.suspense})});if(y!=null&&y.error)throw y.error;return u(d())}function CU(t,e,n){var f,h,m,y,g;const r=g_(),s=y_(),i=n0(),o=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",b_(o),v_(o,s),x_(s);const l=!i.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(i,o)),u=c.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(w=>{const x=d?c.subscribe(Rt.batchCalls(w)):un;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),Sx(o,u))throw Mp(o,c,s);if(w_({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!wo&&S_(u,r)){const w=l?Mp(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(un).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function tt(t,e){return CU(t,e0)}function et(t,e){const n=n0(),[r]=p.useState(()=>new pU(n,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const s=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(Rt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((o,l)=>{r.mutate(o,l).catch(un)},[r]);if(s.error&&o_(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function C_(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Re(t,e,n){const s=e.startsWith("http")?e:`http://localhost:3005/dev${e}`,i=await fetch(s,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await C_(i),i}const EU=({on401:t})=>async({queryKey:e})=>{const n="http://localhost:3005/dev",r=e.join("/"),s=r.startsWith("http")?r:`${n}${r}`,i=await fetch(s,{credentials:"include"});return await C_(i),await i.json()},it=new vU({defaultOptions:{queries:{queryFn:EU({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),NU=1,jU=1e6;let Sy=0;function TU(){return Sy=(Sy+1)%Number.MAX_SAFE_INTEGER,Sy.toString()}const Cy=new Map,DC=t=>{if(Cy.has(t))return;const e=setTimeout(()=>{Cy.delete(t),$u({type:"REMOVE_TOAST",toastId:t})},jU);Cy.set(t,e)},kU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,NU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?DC(n):t.toasts.forEach(r=>{DC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Wh=[];let Hh={toasts:[]};function $u(t){Hh=kU(Hh,t),Wh.forEach(e=>{e(Hh)})}function PU({...t}){const e=TU(),n=s=>$u({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$u({type:"DISMISS_TOAST",toastId:e});return $u({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ot(){const[t,e]=p.useState(Hh);return p.useEffect(()=>(Wh.push(e),()=>{const n=Wh.indexOf(e);n>-1&&Wh.splice(n,1)}),[t]),{...t,toast:PU,dismiss:n=>$u({type:"DISMISS_TOAST",toastId:n})}}function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function FC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mi(...t){return e=>{let n=!1;const r=t.map(s=>{const i=FC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():FC(t[s],null)}}}}function De(...t){return p.useCallback(mi(...t),t)}function _U(t,e){const n=p.createContext(e),r=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function yn(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...y}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[c])||l,w=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,AU(s,...e)]}function AU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function LC(t){const e=RU(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(MU);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function RU(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=DU(s),l=OU(i,s.props);return s.type!==p.Fragment&&(l.ref=r?mi(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IU=Symbol("radix.slottable");function MU(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IU}function OU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function DU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eg(t){const e=t+"CollectionProvider",[n,r]=yn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:x}=g,v=re.useRef(null),b=re.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:b,collectionRef:v,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=LC(l),u=re.forwardRef((g,w)=>{const{scope:x,children:v}=g,b=i(l,x),S=De(w,b.collectionRef);return a.jsx(c,{ref:S,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=LC(d),m=re.forwardRef((g,w)=>{const{scope:x,children:v,...b}=g,S=re.useRef(null),E=De(w,S),k=i(d,x);return re.useEffect(()=>(k.itemMap.set(S,{ref:S,...b}),()=>void k.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:E,children:v})});m.displayName=d;function y(g){const w=i(t+"CollectionConsumer",g);return re.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((k,T)=>b.indexOf(k.ref.current)-b.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,r]}function FU(t){const e=LU(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(UU);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function LU(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=BU(s),l=$U(i,s.props);return s.type!==p.Fragment&&(l.ref=r?mi(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VU=Symbol("radix.slottable");function UU(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VU}function $U(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function BU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=zU.reduce((t,e)=>{const n=FU(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function r0(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}function Dt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function WU(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var HU="DismissableLayer",Cx="dismissableLayer.update",qU="dismissableLayer.pointerDownOutside",KU="dismissableLayer.focusOutside",VC,E_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(E_),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=De(e,T=>f(T)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(w),v=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=x,E=GU(T=>{const N=T.target,j=[...u.branches].some(P=>P.contains(N));!S||j||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},h),k=QU(T=>{const N=T.target;[...u.branches].some(P=>P.contains(N))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},h);return WU(T=>{v===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),UC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=VC)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),UC())},[d,u]),p.useEffect(()=>{const T=()=>m({});return document.addEventListener(Cx,T),()=>document.removeEventListener(Cx,T)},[]),a.jsx(Ne.div,{...c,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,E.onPointerDownCapture)})});Fc.displayName=HU;var YU="DismissableLayerBranch",N_=p.forwardRef((t,e)=>{const n=p.useContext(E_),r=p.useRef(null),s=De(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Ne.div,{...t,ref:s})});N_.displayName=YU;function GU(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){j_(qU,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function QU(t,e=globalThis==null?void 0:globalThis.document){const n=Dt(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&j_(KU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UC(){const t=new CustomEvent(Cx);document.dispatchEvent(t)}function j_(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?r0(s,i):s.dispatchEvent(i)}var XU=Fc,ZU=N_,Xt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},JU="Portal",bf=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Xt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?xV.createPortal(a.jsx(Ne.div,{...r,ref:e}),o):null});bf.displayName=JU;function e$(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var rn=t=>{const{present:e,children:n}=t,r=t$(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=De(r.ref,n$(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};rn.displayName="Presence";function t$(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=e$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=dh(r.current);i.current=l==="mounted"?u:"none"},[l]),Xt(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,m=dh(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Xt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=dh(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=m=>{m.target===e&&(i.current=dh(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function dh(t){return(t==null?void 0:t.animationName)||"none"}function n$(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var r$=Fm[" useInsertionEffect ".trim().toString()]||Xt;function Zr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=s$({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const h=i$(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,t,i,o]);return[c,u]}function s$({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return r$(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function i$(t){return typeof t=="function"}var T_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),a$="VisuallyHidden",tg=p.forwardRef((t,e)=>a.jsx(Ne.span,{...t,ref:e,style:{...T_,...t.style}}));tg.displayName=a$;var o$=tg,s0="ToastProvider",[i0,l$,c$]=eg("Toast"),[k_]=yn("Toast",[c$]),[u$,ng]=k_(s0),P_=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${s0}\`. Expected non-empty \`string\`.`),a.jsx(i0.Provider,{scope:e,children:a.jsx(u$,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};P_.displayName=s0;var __="ToastViewport",d$=["F8"],Ex="toast.viewportPause",Nx="toast.viewportResume",A_=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=d$,label:s="Notifications ({hotkey})",...i}=t,o=ng(__,n),l=l$(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=De(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const w=x=>{var b;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),p.useEffect(()=>{const w=c.current,x=f.current;if(y&&w&&x){const v=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Ex);x.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Nx);x.dispatchEvent(k),o.isClosePausedRef.current=!1}},S=k=>{!w.contains(k.relatedTarget)&&b()},E=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",S),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const S=b.ref.current,E=[S,...E$(S)];return w==="forwards"?E:E.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const w=f.current;if(w){const x=v=>{var E,k,T;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const N=document.activeElement,j=v.shiftKey;if(v.target===w&&j){(E=u.current)==null||E.focus();return}const I=g({tabbingDirection:j?"backwards":"forwards"}),B=I.findIndex(D=>D===N);Ey(I.slice(B+1))?v.preventDefault():j?(k=u.current)==null||k.focus():(T=d.current)==null||T.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,g]),a.jsxs(ZU,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(jx,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Ey(w)}}),a.jsx(i0.Slot,{scope:n,children:a.jsx(Ne.ol,{tabIndex:-1,...i,ref:h})}),y&&a.jsx(jx,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Ey(w)}})]})});A_.displayName=__;var R_="ToastFocusProxy",jx=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ng(R_,n);return a.jsx(tg,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});jx.displayName=R_;var Sf="Toast",f$="toast.swipeStart",h$="toast.swipeMove",p$="toast.swipeCancel",m$="toast.swipeEnd",I_=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=Zr({prop:r,defaultProp:s??!0,onChange:i,caller:Sf});return a.jsx(rn,{present:n||l,children:a.jsx(v$,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Dt(t.onPause),onResume:Dt(t.onResume),onSwipeStart:oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});I_.displayName=Sf;var[g$,y$]=k_(Sf,{onClose(){}}),v$=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=t,g=ng(Sf,n),[w,x]=p.useState(null),v=De(e,D=>x(D)),b=p.useRef(null),S=p.useRef(null),E=s||g.duration,k=p.useRef(0),T=p.useRef(E),N=p.useRef(0),{onToastAdd:j,onToastRemove:P}=g,O=Dt(()=>{var M;(w==null?void 0:w.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),I=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),k.current=new Date().getTime(),N.current=window.setTimeout(O,D))},[O]);p.useEffect(()=>{const D=g.viewport;if(D){const M=()=>{I(T.current),u==null||u()},V=()=>{const $=new Date().getTime()-k.current;T.current=T.current-$,window.clearTimeout(N.current),c==null||c()};return D.addEventListener(Ex,V),D.addEventListener(Nx,M),()=>{D.removeEventListener(Ex,V),D.removeEventListener(Nx,M)}}},[g.viewport,E,c,u,I]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(E)},[i,E,g.isClosePausedRef,I]),p.useEffect(()=>(j(),()=>P()),[j,P]);const B=p.useMemo(()=>w?U_(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[B&&a.jsx(x$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),a.jsx(g$,{scope:n,onClose:O,children:Do.createPortal(a.jsx(i0.ItemSlot,{scope:n,children:a.jsx(XU,{asChild:!0,onEscapeKeyDown:oe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ne.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:oe(t.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:oe(t.onPointerMove,D=>{if(!b.current)return;const M=D.clientX-b.current.x,V=D.clientY-b.current.y,$=!!S.current,_=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,q=_?R(0,M):0,G=_?0:R(0,V),se=D.pointerType==="touch"?10:2,J={x:q,y:G},ce={originalEvent:D,delta:J};$?(S.current=J,fh(h$,f,ce,{discrete:!1})):$C(J,g.swipeDirection,se)?(S.current=J,fh(f$,d,ce,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(M)>se||Math.abs(V)>se)&&(b.current=null)}),onPointerUp:oe(t.onPointerUp,D=>{const M=S.current,V=D.target;if(V.hasPointerCapture(D.pointerId)&&V.releasePointerCapture(D.pointerId),S.current=null,b.current=null,M){const $=D.currentTarget,_={originalEvent:D,delta:M};$C(M,g.swipeDirection,g.swipeThreshold)?fh(m$,m,_,{discrete:!0}):fh(p$,h,_,{discrete:!0}),$.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),x$=t=>{const{__scopeToast:e,children:n,...r}=t,s=ng(Sf,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return S$(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(bf,{asChild:!0,children:a.jsx(tg,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},w$="ToastTitle",M_=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ne.div,{...r,ref:e})});M_.displayName=w$;var b$="ToastDescription",O_=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ne.div,{...r,ref:e})});O_.displayName=b$;var D_="ToastAction",F_=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(V_,{altText:n,asChild:!0,children:a.jsx(a0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${D_}\`. Expected non-empty \`string\`.`),null)});F_.displayName=D_;var L_="ToastClose",a0=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=y$(L_,n);return a.jsx(V_,{asChild:!0,children:a.jsx(Ne.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,s.onClose)})})});a0.displayName=L_;var V_=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function U_(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),C$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...U_(r))}}),e}function fh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?r0(s,i):s.dispatchEvent(i)}var $C=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function S$(t=()=>{}){const e=Dt(t);Xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function C$(t){return t.nodeType===t.ELEMENT_NODE}function E$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ey(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var N$=P_,$_=A_,B_=I_,z_=M_,W_=O_,H_=F_,q_=a0;function K_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=K_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Y_(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=K_(t))&&(r&&(r+=" "),r+=e);return r}const BC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zC=Y_,Lo=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=BC(d)||BC(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...u,f,h]:u},[]);return zC(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G_=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...T$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:G_("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(k$,{ref:i,iconNode:e,className:G_(`lucide-${j$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ye("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=ye("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ye("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ye("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=ye("MessageCircleQuestion",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=ye("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=ye("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=ye("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=ye("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=ye("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=ye("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),f0="-",t5=t=>{const e=r5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(f0);return l[0]===""&&l.length!==1&&l.shift(),lA(l,e)||n5(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},lA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(f0);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},GC=/^\[(.+)\]$/,n5=t=>{if(GC.test(t)){const e=GC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},r5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return i5(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ax(o,r,i,e)}),r},Ax=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:QC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(s5(s)){Ax(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ax(o,QC(e,i),n,r)})})},QC=(t,e)=>{let n=t;return e.split(f0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},s5=t=>t.isThemeGetter,i5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,a5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},cA="!",o5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let x=l[w];if(u===0){if(x===s&&(r||l.slice(w,w+i)===e)){c.push(l.slice(d,w)),d=w+i;continue}if(x==="/"){f=w;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(cA),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},l5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},c5=t=>({cache:a5(t.cacheSize),parseClassName:o5(t),...t5(t)}),u5=/\s+/,d5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(u5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=l5(d).join(":"),x=f?w+cA:w,v=x+g;if(i.includes(v))continue;i.push(v);const b=s(g,y);for(let S=0;S<b.length;++S){const E=b[S];i.push(x+E)}l=u+(l.length>0?" "+l:l)}return l};function f5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uA(e))&&(r&&(r+=" "),r+=n);return r}const uA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uA(t[r]))&&(n&&(n+=" "),n+=e);return n};function h5(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=c5(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=d5(c,n);return s(c,d),d}return function(){return i(f5.apply(null,arguments))}}const pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dA=/^\[(?:([a-z-]+):)?(.+)\]$/i,p5=/^\d+\/\d+$/,m5=new Set(["px","full","screen"]),g5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=t=>El(t)||m5.has(t)||p5.test(t),wi=t=>Lc(t,"length",k5),El=t=>!!t&&!Number.isNaN(Number(t)),jy=t=>Lc(t,"number",El),su=t=>!!t&&Number.isInteger(Number(t)),b5=t=>t.endsWith("%")&&El(t.slice(0,-1)),Ue=t=>dA.test(t),bi=t=>g5.test(t),S5=new Set(["length","size","percentage"]),C5=t=>Lc(t,S5,fA),E5=t=>Lc(t,"position",fA),N5=new Set(["image","url"]),j5=t=>Lc(t,N5,_5),T5=t=>Lc(t,"",P5),iu=()=>!0,Lc=(t,e,n)=>{const r=dA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},k5=t=>y5.test(t)&&!v5.test(t),fA=()=>!1,P5=t=>x5.test(t),_5=t=>w5.test(t),A5=()=>{const t=pt("colors"),e=pt("spacing"),n=pt("blur"),r=pt("brightness"),s=pt("borderColor"),i=pt("borderRadius"),o=pt("borderSpacing"),l=pt("borderWidth"),c=pt("contrast"),u=pt("grayscale"),d=pt("hueRotate"),f=pt("invert"),h=pt("gap"),m=pt("gradientColorStops"),y=pt("gradientColorStopPositions"),g=pt("inset"),w=pt("margin"),x=pt("opacity"),v=pt("padding"),b=pt("saturate"),S=pt("scale"),E=pt("sepia"),k=pt("skew"),T=pt("space"),N=pt("translate"),j=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ue,e],I=()=>[Ue,e],B=()=>["",Rs,wi],D=()=>["auto",El,Ue],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ue],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[El,Ue];return{cacheSize:500,separator:":",theme:{colors:[iu],spacing:[Rs,wi],blur:["none","",bi,Ue],brightness:G(),borderColor:[t],borderRadius:["none","","full",bi,Ue],borderSpacing:I(),borderWidth:B(),contrast:G(),grayscale:R(),hueRotate:G(),invert:R(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[b5,wi],inset:O(),margin:O(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:R(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[bi]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",su,Ue]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",su,Ue]}],"grid-cols":[{"grid-cols":[iu]}],"col-start-end":[{col:["auto",{span:["full",su,Ue]},Ue]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[iu]}],"row-start-end":[{row:["auto",{span:[su,Ue]},Ue]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,e]}],"min-w":[{"min-w":[Ue,e,"min","max","fit"]}],"max-w":[{"max-w":[Ue,e,"none","full","min","max","fit","prose",{screen:[bi]},bi]}],h:[{h:[Ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bi,wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jy]}],"font-family":[{font:[iu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",El,jy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,wi]}],"underline-offset":[{"underline-offset":["auto",Rs,Ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),E5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",C5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},j5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Rs,Ue]}],"outline-w":[{outline:[Rs,wi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Rs,wi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bi,T5]}],"shadow-color":[{shadow:[iu]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bi,Ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[su,Ue]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rs,wi,jy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},R5=h5(A5);function ae(...t){return R5(Y_(t))}const I5=N$,hA=p.forwardRef(({className:t,...e},n)=>a.jsx($_,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));hA.displayName=$_.displayName;const M5=Lo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pA=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(B_,{ref:r,className:ae(M5({variant:e}),t),...n}));pA.displayName=B_.displayName;const O5=p.forwardRef(({className:t,...e},n)=>a.jsx(H_,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));O5.displayName=H_.displayName;const mA=p.forwardRef(({className:t,...e},n)=>a.jsx(q_,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(d0,{className:"h-4 w-4"})}));mA.displayName=q_.displayName;const gA=p.forwardRef(({className:t,...e},n)=>a.jsx(z_,{ref:n,className:ae("text-sm font-semibold",t),...e}));gA.displayName=z_.displayName;const yA=p.forwardRef(({className:t,...e},n)=>a.jsx(W_,{ref:n,className:ae("text-sm opacity-90",t),...e}));yA.displayName=W_.displayName;function D5(){const{toasts:t}=ot();return a.jsxs(I5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(pA,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(gA,{children:n}),r&&a.jsx(yA,{children:r})]}),s,a.jsx(mA,{})]},e)}),a.jsx(hA,{})]})}var F5=Fm[" useId ".trim().toString()]||(()=>{}),L5=0;function Gr(t){const[e,n]=p.useState(F5());return Xt(()=>{n(r=>r??String(L5++))},[t]),e?`radix-${e}`:""}const V5=["top","right","bottom","left"],ha=Math.min,qn=Math.max,Lp=Math.round,hh=Math.floor,Ss=t=>({x:t,y:t}),U5={left:"right",right:"left",bottom:"top",top:"bottom"},$5={start:"end",end:"start"};function Rx(t,e,n){return qn(t,ha(e,n))}function oi(t,e){return typeof t=="function"?t(e):t}function li(t){return t.split("-")[0]}function Vc(t){return t.split("-")[1]}function h0(t){return t==="x"?"y":"x"}function p0(t){return t==="y"?"height":"width"}const B5=new Set(["top","bottom"]);function vs(t){return B5.has(li(t))?"y":"x"}function m0(t){return h0(vs(t))}function z5(t,e,n){n===void 0&&(n=!1);const r=Vc(t),s=m0(t),i=p0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vp(o)),[o,Vp(o)]}function W5(t){const e=Vp(t);return[Ix(t),e,Ix(e)]}function Ix(t){return t.replace(/start|end/g,e=>$5[e])}const XC=["left","right"],ZC=["right","left"],H5=["top","bottom"],q5=["bottom","top"];function K5(t,e,n){switch(t){case"top":case"bottom":return n?e?ZC:XC:e?XC:ZC;case"left":case"right":return e?H5:q5;default:return[]}}function Y5(t,e,n,r){const s=Vc(t);let i=K5(li(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ix)))),i}function Vp(t){return t.replace(/left|right|bottom|top/g,e=>U5[e])}function G5(t){return{top:0,right:0,bottom:0,left:0,...t}}function vA(t){return typeof t!="number"?G5(t):{top:t,right:t,bottom:t,left:t}}function Up(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function JC(t,e,n){let{reference:r,floating:s}=t;const i=vs(e),o=m0(e),l=p0(o),c=li(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Vc(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const Q5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=JC(u,r,c),h=r,m={},y=0;for(let g=0;g<l.length;g++){const{name:w,fn:x}=l[g],{x:v,y:b,data:S,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,f=b??f,m={...m,[w]:{...m[w],...S}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:f}=JC(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function xd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=oi(e,t),y=vA(m),w=l[h?f==="floating"?"reference":"floating":f],x=Up(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Up(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(x.top-E.top+y.top)/S.y,bottom:(E.bottom-x.bottom+y.bottom)/S.y,left:(x.left-E.left+y.left)/S.x,right:(E.right-x.right+y.right)/S.x}}const X5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=oi(t,e)||{};if(u==null)return{};const f=vA(d),h={x:n,y:r},m=m0(s),y=p0(m),g=await o.getDimensions(u),w=m==="y",x=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[m]-h[m]-i.floating[y],E=h[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=k?k[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(k)))&&(T=l.floating[b]||i.floating[y]);const N=S/2-E/2,j=T/2-g[y]/2-1,P=ha(f[x],j),O=ha(f[v],j),I=P,B=T-g[y]-O,D=T/2-g[y]/2+N,M=Rx(I,D,B),V=!c.arrow&&Vc(s)!=null&&D!==M&&i.reference[y]/2-(D<I?P:O)-g[y]/2<0,$=V?D<I?D-I:D-B:0;return{[m]:h[m]+$,data:{[m]:M,centerOffset:D-M-$,...V&&{alignmentOffset:$}},reset:V}}}),Z5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=oi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=li(s),v=vs(l),b=li(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(b||!g?[Vp(l)]:W5(l)),k=y!=="none";!h&&k&&E.push(...Y5(l,g,y,S));const T=[l,...E],N=await xd(e,w),j=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&j.push(N[x]),f){const D=z5(s,o,S);j.push(N[D[0]],N[D[1]])}if(P=[...P,{placement:s,overflows:j}],!j.every(D=>D<=0)){var O,I;const D=(((O=i.flip)==null?void 0:O.index)||0)+1,M=T[D];if(M&&(!(f==="alignment"?v!==vs(M):!1)||P.every(_=>vs(_.placement)===v?_.overflows[0]>0:!0)))return{data:{index:D,overflows:P},reset:{placement:M}};let V=(I=P.filter($=>$.overflows[0]<=0).sort(($,_)=>$.overflows[1]-_.overflows[1])[0])==null?void 0:I.placement;if(!V)switch(m){case"bestFit":{var B;const $=(B=P.filter(_=>{if(k){const R=vs(_.placement);return R===v||R==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(R=>R>0).reduce((R,q)=>R+q,0)]).sort((_,R)=>_[1]-R[1])[0])==null?void 0:B[0];$&&(V=$);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function eE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tE(t){return V5.some(e=>t[e]>=0)}const J5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=oi(t,e);switch(r){case"referenceHidden":{const i=await xd(e,{...s,elementContext:"reference"}),o=eE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:tE(o)}}}case"escaped":{const i=await xd(e,{...s,altBoundary:!0}),o=eE(i,n.floating);return{data:{escapedOffsets:o,escaped:tE(o)}}}default:return{}}}}},xA=new Set(["left","top"]);async function e6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=li(n),l=Vc(n),c=vs(n)==="y",u=xA.has(o)?-1:1,d=i&&c?-1:1,f=oi(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const t6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await e6(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},n6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x,y:v}=w;return{x,y:v}}},...c}=oi(t,e),u={x:n,y:r},d=await xd(e,c),f=vs(li(s)),h=h0(f);let m=u[h],y=u[f];if(i){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=m+d[w],b=m-d[x];m=Rx(v,m,b)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=y+d[w],b=y-d[x];y=Rx(v,y,b)}const g=l.fn({...e,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},r6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=oi(t,e),d={x:n,y:r},f=vs(s),h=h0(f);let m=d[h],y=d[f];const g=oi(l,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",S=i.reference[h]-i.floating[b]+w.mainAxis,E=i.reference[h]+i.reference[b]-w.mainAxis;m<S?m=S:m>E&&(m=E)}if(u){var x,v;const b=h==="y"?"width":"height",S=xA.has(li(s)),E=i.reference[f]-i.floating[b]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:w.crossAxis),k=i.reference[f]+i.reference[b]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?w.crossAxis:0);y<E?y=E:y>k&&(y=k)}return{[h]:m,[f]:y}}}},s6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=oi(t,e),d=await xd(e,u),f=li(s),h=Vc(s),m=vs(s)==="y",{width:y,height:g}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=y-d.left-d.right,S=ha(g-d[w],v),E=ha(y-d[x],b),k=!e.middlewareData.shift;let T=S,N=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),k&&!h){const P=qn(d.left,0),O=qn(d.right,0),I=qn(d.top,0),B=qn(d.bottom,0);m?N=y-2*(P!==0||O!==0?P+O:qn(d.left,d.right)):T=g-2*(I!==0||B!==0?I+B:qn(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:T});const j=await o.getDimensions(l.floating);return y!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function ig(){return typeof window<"u"}function Uc(t){return wA(t)?(t.nodeName||"").toLowerCase():"#document"}function Qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ps(t){var e;return(e=(wA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wA(t){return ig()?t instanceof Node||t instanceof Qn(t).Node:!1}function Jr(t){return ig()?t instanceof Element||t instanceof Qn(t).Element:!1}function Ts(t){return ig()?t instanceof HTMLElement||t instanceof Qn(t).HTMLElement:!1}function nE(t){return!ig()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qn(t).ShadowRoot}const i6=new Set(["inline","contents"]);function Ef(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!i6.has(s)}const a6=new Set(["table","td","th"]);function o6(t){return a6.has(Uc(t))}const l6=[":popover-open",":modal"];function ag(t){return l6.some(e=>{try{return t.matches(e)}catch{return!1}})}const c6=["transform","translate","scale","rotate","perspective"],u6=["transform","translate","scale","rotate","perspective","filter"],d6=["paint","layout","strict","content"];function g0(t){const e=y0(),n=Jr(t)?es(t):t;return c6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||u6.some(r=>(n.willChange||"").includes(r))||d6.some(r=>(n.contain||"").includes(r))}function f6(t){let e=pa(t);for(;Ts(e)&&!xc(e);){if(g0(e))return e;if(ag(e))return null;e=pa(e)}return null}function y0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const h6=new Set(["html","body","#document"]);function xc(t){return h6.has(Uc(t))}function es(t){return Qn(t).getComputedStyle(t)}function og(t){return Jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pa(t){if(Uc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nE(t)&&t.host||Ps(t);return nE(e)?e.host:e}function bA(t){const e=pa(t);return xc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ts(e)&&Ef(e)?e:bA(e)}function wd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=bA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Qn(s);if(i){const l=Mx(o);return e.concat(o,o.visualViewport||[],Ef(s)?s:[],l&&n?wd(l):[])}return e.concat(s,wd(s,[],n))}function Mx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function SA(t){const e=es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ts(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Lp(n)!==i||Lp(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function v0(t){return Jr(t)?t:t.contextElement}function Nl(t){const e=v0(t);if(!Ts(e))return Ss(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=SA(e);let o=(i?Lp(n.width):n.width)/r,l=(i?Lp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const p6=Ss(0);function CA(t){const e=Qn(t);return!y0()||!e.visualViewport?p6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qn(t)?!1:e}function Eo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=v0(t);let o=Ss(1);e&&(r?Jr(r)&&(o=Nl(r)):o=Nl(t));const l=m6(i,n,r)?CA(i):Ss(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Qn(i),m=r&&Jr(r)?Qn(r):r;let y=h,g=Mx(y);for(;g&&r&&m!==y;){const w=Nl(g),x=g.getBoundingClientRect(),v=es(g),b=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,S=x.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=S,y=Qn(g),g=Mx(y)}}return Up({width:d,height:f,x:c,y:u})}function lg(t,e){const n=og(t).scrollLeft;return e?e.left+n:Eo(Ps(t)).left+n}function EA(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-lg(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function g6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ps(r),l=e?ag(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ss(1);const d=Ss(0),f=Ts(r);if((f||!f&&!i)&&((Uc(r)!=="body"||Ef(o))&&(c=og(r)),Ts(r))){const m=Eo(r);u=Nl(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?EA(o,c):Ss(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function y6(t){return Array.from(t.getClientRects())}function v6(t){const e=Ps(t),n=og(t),r=t.ownerDocument.body,s=qn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=qn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+lg(t);const l=-n.scrollTop;return es(r).direction==="rtl"&&(o+=qn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const rE=25;function x6(t,e){const n=Qn(t),r=Ps(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=y0();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=lg(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-m);y<=rE&&(i-=y)}else u<=rE&&(i+=u);return{width:i,height:o,x:l,y:c}}const w6=new Set(["absolute","fixed"]);function b6(t,e){const n=Eo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ts(t)?Nl(t):Ss(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function sE(t,e,n){let r;if(e==="viewport")r=x6(t,n);else if(e==="document")r=v6(Ps(t));else if(Jr(e))r=b6(e,n);else{const s=CA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Up(r)}function NA(t,e){const n=pa(t);return n===e||!Jr(n)||xc(n)?!1:es(n).position==="fixed"||NA(n,e)}function S6(t,e){const n=e.get(t);if(n)return n;let r=wd(t,[],!1).filter(l=>Jr(l)&&Uc(l)!=="body"),s=null;const i=es(t).position==="fixed";let o=i?pa(t):t;for(;Jr(o)&&!xc(o);){const l=es(o),c=g0(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&w6.has(s.position)||Ef(o)&&!c&&NA(t,o))?r=r.filter(d=>d!==o):s=l,o=pa(o)}return e.set(t,r),r}function C6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ag(e)?[]:S6(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=sE(e,d,s);return u.top=qn(f.top,u.top),u.right=ha(f.right,u.right),u.bottom=ha(f.bottom,u.bottom),u.left=qn(f.left,u.left),u},sE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function E6(t){const{width:e,height:n}=SA(t);return{width:e,height:n}}function N6(t,e,n){const r=Ts(e),s=Ps(e),i=n==="fixed",o=Eo(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Ss(0);function u(){c.x=lg(s)}if(r||!r&&!i)if((Uc(e)!=="body"||Ef(s))&&(l=og(e)),r){const m=Eo(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?EA(s,l):Ss(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Ty(t){return es(t).position==="static"}function iE(t,e){if(!Ts(t)||es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ps(t)===n&&(n=n.ownerDocument.body),n}function jA(t,e){const n=Qn(t);if(ag(t))return n;if(!Ts(t)){let s=pa(t);for(;s&&!xc(s);){if(Jr(s)&&!Ty(s))return s;s=pa(s)}return n}let r=iE(t,e);for(;r&&o6(r)&&Ty(r);)r=iE(r,e);return r&&xc(r)&&Ty(r)&&!g0(r)?n:r||f6(t)||n}const j6=async function(t){const e=this.getOffsetParent||jA,n=this.getDimensions,r=await n(t.floating);return{reference:N6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function T6(t){return es(t).direction==="rtl"}const k6={convertOffsetParentRelativeRectToViewportRelativeRect:g6,getDocumentElement:Ps,getClippingRect:C6,getOffsetParent:jA,getElementRects:j6,getClientRects:y6,getDimensions:E6,getScale:Nl,isElement:Jr,isRTL:T6};function TA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function P6(t,e){let n=null,r;const s=Ps(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||e(),!h||!m)return;const y=hh(f),g=hh(s.clientWidth-(d+h)),w=hh(s.clientHeight-(f+m)),x=hh(d),b={rootMargin:-y+"px "+-g+"px "+-w+"px "+-x+"px",threshold:qn(0,ha(1,c))||1};let S=!0;function E(k){const T=k[0].intersectionRatio;if(T!==c){if(!S)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!TA(u,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(E,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return o(!0),i}function _6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=v0(t),d=s||i?[...u?wd(u):[],...wd(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&l?P6(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let y,g=c?Eo(t):null;c&&w();function w(){const x=Eo(t);g&&!TA(g,x)&&n(),g=x,y=requestAnimationFrame(w)}return n(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const A6=t6,R6=n6,I6=Z5,M6=s6,O6=J5,aE=X5,D6=r6,F6=(t,e,n)=>{const r=new Map,s={platform:k6,...n},i={...s.platform,_c:r};return Q5(t,e,{...s,platform:i})};var L6=typeof document<"u",V6=function(){},qh=L6?p.useLayoutEffect:V6;function $p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$p(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!$p(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function kA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function oE(t,e){const n=kA(t);return Math.round(e*n)/n}function ky(t){const e=p.useRef(t);return qh(()=>{e.current=t}),e}function U6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);$p(h,r)||m(r);const[y,g]=p.useState(null),[w,x]=p.useState(null),v=p.useCallback(_=>{_!==k.current&&(k.current=_,g(_))},[]),b=p.useCallback(_=>{_!==T.current&&(T.current=_,x(_))},[]),S=i||y,E=o||w,k=p.useRef(null),T=p.useRef(null),N=p.useRef(d),j=c!=null,P=ky(c),O=ky(s),I=ky(u),B=p.useCallback(()=>{if(!k.current||!T.current)return;const _={placement:e,strategy:n,middleware:h};O.current&&(_.platform=O.current),F6(k.current,T.current,_).then(R=>{const q={...R,isPositioned:I.current!==!1};D.current&&!$p(N.current,q)&&(N.current=q,Do.flushSync(()=>{f(q)}))})},[h,e,n,O,I]);qh(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(_=>({..._,isPositioned:!1})))},[u]);const D=p.useRef(!1);qh(()=>(D.current=!0,()=>{D.current=!1}),[]),qh(()=>{if(S&&(k.current=S),E&&(T.current=E),S&&E){if(P.current)return P.current(S,E,B);B()}},[S,E,B,P,j]);const M=p.useMemo(()=>({reference:k,floating:T,setReference:v,setFloating:b}),[v,b]),V=p.useMemo(()=>({reference:S,floating:E}),[S,E]),$=p.useMemo(()=>{const _={position:n,left:0,top:0};if(!V.floating)return _;const R=oE(V.floating,d.x),q=oE(V.floating,d.y);return l?{..._,transform:"translate("+R+"px, "+q+"px)",...kA(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:q}},[n,l,V.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:B,refs:M,elements:V,floatingStyles:$}),[d,B,M,V,$])}const $6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aE({element:r.current,padding:s}).fn(n):{}:r?aE({element:r,padding:s}).fn(n):{}}}},B6=(t,e)=>({...A6(t),options:[t,e]}),z6=(t,e)=>({...R6(t),options:[t,e]}),W6=(t,e)=>({...D6(t),options:[t,e]}),H6=(t,e)=>({...I6(t),options:[t,e]}),q6=(t,e)=>({...M6(t),options:[t,e]}),K6=(t,e)=>({...O6(t),options:[t,e]}),Y6=(t,e)=>({...$6(t),options:[t,e]});var G6="Arrow",PA=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Ne.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});PA.displayName=G6;var Q6=PA;function cg(t){const[e,n]=p.useState(void 0);return Xt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var x0="Popper",[_A,$c]=yn(x0),[X6,AA]=_A(x0),RA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return a.jsx(X6,{scope:e,anchor:r,onAnchorChange:s,children:n})};RA.displayName=x0;var IA="PopperAnchor",MA=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=AA(IA,n),o=p.useRef(null),l=De(e,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:a.jsx(Ne.div,{...s,ref:l})});MA.displayName=IA;var w0="PopperContent",[Z6,J6]=_A(w0),OA=p.forwardRef((t,e)=>{var Q,L,he,ne,te,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,w=AA(w0,n),[x,v]=p.useState(null),b=De(e,xe=>v(xe)),[S,E]=p.useState(null),k=cg(S),T=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,j=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],I=O.length>0,B={padding:P,boundary:O.filter(tB),altBoundary:I},{refs:D,floatingStyles:M,placement:V,isPositioned:$,middlewareData:_}=U6({strategy:"fixed",placement:j,whileElementsMounted:(...xe)=>_6(...xe,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[B6({mainAxis:s+N,alignmentAxis:o}),c&&z6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?W6():void 0,...B}),c&&H6({...B}),q6({...B,apply:({elements:xe,rects:Ce,availableWidth:je,availableHeight:we})=>{const{width:Qe,height:Oe}=Ce.reference,Me=xe.floating.style;Me.setProperty("--radix-popper-available-width",`${je}px`),Me.setProperty("--radix-popper-available-height",`${we}px`),Me.setProperty("--radix-popper-anchor-width",`${Qe}px`),Me.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),S&&Y6({element:S,padding:l}),nB({arrowWidth:T,arrowHeight:N}),h&&K6({strategy:"referenceHidden",...B})]}),[R,q]=LA(V),G=Dt(y);Xt(()=>{$&&(G==null||G())},[$,G]);const se=(Q=_.arrow)==null?void 0:Q.x,J=(L=_.arrow)==null?void 0:L.y,ce=((he=_.arrow)==null?void 0:he.centerOffset)!==0,[Se,W]=p.useState();return Xt(()=>{x&&W(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:$?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(ne=_.transformOrigin)==null?void 0:ne.x,(te=_.transformOrigin)==null?void 0:te.y].join(" "),...((pe=_.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Z6,{scope:n,placedSide:R,onArrowChange:E,arrowX:se,arrowY:J,shouldHideArrow:ce,children:a.jsx(Ne.div,{"data-side":R,"data-align":q,...g,ref:b,style:{...g.style,animation:$?void 0:"none"}})})})});OA.displayName=w0;var DA="PopperArrow",eB={top:"bottom",right:"left",bottom:"top",left:"right"},FA=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=J6(DA,r),o=eB[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Q6,{...s,ref:n,style:{...s.style,display:"block"}})})});FA.displayName=DA;function tB(t){return t!==null}var nB=t=>({name:"transformOrigin",options:t,fn(e){var w,x,v;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=LA(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):u==="top"?(y=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:y,y:g}}}});function LA(t){const[e,n="center"]=t.split("-");return[e,n]}var b0=RA,S0=MA,C0=OA,E0=FA,rB=Symbol("radix.slottable");function sB(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=rB,e}var[ug]=yn("Tooltip",[$c]),dg=$c(),VA="TooltipProvider",iB=700,Ox="tooltip.open",[aB,N0]=ug(VA),UA=t=>{const{__scopeTooltip:e,delayDuration:n=iB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(aB,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};UA.displayName=VA;var bd="Tooltip",[oB,fg]=ug(bd),$A=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=N0(bd,t.__scopeTooltip),u=dg(e),[d,f]=p.useState(null),h=Gr(),m=p.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,w=p.useRef(!1),[x,v]=Zr({prop:r,defaultProp:s??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ox))):c.onClose(),i==null||i(T)},caller:bd}),b=p.useMemo(()=>x?w.current?"delayed-open":"instant-open":"closed",[x]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,v(!0)},[v]),E=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),k=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,v(!0),m.current=0},g)},[g,v]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),a.jsx(b0,{...u,children:a.jsx(oB,{scope:e,contentId:h,open:x,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?k():S()},[c.isOpenDelayedRef,k,S]),onTriggerLeave:p.useCallback(()=>{y?E():(window.clearTimeout(m.current),m.current=0)},[E,y]),onOpen:S,onClose:E,disableHoverableContent:y,children:n})})};$A.displayName=bd;var Dx="TooltipTrigger",BA=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=fg(Dx,n),i=N0(Dx,n),o=dg(n),l=p.useRef(null),c=De(e,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(S0,{asChild:!0,...o,children:a.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:oe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(t.onBlur,s.onClose),onClick:oe(t.onClick,s.onClose)})})});BA.displayName=Dx;var lB="TooltipPortal",[Kie,cB]=ug(lB,{forceMount:void 0}),wc="TooltipContent",zA=p.forwardRef((t,e)=>{const n=cB(wc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=fg(wc,t.__scopeTooltip);return a.jsx(rn,{present:r||o.open,children:o.disableHoverableContent?a.jsx(WA,{side:s,...i,ref:e}):a.jsx(uB,{side:s,...i,ref:e})})}),uB=p.forwardRef((t,e)=>{const n=fg(wc,t.__scopeTooltip),r=N0(wc,t.__scopeTooltip),s=p.useRef(null),i=De(e,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((y,g)=>{const w=y.currentTarget,x={x:y.clientX,y:y.clientY},v=mB(x,w.getBoundingClientRect()),b=gB(x,v),S=yB(g.getBoundingClientRect()),E=xB([...b,...S]);l(E),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const y=w=>m(w,d),g=w=>m(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const y=g=>{const w=g.target,x={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!vB(x,o);v?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),a.jsx(WA,{...t,ref:i})}),[dB,fB]=ug(bd,{isInside:!1}),hB=sB("TooltipContent"),WA=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=fg(wc,n),u=dg(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Ox,d),()=>document.removeEventListener(Ox,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Fc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(C0,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(hB,{children:r}),a.jsx(dB,{scope:n,isInside:!0,children:a.jsx(o$,{id:c.contentId,role:"tooltip",children:s||r})})]})})});zA.displayName=wc;var HA="TooltipArrow",pB=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=dg(n);return fB(HA,n).isInside?null:a.jsx(E0,{...s,...r,ref:e})});pB.displayName=HA;function mB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function yB(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function vB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function xB(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wB(e)}function wB(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bB=UA,SB=$A,CB=BA,qA=zA;const KA=bB,EB=SB,NB=CB,YA=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(qA,{ref:r,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));YA.displayName=qA.displayName;const Fx=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"es",name:"Spanish",nativeName:"Espaol",flag:""},{code:"fr",name:"French",nativeName:"Franais",flag:""},{code:"de",name:"German",nativeName:"Deutsch",flag:""},{code:"it",name:"Italian",nativeName:"Italiano",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ja",name:"Japanese",nativeName:"",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:""},{code:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{code:"ru",name:"Russian",nativeName:"",flag:""}],lE={en:{menu:"Menu",cart:"Cart",orders:"Orders",settings:"Settings",allCategories:"All Categories",appetizers:"Appetizers",mainCourse:"Main Course",desserts:"Desserts",beverages:"Beverages",spiceLevel:"Spice Level",vegan:"Vegan",vegetarian:"Vegetarian",halal:"Halal",allergens:"Allergens",addToCart:"Add to Cart",yourCart:"Your Cart",emptyCart:"Your cart is empty",subtotal:"Subtotal",tax:"Tax",total:"Total",checkout:"Checkout",remove:"Remove",paymentMethod:"Payment Method",payOnline:"Pay Online",payWithCash:"Pay at the Register (Cash or Card)",customerNotes:"Customer Notes",optional:"Optional",placeOrder:"Place Order",processing:"Processing...",orderSuccess:"Order placed successfully!",orderError:"Failed to place order",aiWaiter:"AI Waiter",aiWaiterWelcome:"Welcome! I'm your AI Waiter. I can help you with menu recommendations, dietary restrictions, allergens, and answer any questions about our dishes. How can I help you today?",typeMessage:"Type your message...",send:"Send",voiceToggle:"Toggle voice responses",voiceInput:"Voice input",close:"Close",tapToTalk:"Tap to talk",listening:"Listening...",aiProcessing:"Processing...",speaking:"Speaking...",address:"Address",phone:"Phone",hours:"Hours",available:"Available",unavailable:"Unavailable",loading:"Loading...",error:"Error",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",confirm:"Confirm",yes:"Yes",no:"No",callForAssistance:"Call for Assistance",callWaiter:"Call Waiter",requestSent:"Request Sent!",someoneWillBeWithYouSoon:"Someone will be with you soon",assistanceQuestion:"Is there anything specific we can help you with? (Optional)",assistancePlaceholder:"E.g., Need extra napkins, have a question about the menu, etc.",staffNotified:"A staff member will be notified and come to your table shortly.",waiterCalled:"Waiter Called",staffMemberWillBeWithYouShortly:"A staff member will be with you shortly!",unableToContactRestaurant:"Unable to contact restaurant. Please refresh the page.",emailReceipt:"Email Receipt",receipt:"Receipt",invoice:"Invoice",thankYouForYourOrder:"Thank you for your order",orderNumber:"Order Number",dateAndTime:"Date & Time",table:"Table",orderItems:"Order Items",receiptSent:"Receipt Sent!",receiptSentTo:"Your receipt has been sent to",failedToSend:"Failed to Send",couldNotSendEmail:"Could not send email receipt. Please try again.",invalidEmail:"Invalid Email",pleaseEnterValidEmail:"Please enter a valid email address.",emailAddress:"Email Address",sendReceipt:"Send Receipt",sending:"Sending...",printSavePDF:"Print / Save PDF",printing:"Printing...",trackYourOrder:"Track Your Order",trackOrder:"Track Order",continueBrowsingMenu:"Continue Browsing Menu",specialInstructions:"Special Instructions",paid:"Paid",pending:"Pending",paymentCompleted:"Payment Completed",paymentPending:"Payment Pending",receiptNotFound:"Receipt not found",openingOrderTracking:"Opening Order Tracking",orderTrackingWillOpen:"Your order tracking page will open in a new tab",enterEmailToReceiveReceipt:"Enter your email address to receive a copy of this receipt",submitRating:"Submit Rating",foodQuality:"Food Quality",serviceSpeed:"Service Speed",cleanliness:"Cleanliness",staffFriendliness:"Staff Friendliness",howWasThisDish:"How was this dish?",overallExperience:"Overall Experience",additionalFeedback:"Any additional feedback?",rateYourFood:"Rate Your Food",rateOurService:"Rate Our Service",rateItem:"Rate item",of:"of",tellUsAboutYourExperience:"Tell us about your overall experience",additionalComments:"Additional Comments (Optional)",tellUsMoreAboutYourExperience:"Tell us more about your experience...",previous:"Previous",nextItem:"Next Item",rateService:"Rate Service",back:"Back",thankYou:"Thank you!",ratingSubmittedSuccessfully:"Your rating has been submitted successfully.",welcome:"Welcome!",meetYourAIWaiter:"Meet your AI waiter - ready to help you explore our menu and place your order",tapToStart:"Tap to Start",tapAnywhereToContinue:"Tap anywhere to continue",contactSupport:"Contact Support",questionsContact:"Questions? Contact",directly:"directly.",thankYouForDining:"Thank you for dining with us!"},es:{menu:"Men",cart:"Carrito",orders:"Pedidos",settings:"Configuracin",allCategories:"Todas las Categoras",appetizers:"Aperitivos",mainCourse:"Plato Principal",desserts:"Postres",beverages:"Bebidas",spiceLevel:"Nivel de Picante",vegan:"Vegano",vegetarian:"Vegetariano",halal:"Halal",allergens:"Alrgenos",addToCart:"Aadir al Carrito",yourCart:"Tu Carrito",emptyCart:"Tu carrito est vaco",subtotal:"Subtotal",tax:"Impuesto",total:"Total",checkout:"Pagar",remove:"Eliminar",paymentMethod:"Mtodo de Pago",payOnline:"Pagar en Lnea",payWithCash:"Pagar en la Caja (Efectivo o Tarjeta)",customerNotes:"Notas del Cliente",optional:"Opcional",placeOrder:"Realizar Pedido",processing:"Procesando...",orderSuccess:"Pedido realizado con xito!",orderError:"Error al realizar el pedido",aiWaiter:"Mesero IA",aiWaiterWelcome:"Bienvenido! Soy tu Mesero IA. Puedo ayudarte con recomendaciones del men, restricciones dietticas, alrgenos y responder cualquier pregunta sobre nuestros platos. Cmo puedo ayudarte hoy?",typeMessage:"Escribe tu mensaje...",send:"Enviar",voiceToggle:"Alternar respuestas de voz",voiceInput:"Entrada de voz",close:"Cerrar",tapToTalk:"Toca para hablar",listening:"Escuchando...",aiProcessing:"Procesando...",speaking:"Hablando...",address:"Direccin",phone:"Telfono",hours:"Horario",available:"Disponible",unavailable:"No Disponible",loading:"Cargando...",error:"Error",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",confirm:"Confirmar",yes:"S",no:"No",callForAssistance:"Llamar para Asistencia",callWaiter:"Llamar al Mesero",requestSent:"Solicitud Enviada!",someoneWillBeWithYouSoon:"Alguien estar contigo pronto",assistanceQuestion:"Hay algo especfico en lo que podamos ayudarte? (Opcional)",assistancePlaceholder:"Ej., Necesito servilletas extra, tengo una pregunta sobre el men, etc.",staffNotified:"Un miembro del personal ser notificado y vendr a tu mesa en breve.",waiterCalled:"Mesero Llamado",staffMemberWillBeWithYouShortly:"Un miembro del personal estar contigo en breve!",unableToContactRestaurant:"No se puede contactar con el restaurante. Por favor, actualice la pgina.",emailReceipt:"Enviar Recibo por Email",receipt:"Recibo",invoice:"Factura",thankYouForYourOrder:"Gracias por tu pedido",orderNumber:"Nmero de Pedido",dateAndTime:"Fecha y Hora",table:"Mesa",orderItems:"Artculos del Pedido",receiptSent:"Recibo Enviado!",receiptSentTo:"Tu recibo ha sido enviado a",failedToSend:"Error al Enviar",couldNotSendEmail:"No se pudo enviar el recibo por email. Por favor, intntalo de nuevo.",invalidEmail:"Email Invlido",pleaseEnterValidEmail:"Por favor, introduce una direccin de email vlida.",emailAddress:"Direccin de Email",sendReceipt:"Enviar Recibo",sending:"Enviando...",printSavePDF:"Imprimir / Guardar PDF",printing:"Imprimiendo...",trackYourOrder:"Seguir Tu Pedido",trackOrder:"Seguir Pedido",continueBrowsingMenu:"Continuar Explorando el Men",specialInstructions:"Instrucciones Especiales",paid:"Pagado",pending:"Pendiente",paymentCompleted:"Pago Completado",paymentPending:"Pago Pendiente",receiptNotFound:"Recibo no encontrado",openingOrderTracking:"Abriendo Seguimiento del Pedido",orderTrackingWillOpen:"Tu pgina de seguimiento del pedido se abrir en una nueva pestaa",enterEmailToReceiveReceipt:"Introduce tu direccin de email para recibir una copia de este recibo",submitRating:"Enviar Calificacin",foodQuality:"Calidad de la Comida",serviceSpeed:"Rapidez del Servicio",cleanliness:"Limpieza",staffFriendliness:"Amabilidad del Personal",howWasThisDish:"Cmo estuvo este plato?",overallExperience:"Experiencia General",additionalFeedback:"Algn comentario adicional?",rateYourFood:"Califica Tu Comida",rateOurService:"Califica Nuestro Servicio",rateItem:"Calificar artculo",of:"de",tellUsAboutYourExperience:"Cuntanos sobre tu experiencia general",additionalComments:"Comentarios Adicionales (Opcional)",tellUsMoreAboutYourExperience:"Cuntanos ms sobre tu experiencia...",previous:"Anterior",nextItem:"Siguiente Artculo",rateService:"Calificar Servicio",back:"Atrs",thankYou:"Gracias!",ratingSubmittedSuccessfully:"Tu calificacin ha sido enviada exitosamente.",welcome:"Bienvenido!",meetYourAIWaiter:"Conoce a tu mesero IA - listo para ayudarte a explorar nuestro men y realizar tu pedido",tapToStart:"Toca para Comenzar",tapAnywhereToContinue:"Toca en cualquier lugar para continuar",contactSupport:"Contactar Soporte",questionsContact:"Preguntas? Contacta a",directly:"directamente.",thankYouForDining:"Gracias por cenar con nosotros!"},fr:{menu:"Menu",cart:"Panier",orders:"Commandes",settings:"Paramtres",allCategories:"Toutes les Catgories",appetizers:"Entres",mainCourse:"Plat Principal",desserts:"Desserts",beverages:"Boissons",spiceLevel:"Niveau de Piquant",vegan:"Vgtalien",vegetarian:"Vgtarien",halal:"Halal",allergens:"Allergnes",addToCart:"Ajouter au Panier",yourCart:"Votre Panier",emptyCart:"Votre panier est vide",subtotal:"Sous-total",tax:"Taxe",total:"Total",checkout:"Commander",remove:"Supprimer",paymentMethod:"Mthode de Paiement",payOnline:"Payer en Ligne",payWithCash:"Payer  la Caisse (Espces ou Carte)",customerNotes:"Notes du Client",optional:"Optionnel",placeOrder:"Passer la Commande",processing:"Traitement...",orderSuccess:"Commande passe avec succs!",orderError:"chec de la commande",aiWaiter:"Serveur IA",aiWaiterWelcome:"Bienvenue! Je suis votre Serveur IA. Je peux vous aider avec des recommandations de menu, des restrictions alimentaires, des allergnes et rpondre  toutes vos questions sur nos plats. Comment puis-je vous aider aujourd'hui?",typeMessage:"Tapez votre message...",send:"Envoyer",voiceToggle:"Basculer les rponses vocales",voiceInput:"Entre vocale",close:"Fermer",tapToTalk:"Appuyer pour parler",listening:"coute...",aiProcessing:"Traitement...",speaking:"Parle...",address:"Adresse",phone:"Tlphone",hours:"Horaires",available:"Disponible",unavailable:"Indisponible",loading:"Chargement...",error:"Erreur",cancel:"Annuler",save:"Enregistrer",delete:"Supprimer",edit:"Modifier",confirm:"Confirmer",yes:"Oui",no:"Non",callForAssistance:"Appeler pour Assistance",callWaiter:"Appeler le Serveur",requestSent:"Demande Envoye!",someoneWillBeWithYouSoon:"Quelqu'un sera avec vous bientt",assistanceQuestion:"Y a-t-il quelque chose de spcifique pour lequel nous pouvons vous aider? (Facultatif)",assistancePlaceholder:"Ex., Besoin de serviettes supplmentaires, une question sur le menu, etc.",staffNotified:"Un membre du personnel sera notifi et viendra  votre table sous peu.",waiterCalled:"Serveur Appel",staffMemberWillBeWithYouShortly:"Un membre du personnel sera avec vous sous peu!",unableToContactRestaurant:"Impossible de contacter le restaurant. Veuillez actualiser la page.",emailReceipt:"Envoyer le Reu par Email",receipt:"Reu",invoice:"Facture",thankYouForYourOrder:"Merci pour votre commande",orderNumber:"Numro de Commande",dateAndTime:"Date et Heure",table:"Table",orderItems:"Articles de la Commande",receiptSent:"Reu Envoy!",receiptSentTo:"Votre reu a t envoy ",failedToSend:"chec de l'Envoi",couldNotSendEmail:"Impossible d'envoyer le reu par email. Veuillez ressayer.",invalidEmail:"Email Invalide",pleaseEnterValidEmail:"Veuillez entrer une adresse email valide.",emailAddress:"Adresse Email",sendReceipt:"Envoyer le Reu",sending:"Envoi...",printSavePDF:"Imprimer / Sauvegarder PDF",printing:"Impression...",trackYourOrder:"Suivre Votre Commande",trackOrder:"Suivre la Commande",continueBrowsingMenu:"Continuer  Parcourir le Menu",specialInstructions:"Instructions Spciales",paid:"Pay",pending:"En Attente",paymentCompleted:"Paiement Complt",paymentPending:"Paiement en Attente",receiptNotFound:"Reu non trouv",openingOrderTracking:"Ouverture du Suivi de Commande",orderTrackingWillOpen:"Votre page de suivi de commande s'ouvrira dans un nouvel onglet",enterEmailToReceiveReceipt:"Entrez votre adresse email pour recevoir une copie de ce reu",submitRating:"Soumettre l'valuation",foodQuality:"Qualit de la Nourriture",serviceSpeed:"Rapidit du Service",cleanliness:"Propret",staffFriendliness:"Amabilit du Personnel",howWasThisDish:"Comment tait ce plat?",overallExperience:"Exprience Globale",additionalFeedback:"Des commentaires supplmentaires?",rateYourFood:"valuez Votre Nourriture",rateOurService:"valuez Notre Service",rateItem:"valuer l'article",of:"de",tellUsAboutYourExperience:"Parlez-nous de votre exprience globale",additionalComments:"Commentaires Supplmentaires (Facultatif)",tellUsMoreAboutYourExperience:"Parlez-nous davantage de votre exprience...",previous:"Prcdent",nextItem:"Article Suivant",rateService:"valuer le Service",back:"Retour",thankYou:"Merci!",ratingSubmittedSuccessfully:"Votre valuation a t soumise avec succs.",welcome:"Bienvenue!",meetYourAIWaiter:"Rencontrez votre serveur IA - prt  vous aider  explorer notre menu et passer votre commande",tapToStart:"Appuyez pour Commencer",tapAnywhereToContinue:"Appuyez n'importe o pour continuer",contactSupport:"Contacter le Support",questionsContact:"Questions? Contactez",directly:"directement.",thankYouForDining:"Merci d'avoir dn avec nous!"},de:{menu:"Men",cart:"Warenkorb",orders:"Bestellungen",settings:"Einstellungen",allCategories:"Alle Kategorien",appetizers:"Vorspeisen",mainCourse:"Hauptgericht",desserts:"Desserts",beverages:"Getrnke",spiceLevel:"Schrfegrad",vegan:"Vegan",vegetarian:"Vegetarisch",halal:"Halal",allergens:"Allergene",addToCart:"In den Warenkorb",yourCart:"Ihr Warenkorb",emptyCart:"Ihr Warenkorb ist leer",subtotal:"Zwischensumme",tax:"Steuer",total:"Gesamt",checkout:"Zur Kasse",remove:"Entfernen",paymentMethod:"Zahlungsmethode",payOnline:"Online Bezahlen",payWithCash:"An der Kasse Bezahlen (Bar oder Karte)",customerNotes:"Kundennotizen",optional:"Optional",placeOrder:"Bestellung Aufgeben",processing:"Verarbeitung...",orderSuccess:"Bestellung erfolgreich aufgegeben!",orderError:"Bestellung fehlgeschlagen",aiWaiter:"KI Kellner",aiWaiterWelcome:"Willkommen! Ich bin Ihr KI-Kellner. Ich kann Ihnen bei Menempfehlungen, Ernhrungseinschrnkungen, Allergenen helfen und alle Fragen zu unseren Gerichten beantworten. Wie kann ich Ihnen heute helfen?",typeMessage:"Geben Sie Ihre Nachricht ein...",send:"Senden",voiceToggle:"Sprachantworten umschalten",voiceInput:"Spracheingabe",close:"Schlieen",tapToTalk:"Tippen zum Sprechen",listening:"Hrt zu...",aiProcessing:"Verarbeitung...",speaking:"Spricht...",address:"Adresse",phone:"Telefon",hours:"ffnungszeiten",available:"Verfgbar",unavailable:"Nicht Verfgbar",loading:"Laden...",error:"Fehler",cancel:"Abbrechen",save:"Speichern",delete:"Lschen",edit:"Bearbeiten",confirm:"Besttigen",yes:"Ja",no:"Nein",callForAssistance:"Rufen Sie um Hilfe",callWaiter:"Kellner Rufen",requestSent:"Anfrage Gesendet!",someoneWillBeWithYouSoon:"Jemand wird bald bei Ihnen sein",assistanceQuestion:"Gibt es etwas Bestimmtes, bei dem wir Ihnen helfen knnen? (Optional)",assistancePlaceholder:"Z.B., Brauche extra Servietten, habe eine Frage zum Men, etc.",staffNotified:"Ein Mitarbeiter wird benachrichtigt und kommt in Krze zu Ihrem Tisch.",waiterCalled:"Kellner Gerufen",staffMemberWillBeWithYouShortly:"Ein Mitarbeiter wird in Krze bei Ihnen sein!",unableToContactRestaurant:"Restaurant kann nicht erreicht werden. Bitte aktualisieren Sie die Seite.",emailReceipt:"Quittung per E-Mail Senden",receipt:"Quittung",invoice:"Rechnung",thankYouForYourOrder:"Vielen Dank fr Ihre Bestellung",orderNumber:"Bestellnummer",dateAndTime:"Datum und Uhrzeit",table:"Tisch",orderItems:"Bestellartikel",receiptSent:"Quittung Gesendet!",receiptSentTo:"Ihre Quittung wurde gesendet an",failedToSend:"Senden Fehlgeschlagen",couldNotSendEmail:"Quittung konnte nicht per E-Mail gesendet werden. Bitte versuchen Sie es erneut.",invalidEmail:"Ungltige E-Mail",pleaseEnterValidEmail:"Bitte geben Sie eine gltige E-Mail-Adresse ein.",emailAddress:"E-Mail-Adresse",sendReceipt:"Quittung Senden",sending:"Senden...",printSavePDF:"Drucken / PDF Speichern",printing:"Drucken...",trackYourOrder:"Ihre Bestellung Verfolgen",trackOrder:"Bestellung Verfolgen",continueBrowsingMenu:"Weiter Men Durchsuchen",specialInstructions:"Besondere Anweisungen",paid:"Bezahlt",pending:"Ausstehend",paymentCompleted:"Zahlung Abgeschlossen",paymentPending:"Zahlung Ausstehend",receiptNotFound:"Quittung nicht gefunden",openingOrderTracking:"Bestellverfolgung ffnen",orderTrackingWillOpen:"Ihre Bestellverfolgungsseite wird in einem neuen Tab geffnet",enterEmailToReceiveReceipt:"Geben Sie Ihre E-Mail-Adresse ein, um eine Kopie dieser Quittung zu erhalten",submitRating:"Bewertung Absenden",foodQuality:"Qualitt des Essens",serviceSpeed:"Servicegeschwindigkeit",cleanliness:"Sauberkeit",staffFriendliness:"Freundlichkeit des Personals",howWasThisDish:"Wie war dieses Gericht?",overallExperience:"Gesamterlebnis",additionalFeedback:"Zustzliches Feedback?",rateYourFood:"Bewerten Sie Ihr Essen",rateOurService:"Bewerten Sie Unseren Service",rateItem:"Artikel bewerten",of:"von",tellUsAboutYourExperience:"Erzhlen Sie uns von Ihrem Gesamterlebnis",additionalComments:"Zustzliche Kommentare (Optional)",tellUsMoreAboutYourExperience:"Erzhlen Sie uns mehr ber Ihr Erlebnis...",previous:"Vorherige",nextItem:"Nchster Artikel",rateService:"Service Bewerten",back:"Zurck",thankYou:"Vielen Dank!",ratingSubmittedSuccessfully:"Ihre Bewertung wurde erfolgreich eingereicht.",welcome:"Willkommen!",meetYourAIWaiter:"Treffen Sie Ihren KI-Kellner - bereit, Ihnen bei der Erkundung unserer Speisekarte und Bestellung zu helfen",tapToStart:"Tippen zum Starten",tapAnywhereToContinue:"Tippen Sie berall, um fortzufahren",contactSupport:"Support Kontaktieren",questionsContact:"Fragen? Kontaktieren Sie",directly:"direkt.",thankYouForDining:"Vielen Dank frs Speisen bei uns!"},it:{menu:"Menu",cart:"Carrello",orders:"Ordini",settings:"Impostazioni",allCategories:"Tutte le Categorie",appetizers:"Antipasti",mainCourse:"Piatto Principale",desserts:"Dolci",beverages:"Bevande",spiceLevel:"Livello di Piccante",vegan:"Vegano",vegetarian:"Vegetariano",halal:"Halal",allergens:"Allergeni",addToCart:"Aggiungi al Carrello",yourCart:"Il Tuo Carrello",emptyCart:"Il tuo carrello  vuoto",subtotal:"Subtotale",tax:"Tassa",total:"Totale",checkout:"Procedi al Pagamento",remove:"Rimuovi",paymentMethod:"Metodo di Pagamento",payOnline:"Paga Online",payWithCash:"Paga alla Cassa (Contanti o Carta)",customerNotes:"Note del Cliente",optional:"Opzionale",placeOrder:"Effettua Ordine",processing:"Elaborazione...",orderSuccess:"Ordine effettuato con successo!",orderError:"Errore nell'effettuare l'ordine",aiWaiter:"Cameriere IA",aiWaiterWelcome:"Benvenuto! Sono il tuo Cameriere IA. Posso aiutarti con raccomandazioni del menu, restrizioni dietetiche, allergeni e rispondere a qualsiasi domanda sui nostri piatti. Come posso aiutarti oggi?",typeMessage:"Scrivi il tuo messaggio...",send:"Invia",voiceToggle:"Attiva/disattiva risposte vocali",voiceInput:"Input vocale",close:"Chiudi",tapToTalk:"Tocca per parlare",listening:"In ascolto...",aiProcessing:"Elaborazione...",speaking:"Parlando...",address:"Indirizzo",phone:"Telefono",hours:"Orari",available:"Disponibile",unavailable:"Non Disponibile",loading:"Caricamento...",error:"Errore",cancel:"Annulla",save:"Salva",delete:"Elimina",edit:"Modifica",confirm:"Conferma",yes:"S",no:"No",callForAssistance:"Chiama per Assistenza",callWaiter:"Chiama il Cameriere",requestSent:"Richiesta Inviata!",someoneWillBeWithYouSoon:"Qualcuno sar con te presto",assistanceQuestion:"C' qualcosa di specifico per cui possiamo aiutarti? (Facoltativo)",assistancePlaceholder:"Es., Ho bisogno di tovaglioli extra, ho una domanda sul menu, ecc.",staffNotified:"Un membro dello staff sar notificato e verr al tuo tavolo a breve.",waiterCalled:"Cameriere Chiamato",staffMemberWillBeWithYouShortly:"Un membro dello staff sar con te a breve!",unableToContactRestaurant:"Impossibile contattare il ristorante. Si prega di aggiornare la pagina.",emailReceipt:"Invia Ricevuta via Email",receipt:"Ricevuta",invoice:"Fattura",thankYouForYourOrder:"Grazie per il tuo ordine",orderNumber:"Numero Ordine",dateAndTime:"Data e Ora",table:"Tavolo",orderItems:"Articoli dell'Ordine",receiptSent:"Ricevuta Inviata!",receiptSentTo:"La tua ricevuta  stata inviata a",failedToSend:"Invio Fallito",couldNotSendEmail:"Impossibile inviare la ricevuta via email. Riprova.",invalidEmail:"Email Non Valida",pleaseEnterValidEmail:"Inserisci un indirizzo email valido.",emailAddress:"Indirizzo Email",sendReceipt:"Invia Ricevuta",sending:"Invio...",printSavePDF:"Stampa / Salva PDF",printing:"Stampa...",trackYourOrder:"Traccia il Tuo Ordine",trackOrder:"Traccia Ordine",continueBrowsingMenu:"Continua a Sfogliare il Menu",specialInstructions:"Istruzioni Speciali",paid:"Pagato",pending:"In Attesa",paymentCompleted:"Pagamento Completato",paymentPending:"Pagamento in Attesa",receiptNotFound:"Ricevuta non trovata",openingOrderTracking:"Apertura Tracciamento Ordine",orderTrackingWillOpen:"La tua pagina di tracciamento ordine si aprir in una nuova scheda",enterEmailToReceiveReceipt:"Inserisci il tuo indirizzo email per ricevere una copia di questa ricevuta",submitRating:"Invia Valutazione",foodQuality:"Qualit del Cibo",serviceSpeed:"Velocit del Servizio",cleanliness:"Pulizia",staffFriendliness:"Cordialit del Personale",howWasThisDish:"Come era questo piatto?",overallExperience:"Esperienza Complessiva",additionalFeedback:"Feedback aggiuntivo?",rateYourFood:"Valuta il Tuo Cibo",rateOurService:"Valuta il Nostro Servizio",rateItem:"Valuta articolo",of:"di",tellUsAboutYourExperience:"Raccontaci della tua esperienza complessiva",additionalComments:"Commenti Aggiuntivi (Facoltativo)",tellUsMoreAboutYourExperience:"Raccontaci di pi sulla tua esperienza...",previous:"Precedente",nextItem:"Articolo Successivo",rateService:"Valuta il Servizio",back:"Indietro",thankYou:"Grazie!",ratingSubmittedSuccessfully:"La tua valutazione  stata inviata con successo.",welcome:"Benvenuto!",meetYourAIWaiter:"Incontra il tuo cameriere IA - pronto ad aiutarti a esplorare il nostro menu e effettuare il tuo ordine",tapToStart:"Tocca per Iniziare",tapAnywhereToContinue:"Tocca ovunque per continuare",contactSupport:"Contatta il Supporto",questionsContact:"Domande? Contatta",directly:"direttamente.",thankYouForDining:"Grazie per aver cenato con noi!"},zh:{menu:"",cart:"",orders:"",settings:"",allCategories:"",appetizers:"",mainCourse:"",desserts:"",beverages:"",spiceLevel:"",vegan:"",vegetarian:"",halal:"",allergens:"",addToCart:"",yourCart:"",emptyCart:"",subtotal:"",tax:"",total:"",checkout:"",remove:"",paymentMethod:"",payOnline:"",payWithCash:"",customerNotes:"",optional:"",placeOrder:"",processing:"...",orderSuccess:"",orderError:"",aiWaiter:"AI ",aiWaiterWelcome:"AI",typeMessage:"...",send:"",voiceToggle:"",voiceInput:"",close:"",tapToTalk:"",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:"",available:"",unavailable:"",loading:"...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:"",callWaiter:"",requestSent:"",someoneWillBeWithYouSoon:"",assistanceQuestion:"",assistancePlaceholder:"",staffNotified:"",waiterCalled:"",staffMemberWillBeWithYouShortly:"",unableToContactRestaurant:"",emailReceipt:"",receipt:"",invoice:"",thankYouForYourOrder:"",orderNumber:"",dateAndTime:"",table:"",orderItems:"",receiptSent:"",receiptSentTo:"",failedToSend:"",couldNotSendEmail:"",invalidEmail:"",pleaseEnterValidEmail:"",emailAddress:"",sendReceipt:"",sending:"...",printSavePDF:" /  PDF",printing:"...",trackYourOrder:"",trackOrder:"",continueBrowsingMenu:"",specialInstructions:"",paid:"",pending:"",paymentCompleted:"",paymentPending:"",receiptNotFound:"",openingOrderTracking:"",orderTrackingWillOpen:"",enterEmailToReceiveReceipt:"",submitRating:"",foodQuality:"",serviceSpeed:"",cleanliness:"",staffFriendliness:"",howWasThisDish:"",overallExperience:"",additionalFeedback:"",rateYourFood:"",rateOurService:"",rateItem:"",of:"",tellUsAboutYourExperience:"",additionalComments:"",tellUsMoreAboutYourExperience:"...",previous:"",nextItem:"",rateService:"",back:"",thankYou:"",ratingSubmittedSuccessfully:"",welcome:"",meetYourAIWaiter:"AI - ",tapToStart:"",tapAnywhereToContinue:"",contactSupport:"",questionsContact:"",directly:"",thankYouForDining:""},ja:{menu:"",cart:"",orders:"",settings:"",allCategories:"",appetizers:"",mainCourse:"",desserts:"",beverages:"",spiceLevel:"",vegan:"",vegetarian:"",halal:"",allergens:"",addToCart:"",yourCart:"",emptyCart:"",subtotal:"",tax:"",total:"",checkout:"",remove:"",paymentMethod:"",payOnline:"",payWithCash:"",customerNotes:"",optional:"",placeOrder:"",processing:"...",orderSuccess:"",orderError:"",aiWaiter:"AI",aiWaiterWelcome:"AI",typeMessage:"...",send:"",voiceToggle:"",voiceInput:"",close:"",tapToTalk:"",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:"",available:"",unavailable:"",loading:"...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:"",callWaiter:"",requestSent:"",someoneWillBeWithYouSoon:"",assistanceQuestion:"",assistancePlaceholder:"",staffNotified:"",waiterCalled:"",staffMemberWillBeWithYouShortly:"",unableToContactRestaurant:"",emailReceipt:"",receipt:"",invoice:"",thankYouForYourOrder:"",orderNumber:"",dateAndTime:"",table:"",orderItems:"",receiptSent:"",receiptSentTo:"",failedToSend:"",couldNotSendEmail:"",invalidEmail:"",pleaseEnterValidEmail:"",emailAddress:"",sendReceipt:"",sending:"...",printSavePDF:" / PDF",printing:"...",trackYourOrder:"",trackOrder:"",continueBrowsingMenu:"",specialInstructions:"",paid:"",pending:"",paymentCompleted:"",paymentPending:"",receiptNotFound:"",openingOrderTracking:"",orderTrackingWillOpen:"",enterEmailToReceiveReceipt:"",submitRating:"",foodQuality:"",serviceSpeed:"",cleanliness:"",staffFriendliness:"",howWasThisDish:"",overallExperience:"",additionalFeedback:"",rateYourFood:"",rateOurService:"",rateItem:"",of:"",tellUsAboutYourExperience:"",additionalComments:"",tellUsMoreAboutYourExperience:"...",previous:"",nextItem:"",rateService:"",back:"",thankYou:"",ratingSubmittedSuccessfully:"",welcome:"",meetYourAIWaiter:"AI - ",tapToStart:"",tapAnywhereToContinue:"",contactSupport:"",questionsContact:"",directly:"",thankYouForDining:""},ar:{menu:"",cart:"",orders:"",settings:"",allCategories:" ",appetizers:"",mainCourse:" ",desserts:"",beverages:"",spiceLevel:" ",vegan:"",vegetarian:"",halal:"",allergens:" ",addToCart:"  ",yourCart:"",emptyCart:" ",subtotal:" ",tax:"",total:"",checkout:"",remove:"",paymentMethod:" ",payOnline:"  ",payWithCash:"   (  )",customerNotes:" ",optional:"",placeOrder:" ",processing:" ...",orderSuccess:"   !",orderError:"  ",aiWaiter:" ",aiWaiterWelcome:"!     .               .    ",typeMessage:" ...",send:"",voiceToggle:"  ",voiceInput:" ",close:"",tapToTalk:" ",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:" ",available:"",unavailable:" ",loading:" ...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:" ",callWaiter:" ",requestSent:"  !",someoneWillBeWithYouSoon:"    ",assistanceQuestion:"       ()",assistancePlaceholder:"        .",staffNotified:"       .",waiterCalled:"  ",staffMemberWillBeWithYouShortly:"    !",unableToContactRestaurant:"    .   .",emailReceipt:"    ",receipt:"",invoice:"",thankYouForYourOrder:" ",orderNumber:" ",dateAndTime:" ",table:"",orderItems:" ",receiptSent:"  !",receiptSentTo:"   ",failedToSend:" ",couldNotSendEmail:"     .    .",invalidEmail:"   ",pleaseEnterValidEmail:"     .",emailAddress:"  ",sendReceipt:" ",sending:" ...",printSavePDF:" /  PDF",printing:" ...",trackYourOrder:" ",trackOrder:" ",continueBrowsingMenu:"  ",specialInstructions:" ",paid:"",pending:" ",paymentCompleted:" ",paymentPending:"  ",receiptNotFound:"    ",openingOrderTracking:"  ",orderTrackingWillOpen:"       ",enterEmailToReceiveReceipt:"        ",submitRating:" ",foodQuality:" ",serviceSpeed:" ",cleanliness:"",staffFriendliness:" ",howWasThisDish:"   ",overallExperience:" ",additionalFeedback:"  ",rateYourFood:" ",rateOurService:" ",rateItem:" ",of:"",tellUsAboutYourExperience:"   ",additionalComments:"  ()",tellUsMoreAboutYourExperience:"   ...",previous:"",nextItem:" ",rateService:" ",back:"",thankYou:" !",ratingSubmittedSuccessfully:"   .",welcome:"!",meetYourAIWaiter:"     -       ",tapToStart:" ",tapAnywhereToContinue:"    ",contactSupport:" ",questionsContact:"  ",directly:".",thankYouForDining:"   !"},pt:{menu:"Menu",cart:"Carrinho",orders:"Pedidos",settings:"Configuraes",allCategories:"Todas as Categorias",appetizers:"Entradas",mainCourse:"Prato Principal",desserts:"Sobremesas",beverages:"Bebidas",spiceLevel:"Nvel de Picante",vegan:"Vegano",vegetarian:"Vegetariano",halal:"Halal",allergens:"Alrgenos",addToCart:"Adicionar ao Carrinho",yourCart:"Seu Carrinho",emptyCart:"Seu carrinho est vazio",subtotal:"Subtotal",tax:"Taxa",total:"Total",checkout:"Finalizar Compra",remove:"Remover",paymentMethod:"Mtodo de Pagamento",payOnline:"Pagar Online",payWithCash:"Pagar na Caixa (Dinheiro ou Carto)",customerNotes:"Notas do Cliente",optional:"Opcional",placeOrder:"Fazer Pedido",processing:"Processando...",orderSuccess:"Pedido realizado com sucesso!",orderError:"Falha ao realizar pedido",aiWaiter:"Garom IA",aiWaiterWelcome:"Bem-vindo! Sou seu Garom IA. Posso ajud-lo com recomendaes do menu, restries alimentares, alrgenos e responder a qualquer pergunta sobre nossos pratos. Como posso ajud-lo hoje?",typeMessage:"Digite sua mensagem...",send:"Enviar",voiceToggle:"Alternar respostas de voz",voiceInput:"Entrada de voz",close:"Fechar",tapToTalk:"Toque para falar",listening:"Ouvindo...",aiProcessing:"Processando...",speaking:"Falando...",address:"Endereo",phone:"Telefone",hours:"Horrio",available:"Disponvel",unavailable:"Indisponvel",loading:"Carregando...",error:"Erro",cancel:"Cancelar",save:"Salvar",delete:"Excluir",edit:"Editar",confirm:"Confirmar",yes:"Sim",no:"No",callForAssistance:"Chamar por Assistncia",callWaiter:"Chamar Garom",requestSent:"Pedido Enviado!",someoneWillBeWithYouSoon:"Algum estar com voc em breve",assistanceQuestion:"H algo especfico em que possamos ajud-lo? (Opcional)",assistancePlaceholder:"Ex., Preciso de guardanapos extras, tenho uma pergunta sobre o menu, etc.",staffNotified:"Um membro da equipe ser notificado e vir  sua mesa em breve.",waiterCalled:"Garom Chamado",staffMemberWillBeWithYouShortly:"Um membro da equipe estar com voc em breve!",unableToContactRestaurant:"No  possvel contatar o restaurante. Por favor, atualize a pgina.",emailReceipt:"Enviar Recibo por Email",receipt:"Recibo",invoice:"Fatura",thankYouForYourOrder:"Obrigado pelo seu pedido",orderNumber:"Nmero do Pedido",dateAndTime:"Data e Hora",table:"Mesa",orderItems:"Itens do Pedido",receiptSent:"Recibo Enviado!",receiptSentTo:"Seu recibo foi enviado para",failedToSend:"Falha ao Enviar",couldNotSendEmail:"No foi possvel enviar o recibo por email. Por favor, tente novamente.",invalidEmail:"Email Invlido",pleaseEnterValidEmail:"Por favor, insira um endereo de email vlido.",emailAddress:"Endereo de Email",sendReceipt:"Enviar Recibo",sending:"Enviando...",printSavePDF:"Imprimir / Salvar PDF",printing:"Imprimindo...",trackYourOrder:"Rastrear Seu Pedido",trackOrder:"Rastrear Pedido",continueBrowsingMenu:"Continuar Navegando no Menu",specialInstructions:"Instrues Especiais",paid:"Pago",pending:"Pendente",paymentCompleted:"Pagamento Concludo",paymentPending:"Pagamento Pendente",receiptNotFound:"Recibo no encontrado",openingOrderTracking:"Abrindo Rastreamento do Pedido",orderTrackingWillOpen:"Sua pgina de rastreamento do pedido abrir em uma nova aba",enterEmailToReceiveReceipt:"Digite seu endereo de email para receber uma cpia deste recibo",submitRating:"Enviar Avaliao",foodQuality:"Qualidade da Comida",serviceSpeed:"Velocidade do Servio",cleanliness:"Limpeza",staffFriendliness:"Simpatia da Equipe",howWasThisDish:"Como foi este prato?",overallExperience:"Experincia Geral",additionalFeedback:"Algum feedback adicional?",rateYourFood:"Avalie Sua Comida",rateOurService:"Avalie Nosso Servio",rateItem:"Avaliar item",of:"de",tellUsAboutYourExperience:"Conte-nos sobre sua experincia geral",additionalComments:"Comentrios Adicionais (Opcional)",tellUsMoreAboutYourExperience:"Conte-nos mais sobre sua experincia...",previous:"Anterior",nextItem:"Prximo Item",rateService:"Avaliar Servio",back:"Voltar",thankYou:"Obrigado!",ratingSubmittedSuccessfully:"Sua avaliao foi enviada com sucesso.",welcome:"Bem-vindo!",meetYourAIWaiter:"Conhea seu garom IA - pronto para ajud-lo a explorar nosso menu e fazer seu pedido",tapToStart:"Toque para Comear",tapAnywhereToContinue:"Toque em qualquer lugar para continuar",contactSupport:"Contactar Suporte",questionsContact:"Perguntas? Contacte",directly:"diretamente.",thankYouForDining:"Obrigado por jantar conosco!"},ru:{menu:"",cart:"",orders:"",settings:"",allCategories:" ",appetizers:"",mainCourse:" ",desserts:"",beverages:"",spiceLevel:" ",vegan:"",vegetarian:"",halal:"",allergens:"",addToCart:"  ",yourCart:" ",emptyCart:"  ",subtotal:" ",tax:"",total:"",checkout:" ",remove:"",paymentMethod:" ",payOnline:" ",payWithCash:"   (  )",customerNotes:" ",optional:"",placeOrder:" ",processing:"...",orderSuccess:"  !",orderError:"   ",aiWaiter:" ",aiWaiterWelcome:" !   -.       ,  ,         .      ?",typeMessage:"  ...",send:"",voiceToggle:"  ",voiceInput:" ",close:"",tapToTalk:",  ",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:" ",available:"",unavailable:"",loading:"...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:" ",callWaiter:" ",requestSent:" !",someoneWillBeWithYouSoon:"-    ",assistanceQuestion:"  - ,      ? ()",assistancePlaceholder:",   ,      ..",staffNotified:"        .",waiterCalled:" ",staffMemberWillBeWithYouShortly:"    !",unableToContactRestaurant:"   . ,  .",emailReceipt:"   Email",receipt:"",invoice:"",thankYouForYourOrder:"   ",orderNumber:" ",dateAndTime:"  ",table:"",orderItems:" ",receiptSent:" !",receiptSentTo:"    ",failedToSend:"  ",couldNotSendEmail:"      . ,   .",invalidEmail:" Email",pleaseEnterValidEmail:",     .",emailAddress:"  ",sendReceipt:" ",sending:"...",printSavePDF:" /  PDF",printing:"...",trackYourOrder:"  ",trackOrder:" ",continueBrowsingMenu:"  ",specialInstructions:" ",paid:"",pending:" ",paymentCompleted:" ",paymentPending:"  ",receiptNotFound:"  ",openingOrderTracking:"  ",orderTrackingWillOpen:"       ",enterEmailToReceiveReceipt:"    ,     ",submitRating:" ",foodQuality:" ",serviceSpeed:" ",cleanliness:"",staffFriendliness:" ",howWasThisDish:"   ?",overallExperience:" ",additionalFeedback:" ?",rateYourFood:"  ",rateOurService:"  ",rateItem:" ",of:"",tellUsAboutYourExperience:"     ",additionalComments:"  ()",tellUsMoreAboutYourExperience:"     ...",previous:"",nextItem:" ",rateService:" ",back:"",thankYou:"!",ratingSubmittedSuccessfully:"   .",welcome:" !",meetYourAIWaiter:"   - -         ",tapToStart:",  ",tapAnywhereToContinue:"   ,  ",contactSupport:"  ",questionsContact:"?  ",directly:".",thankYouForDining:",    !"}};function jB(t,e){return lE[t][e]||lE.en[e]}const cE={USD:"$",EUR:"",GBP:"",JPY:"",CNY:"",NGN:"",ZAR:"R",INR:"",AUD:"A$",CAD:"C$",CHF:"Fr",BRL:"R$",AED:".",SAR:"."},TB={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",NGN:"en-NG",ZAR:"en-ZA",INR:"en-IN",AUD:"en-AU",CAD:"en-CA",MXN:"es-MX",BRL:"pt-BR",ARS:"es-AR",AED:"ar-AE",SAR:"ar-SA",KRW:"ko-KR",SGD:"en-SG",HKD:"zh-HK",THB:"th-TH",MYR:"ms-MY",IDR:"id-ID",PHP:"en-PH",VND:"vi-VN"},kB={en:"USD",es:"EUR",fr:"EUR",de:"EUR",it:"EUR",zh:"CNY",ja:"JPY",ar:"SAR",pt:"EUR",ru:"RUB"},GA={en:"en-US",es:"es-ES",fr:"fr-FR",de:"de-DE",it:"it-IT",zh:"zh-CN",ja:"ja-JP",ar:"ar-SA",pt:"pt-PT",ru:"ru-RU"};function PB(t,e={}){const n=typeof t=="string"?parseFloat(t):t;if(isNaN(n))return"0";const{currency:r,language:s,locale:i}=e;let o=r;!o&&s&&(o=kB[s]),o||(o="USD");let l=i;!l&&o&&(l=TB[o]),!l&&s&&(l=GA[s]),l||(l="en-US");try{return new Intl.NumberFormat(l,{style:"currency",currency:o,minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}catch(c){return console.error("Currency formatting error:",c),`${o} ${n.toFixed(2)}`}}function _B(t,e={}){const n=typeof t=="string"?parseFloat(t):t;if(isNaN(n))return"0";const{language:r,locale:s,decimals:i=2}=e;let o=s;!o&&r&&(o=GA[r]),o||(o="en-US");try{return new Intl.NumberFormat(o,{minimumFractionDigits:i,maximumFractionDigits:i}).format(n)}catch(l){return console.error("Number formatting error:",l),n.toFixed(i)}}const QA=p.createContext(void 0);function AB({children:t,defaultLanguage:e="en"}){const[n,r]=p.useState(void 0),[s,i]=p.useState(()=>localStorage.getItem("language")||e);p.useEffect(()=>{localStorage.setItem("language",s),document.documentElement.lang=s,s==="ar"?document.documentElement.dir="rtl":document.documentElement.dir="ltr"},[s]);const o=d=>{i(d)},l=d=>jB(s,d),c=(d,f)=>PB(d,{language:s,currency:f||n}),u=(d,f=2)=>_B(d,{language:s,decimals:f});return a.jsx(QA.Provider,{value:{language:s,setLanguage:o,t:l,formatCurrency:c,formatNumber:u,setCurrencyCode:r,currencyCode:n},children:t})}function Ft(){const t=p.useContext(QA);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const ge=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ae("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ge.displayName="Card";const pr=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));pr.displayName="CardHeader";const mr=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));mr.displayName="CardTitle";const xs=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));xs.displayName="CardDescription";const Fn=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...e}));Fn.displayName="CardContent";const RB=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...e}));RB.displayName="CardFooter";function IB(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(ge,{className:"w-full max-w-md mx-4",children:a.jsxs(Fn,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(rg,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var MB=Symbol.for("react.lazy"),Bp=Fm[" use ".trim().toString()];function OB(t){return typeof t=="object"&&t!==null&&"then"in t}function XA(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===MB&&"_payload"in t&&OB(t._payload)}function j0(t){const e=DB(t),n=p.forwardRef((r,s)=>{let{children:i,...o}=r;XA(i)&&typeof Bp=="function"&&(i=Bp(i._payload));const l=p.Children.toArray(i),c=l.find(LB);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var hg=j0("Slot");function DB(t){const e=p.forwardRef((n,r)=>{let{children:s,...i}=n;if(XA(s)&&typeof Bp=="function"&&(s=Bp(s._payload)),p.isValidElement(s)){const o=UB(s),l=VB(i,s.props);return s.type!==p.Fragment&&(l.ref=r?mi(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var FB=Symbol("radix.slottable");function LB(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FB}function VB(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function UB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const T0=Lo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),X=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?hg:"button";return a.jsx(o,{className:ae(T0({variant:e,size:n,className:t})),ref:i,...s})});X.displayName="Button";function Lx(){const[t,e]=p.useState("light");p.useEffect(()=>{const s=localStorage.getItem("theme")||"light";e(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const n=()=>{const r=t==="light"?"dark":"light";e(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark",r==="dark")};return a.jsx(X,{variant:"ghost",size:"icon",onClick:n,"data-testid":"button-theme-toggle",children:t==="light"?a.jsx(B$,{className:"h-5 w-5"}):a.jsx(J$,{className:"h-5 w-5"})})}var Py="focusScope.autoFocusOnMount",_y="focusScope.autoFocusOnUnmount",uE={bubbles:!1,cancelable:!0},$B="FocusScope",pg=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=p.useState(null),u=Dt(s),d=Dt(i),f=p.useRef(null),h=De(e,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:ji(f.current,{select:!0})},w=function(b){if(m.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||ji(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&ji(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){fE.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Py,uE);l.addEventListener(Py,u),l.dispatchEvent(x),x.defaultPrevented||(BB(KB(ZA(l)),{select:!0}),document.activeElement===g&&ji(l))}return()=>{l.removeEventListener(Py,u),setTimeout(()=>{const x=new CustomEvent(_y,uE);l.addEventListener(_y,d),l.dispatchEvent(x),x.defaultPrevented||ji(g??document.body,{select:!0}),l.removeEventListener(_y,d),fE.remove(m)},0)}}},[l,u,d,m]);const y=p.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(w&&x){const v=g.currentTarget,[b,S]=zB(v);b&&S?!g.shiftKey&&x===S?(g.preventDefault(),n&&ji(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),n&&ji(S,{select:!0})):x===v&&g.preventDefault()}},[n,r,m.paused]);return a.jsx(Ne.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});pg.displayName=$B;function BB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ji(r,{select:e}),document.activeElement!==n)return}function zB(t){const e=ZA(t),n=dE(e,t),r=dE(e.reverse(),t);return[n,r]}function ZA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dE(t,e){for(const n of t)if(!WB(n,{upTo:e}))return n}function WB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function HB(t){return t instanceof HTMLInputElement&&"select"in t}function ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&HB(t)&&e&&t.select()}}var fE=qB();function qB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=hE(t,e),t.unshift(e)},remove(e){var n;t=hE(t,e),(n=t[0])==null||n.resume()}}}function hE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function KB(t){return t.filter(e=>e.tagName!=="A")}var Ay=0;function k0(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??pE()),document.body.insertAdjacentElement("beforeend",t[1]??pE()),Ay++,()=>{Ay===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ay--}},[])}function pE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ys=function(){return ys=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ys.apply(this,arguments)};function JA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function YB(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Kh="right-scroll-bar-position",Yh="width-before-scroll-bar",GB="with-scroll-bars-hidden",QB="--removed-body-scroll-bar-size";function Ry(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XB(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var ZB=typeof window<"u"?p.useLayoutEffect:p.useEffect,mE=new WeakMap;function JB(t,e){var n=XB(null,function(r){return t.forEach(function(s){return Ry(s,r)})});return ZB(function(){var r=mE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Ry(l,null)}),i.forEach(function(l){s.has(l)||Ry(l,o)})}mE.set(n,t)},[t]),n}function ez(t){return t}function tz(t,e){e===void 0&&(e=ez);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function nz(t){t===void 0&&(t={});var e=tz(null);return e.options=ys({async:!0,ssr:!1},t),e}var eR=function(t){var e=t.sideCar,n=JA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ys({},n))};eR.isSideCarExport=!0;function rz(t,e){return t.useMedium(e),eR}var tR=nz(),Iy=function(){},mg=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Iy,onWheelCapture:Iy,onTouchMoveCapture:Iy}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,y=t.noIsolation,g=t.inert,w=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,b=t.gapMode,S=JA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,k=JB([n,e]),T=ys(ys({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(E,{sideCar:tR,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:b}),o?p.cloneElement(p.Children.only(l),ys(ys({},T),{ref:k})):p.createElement(v,ys({},T,{className:c,ref:k}),l))});mg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mg.classNames={fullWidth:Yh,zeroRight:Kh};var sz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sz();return e&&t.setAttribute("nonce",e),t}function az(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=iz())&&(az(e,n),oz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cz=function(){var t=lz();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nR=function(){var t=cz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},uz={left:0,top:0,right:0,gap:0},My=function(t){return parseInt(t||"",10)||0},dz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[My(n),My(r),My(s)]},fz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uz;var e=dz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hz=nR(),jl="data-scroll-locked",pz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(GB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(jl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Yh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Kh," .").concat(Kh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yh," .").concat(Yh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jl,`] {
    `).concat(QB,": ").concat(l,`px;
  }
`)},gE=function(){var t=parseInt(document.body.getAttribute(jl)||"0",10);return isFinite(t)?t:0},mz=function(){p.useEffect(function(){return document.body.setAttribute(jl,(gE()+1).toString()),function(){var t=gE()-1;t<=0?document.body.removeAttribute(jl):document.body.setAttribute(jl,t.toString())}},[])},gz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;mz();var i=p.useMemo(function(){return fz(s)},[s]);return p.createElement(hz,{styles:pz(i,!e,s,n?"":"!important")})},Vx=!1;if(typeof window<"u")try{var ph=Object.defineProperty({},"passive",{get:function(){return Vx=!0,!0}});window.addEventListener("test",ph,ph),window.removeEventListener("test",ph,ph)}catch{Vx=!1}var zo=Vx?{passive:!1}:!1,yz=function(t){return t.tagName==="TEXTAREA"},rR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yz(t)&&n[e]==="visible")},vz=function(t){return rR(t,"overflowY")},xz=function(t){return rR(t,"overflowX")},yE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=sR(t,r);if(s){var i=iR(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},bz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},sR=function(t,e){return t==="v"?vz(e):xz(e)},iR=function(t,e){return t==="v"?wz(e):bz(e)},Sz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Cz=function(t,e,n,r,s){var i=Sz(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=iR(t,l),y=m[0],g=m[1],w=m[2],x=g-w-i*y;(y||x)&&sR(t,l)&&(f+=x,h+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},mh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vE=function(t){return[t.deltaX,t.deltaY]},xE=function(t){return t&&"current"in t?t.current:t},Ez=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Nz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jz=0,Wo=[];function Tz(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(jz++)[0],i=p.useState(nR)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=YB([t.lockRef.current],(t.shards||[]).map(xE),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=mh(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-x[0],S="deltaY"in g?g.deltaY:v[1]-x[1],E,k=g.target,T=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&T==="h"&&k.type==="range")return!1;var N=yE(T,k);if(!N)return!0;if(N?E=T:(E=T==="v"?"h":"v",N=yE(T,k)),!N)return!1;if(!r.current&&"changedTouches"in g&&(b||S)&&(r.current=E),!E)return!0;var j=r.current||E;return Cz(j,w,g,j==="h"?b:S)},[]),c=p.useCallback(function(g){var w=g;if(!(!Wo.length||Wo[Wo.length-1]!==i)){var x="deltaY"in w?vE(w):mh(w),v=e.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&Ez(E.delta,x)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(xE).filter(Boolean).filter(function(E){return E.contains(w.target)}),S=b.length>0?l(w,b[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(g,w,x,v){var b={name:g,delta:w,target:x,should:v,shadowParent:kz(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(g){n.current=mh(g),r.current=void 0},[]),f=p.useCallback(function(g){u(g.type,vE(g),g.target,l(g,t.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,mh(g),g.target,l(g,t.lockRef.current))},[]);p.useEffect(function(){return Wo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zo),document.addEventListener("touchmove",c,zo),document.addEventListener("touchstart",d,zo),function(){Wo=Wo.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,zo),document.removeEventListener("touchmove",c,zo),document.removeEventListener("touchstart",d,zo)}},[]);var m=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:Nz(s)}):null,m?p.createElement(gz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Pz=rz(tR,Tz);var gg=p.forwardRef(function(t,e){return p.createElement(mg,ys({},t,{ref:e,sideCar:Pz}))});gg.classNames=mg.classNames;var _z=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ho=new WeakMap,gh=new WeakMap,yh={},Oy=0,aR=function(t){return t&&(t.host||aR(t.parentNode))},Az=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Rz=function(t,e,n,r){var s=Az(e,Array.isArray(t)?t:[t]);yh[n]||(yh[n]=new WeakMap);var i=yh[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(Ho.get(h)||0)+1,w=(i.get(h)||0)+1;Ho.set(h,g),i.set(h,w),o.push(h),g===1&&y&&gh.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),l.clear(),Oy++,function(){o.forEach(function(f){var h=Ho.get(f)-1,m=i.get(f)-1;Ho.set(f,h),i.set(f,m),h||(gh.has(f)||f.removeAttribute(r),gh.delete(f)),m||f.removeAttribute(n)}),Oy--,Oy||(Ho=new WeakMap,Ho=new WeakMap,gh=new WeakMap,yh={})}},P0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=_z(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Rz(r,s,n,"aria-hidden")):function(){return null}};function Iz(t){const e=Mz(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(Dz);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Mz(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=Lz(s),l=Fz(i,s.props);return s.type!==p.Fragment&&(l.ref=r?mi(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Oz=Symbol("radix.slottable");function Dz(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Oz}function Fz(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Lz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yg="Dialog",[oR,lR]=yn(yg),[Vz,rs]=oR(yg),cR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,d]=Zr({prop:r,defaultProp:s??!1,onChange:i,caller:yg});return a.jsx(Vz,{scope:e,triggerRef:l,contentRef:c,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};cR.displayName=yg;var uR="DialogTrigger",dR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(uR,n),i=De(e,s.triggerRef);return a.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":R0(s.open),...r,ref:i,onClick:oe(t.onClick,s.onOpenToggle)})});dR.displayName=uR;var _0="DialogPortal",[Uz,fR]=oR(_0,{forceMount:void 0}),hR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=rs(_0,e);return a.jsx(Uz,{scope:e,forceMount:n,children:p.Children.map(r,o=>a.jsx(rn,{present:n||i.open,children:a.jsx(bf,{asChild:!0,container:s,children:o})}))})};hR.displayName=_0;var zp="DialogOverlay",pR=p.forwardRef((t,e)=>{const n=fR(zp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rs(zp,t.__scopeDialog);return i.modal?a.jsx(rn,{present:r||i.open,children:a.jsx(Bz,{...s,ref:e})}):null});pR.displayName=zp;var $z=Iz("DialogOverlay.RemoveScroll"),Bz=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(zp,n);return a.jsx(gg,{as:$z,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ne.div,{"data-state":R0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),No="DialogContent",mR=p.forwardRef((t,e)=>{const n=fR(No,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rs(No,t.__scopeDialog);return a.jsx(rn,{present:r||i.open,children:i.modal?a.jsx(zz,{...s,ref:e}):a.jsx(Wz,{...s,ref:e})})});mR.displayName=No;var zz=p.forwardRef((t,e)=>{const n=rs(No,t.__scopeDialog),r=p.useRef(null),s=De(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return P0(i)},[]),a.jsx(gR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault())})}),Wz=p.forwardRef((t,e)=>{const n=rs(No,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(gR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gR=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=rs(No,n),c=p.useRef(null),u=De(e,c);return k0(),a.jsxs(a.Fragment,{children:[a.jsx(pg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Fc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":R0(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(qz,{titleId:l.titleId}),a.jsx(Yz,{contentRef:c,descriptionId:l.descriptionId})]})]})}),A0="DialogTitle",yR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(A0,n);return a.jsx(Ne.h2,{id:s.titleId,...r,ref:e})});yR.displayName=A0;var vR="DialogDescription",xR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(vR,n);return a.jsx(Ne.p,{id:s.descriptionId,...r,ref:e})});xR.displayName=vR;var wR="DialogClose",bR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rs(wR,n);return a.jsx(Ne.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>s.onOpenChange(!1))})});bR.displayName=wR;function R0(t){return t?"open":"closed"}var SR="DialogTitleWarning",[Hz,CR]=_U(SR,{contentName:No,titleName:A0,docsSlug:"dialog"}),qz=({titleId:t})=>{const e=CR(SR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Kz="DialogDescriptionWarning",Yz=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CR(Kz).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},I0=cR,ER=dR,M0=hR,Nf=pR,jf=mR,Tf=yR,kf=xR,vg=bR;const En=I0,Gz=M0,NR=p.forwardRef(({className:t,...e},n)=>a.jsx(Nf,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));NR.displayName=Nf.displayName;const fn=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Gz,{children:[a.jsx(NR,{}),a.jsxs(jf,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(vg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(d0,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fn.displayName=jf.displayName;const Nn=({className:t,...e})=>a.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Nn.displayName="DialogHeader";const ma=({className:t,...e})=>a.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ma.displayName="DialogFooter";const hn=p.forwardRef(({className:t,...e},n)=>a.jsx(Tf,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));hn.displayName=Tf.displayName;const ts=p.forwardRef(({className:t,...e},n)=>a.jsx(kf,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));ts.displayName=kf.displayName;const qe=p.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:ae("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qe.displayName="Input";var Qz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xz=Qz.reduce((t,e)=>{const n=j0(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Zz="Label",jR=p.forwardRef((t,e)=>a.jsx(Xz.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jR.displayName=Zz;var TR=jR;const Jz=Lo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Je=p.forwardRef(({className:t,...e},n)=>a.jsx(TR,{ref:n,className:ae(Jz(),t),...e}));Je.displayName=TR.displayName;var eW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tW=eW.reduce((t,e)=>{const n=j0(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),nW="Separator",wE="horizontal",rW=["horizontal","vertical"],kR=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=wE,...s}=t,i=sW(r)?r:wE,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(tW.div,{"data-orientation":i,...l,...s,ref:e})});kR.displayName=nW;function sW(t){return rW.includes(t)}var PR=kR;const Kt=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx(PR,{ref:s,decorative:n,orientation:e,className:ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Kt.displayName=PR.displayName;const jo="/assets/waiterix-logo-BxGYabsT.png";function vh({value:t,maxValue:e=100,label:n,suffix:r="%",color:s="hsl(var(--primary))"}){const[i,o]=p.useState(0),[l,c]=p.useState(!1),u=p.useRef(null);p.useEffect(()=>{const h=new IntersectionObserver(m=>{m.forEach(y=>{y.isIntersecting&&!l&&c(!0)})},{threshold:.3});return u.current&&h.observe(u.current),()=>{u.current&&h.unobserve(u.current)}},[l]),p.useEffect(()=>{if(!l)return;const h=2e3,m=60,y=t/m,g=h/m;let w=0;const x=setInterval(()=>{w++,w<=m?o(Math.min(y*w,t)):clearInterval(x)},g);return()=>clearInterval(x)},[l,t]);const f=i/e*100/100*180;return a.jsxs("div",{ref:u,className:"flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"relative w-48 h-24",children:[a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 200 100",children:[a.jsx("path",{d:"M 20 90 A 80 80 0 0 1 180 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),a.jsx("path",{d:"M 20 90 A 80 80 0 0 1 180 90",fill:"none",stroke:s,strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${f/180*251.2} 251.2`,className:"transition-all duration-300 ease-out",style:{filter:`drop-shadow(0 0 8px ${s})`}})]}),a.jsx("div",{className:"absolute inset-0 flex items-end justify-center pb-2",children:a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-4xl font-bold gradient-text",children:[Math.round(i),r]})})})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:n})})]})}const iW=()=>{};var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},aW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},AR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_R(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new oW;const h=i<<2|l>>4;if(r.push(h),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lW=function(t){const e=_R(t);return AR.encodeByteArray(e,!0)},RR=function(t){return lW(t).replace(/\./g,"")},IR=function(t){try{return AR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=()=>cW().__FIREBASE_DEFAULTS__,dW=()=>{if(typeof process>"u"||typeof bE>"u")return;const t=bE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IR(t[1]);return e&&JSON.parse(e)},O0=()=>{try{return iW()||uW()||dW()||fW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hW=t=>{var e,n;return(n=(e=O0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},MR=()=>{var t;return(t=O0())==null?void 0:t.config},OR=t=>{var e;return(e=O0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mW(t){return(await fetch(t,{credentials:"include"})).ok}const Bu={};function gW(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function yW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SE=!1;function vW(t,e){if(typeof window>"u"||typeof document>"u"||!xg(window.location.host)||Bu[t]===e||Bu[t]||SE)return;Bu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=gW().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{SE=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=yW(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),w=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;l(b),d(w,g);const S=u();c(v,x),b.append(v,y,w,S),document.body.appendChild(b)}i?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function wW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CW(){const t=Tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EW(){try{return typeof indexedDB=="object"}catch{return!1}}function NW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="FirebaseError";class Na extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jW,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pf.prototype.create)}}class Pf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?TW(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Na(s,l,r)}}function TW(t,e){return t.replace(kW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kW=/\{\$([^}]+)}/g;function PW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(CE(i)&&CE(o)){if(!bc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function CE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Su(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _W(t,e){const n=new AW(t,e);return n.subscribe.bind(n)}class AW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dy),s.error===void 0&&(s.error=Dy),s.complete===void 0&&(s.complete=Dy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){return t&&t._delegate?t._delegate:t}class Sc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OW(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MW(t){return t===Ma?void 0:t}function OW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dt||(dt={}));const FW={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},LW=dt.INFO,VW={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},UW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VW[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class DR{constructor(e){this.name=e,this._logLevel=LW,this._logHandler=UW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const $W=(t,e)=>e.some(n=>t instanceof n);let EE,NE;function BW(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zW(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FR=new WeakMap,Ux=new WeakMap,LR=new WeakMap,Fy=new WeakMap,D0=new WeakMap;function WW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(aa(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FR.set(n,t)}).catch(()=>{}),D0.set(e,t),e}function HW(t){if(Ux.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ux.set(t,e)}let $x={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qW(t){$x=t($x)}function KW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ly(this),e,...n);return LR.set(r,e.sort?e.sort():[e]),aa(r)}:zW().includes(t)?function(...e){return t.apply(Ly(this),e),aa(FR.get(this))}:function(...e){return aa(t.apply(Ly(this),e))}}function YW(t){return typeof t=="function"?KW(t):(t instanceof IDBTransaction&&HW(t),$W(t,BW())?new Proxy(t,$x):t)}function aa(t){if(t instanceof IDBRequest)return WW(t);if(Fy.has(t))return Fy.get(t);const e=YW(t);return e!==t&&(Fy.set(t,e),D0.set(e,t)),e}const Ly=t=>D0.get(t);function GW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=aa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(aa(o.result),c.oldVersion,c.newVersion,aa(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const QW=["get","getKey","getAll","getAllKeys","count"],XW=["put","add","delete","clear"],Vy=new Map;function jE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vy.get(e))return Vy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=XW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||QW.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Vy.set(e,i),i}qW(t=>({...t,get:(e,n,r)=>jE(e,n)||t.get(e,n,r),has:(e,n)=>!!jE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bx="@firebase/app",TE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new DR("@firebase/app"),e8="@firebase/app-compat",t8="@firebase/analytics-compat",n8="@firebase/analytics",r8="@firebase/app-check-compat",s8="@firebase/app-check",i8="@firebase/auth",a8="@firebase/auth-compat",o8="@firebase/database",l8="@firebase/data-connect",c8="@firebase/database-compat",u8="@firebase/functions",d8="@firebase/functions-compat",f8="@firebase/installations",h8="@firebase/installations-compat",p8="@firebase/messaging",m8="@firebase/messaging-compat",g8="@firebase/performance",y8="@firebase/performance-compat",v8="@firebase/remote-config",x8="@firebase/remote-config-compat",w8="@firebase/storage",b8="@firebase/storage-compat",S8="@firebase/firestore",C8="@firebase/ai",E8="@firebase/firestore-compat",N8="firebase",j8="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="[DEFAULT]",T8={[Bx]:"fire-core",[e8]:"fire-core-compat",[n8]:"fire-analytics",[t8]:"fire-analytics-compat",[s8]:"fire-app-check",[r8]:"fire-app-check-compat",[i8]:"fire-auth",[a8]:"fire-auth-compat",[o8]:"fire-rtdb",[l8]:"fire-data-connect",[c8]:"fire-rtdb-compat",[u8]:"fire-fn",[d8]:"fire-fn-compat",[f8]:"fire-iid",[h8]:"fire-iid-compat",[p8]:"fire-fcm",[m8]:"fire-fcm-compat",[g8]:"fire-perf",[y8]:"fire-perf-compat",[v8]:"fire-rc",[x8]:"fire-rc-compat",[w8]:"fire-gcs",[b8]:"fire-gcs-compat",[S8]:"fire-fst",[E8]:"fire-fst-compat",[C8]:"fire-vertex","fire-js":"fire-js",[N8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Map,k8=new Map,Wx=new Map;function kE(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sd(t){const e=t.name;if(Wx.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;Wx.set(e,t);for(const n of Wp.values())kE(n,t);for(const n of k8.values())kE(n,t);return!0}function VR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new Pf("app","Firebase",P8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=j8;function UR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw oa.create("bad-app-name",{appName:String(s)});if(n||(n=MR()),!n)throw oa.create("no-options");const i=Wp.get(s);if(i){if(bc(n,i.options)&&bc(r,i.config))return i;throw oa.create("duplicate-app",{appName:s})}const o=new DW(s);for(const c of Wx.values())o.addComponent(c);const l=new _8(n,r,o);return Wp.set(s,l),l}function A8(t=zx){const e=Wp.get(t);if(!e&&t===zx&&MR())return UR();if(!e)throw oa.create("no-app",{appName:t});return e}function Tl(t,e,n){let r=T8[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(o.join(" "));return}Sd(new Sc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="firebase-heartbeat-database",I8=1,Cd="firebase-heartbeat-store";let Uy=null;function $R(){return Uy||(Uy=GW(R8,I8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),Uy}async function M8(t){try{const n=(await $R()).transaction(Cd),r=await n.objectStore(Cd).get(BR(t));return await n.done,r}catch(e){if(e instanceof Na)ci.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function PE(t,e){try{const r=(await $R()).transaction(Cd,"readwrite");await r.objectStore(Cd).put(e,BR(t)),await r.done}catch(n){if(n instanceof Na)ci.warn(n.message);else{const r=oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function BR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=1024,D8=30;class F8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_E();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>D8){const o=U8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_E(),{heartbeatsToSend:r,unsentEntries:s}=L8(this._heartbeatsCache.heartbeats),i=RR(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ci.warn(n),""}}}function _E(){return new Date().toISOString().substring(0,10)}function L8(t,e=O8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),AE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),AE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EW()?NW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AE(t){return RR(JSON.stringify({version:2,heartbeats:t})).length}function U8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){Sd(new Sc("platform-logger",e=>new ZW(e),"PRIVATE")),Sd(new Sc("heartbeat",e=>new F8(e),"PRIVATE")),Tl(Bx,TE,t),Tl(Bx,TE,"esm2020"),Tl("fire-js","")}$8("");var B8="firebase",z8="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tl(B8,z8,"app");function zR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W8=zR,WR=new Pf("auth","Firebase",zR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new DR("@firebase/auth");function H8(t,...e){Hp.logLevel<=dt.WARN&&Hp.warn(`Auth (${Af}): ${t}`,...e)}function Gh(t,...e){Hp.logLevel<=dt.ERROR&&Hp.error(`Auth (${Af}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw L0(t,...e)}function Qr(t,...e){return L0(t,...e)}function F0(t,e,n){const r={...W8(),[e]:n};return new Pf("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return F0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(t,"argument-error"),F0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WR.create(t,...e)}function Ie(t,e,...n){if(!t)throw L0(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function ui(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function K8(){return RE()==="http:"||RE()==="https:"}function RE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K8()||bW()||"connection"in navigator)?navigator.onLine:!0}function G8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=xW()||SW()}get(){return Y8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z8=new Rf(3e4,6e4);function ja(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gi(t,e,n,r,s={}){return qR(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=_f({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return wW()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&xg(t.emulatorConfig.host)&&(u.credentials="include"),HR.fetch()(await KR(t,t.config.apiHost,n,l),u)})}async function qR(t,e,n){t._canInitEmulator=!1;const r={...Q8,...e};try{const s=new eH(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw xh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw xh(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw F0(t,d,u);wr(t,d)}}catch(s){if(s instanceof Na)throw s;wr(t,"network-request-failed",{message:String(s)})}}async function If(t,e,n,r,s={}){const i=await gi(t,e,n,r,s);return"mfaPendingCredential"in i&&wr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function KR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?V0(t.config,s):`${t.config.apiScheme}://${s}`;return X8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function J8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),Z8.get())})}}function xh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qr(t,e,r);return s.customData._tokenResponse=n,s}function IE(t){return t!==void 0&&t.enterprise!==void 0}class tH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nH(t,e){return gi(t,"GET","/v2/recaptchaConfig",ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(t,e){return gi(t,"POST","/v1/accounts:delete",e)}async function qp(t,e){return gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sH(t,e=!1){const n=ss(t),r=await n.getIdToken(e),s=U0(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:zu($y(s.auth_time)),issuedAtTime:zu($y(s.iat)),expirationTime:zu($y(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $y(t){return Number(t)*1e3}function U0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const s=IR(n);return s?JSON.parse(s):(Gh("Failed to decode base64 JWT payload"),null)}catch(s){return Gh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ME(t){const e=U0(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Na&&iH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Cc(t,qp(e,{idToken:n}));Ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?YR(s.providerUserInfo):[],o=lH(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new qx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function oH(t){const e=ss(t);await Kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function YR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(t,e){const n=await qR(t,{},async()=>{const r=_f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await KR(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&xg(t.emulatorConfig.host)&&(c.credentials="include"),HR.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uH(t,e){return gi(t,"POST","/v2/accounts:revokeToken",ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ME(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=ME(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cH(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new kl;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new aH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sH(this,e)}reload(){return oH(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Cc(this,rH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:g}=n;Ie(f&&g,e,"internal-error");const w=kl.fromJSON(this.name,g);Ie(typeof f=="string",e,"internal-error"),Si(r,e.name),Si(s,e.name),Ie(typeof h=="boolean",e,"internal-error"),Ie(typeof m=="boolean",e,"internal-error"),Si(i,e.name),Si(o,e.name),Si(l,e.name),Si(c,e.name),Si(u,e.name),Si(d,e.name);const x=new qr({uid:f,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(v=>({...v}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new kl;s.updateFromServerResponse(n);const i=new qr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?YR(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new kl;l.updateFromIdToken(r);const c=new qr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;function Qs(t){ui(t instanceof Function,"Expected a class definition");let e=OE.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GR.type="NONE";const DE=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qp(this.auth,{idToken:e}).catch(()=>{});return n?qr._fromGetAccountInfoResponse(this.auth,n,e):null}return qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(Qs(DE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Qs(DE);const o=Qh(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await qp(e,{idToken:d}).catch(()=>{});if(!h)break;f=await qr._fromGetAccountInfoResponse(e,h,d)}else f=qr._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Pl(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Pl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(XR(e))return"Safari";if((e.includes("chrome/")||ZR(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QR(t=Tn()){return/firefox\//i.test(t)}function XR(t=Tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZR(t=Tn()){return/crios\//i.test(t)}function JR(t=Tn()){return/iemobile/i.test(t)}function eI(t=Tn()){return/android/i.test(t)}function tI(t=Tn()){return/blackberry/i.test(t)}function nI(t=Tn()){return/webos/i.test(t)}function $0(t=Tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dH(t=Tn()){var e;return $0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fH(){return CW()&&document.documentMode===10}function rI(t=Tn()){return $0(t)||eI(t)||nI(t)||tI(t)||/windows phone/i.test(t)||JR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e=[]){let n;switch(t){case"Browser":n=FE(Tn());break;case"Worker":n=`${FE(Tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Af}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH(t,e={}){return gi(t,"GET","/v2/passwordPolicy",ja(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=6;class gH{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mH,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new hH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qp(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(Zs(this));const n=e?ss(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pH(this),n=new gH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qs(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&H8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ta(t){return ss(t)}class LE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_W(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vH(t){wg=t}function iI(t){return wg.loadJS(t)}function xH(){return wg.recaptchaEnterpriseScript}function wH(){return wg.gapiScript}function bH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SH{constructor(){this.enterprise=new CH}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CH{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EH="recaptcha-enterprise",aI="NO_RECAPTCHA";class NH{constructor(e){this.type=EH,this.auth=Ta(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{nH(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new tH(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;IE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(aI)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SH().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&IE(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xH();c.length!==0&&(c+=l),iI(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function VE(t,e,n,r=!1,s=!1){const i=new NH(t);let o;if(s)o=aI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Kx(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await VE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await VE(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t,e){const n=VR(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bc(i,e??{}))return s;wr(s,"already-initialized")}return n.initialize({options:e})}function TH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kH(t,e,n){const r=Ta(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=oI(e),{host:o,port:l}=PH(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(bc(u,r.config.emulator)&&bc(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,xg(o)?(mW(`${i}//${o}${c}`),vW("Auth",!0)):_H()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PH(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:UE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:UE(o)}}}function UE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _H(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function AH(t,e){return gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e){return If(t,"POST","/v1/accounts:signInWithPassword",ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IH(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",ja(t,e))}async function MH(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends B0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ed(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ed(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kx(e,n,"signInWithPassword",RH);case"emailLink":return IH(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kx(e,r,"signUpPassword",AH);case"emailLink":return MH(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return If(t,"POST","/v1/accounts:signInWithIdp",ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="http://localhost";class To extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new To(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:OH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FH(t){const e=bu(Su(t)).link,n=e?bu(Su(e)).deep_link_id:null,r=bu(Su(t)).deep_link_id;return(r?bu(Su(r)).link:null)||r||n||e||t}class z0{constructor(e){const n=bu(Su(e)),r=n.apiKey??null,s=n.oobCode??null,i=DH(n.mode??null);Ie(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=FH(e);try{return new z0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this.providerId=Bc.PROVIDER_ID}static credential(e,n){return Ed._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=z0.parseLink(n);return Ie(r,"argument-error"),Ed._fromEmailAndCode(e,r.code,r.tenantId)}}Bc.PROVIDER_ID="password";Bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends W0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Mf{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return To._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Mf{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Mf{constructor(){super("twitter.com")}static credential(e,n){return To._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LH(t,e){return If(t,"POST","/v1/accounts:signUp",ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await qr._fromIdTokenResponse(e,r,s),o=$E(r);return new ko({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$E(r);return new ko({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $E(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Na{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yp(e,n,r,s)}}function lI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yp._fromErrorAndOperation(t,i,e,r):i})}async function VH(t,e,n=!1){const r=await Cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UH(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(Zs(r));const s="reauthenticate";try{const i=await Cc(t,lI(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const o=U0(i.idToken);Ie(o,r,"internal-error");const{sub:l}=o;return Ie(t.uid===l,r,"user-mismatch"),ko._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t,e,n=!1){if(fr(t.app))return Promise.reject(Zs(t));const r="signIn",s=await lI(t,r,e),i=await ko._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function $H(t,e){return cI(Ta(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t){const e=Ta(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BH(t,e,n){if(fr(t.app))return Promise.reject(Zs(t));const r=Ta(t),o=await Kx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LH).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&uI(t),c}),l=await ko._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function zH(t,e,n){return fr(t.app)?Promise.reject(Zs(t)):$H(ss(t),Bc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e){return gi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ss(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Cc(r,WH(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t,e){return ss(t).setPersistence(e)}function KH(t,e,n,r){return ss(t).onIdTokenChanged(e,n,r)}function YH(t,e,n){return ss(t).beforeAuthStateChanged(e,n)}function GH(t,e,n,r){return ss(t).onAuthStateChanged(e,n,r)}function QH(t){return ss(t).signOut()}const Gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=1e3,ZH=10;class fI extends dI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fI.type="LOCAL";const JH=fI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends dI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hI.type="SESSION";const H0=hI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await e7(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=q0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(){return window}function n7(t){Cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof Cs().WorkerGlobalScope<"u"&&typeof Cs().importScripts=="function"}async function r7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function i7(){return pI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebaseLocalStorageDb",a7=1,Qp="firebaseLocalStorage",gI="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(t,e){return t.transaction([Qp],e?"readwrite":"readonly").objectStore(Qp)}function o7(){const t=indexedDB.deleteDatabase(mI);return new Of(t).toPromise()}function Yx(){const t=indexedDB.open(mI,a7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qp,{keyPath:gI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qp)?e(r):(r.close(),await o7(),e(await Yx()))})})}async function BE(t,e,n){const r=Sg(t,!0).put({[gI]:e,value:n});return new Of(r).toPromise()}async function l7(t,e){const n=Sg(t,!1).get(e),r=await new Of(n).toPromise();return r===void 0?null:r.value}function zE(t,e){const n=Sg(t,!0).delete(e);return new Of(n).toPromise()}const c7=800,u7=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bg._getInstance(i7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await r7(),!this.activeServiceWorker)return;this.sender=new t7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yx();return await BE(e,Gp,"1"),await zE(e,Gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Sg(s,!1).getAll();return new Of(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const d7=yI;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){return e?Qs(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends B0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f7(t){return cI(t.auth,new K0(t),t.bypassAuthState)}function h7(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),UH(n,new K0(t),t.bypassAuthState)}async function p7(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),VH(n,new K0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f7;case"linkViaPopup":case"linkViaRedirect":return p7;case"reauthViaPopup":case"reauthViaRedirect":return h7;default:wr(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new Rf(2e3,1e4);async function g7(t,e,n){if(fr(t.app))return Promise.reject(Qr(t,"operation-not-supported-in-this-environment"));const r=Ta(t);q8(t,e,W0);const s=vI(r,n);return new Wa(r,"signInViaPopup",e,s).executeNotNull()}class Wa extends xI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m7.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="pendingRedirect",Xh=new Map;class v7 extends xI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const r=await x7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x7(t,e){const n=S7(e),r=b7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function w7(t,e){Xh.set(t._key(),e)}function b7(t){return Qs(t._redirectPersistence)}function S7(t){return Qh(y7,t.config.apiKey,t.name)}async function C7(t,e,n=!1){if(fr(t.app))return Promise.reject(Zs(t));const r=Ta(t),s=vI(r,e),o=await new v7(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=10*60*1e3;class N7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E7&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e={}){return gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P7=/^https?/;async function _7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T7(t);for(const n of e)try{if(A7(n))return}catch{}wr(t,"unauthorized-domain")}function A7(t){const e=Hx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P7.test(n))return!1;if(k7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=new Rf(3e4,6e4);function HE(){const t=Cs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I7(t){return new Promise((e,n)=>{var s,i,o;function r(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(Qr(t,"network-request-failed"))},timeout:R7.get()})}if((i=(s=Cs().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Cs().gapi)!=null&&o.load)r();else{const l=bH("iframefcb");return Cs()[l]=()=>{gapi.load?r():n(Qr(t,"network-request-failed"))},iI(`${wH()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function M7(t){return Zh=Zh||I7(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=new Rf(5e3,15e3),D7="__/auth/iframe",F7="emulator/auth/iframe",L7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U7(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V0(e,F7):`https://${t.config.authDomain}/${D7}`,r={apiKey:e.apiKey,appName:t.name,v:Af},s=V7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_f(r).slice(1)}`}async function $7(t){const e=await M7(t),n=Cs().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:U7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Qr(t,"network-request-failed"),l=Cs().setTimeout(()=>{i(o)},O7.get());function c(){Cs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z7=500,W7=600,H7="_blank",q7="http://localhost";class qE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K7(t,e,n,r=z7,s=W7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...B7,width:r.toString(),height:s.toString(),top:i,left:o},u=Tn().toLowerCase();n&&(l=ZR(u)?H7:n),QR(u)&&(e=e||q7,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(dH(u)&&l!=="_self")return Y7(e||"",l),new qE(null);const f=window.open(e||"",l,d);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new qE(f)}function Y7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="__/auth/handler",Q7="emulator/auth/handler",X7=encodeURIComponent("fac");async function KE(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Af,eventId:s};if(e instanceof W0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Mf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${X7}=${encodeURIComponent(c)}`:"";return`${Z7(t)}?${_f(l).slice(1)}${u}`}function Z7({config:t}){return t.emulator?V0(t,Q7):`https://${t.authDomain}/${G7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="webStorageSupport";class J7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H0,this._completeRedirectFn=C7,this._overrideRedirectResult=w7}async _openPopup(e,n,r,s){var o;ui((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await KE(e,n,r,Hx(),s);return K7(e,i,q0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await KE(e,n,r,Hx(),s);return n7(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ui(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $7(e),r=new N7(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(By,{type:By},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[By];i!==void 0&&n(!!i),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rI()||XR()||$0()}}const e9=J7;var YE="@firebase/auth",GE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r9(t){Sd(new Sc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sI(t)},u=new yH(r,s,i,c);return TH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sd(new Sc("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(r=>new t9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tl(YE,GE,n9(t)),Tl(YE,GE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=5*60,i9=OR("authIdTokenMaxAge")||s9;let QE=null;const a9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i9)return;const s=n==null?void 0:n.token;QE!==s&&(QE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function o9(t=A8()){const e=VR(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jH(t,{popupRedirectResolver:e9,persistence:[d7,JH,H0]}),r=OR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=a9(i.toString());YH(n,o,()=>o(n.currentUser)),KH(n,l=>o(l))}}const s=hW("auth");return s&&kH(n,`http://${s}`),n}function l9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}vH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Qr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",l9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r9("Browser");const c9={apiKey:"AIzaSyDDTIMeSQewCWup3sQxq1040Tl_JQ8Ti8c",authDomain:"waiterix-bff96.firebaseapp.com",projectId:"waiterix-bff96",storageBucket:"waiterix-bff96.firebasestorage.app",appId:"1:705025299236:web:26e212edfd6e7b627099b1"},u9=UR(c9),zc=o9(u9);qH(zc,H0).catch(t=>{console.error("Error setting persistence:",t)});const bI=new Hs;bI.setCustomParameters({prompt:"select_account"});async function d9(){try{console.log("Starting Google sign-in with popup...");const t=await g7(zc,bI);return console.log("Sign-in successful:",t.user.uid),t}catch(t){throw console.error("Sign-in error:",t),t}}async function f9(t,e,n){try{console.log("Starting email/password sign-up...");const r=await BH(zc,t,e);return n&&r.user&&await HH(r.user,{displayName:n}),console.log("Sign-up successful:",r.user.uid),r}catch(r){throw console.error("Sign-up error:",r),r}}async function h9(t,e){try{console.log("Starting email/password sign-in...");const n=await zH(zc,t,e);return console.log("Sign-in successful:",n.user.uid),n}catch(n){throw console.error("Sign-in error:",n),n}}async function Nd(){console.log("Signing out from Firebase..."),await QH(zc),console.log("Firebase sign-out complete")}function Cg(){const[t,e]=p.useState(!1);p.useEffect(()=>{const s=GH(zc,async i=>{if(console.log("Auth state changed:",i?"User logged in":"No user"),i)try{const o=await i.getIdToken();console.log("Sending token to backend...");const c=await(await Re("POST","/api/auth/verify",{idToken:o})).json();console.log("Backend verification successful:",c),c.user&&(it.setQueryData(["/api/auth/user"],c.user),console.log("User data set in cache:",c.user.id))}catch(o){console.error("Backend verification failed:",o),it.setQueryData(["/api/auth/user"],null)}else console.log("User signed out, clearing cache"),it.setQueryData(["/api/auth/user"],null);e(!0)});return()=>s()},[]);const{data:n,isLoading:r}=tt({queryKey:["/api/auth/user"],retry:!1,enabled:t,queryFn:async()=>{try{const i=await fetch("http://localhost:3005/dev/api/auth/user",{credentials:"include"});if(i.status===401)return console.log("User not authenticated (401), returning null"),null;if(!i.ok){const o=await i.text();throw new Error(`${i.status}: ${o}`)}return await i.json()}catch(s){return console.error("Error fetching user:",s),null}}});return{user:n??void 0,isLoading:r||!t,isAuthenticated:!!n}}function p9(){const{user:t,isLoading:e}=Cg(),[,n]=ks(),{toast:r}=ot(),[s,i]=p.useState(!1),[o,l]=p.useState("signin"),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,m]=p.useState(""),[y,g]=p.useState(!1);p.useEffect(()=>{t&&!e&&(console.log("User authenticated, redirecting to dashboard"),n("/dashboard"))},[t,e,n]);const w=async()=>{try{g(!0),await d9(),i(!1)}catch(v){r({title:"Sign-in failed",description:v.message||"Failed to sign in with Google",variant:"destructive"})}finally{g(!1)}},x=async v=>{if(v.preventDefault(),!c||!d){r({title:"Missing information",description:"Please enter email and password",variant:"destructive"});return}if(o==="signup"&&d.length<6){r({title:"Weak password",description:"Password must be at least 6 characters",variant:"destructive"});return}try{g(!0),o==="signup"?(await f9(c,d,h||void 0),r({title:"Account created",description:"Welcome to Waiterix! Redirecting to dashboard..."})):(await h9(c,d),r({title:"Signed in",description:"Welcome back! Redirecting to dashboard..."})),i(!1),u(""),f(""),m("")}catch(b){let S="Authentication failed";b.code==="auth/email-already-in-use"?S="Email already in use. Try signing in instead.":b.code==="auth/invalid-email"?S="Invalid email address":b.code==="auth/weak-password"?S="Password is too weak":(b.code==="auth/user-not-found"||b.code==="auth/wrong-password"||b.code==="auth/invalid-credential")&&(S="Invalid email or password"),r({title:"Authentication failed",description:S,variant:"destructive"})}finally{g(!1)}};return e?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-auth-home"})}):t?null:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b glass backdrop-blur-sm sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("img",{src:jo,alt:"Waiterix",className:"h-12 hover-lift smooth-transition"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lx,{}),a.jsx(X,{variant:"ghost",onClick:()=>{l("signin"),i(!0)},"data-testid":"button-sign-in",children:"Sign In"}),a.jsx(X,{onClick:()=>{l("signup"),i(!0)},"data-testid":"button-get-started",className:"btn-glow shadow-glow hover-lift",children:"Get Started"})]})]})}),a.jsxs("section",{className:"py-20 md:py-32 particles-bg animated-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-chart-2/5"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center relative z-10",children:[a.jsx("div",{className:"bounce-in",children:a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 text-shadow",children:["AI-powered systems built for ",a.jsx("span",{className:"gradient-text",children:"modern restaurants"})]})}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto smooth-transition hover:text-foreground/80",children:"Reduce operations cost, increase efficiency and improve customer satisfaction"}),a.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[a.jsxs(X,{size:"lg",onClick:()=>i(!0),"data-testid":"button-hero-start",className:"btn-glow shadow-glow hover-lift text-lg px-8 py-6",children:[a.jsx(Ny,{className:"mr-2 h-5 w-5"}),"Try Waiterix"]}),a.jsxs(X,{size:"lg",variant:"outline",onClick:()=>window.location.href="/menu/demo","data-testid":"button-hero-demo",className:"hover-lift glass-card text-lg px-8 py-6",children:[a.jsx(ho,{className:"mr-2 h-5 w-5"}),"View Demo Menu"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-6 pulse-enhanced",children:" 90-days risk-free trial  Plus, Complimentary QR-Code Display Tags"})]}),a.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-primary/10 rounded-full blur-xl float"}),a.jsx("div",{className:"absolute top-40 right-20 w-32 h-32 bg-chart-2/10 rounded-full blur-xl float-delayed"}),a.jsx("div",{className:"absolute bottom-20 left-1/4 w-16 h-16 bg-chart-3/10 rounded-full blur-xl float"})]}),a.jsxs("section",{className:"py-20 bg-gradient-to-br from-muted/30 via-background to-muted/50 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,hsl(var(--primary)/0.1),transparent_50%)]"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[a.jsx("div",{className:"text-center mb-16",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"Why Waiterix?"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(vh,{value:40,label:"",color:"hsl(var(--primary))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Reduction in Labor Cost"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"Waiterix automates core waiter tasks, helping restaurants cut nearly half of their front-of-house labor expenses."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-2/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(vh,{value:100,label:"",color:"hsl(var(--chart-2))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Ensure Accuracy"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"Our end-to-end AI ordering system eliminates order errors and reduces bottlenecks for smoother operations."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-3/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(vh,{value:25,label:"",color:"hsl(var(--chart-3))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Increases Check Sizes"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"The AI waiter excels at upselling and cross-selling, boosting average check sizes and overall revenue."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-4/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(vh,{value:5,maxValue:5,label:"",suffix:"",color:"hsl(var(--chart-4))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Boost Customer Satisfaction"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"Fast, accurate, and personalized service ensures customers enjoy a smoother and more satisfying dining experience."})]})]})]})]})]}),a.jsx("section",{className:"py-20 bg-background relative",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[a.jsx("div",{className:"text-center mb-16",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"Features"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(ho,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-primary transition-colors",children:"AI Voice Waiter"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Natural voice conversations powered by GPT-5. Customers speak their orders, get instant recommendations, and ask questionsall in their preferred language."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-2/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(nA,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-2 transition-colors",children:"10 Languages"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Serve global customers effortlessly. Full support for English, Spanish, French, German, Italian, Chinese, Japanese, Arabic, Portuguese, and Russian."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-3/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(Ny,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-3 transition-colors",children:"Smart Knowledge System"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"AI learns from chef responses. Questions get automatically added to the knowledge base, making the system smarter over time."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-4/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(K$,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-4 transition-colors",children:"QR Code Menus"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Generate unique QR codes for your restaurant. Customers scan and order instantly from their phones."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(Cl,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-primary transition-colors",children:"Global Payments"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Accept payments via Stripe, Paystack, or Adyen. Support for multiple currencies and payment methods worldwide."})]})]}),a.jsxs(ge,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-5/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(kx,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-5 transition-colors",children:"Real-Time Management"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Track all orders in real-time. Answer customer questions via voice, manage menus, and monitor sales instantly."})]})]})]})]})}),a.jsxs("section",{className:"py-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-chart-2/5"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"Simple, Transparent Pricing"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Full refund if you're not satisfied within 90 days"})]}),a.jsx("div",{className:"grid grid-cols-1 max-w-lg mx-auto",children:a.jsxs(ge,{className:"p-10 shadow-card-hover glass-card relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-chart-2/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("div",{className:"inline-block p-3 bg-gradient-to-r from-primary to-chart-2 rounded-2xl mb-4 shadow-glow",children:a.jsx(Z$,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-3xl font-bold mb-4 text-glow",children:"Waiterix Pro"}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-6 justify-center",children:[a.jsx("span",{className:"text-6xl font-bold gradient-text",children:"$50"}),a.jsx("span",{className:"text-muted-foreground text-xl",children:"/month"})]}),a.jsx("div",{className:"inline-block bg-gradient-to-r from-primary/20 to-chart-2/20 text-primary px-4 py-2 rounded-full text-sm font-medium border border-primary/30 shimmer",children:" 90-Day Money-Back Guarantee"})]}),a.jsxs("ul",{className:"space-y-4 mb-10",children:[a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(os,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"AI Voice Waiter in 10 languages"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(os,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Unlimited menu items"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(os,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"QR code generation"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(os,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Real-time order management"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(os,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Multi-gateway payments (Stripe, Paystack, Adyen)"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(os,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Priority support"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(os,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"text-sm group-hover/item:text-foreground transition-colors",children:"+ AI usage fees (OpenAI API costs)"})]})]}),a.jsxs(X,{className:"w-full btn-glow shadow-glow hover-lift text-lg py-6",size:"lg",onClick:()=>i(!0),"data-testid":"button-pricing-trial",children:[a.jsx(Ny,{className:"mr-2 h-5 w-5"}),"Start Your Journey Now"]})]})]})}),a.jsx("p",{className:"text-center text-sm text-muted-foreground mt-10 max-w-2xl mx-auto leading-relaxed",children:" AI usage fees are based on actual OpenAI API consumption (text-to-speech, speech-to-text, and chat completions). Typical restaurant usage averages $15-20/month in AI costs."})]})]}),a.jsxs("section",{className:"py-24 bg-gradient-to-br from-primary/10 via-background to-chart-2/10 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 particles-bg"}),a.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-primary/20 rounded-full blur-3xl float"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-32 h-32 bg-chart-2/20 rounded-full blur-3xl float-delayed"}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center relative z-10",children:[a.jsx("div",{className:"bounce-in",children:a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-8 gradient-text text-glow",children:"Ready to Transform Your Restaurant?"})}),a.jsxs("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 leading-relaxed",children:["Join restaurants worldwide using AI-powered voice ordering to serve customers better.",a.jsx("br",{className:"hidden md:block"}),"Try risk-free with our 90-day money-back guarantee."]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[a.jsxs(X,{size:"lg",onClick:()=>i(!0),"data-testid":"button-cta-start",className:"btn-glow shadow-glow hover-lift text-xl px-12 py-8 bg-gradient-to-r from-primary to-chart-2",children:[a.jsx(ho,{className:"mr-3 h-6 w-6"}),"Start Your AI Journey"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(c0,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:"90-day guarantee  No setup fees  Cancel anytime"})]})]})]})]}),a.jsx("footer",{className:"border-t py-12 bg-muted/30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:a.jsx("p",{className:"text-xs text-muted-foreground text-center leading-relaxed",children:"All information, services, products, and content on this website are provided for general informational purposes only and should not be considered professional advice. No rights or guarantees can be derived from the content on this site, and use of the website is governed by our Terms of Use. Reported results are based on either extrapolation or feedback from individual clients and may vary from one restaurant to another."})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex justify-center gap-6 mb-4 text-sm",children:[a.jsx(md,{href:"/terms",className:"text-muted-foreground hover:text-foreground","data-testid":"link-terms",children:"Terms & Conditions"}),a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx(md,{href:"/privacy",className:"text-muted-foreground hover:text-foreground","data-testid":"link-privacy",children:"Privacy Policy"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 Waiterix. All rights reserved."})]})]})}),a.jsx(En,{open:s,onOpenChange:i,children:a.jsxs(fn,{className:"sm:max-w-md","data-testid":"dialog-auth",children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:o==="signin"?"Sign In":"Create Account"}),a.jsx(ts,{children:o==="signin"?"Welcome back! Sign in to access your restaurant dashboard.":"Join Waiterix to start serving customers with AI-powered voice ordering."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(X,{variant:"outline",className:"w-full",onClick:w,disabled:y,"data-testid":"button-google-auth",children:[y?a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),a.jsxs("div",{className:"relative",children:[a.jsx(Kt,{}),a.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs text-muted-foreground",children:"or"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o==="signup"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"displayName",children:"Restaurant Name (optional)"}),a.jsx(qe,{id:"displayName",placeholder:"Your Restaurant",value:h,onChange:v=>m(v.target.value),disabled:y,"data-testid":"input-display-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"email",children:"Email"}),a.jsx(qe,{id:"email",type:"email",placeholder:"you@example.com",value:c,onChange:v=>u(v.target.value),disabled:y,required:!0,"data-testid":"input-email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"password",children:"Password"}),a.jsx(qe,{id:"password",type:"password",placeholder:"",value:d,onChange:v=>f(v.target.value),disabled:y,required:!0,"data-testid":"input-password"}),o==="signup"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"At least 6 characters"})]}),a.jsx(X,{type:"submit",className:"w-full",disabled:y,"data-testid":"button-email-auth",children:y?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),o==="signin"?"Signing in...":"Creating account..."]}):o==="signin"?"Sign In":"Create Account"})]}),a.jsx("div",{className:"text-center text-sm",children:o==="signin"?a.jsxs(a.Fragment,{children:["Don't have an account?"," ",a.jsx("button",{type:"button",onClick:()=>l("signup"),className:"text-primary hover:underline",disabled:y,"data-testid":"button-switch-signup",children:"Sign up"})]}):a.jsxs(a.Fragment,{children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:()=>l("signin"),className:"text-primary hover:underline",disabled:y,"data-testid":"button-switch-signin",children:"Sign in"})]})})]})]})})]})}const Y0=p.createContext({});function G0(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Eg=p.createContext(null),Q0=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class m9 extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g9({children:t,isPresent:e}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(Q0);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(e||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),a.jsx(m9,{isPresent:e,childRef:r,sizeRef:s,children:p.cloneElement(t,{ref:r})})}const y9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=G0(v9),c=p.useId(),u=p.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),d=p.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[n,u]);return p.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(g9,{isPresent:n,children:t})),a.jsx(Eg.Provider,{value:d,children:t})};function v9(){return new Map}function SI(t=!0){const e=p.useContext(Eg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=p.useId();p.useEffect(()=>{t&&s(i)},[t]);const o=p.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const wh=t=>t.key||"";function XE(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const X0=typeof window<"u",CI=X0?p.useLayoutEffect:p.useEffect,x9=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=SI(o),u=p.useMemo(()=>XE(t),[t]),d=o&&!l?[]:u.map(wh),f=p.useRef(!0),h=p.useRef(u),m=G0(()=>new Map),[y,g]=p.useState(u),[w,x]=p.useState(u);CI(()=>{f.current=!1,h.current=u;for(let S=0;S<w.length;S++){const E=wh(w[S]);d.includes(E)?m.delete(E):m.get(E)!==!0&&m.set(E,!1)}},[w,d.length,d.join("-")]);const v=[];if(u!==y){let S=[...u];for(let E=0;E<w.length;E++){const k=w[E],T=wh(k);d.includes(T)||(S.splice(E,0,k),v.push(k))}i==="wait"&&v.length&&(S=v),x(XE(S)),g(u);return}const{forceRender:b}=p.useContext(Y0);return a.jsx(a.Fragment,{children:w.map(S=>{const E=wh(S),k=o&&!l?!1:u===w||d.includes(E),T=()=>{if(m.has(E))m.set(E,!0);else return;let N=!0;m.forEach(j=>{j||(N=!1)}),N&&(b==null||b(),x(h.current),o&&(c==null||c()),r&&r())};return a.jsx(y9,{isPresent:k,initial:!f.current||n?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:T,children:S},E)})})},Xn=t=>t;let EI=Xn;function Z0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ec=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Js=t=>t*1e3,ei=t=>t/1e3,w9={useManualTiming:!1};function b9(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&r?e:n;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const bh=["read","resolveKeyframes","update","preRender","render","postRender"],S9=40;function NI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=bh.reduce((x,v)=>(x[v]=b9(i),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,S9),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,s.isProcessing||t(m)};return{schedule:bh.reduce((x,v)=>{const b=o[v];return x[v]=(S,E=!1,k=!1)=>(n||y(),b.schedule(S,E,k)),x},{}),cancel:x=>{for(let v=0;v<bh.length;v++)o[bh[v]].cancel(x)},state:s,steps:o}}const{schedule:vt,cancel:ga,state:Jt,steps:zy}=NI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0),jI=p.createContext({strict:!1}),ZE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nc={};for(const t in ZE)Nc[t]={isEnabled:e=>ZE[t].some(n=>!!e[n])};function C9(t){for(const e in t)Nc[e]={...Nc[e],...t[e]}}const E9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||E9.has(t)}let TI=t=>!Xp(t);function N9(t){t&&(TI=e=>e.startsWith("on")?!Xp(e):t(e))}try{N9(require("@emotion/is-prop-valid").default)}catch{}function j9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(TI(s)||n===!0&&Xp(s)||!e&&!Xp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function T9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Ng=p.createContext({});function jd(t){return typeof t=="string"||Array.isArray(t)}function jg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const J0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eS=["initial",...J0];function Tg(t){return jg(t.animate)||eS.some(e=>jd(t[e]))}function kI(t){return!!(Tg(t)||t.variants)}function k9(t,e){if(Tg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||jd(n)?n:void 0,animate:jd(r)?r:void 0}}return t.inherit!==!1?e:{}}function P9(t){const{initial:e,animate:n}=k9(t,p.useContext(Ng));return p.useMemo(()=>({initial:e,animate:n}),[JE(e),JE(n)])}function JE(t){return Array.isArray(t)?t.join(" "):t}const _9=Symbol.for("motionComponentSymbol");function ul(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function A9(t,e,n){return p.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ul(n)&&(n.current=r))},[e])}const tS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R9="framerAppearId",PI="data-"+tS(R9),{schedule:nS}=NI(queueMicrotask,!1),_I=p.createContext({});function I9(t,e,n,r,s){var i,o;const{visualElement:l}=p.useContext(Ng),c=p.useContext(jI),u=p.useContext(Eg),d=p.useContext(Q0).reducedMotion,f=p.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=p.useContext(_I);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&M9(f.current,n,s,m);const y=p.useRef(!1);p.useInsertionEffect(()=>{h&&y.current&&h.update(n,u)});const g=n[PI],w=p.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return CI(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),nS.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,g)}),w.current=!1))}),h}function M9(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AI(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&ul(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function AI(t){if(t)return t.options.allowProjection!==!1?t.projection:AI(t.parent)}function O9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&C9(t);function l(u,d){let f;const h={...p.useContext(Q0),...u,layoutId:D9(u)},{isStatic:m}=h,y=P9(u),g=r(u,m);if(!m&&X0){F9();const w=L9(h);f=w.MeasureLayout,y.visualElement=I9(s,g,h,e,w.ProjectionNode)}return a.jsxs(Ng.Provider,{value:y,children:[f&&y.visualElement?a.jsx(f,{visualElement:y.visualElement,...h}):null,n(s,u,A9(g,y.visualElement,d),g,m,y.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[_9]=s,c}function D9({layoutId:t}){const e=p.useContext(Y0).id;return e&&t!==void 0?e+"-"+t:t}function F9(t,e){p.useContext(jI).strict}function L9(t){const{drag:e,layout:n}=Nc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const V9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rS(t){return typeof t!="string"||t.includes("-")?!1:!!(V9.indexOf(t)>-1||/[A-Z]/u.test(t))}function eN(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sS(t,e,n,r){if(typeof e=="function"){const[s,i]=eN(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=eN(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Gx=t=>Array.isArray(t),U9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$9=t=>Gx(t)?t[t.length-1]||0:t,pn=t=>!!(t&&t.getVelocity);function Jh(t){const e=pn(t)?t.get():t;return U9(e)?e.toValue():e}function B9({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:z9(r,s,i,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const RI=t=>(e,n)=>{const r=p.useContext(Ng),s=p.useContext(Eg),i=()=>B9(t,e,r,s);return n?i():G0(i)};function z9(t,e,n,r){const s={},i=r(t,{});for(const h in i)s[h]=Jh(i[h]);let{initial:o,animate:l}=t;const c=Tg(t),u=kI(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!jg(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const y=sS(t,h[m]);if(y){const{transitionEnd:g,transition:w,...x}=y;for(const v in x){let b=x[v];if(Array.isArray(b)){const S=d?b.length-1:0;b=b[S]}b!==null&&(s[v]=b)}for(const v in g)s[v]=g[v]}}}return s}const Wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vo=new Set(Wc),II=t=>e=>typeof e=="string"&&e.startsWith(t),MI=II("--"),W9=II("var(--"),iS=t=>W9(t)?H9.test(t.split("/*")[0].trim()):!1,H9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,OI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,di=(t,e,n)=>n>e?e:n<t?t:n,Hc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Td={...Hc,transform:t=>di(0,1,t)},Sh={...Hc,default:1},Df=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ti=Df("deg"),Es=Df("%"),_e=Df("px"),q9=Df("vh"),K9=Df("vw"),tN={...Es,parse:t=>Es.parse(t)/100,transform:t=>Es.transform(t*100)},Y9={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},G9={rotate:Ti,rotateX:Ti,rotateY:Ti,rotateZ:Ti,scale:Sh,scaleX:Sh,scaleY:Sh,scaleZ:Sh,skew:Ti,skewX:Ti,skewY:Ti,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:Td,originX:tN,originY:tN,originZ:_e},nN={...Hc,transform:Math.round},aS={...Y9,...G9,zIndex:nN,size:_e,fillOpacity:Td,strokeOpacity:Td,numOctaves:nN},Q9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X9=Wc.length;function Z9(t,e,n){let r="",s=!0;for(let i=0;i<X9;i++){const o=Wc[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=OI(l,aS[o]);if(!c){s=!1;const d=Q9[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function oS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Vo.has(c)){o=!0;continue}else if(MI(c)){s[c]=u;continue}else{const d=OI(u,aS[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=Z9(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const J9={offset:"stroke-dashoffset",array:"stroke-dasharray"},eq={offset:"strokeDashoffset",array:"strokeDasharray"};function tq(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?J9:eq;t[i.offset]=_e.transform(-r);const o=_e.transform(e),l=_e.transform(n);t[i.array]=`${o} ${l}`}function rN(t,e,n){return typeof t=="string"?t:_e.transform(e+n*t)}function nq(t,e,n){const r=rN(e,t.x,t.width),s=rN(n,t.y,t.height);return`${r} ${s}`}function lS(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(oS(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m,dimensions:y}=t;h.transform&&(y&&(m.transform=h.transform),delete h.transform),y&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=nq(y,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&tq(h,o,l,c,!1)}const cS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DI=()=>({...cS(),attrs:{}}),uS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function FI(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const LI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VI(t,e,n,r){FI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(LI.has(s)?s:tS(s),e.attrs[s])}const Zp={};function rq(t){Object.assign(Zp,t)}function UI(t,{layout:e,layoutId:n}){return Vo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zp[t]||t==="opacity")}function dS(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(pn(s[o])||e.style&&pn(e.style[o])||UI(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function $I(t,e,n){const r=dS(t,e,n);for(const s in t)if(pn(t[s])||pn(e[s])){const i=Wc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function sq(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const sN=["x","y","width","height","cx","cy","r"],iq={useVisualState:RI({scrapeMotionValuesFromProps:$I,createRenderState:DI,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(Vo.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<sN.length;l++){const c=sN[l];t[c]!==e[c]&&(o=!0)}o&&vt.read(()=>{sq(n,r),vt.render(()=>{lS(r,s,uS(n.tagName),t.transformTemplate),VI(n,r)})})}})},aq={useVisualState:RI({scrapeMotionValuesFromProps:dS,createRenderState:cS})};function BI(t,e,n){for(const r in e)!pn(e[r])&&!UI(r,n)&&(t[r]=e[r])}function oq({transformTemplate:t},e){return p.useMemo(()=>{const n=cS();return oS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lq(t,e){const n=t.style||{},r={};return BI(r,n,t),Object.assign(r,oq(t,e)),r}function cq(t,e){const n={},r=lq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function uq(t,e,n,r){const s=p.useMemo(()=>{const i=DI();return lS(i,e,uS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};BI(i,t.style,t),s.style={...i,...s.style}}return s}function dq(t=!1){return(n,r,s,{latestValues:i},o)=>{const c=(rS(n)?uq:cq)(r,i,o,n),u=j9(r,typeof n=="string",t),d=n!==p.Fragment?{...u,...c,ref:s}:{},{children:f}=r,h=p.useMemo(()=>pn(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function fq(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...rS(r)?iq:aq,preloadedFeatures:t,useRender:dq(s),createVisualElement:e,Component:r};return O9(o)}}function zI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function kg(t,e,n){const r=t.getProps();return sS(r,e,n!==void 0?n:r.custom,t)}const hq=Z0(()=>window.ScrollTimeline!==void 0);class pq{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(hq()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mq extends pq{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function fS(t,e){return t?t[e]||t.default||t:void 0}const Qx=2e4;function WI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qx;)e+=n,r=t.next(e);return e>=Qx?1/0:e}function hS(t){return typeof t=="function"}function iN(t,e){t.timeline=e,t.onfinish=null}const pS=t=>Array.isArray(t)&&typeof t[0]=="number",gq={linearEasing:void 0};function yq(t,e){const n=Z0(t);return()=>{var r;return(r=gq[e])!==null&&r!==void 0?r:n()}}const Jp=yq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Ec(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function qI(t){return!!(typeof t=="function"&&Jp()||!t||typeof t=="string"&&(t in Xx||Jp())||pS(t)||Array.isArray(t)&&t.every(qI))}const Cu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Xx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cu([0,.65,.55,1]),circOut:Cu([.55,0,1,.45]),backIn:Cu([.31,.01,.66,-.59]),backOut:Cu([.33,1.53,.69,.99])};function KI(t,e){if(t)return typeof t=="function"&&Jp()?HI(t,e):pS(t)?Cu(t):Array.isArray(t)?t.map(n=>KI(n,e)||Xx.easeOut):Xx[t]}const Pr={x:!1,y:!1};function YI(){return Pr.x||Pr.y}function vq(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function GI(t,e){const n=vq(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function aN(t){return e=>{e.pointerType==="touch"||YI()||t(e)}}function xq(t,e,n={}){const[r,s,i]=GI(t,n),o=aN(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=aN(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const QI=(t,e)=>e?t===e?!0:QI(t,e.parentElement):!1,mS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bq(t){return wq.has(t.tagName)||t.tabIndex!==-1}const Eu=new WeakSet;function oN(t){return e=>{e.key==="Enter"&&t(e)}}function Wy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Sq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=oN(()=>{if(Eu.has(n))return;Wy(n,"down");const s=oN(()=>{Wy(n,"up")}),i=()=>Wy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lN(t){return mS(t)&&!YI()}function Cq(t,e,n={}){const[r,s,i]=GI(t,n),o=l=>{const c=l.currentTarget;if(!lN(l)||Eu.has(c))return;Eu.add(c);const u=e(l),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!lN(m)||!Eu.has(c))&&(Eu.delete(c),typeof u=="function"&&u(m,{success:y}))},f=m=>{d(m,n.useGlobalTarget||QI(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{!bq(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>Sq(u,s),s)}),i}function Eq(t){return t==="x"||t==="y"?Pr[t]?null:(Pr[t]=!0,()=>{Pr[t]=!1}):Pr.x||Pr.y?null:(Pr.x=Pr.y=!0,()=>{Pr.x=Pr.y=!1})}const XI=new Set(["width","height","top","left","right","bottom",...Wc]);let ep;function Nq(){ep=void 0}const Ns={now:()=>(ep===void 0&&Ns.set(Jt.isProcessing||w9.useManualTiming?Jt.timestamp:performance.now()),ep),set:t=>{ep=t,queueMicrotask(Nq)}};function gS(t,e){t.indexOf(e)===-1&&t.push(e)}function yS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vS{constructor(){this.subscriptions=[]}add(e){return gS(this.subscriptions,e),()=>yS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ZI(t,e){return e?t*(1e3/e):0}const cN=30,jq=t=>!isNaN(parseFloat(t));class Tq{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ns.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ns.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vS);const r=this.events[e].add(n);return e==="change"?()=>{r(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ns.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cN);return ZI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kd(t,e){return new Tq(t,e)}function kq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,kd(n))}function Pq(t,e){const n=kg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=$9(i[o]);kq(t,o,l)}}function _q(t){return!!(pn(t)&&t.add)}function Zx(t,e){const n=t.getValue("willChange");if(_q(n))return n.add(e)}function JI(t){return t.props[PI]}const e2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Aq=1e-7,Rq=12;function Iq(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=e2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Aq&&++l<Rq);return o}function Ff(t,e,n,r){if(t===e&&n===r)return Xn;const s=i=>Iq(i,0,1,t,n);return i=>i===0||i===1?i:e2(s(i),e,r)}const t2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n2=t=>e=>1-t(1-e),r2=Ff(.33,1.53,.69,.99),xS=n2(r2),s2=t2(xS),i2=t=>(t*=2)<1?.5*xS(t):.5*(2-Math.pow(2,-10*(t-1))),wS=t=>1-Math.sin(Math.acos(t)),a2=n2(wS),o2=t2(wS),l2=t=>/^0[^.\s]+$/u.test(t);function Mq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l2(t):!0}const Wu=t=>Math.round(t*1e5)/1e5,bS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Oq(t){return t==null}const Dq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,SS=(t,e)=>n=>!!(typeof n=="string"&&Dq.test(n)&&n.startsWith(t)||e&&!Oq(n)&&Object.prototype.hasOwnProperty.call(n,e)),c2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(bS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Fq=t=>di(0,255,t),Hy={...Hc,transform:t=>Math.round(Fq(t))},Ha={test:SS("rgb","red"),parse:c2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hy.transform(t)+", "+Hy.transform(e)+", "+Hy.transform(n)+", "+Wu(Td.transform(r))+")"};function Lq(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Jx={test:SS("#"),parse:Lq,transform:Ha.transform},dl={test:SS("hsl","hue"),parse:c2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Es.transform(Wu(e))+", "+Es.transform(Wu(n))+", "+Wu(Td.transform(r))+")"},ln={test:t=>Ha.test(t)||Jx.test(t)||dl.test(t),parse:t=>Ha.test(t)?Ha.parse(t):dl.test(t)?dl.parse(t):Jx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ha.transform(t):dl.transform(t)},Vq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Uq(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bS))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Vq))===null||n===void 0?void 0:n.length)||0)>0}const u2="number",d2="color",$q="var",Bq="var(",uN="${}",zq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(zq,c=>(ln.test(c)?(r.color.push(i),s.push(d2),n.push(ln.parse(c))):c.startsWith(Bq)?(r.var.push(i),s.push($q),n.push(c)):(r.number.push(i),s.push(u2),n.push(parseFloat(c))),++i,uN)).split(uN);return{values:n,split:l,indexes:r,types:s}}function f2(t){return Pd(t).values}function h2(t){const{split:e,types:n}=Pd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===u2?i+=Wu(s[o]):l===d2?i+=ln.transform(s[o]):i+=s[o]}return i}}const Wq=t=>typeof t=="number"?0:t;function Hq(t){const e=f2(t);return h2(t)(e.map(Wq))}const ya={test:Uq,parse:f2,createTransformer:h2,getAnimatableNone:Hq},qq=new Set(["brightness","contrast","saturate","opacity"]);function Kq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bS)||[];if(!r)return t;const s=n.replace(r,"");let i=qq.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Yq=/\b([a-z-]*)\(.*?\)/gu,ew={...ya,getAnimatableNone:t=>{const e=t.match(Yq);return e?e.map(Kq).join(" "):t}},Gq={...aS,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:ew,WebkitFilter:ew},CS=t=>Gq[t];function p2(t,e){let n=CS(t);return n!==ew&&(n=ya),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Qq=new Set(["auto","none","0"]);function Xq(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Qq.has(i)&&Pd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=p2(n,s)}const dN=t=>t===Hc||t===_e,fN=(t,e)=>parseFloat(t.split(", ")[e]),hN=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return fN(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?fN(i[1],t):0}},Zq=new Set(["x","y","z"]),Jq=Wc.filter(t=>!Zq.has(t));function eK(t){const e=[];return Jq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:hN(4,13),y:hN(5,14)};jc.translateX=jc.x;jc.translateY=jc.y;const po=new Set;let tw=!1,nw=!1;function m2(){if(nw){const t=Array.from(po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=eK(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nw=!1,tw=!1,po.forEach(t=>t.complete()),po.clear()}function g2(){po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(nw=!0)})}function tK(){g2(),m2()}class ES{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(po.add(this),tw||(tw=!0,vt.read(g2),vt.resolveKeyframes(m2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),po.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,po.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const y2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),nK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rK(t){const e=nK.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function v2(t,e,n=1){const[r,s]=rK(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return y2(o)?parseFloat(o):o}return iS(s)?v2(s,e,n+1):s}const x2=t=>e=>e.test(t),sK={test:t=>t==="auto",parse:t=>t},w2=[Hc,_e,Es,Ti,K9,q9,sK],pN=t=>w2.find(x2(t));class b2 extends ES{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),iS(u))){const d=v2(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XI.has(r)||e.length!==2)return;const[s,i]=e,o=pN(s),l=pN(i);if(o!==l)if(dN(o)&&dN(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)Mq(e[s])&&r.push(s);r.length&&Xq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=jc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const mN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ya.test(t)||t==="0")&&!t.startsWith("url("));function iK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aK(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=mN(s,e),l=mN(i,e);return!o||!l?!1:iK(t)||(n==="spring"||hS(n))&&r}const oK=t=>t!==null;function Pg(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(oK),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const lK=40;class S2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ns.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>lK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tK(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ns.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!aK(e,r,s,i))if(o)this.options.duration=0;else{c&&c(Pg(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ct=(t,e,n)=>t+(e-t)*n;function qy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=qy(c,l,t+1/3),i=qy(c,l,t),o=qy(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function em(t,e){return n=>n>0?e:t}const Ky=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},uK=[Jx,Ha,dl],dK=t=>uK.find(e=>e.test(t));function gN(t){const e=dK(t);if(!e)return!1;let n=e.parse(t);return e===dl&&(n=cK(n)),n}const yN=(t,e)=>{const n=gN(t),r=gN(e);if(!n||!r)return em(t,e);const s={...n};return i=>(s.red=Ky(n.red,r.red,i),s.green=Ky(n.green,r.green,i),s.blue=Ky(n.blue,r.blue,i),s.alpha=Ct(n.alpha,r.alpha,i),Ha.transform(s))},fK=(t,e)=>n=>e(t(n)),Lf=(...t)=>t.reduce(fK),rw=new Set(["none","hidden"]);function hK(t,e){return rw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pK(t,e){return n=>Ct(t,e,n)}function NS(t){return typeof t=="number"?pK:typeof t=="string"?iS(t)?em:ln.test(t)?yN:yK:Array.isArray(t)?C2:typeof t=="object"?ln.test(t)?yN:mK:em}function C2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>NS(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function mK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=NS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function gK(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const yK=(t,e)=>{const n=ya.createTransformer(e),r=Pd(t),s=Pd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?rw.has(t)&&!s.values.length||rw.has(e)&&!r.values.length?hK(t,e):Lf(C2(gK(r,s),s.values),n):em(t,e)};function E2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):NS(t)(t,e)}const vK=5;function N2(t,e,n){const r=Math.max(e-vK,0);return ZI(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yy=.001;function xK({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let s,i,o=1-e;o=di(Pt.minDamping,Pt.maxDamping,o),t=di(Pt.minDuration,Pt.maxDuration,ei(t)),o<1?(s=u=>{const d=u*o,f=d*t,h=d-n,m=sw(u,o),y=Math.exp(-f);return Yy-h/m*y},i=u=>{const f=u*o*t,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-f),g=sw(Math.pow(u,2),o);return(-s(u)+Yy>0?-1:1)*((h-m)*y)/g}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Yy+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=bK(s,i,l);if(t=Js(t),isNaN(c))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const wK=12;function bK(t,e,n){let r=n;for(let s=1;s<wK;s++)r=r-t(r)/e(r);return r}function sw(t,e){return t*Math.sqrt(1-e*e)}const SK=["duration","bounce"],CK=["stiffness","damping","mass"];function vN(t,e){return e.some(n=>t[n]!==void 0)}function EK(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!vN(t,CK)&&vN(t,SK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*di(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Pt.mass,stiffness:s,damping:i}}else{const n=xK(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function j2(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=EK({...n,velocity:-ei(n.velocity||0)}),y=h||0,g=u/(2*Math.sqrt(c*d)),w=o-i,x=ei(Math.sqrt(c/d)),v=Math.abs(w)<5;r||(r=v?Pt.restSpeed.granular:Pt.restSpeed.default),s||(s=v?Pt.restDelta.granular:Pt.restDelta.default);let b;if(g<1){const E=sw(x,g);b=k=>{const T=Math.exp(-g*x*k);return o-T*((y+g*x*w)/E*Math.sin(E*k)+w*Math.cos(E*k))}}else if(g===1)b=E=>o-Math.exp(-x*E)*(w+(y+x*w)*E);else{const E=x*Math.sqrt(g*g-1);b=k=>{const T=Math.exp(-g*x*k),N=Math.min(E*k,300);return o-T*((y+g*x*w)*Math.sinh(N)+E*w*Math.cosh(N))/E}}const S={calculatedDuration:m&&f||null,next:E=>{const k=b(E);if(m)l.done=E>=f;else{let T=0;g<1&&(T=E===0?Js(y):N2(b,E,k));const N=Math.abs(T)<=r,j=Math.abs(o-k)<=s;l.done=N&&j}return l.value=l.done?o:k,l},toString:()=>{const E=Math.min(WI(S),Qx),k=HI(T=>S.next(E*T).value,E,30);return E+"ms "+k}};return S}function xN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,y=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let g=n*e;const w=f+g,x=o===void 0?w:o(w);x!==w&&(g=x-f);const v=N=>-g*Math.exp(-N/r),b=N=>x+v(N),S=N=>{const j=v(N),P=b(N);h.done=Math.abs(j)<=u,h.value=h.done?x:P};let E,k;const T=N=>{m(h.value)&&(E=N,k=j2({keyframes:[h.value,y(h.value)],velocity:N2(b,N,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:N=>{let j=!1;return!k&&E===void 0&&(j=!0,S(N),T(N)),E!==void 0&&N>=E?k.next(N-E):(!j&&S(N),h)}}}const NK=Ff(.42,0,1,1),jK=Ff(0,0,.58,1),T2=Ff(.42,0,.58,1),TK=t=>Array.isArray(t)&&typeof t[0]!="number",kK={linear:Xn,easeIn:NK,easeInOut:T2,easeOut:jK,circIn:wS,circInOut:o2,circOut:a2,backIn:xS,backInOut:s2,backOut:r2,anticipate:i2},wN=t=>{if(pS(t)){EI(t.length===4);const[e,n,r,s]=t;return Ff(e,n,r,s)}else if(typeof t=="string")return kK[t];return t};function PK(t,e,n){const r=[],s=n||E2,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Xn:e;l=Lf(c,l)}r.push(l)}return r}function _K(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(EI(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=PK(e,r,s),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Ec(t[f],t[f+1],d);return l[f](h)};return n?d=>u(di(t[0],t[i-1],d)):u}function AK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ec(0,e,r);t.push(Ct(n,1,s))}}function RK(t){const e=[0];return AK(e,t.length-1),e}function IK(t,e){return t.map(n=>n*e)}function MK(t,e){return t.map(()=>e||T2).splice(0,t.length-1)}function tm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=TK(r)?r.map(wN):wN(r),i={done:!1,value:e[0]},o=IK(n&&n.length===e.length?n:RK(e),t),l=_K(o,e,{ease:Array.isArray(s)?s:MK(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const OK=t=>{const e=({timestamp:n})=>t(n);return{start:()=>vt.update(e,!0),stop:()=>ga(e),now:()=>Jt.isProcessing?Jt.timestamp:Ns.now()}},DK={decay:xN,inertia:xN,tween:tm,keyframes:tm,spring:j2},FK=t=>t/100;class jS extends S2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||ES,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=hS(n)?n:DK[n]||tm;let c,u;l!==tm&&typeof e[0]!="number"&&(c=Lf(FK,E2(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WI(d));const{calculatedDuration:f}=d,h=f+s,m=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:m,repeatType:y,repeatDelay:g,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,S=i;if(m){const N=Math.min(this.currentTime,d)/f;let j=Math.floor(N),P=N%1;!P&&N>=1&&(P=1),P===1&&j--,j=Math.min(j,m+1),!!(j%2)&&(y==="reverse"?(P=1-P,g&&(P-=g/f)):y==="mirror"&&(S=o)),b=di(0,1,P)*f}const E=v?{done:!1,value:c[0]}:S.next(b);l&&(E.value=l(E.value));let{done:k}=E;!v&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&s!==void 0&&(E.value=Pg(c,this.options,s)),w&&w(E.value),T&&this.finish(),E}get duration(){const{resolved:e}=this;return e?ei(e.calculatedDuration):0}get time(){return ei(this.currentTime)}set time(e){e=Js(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OK,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const LK=new Set(["opacity","clipPath","filter","transform"]);function VK(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=KI(l,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const UK=Z0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nm=10,$K=2e4;function BK(t){return hS(t.type)||t.type==="spring"||!qI(t.ease)}function zK(t,e){const n=new jS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<$K;)r=n.sample(i),s.push(r.value),i+=nm;return{times:void 0,keyframes:s,duration:i-nm,ease:"linear"}}const k2={anticipate:i2,backInOut:s2,circInOut:o2};function WK(t){return t in k2}class bN extends S2{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new b2(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Jp()&&WK(i)&&(i=k2[i]),BK(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:y,...g}=this.options,w=zK(e,g);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,s=w.times,i=w.ease,o="keyframes"}const d=VK(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(iN(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Pg(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ei(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ei(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Js(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xn;const{animation:r}=n;iN(r,e)}return Xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,y=new jS({...m,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),g=Js(this.time);u.setWithVelocity(y.sample(g-nm).value,y.sample(g).value,nm)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return UK()&&r&&LK.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const HK={type:"spring",stiffness:500,damping:25,restSpeed:10},qK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KK={type:"keyframes",duration:.8},YK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GK=(t,{keyframes:e})=>e.length>2?KK:Vo.has(t)?t.startsWith("scale")?qK(e[1]):HK:YK;function QK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const TS=(t,e,n,r={},s,i)=>o=>{const l=fS(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Js(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:h=>{e.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};QK(l)||(d={...d,...GK(t,d)}),d.duration&&(d.duration=Js(d.duration)),d.repeatDelay&&(d.repeatDelay=Js(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const h=Pg(d.keyframes,l);if(h!==void 0)return vt.update(()=>{d.onUpdate(h),d.onComplete()}),new mq([])}return!i&&bN.supports(d)?new bN(d):new jS(d)};function XK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function P2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in c){const h=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),m=c[f];if(m===void 0||d&&XK(d,f))continue;const y={delay:n,...fS(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const x=JI(t);if(x){const v=window.MotionHandoffAnimation(x,f,vt);v!==null&&(y.startTime=v,g=!0)}}Zx(t,f),h.start(TS(f,h,m,t.shouldReduceMotion&&XI.has(f)?{type:!1}:y,t,g));const w=h.animation;w&&u.push(w)}return l&&Promise.all(u).then(()=>{vt.update(()=>{l&&Pq(t,l)})}),u}function iw(t,e,n={}){var r;const s=kg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(P2(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return ZK(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function ZK(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(JK).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(iw(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function JK(t,e){return t.sortNodePosition(e)}function eY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>iw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=iw(t,e,n);else{const s=typeof e=="function"?kg(t,e,n.custom):e;r=Promise.all(P2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const tY=eS.length;function _2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tY;n++){const r=eS[n],s=t.props[r];(jd(s)||s===!1)&&(e[r]=s)}return e}const nY=[...J0].reverse(),rY=J0.length;function sY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eY(t,n,r)))}function iY(t){let e=sY(t),n=SN(),r=!0;const s=c=>(u,d)=>{var f;const h=kg(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:y,...g}=h;u={...u,...g,...y}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=_2(t.parent)||{},f=[],h=new Set;let m={},y=1/0;for(let w=0;w<rY;w++){const x=nY[w],v=n[x],b=u[x]!==void 0?u[x]:d[x],S=jd(b),E=x===c?v.isActive:null;E===!1&&(y=w);let k=b===d[x]&&b!==u[x]&&S;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...m},!v.isActive&&E===null||!b&&!v.prevProp||jg(b)||typeof b=="boolean")continue;const T=aY(v.prevProp,b);let N=T||x===c&&v.isActive&&!k&&S||w>y&&S,j=!1;const P=Array.isArray(b)?b:[b];let O=P.reduce(s(x),{});E===!1&&(O={});const{prevResolvedValues:I={}}=v,B={...I,...O},D=$=>{N=!0,h.has($)&&(j=!0,h.delete($)),v.needsAnimating[$]=!0;const _=t.getValue($);_&&(_.liveStyle=!1)};for(const $ in B){const _=O[$],R=I[$];if(m.hasOwnProperty($))continue;let q=!1;Gx(_)&&Gx(R)?q=!zI(_,R):q=_!==R,q?_!=null?D($):h.add($):_!==void 0&&h.has($)?D($):v.protectedKeys[$]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(k&&T)||j)&&f.push(...P.map($=>({animation:$,options:{type:x}})))}if(h.size){const w={};h.forEach(x=>{const v=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),w[x]=v??null}),f.push({animation:w})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=SN(),r=!0}}}function aY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zI(e,t):!1}function Aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SN(){return{animate:Aa(!0),whileInView:Aa(),whileHover:Aa(),whileTap:Aa(),whileDrag:Aa(),whileFocus:Aa(),exit:Aa()}}class ka{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oY extends ka{constructor(e){super(e),e.animationState||(e.animationState=iY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lY=0;class cY extends ka{constructor(){super(...arguments),this.id=lY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uY={animation:{Feature:oY},exit:{Feature:cY}};function _d(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vf(t){return{point:{x:t.pageX,y:t.pageY}}}const dY=t=>e=>mS(e)&&t(e,Vf(e));function Hu(t,e,n,r){return _d(t,e,dY(n),r)}const CN=(t,e)=>Math.abs(t-e);function fY(t,e){const n=CN(t.x,e.x),r=CN(t.y,e.y);return Math.sqrt(n**2+r**2)}class A2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=fY(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:g}=Jt;this.history.push({...y,timestamp:g});const{onStart:w,onMove:x}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Gy(h,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Qy(f.type==="pointercancel"?this.lastMoveEventInfo:Gy(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),y&&y(f,w)},!mS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Vf(e),l=Gy(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Jt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Qy(l,this.history)),this.removeListeners=Lf(Hu(this.contextWindow,"pointermove",this.handlePointerMove),Hu(this.contextWindow,"pointerup",this.handlePointerUp),Hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ga(this.updatePoint)}}function Gy(t,e){return e?{point:e(t.point)}:t}function EN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qy({point:t},e){return{point:t,delta:EN(t,R2(e)),offset:EN(t,hY(e)),velocity:pY(e,.1)}}function hY(t){return t[0]}function R2(t){return t[t.length-1]}function pY(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=R2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Js(e)));)n--;if(!r)return{x:0,y:0};const i=ei(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const I2=1e-4,mY=1-I2,gY=1+I2,M2=.01,yY=0-M2,vY=0+M2;function Jn(t){return t.max-t.min}function xY(t,e,n){return Math.abs(t-e)<=n}function NN(t,e,n,r=.5){t.origin=r,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=Jn(n)/Jn(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mY&&t.scale<=gY||isNaN(t.scale))&&(t.scale=1),(t.translate>=yY&&t.translate<=vY||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,r){NN(t.x,e.x,n.x,r?r.originX:void 0),NN(t.y,e.y,n.y,r?r.originY:void 0)}function jN(t,e,n){t.min=n.min+e.min,t.max=t.min+Jn(e)}function wY(t,e,n){jN(t.x,e.x,n.x),jN(t.y,e.y,n.y)}function TN(t,e,n){t.min=e.min-n.min,t.max=t.min+Jn(e)}function Ku(t,e,n){TN(t.x,e.x,n.x),TN(t.y,e.y,n.y)}function bY(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ct(n,t,r.max):Math.min(t,n)),t}function kN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SY(t,{top:e,left:n,bottom:r,right:s}){return{x:kN(t.x,n,s),y:kN(t.y,e,r)}}function PN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CY(t,e){return{x:PN(t.x,e.x),y:PN(t.y,e.y)}}function EY(t,e){let n=.5;const r=Jn(t),s=Jn(e);return s>r?n=Ec(e.min,e.max-r,t.min):r>s&&(n=Ec(t.min,t.max-s,e.min)),di(0,1,n)}function NY(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const aw=.35;function jY(t=aw){return t===!1?t=0:t===!0&&(t=aw),{x:_N(t,"left","right"),y:_N(t,"top","bottom")}}function _N(t,e,n){return{min:AN(t,e),max:AN(t,n)}}function AN(t,e){return typeof t=="number"?t:t[e]||0}const RN=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:RN(),y:RN()}),IN=()=>({min:0,max:0}),It=()=>({x:IN(),y:IN()});function ir(t){return[t("x"),t("y")]}function O2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function TY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xy(t){return t===void 0||t===1}function ow({scale:t,scaleX:e,scaleY:n}){return!Xy(t)||!Xy(e)||!Xy(n)}function Oa(t){return ow(t)||D2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function D2(t){return MN(t.x)||MN(t.y)}function MN(t){return t&&t!=="0%"}function rm(t,e,n){const r=t-n,s=e*r;return n+s}function ON(t,e,n,r,s){return s!==void 0&&(t=rm(t,s,r)),rm(t,n,r)+e}function lw(t,e=0,n=1,r,s){t.min=ON(t.min,e,n,r,s),t.max=ON(t.max,e,n,r,s)}function F2(t,{x:e,y:n}){lw(t.x,e.translate,e.scale,e.originPoint),lw(t.y,n.translate,n.scale,n.originPoint)}const DN=.999999999999,FN=1.0000000000001;function PY(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,F2(t,o)),r&&Oa(i.latestValues)&&pl(t,i.latestValues))}e.x<FN&&e.x>DN&&(e.x=1),e.y<FN&&e.y>DN&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function LN(t,e,n,r,s=.5){const i=Ct(t.min,t.max,s);lw(t,e,n,i,r)}function pl(t,e){LN(t.x,e.x,e.scaleX,e.scale,e.originX),LN(t.y,e.y,e.scaleY,e.scale,e.originY)}function L2(t,e){return O2(kY(t.getBoundingClientRect(),e))}function _Y(t,e,n){const r=L2(t,n),{scroll:s}=e;return s&&(hl(r.x,s.offset.x),hl(r.y,s.offset.y)),r}const V2=({current:t})=>t?t.ownerDocument.defaultView:null,AY=new WeakMap;class RY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vf(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Eq(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ir(w=>{let x=this.getAxisMotionValue(w).get()||0;if(Es.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[w];b&&(x=Jn(b)*(parseFloat(x)/100))}}this.originPoint[w]=x}),y&&vt.postRender(()=>y(d,f)),Zx(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=IY(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>ir(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new A2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:V2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&vt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ch(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=bY(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ul(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=SY(s.layoutBox,n):this.constraints=!1,this.elastic=jY(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ir(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=NY(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ul(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_Y(r,s.root,this.visualElement.getTransformPagePoint());let o=CY(s.layout.layoutBox,i);if(n){const l=n(TY(o));this.hasMutatedConstraints=!!l,l&&(o=O2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ir(d=>{if(!Ch(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Zx(this.visualElement,e),r.start(TS(e,r,0,n,this.visualElement,!1))}stopAnimation(){ir(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ir(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ir(n=>{const{drag:r}=this.getProps();if(!Ch(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Ct(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ul(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ir(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=EY({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ir(o=>{if(!Ch(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ct(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;AY.set(this.visualElement,this);const e=this.visualElement.current,n=Hu(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ul(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),vt.read(r);const o=_d(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ir(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=aw,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ch(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IY(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MY extends ka{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new RY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const VN=t=>(e,n)=>{t&&vt.postRender(()=>t(e,n))};class OY extends ka{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new A2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:VN(e),onStart:VN(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&vt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const au={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=UN(t,e.target.x),r=UN(t,e.target.y);return`${n}% ${r}%`}},DY={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ya.parse(t);if(s.length>5)return r;const i=ya.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=Ct(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class FY extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;rq(LY),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||vt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function U2(t){const[e,n]=SI(),r=p.useContext(Y0);return a.jsx(FY,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(_I),isPresent:e,safeToRemove:n})}const LY={borderRadius:{...au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:au,borderTopRightRadius:au,borderBottomLeftRadius:au,borderBottomRightRadius:au,boxShadow:DY};function VY(t,e,n){const r=pn(t)?t:kd(t);return r.start(TS("",r,e,n)),r.animation}function UY(t){return t instanceof SVGElement&&t.tagName!=="svg"}const $Y=(t,e)=>t.depth-e.depth;class BY{constructor(){this.children=[],this.isDirty=!1}add(e){gS(this.children,e),this.isDirty=!0}remove(e){yS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($Y),this.isDirty=!1,this.children.forEach(e)}}function zY(t,e){const n=Ns.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ga(r),t(i-e))};return vt.read(r,!0),()=>ga(r)}const $2=["TopLeft","TopRight","BottomLeft","BottomRight"],WY=$2.length,$N=t=>typeof t=="string"?parseFloat(t):t,BN=t=>typeof t=="number"||_e.test(t);function HY(t,e,n,r,s,i){s?(t.opacity=Ct(0,n.opacity!==void 0?n.opacity:1,qY(r)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,KY(r))):i&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<WY;o++){const l=`border${$2[o]}Radius`;let c=zN(e,l),u=zN(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||BN(c)===BN(u)?(t[l]=Math.max(Ct($N(c),$N(u),r),0),(Es.test(u)||Es.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,r))}function zN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qY=B2(0,.5,a2),KY=B2(.5,.95,Xn);function B2(t,e,n){return r=>r<t?0:r>e?1:n(Ec(t,e,r))}function WN(t,e){t.min=e.min,t.max=e.max}function sr(t,e){WN(t.x,e.x),WN(t.y,e.y)}function HN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qN(t,e,n,r,s){return t-=e,t=rm(t,1/n,r),s!==void 0&&(t=rm(t,1/s,r)),t}function YY(t,e=0,n=1,r=.5,s,i=t,o=t){if(Es.test(e)&&(e=parseFloat(e),e=Ct(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ct(i.min,i.max,r);t===i&&(l-=e),t.min=qN(t.min,e,n,l,s),t.max=qN(t.max,e,n,l,s)}function KN(t,e,[n,r,s],i,o){YY(t,e[n],e[r],e[s],e.scale,i,o)}const GY=["x","scaleX","originX"],QY=["y","scaleY","originY"];function YN(t,e,n,r){KN(t.x,e,GY,n?n.x:void 0,r?r.x:void 0),KN(t.y,e,QY,n?n.y:void 0,r?r.y:void 0)}function GN(t){return t.translate===0&&t.scale===1}function z2(t){return GN(t.x)&&GN(t.y)}function QN(t,e){return t.min===e.min&&t.max===e.max}function XY(t,e){return QN(t.x,e.x)&&QN(t.y,e.y)}function XN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function W2(t,e){return XN(t.x,e.x)&&XN(t.y,e.y)}function ZN(t){return Jn(t.x)/Jn(t.y)}function JN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZY{constructor(){this.members=[]}add(e){gS(this.members,e),e.scheduleRender()}remove(e){if(yS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JY(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Nu=typeof window<"u"&&window.MotionDebug!==void 0,Zy=["","X","Y","Z"],eG={visibility:"hidden"},ej=1e3;let tG=0;function Jy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function H2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=JI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&H2(r)}function q2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=tG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nu&&(Da.totalNodes=Da.resolvedTargetDeltas=Da.recalculatedProjection=0),this.nodes.forEach(sG),this.nodes.forEach(cG),this.nodes.forEach(uG),this.nodes.forEach(iG),Nu&&window.MotionDebug.record(Da)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new BY)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UY(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=zY(h,250),tp.hasAnimatedSinceResize&&(tp.hasAnimatedSinceResize=!1,this.nodes.forEach(nj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||mG,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!W2(this.targetLayout,y)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...fS(g,"layout"),onPlay:w,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||nj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dG),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tj);return}this.isUpdating||this.nodes.forEach(oG),this.isUpdating=!1,this.nodes.forEach(lG),this.nodes.forEach(nG),this.nodes.forEach(rG),this.clearAllSnapshots();const l=Ns.now();Jt.delta=di(0,1e3/60,l-Jt.timestamp),Jt.timestamp=l,Jt.isProcessing=!0,zy.update.process(Jt),zy.preRender.process(Jt),zy.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aG),this.sharedNodes.forEach(fG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!z2(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Oa(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),gG(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return It();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(yG))){const{scroll:d}=this.root;d&&(hl(c.x,d.offset.x),hl(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=It();if(sr(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&sr(c,o),hl(c.x,f.offset.x),hl(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=It();sr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&pl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Oa(d.latestValues)&&pl(c,d.latestValues)}return Oa(this.latestValues)&&pl(c,this.latestValues),c}removeTransform(o){const l=It();sr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Oa(u.latestValues))continue;ow(u.latestValues)&&u.updateSnapshot();const d=It(),f=u.measurePageBox();sr(d,f),YN(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Oa(this.latestValues)&&YN(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Ku(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sr(this.target,this.layout.layoutBox),F2(this.target,this.targetDelta)):sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Ku(this.relativeTargetOrigin,this.target,m.target),sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nu&&Da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ow(this.parent.latestValues)||D2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;sr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;PY(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=It());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HN(this.prevProjectionDelta.x,this.projectionDelta.x),HN(this.prevProjectionDelta.y,this.projectionDelta.y)),qu(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!JN(this.projectionDelta.x,this.prevProjectionDelta.x)||!JN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Nu&&Da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fl(),this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=It(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,w=this.getStack(),x=!w||w.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(pG));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const E=S/1e3;rj(f.x,o.x,E),rj(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ku(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hG(this.relativeTarget,this.relativeTargetOrigin,h,E),b&&XY(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=It()),sr(b,this.relativeTarget)),g&&(this.animationValues=d,HY(d,u,this.latestValues,E,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{tp.hasAnimatedSinceResize=!0,this.currentAnimation=VY(0,ej,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ej),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&K2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||It();const f=Jn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Jn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}sr(l,c),pl(l,d),qu(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZY),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Jy("z",o,u,this.animationValues);for(let d=0;d<Zy.length;d++)Jy(`rotate${Zy[d]}`,o,u,this.animationValues),Jy(`skew${Zy[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eG;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Jh(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Jh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=JY(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Zp){if(h[g]===void 0)continue;const{correct:w,applyTo:x}=Zp[g],v=u.transform==="none"?h[g]:w(h[g],f);if(x){const b=x.length;for(let S=0;S<b;S++)u[x[S]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?Jh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(tj),this.root.sharedNodes.clear()}}}function nG(t){t.updateLayout()}function rG(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?ir(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Jn(h);h.min=r[f].min,h.max=h.min+m}):K2(i,n.layoutBox,r)&&ir(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Jn(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=fl();qu(l,r,n.layoutBox);const c=fl();o?qu(c,t.applyTransform(s,!0),n.measuredBox):qu(c,r,n.layoutBox);const u=!z2(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=It();Ku(y,n.layoutBox,h.layoutBox);const g=It();Ku(g,r,m.layoutBox),W2(y,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sG(t){Nu&&Da.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aG(t){t.clearSnapshot()}function tj(t){t.clearMeasurements()}function oG(t){t.isLayoutDirty=!1}function lG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cG(t){t.resolveTargetDelta()}function uG(t){t.calcProjection()}function dG(t){t.resetSkewAndRotation()}function fG(t){t.removeLeadSnapshot()}function rj(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sj(t,e,n,r){t.min=Ct(e.min,n.min,r),t.max=Ct(e.max,n.max,r)}function hG(t,e,n,r){sj(t.x,e.x,n.x,r),sj(t.y,e.y,n.y,r)}function pG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mG={duration:.45,ease:[.4,0,.1,1]},ij=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aj=ij("applewebkit/")&&!ij("chrome/")?Math.round:Xn;function oj(t){t.min=aj(t.min),t.max=aj(t.max)}function gG(t){oj(t.x),oj(t.y)}function K2(t,e,n){return t==="position"||t==="preserve-aspect"&&!xY(ZN(e),ZN(n),.2)}function yG(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const vG=q2({attachResizeListener:(t,e)=>_d(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ev={current:void 0},Y2=q2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ev.current){const t=new vG({});t.mount(window),t.setOptions({layoutScroll:!0}),ev.current=t}return ev.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xG={pan:{Feature:OY},drag:{Feature:MY,ProjectionNode:Y2,MeasureLayout:U2}};function lj(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&vt.postRender(()=>i(e,Vf(e)))}class wG extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=xq(e,n=>(lj(this.node,n,"Start"),r=>lj(this.node,r,"End"))))}unmount(){}}class bG extends ka{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lf(_d(this.node.current,"focus",()=>this.onFocus()),_d(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cj(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&vt.postRender(()=>i(e,Vf(e)))}class SG extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=Cq(e,n=>(cj(this.node,n,"Start"),(r,{success:s})=>cj(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cw=new WeakMap,tv=new WeakMap,CG=t=>{const e=cw.get(t.target);e&&e(t)},EG=t=>{t.forEach(CG)};function NG({root:t,...e}){const n=t||document;tv.has(n)||tv.set(n,{});const r=tv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(EG,{root:t,...e})),r[s]}function jG(t,e,n){const r=NG(e);return cw.set(t,n),r.observe(t),()=>{cw.delete(t),r.unobserve(t)}}const TG={some:0,all:1};class kG extends ka{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:TG[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return jG(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PG(e,n))&&this.startObserver()}unmount(){}}function PG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _G={inView:{Feature:kG},tap:{Feature:SG},focus:{Feature:bG},hover:{Feature:wG}},AG={layout:{ProjectionNode:Y2,MeasureLayout:U2}},uw={current:null},G2={current:!1};function RG(){if(G2.current=!0,!!X0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uw.current=t.matches;t.addListener(e),e()}else uw.current=!1}const IG=[...w2,ln,ya],MG=t=>IG.find(x2(t)),uj=new WeakMap;function OG(t,e,n){for(const r in e){const s=e[r],i=n[r];if(pn(s))t.addValue(r,s);else if(pn(i))t.addValue(r,kd(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,kd(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ES,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ns.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,vt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Tg(n),this.isVariantNode=kI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const y=h[m];c[m]!==void 0&&pn(y)&&y.set(c[m],!1)}}mount(e){this.current=e,uj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),G2.current||RG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uj.delete(this.current),this.projection&&this.projection.unmount(),ga(this.notifyUpdate),ga(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vo.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nc){const n=Nc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dj.length;r++){const s=dj[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=OG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=kd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(y2(s)||l2(s))?s=parseFloat(s):!MG(s)&&ya.test(n)&&(s=p2(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=sS(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Q2 extends DG{constructor(){super(...arguments),this.KeyframeResolver=b2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function FG(t){return window.getComputedStyle(t)}class LG extends Q2{constructor(){super(...arguments),this.type="html",this.renderInstance=FI}readValueFromInstance(e,n){if(Vo.has(n)){const r=CS(n);return r&&r.default||0}else{const r=FG(e),s=(MI(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return L2(e,n)}build(e,n,r){oS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dS(e,n,r)}}class VG extends Q2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vo.has(n)){const r=CS(n);return r&&r.default||0}return n=LI.has(n)?n:tS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $I(e,n,r)}build(e,n,r){lS(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){VI(e,n,r,s)}mount(e){this.isSVGTag=uS(e.tagName),super.mount(e)}}const UG=(t,e)=>rS(t)?new VG(e):new LG(e,{allowProjection:t!==p.Fragment}),$G=fq({...uY,..._G,...xG,...AG},UG),Ci=T9($G),BG=Lo("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ke({className:t,variant:e,...n}){return a.jsx("div",{className:ae(BG({variant:e}),t),...n})}function zG({name:t,description:e,image:n,address:r,phone:s,hours:i}){return a.jsxs("div",{className:"relative",children:[n&&a.jsxs("div",{className:"relative h-48 md:h-64 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),a.jsx("img",{src:n,alt:t,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 z-20 text-white",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2","data-testid":"text-restaurant-name",children:t}),e&&a.jsx("p",{className:"text-white/90 max-w-2xl",children:e})]})]}),!n&&a.jsxs("div",{className:"py-8 px-4",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2","data-testid":"text-restaurant-name",children:t}),e&&a.jsx("p",{className:"text-muted-foreground max-w-2xl",children:e})]}),(r||s||i)&&a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[r&&a.jsxs(Ke,{variant:"secondary",className:"gap-2 py-2",children:[a.jsx(l0,{className:"h-4 w-4"}),r]}),s&&a.jsxs(Ke,{variant:"secondary",className:"gap-2 py-2",children:[a.jsx(q$,{className:"h-4 w-4"}),s]}),i&&a.jsxs(Ke,{variant:"secondary",className:"gap-2 py-2",children:[a.jsx(So,{className:"h-4 w-4"}),i]})]})})})]})}function WG({categories:t,activeCategory:e,onCategoryChange:n}){return a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:t.map(r=>a.jsx(X,{variant:e===r.value?"default":"outline",size:"sm",onClick:()=>n(r.value),className:"shrink-0","data-testid":`button-category-${r.value.toLowerCase().replace(/\s+/g,"-")}`,children:r.label},r.value))})}function HG({name:t,description:e,price:n,image:r,spiceLevel:s,isVegan:i,isVegetarian:o,isHalal:l,isKosher:c,allergens:u,onAddToCart:d,onClick:f}){const{formatCurrency:h}=Ft();return a.jsxs(ge,{className:"overflow-hidden shadow-card-hover glass-card group cursor-pointer relative",onClick:f,"data-testid":`card-menu-item-${t.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),a.jsxs("div",{className:"aspect-[4/3] overflow-hidden relative",children:[a.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg",children:a.jsx(Co,{className:"h-4 w-4 text-primary"})})})]}),a.jsxs("div",{className:"p-6 relative z-10",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[a.jsx("h3",{className:"font-bold text-lg group-hover:text-primary transition-colors leading-tight","data-testid":`text-item-name-${t.toLowerCase().replace(/\s+/g,"-")}`,children:t}),a.jsx("div",{className:"text-right shrink-0",children:a.jsx("span",{className:"font-bold text-xl gradient-text","data-testid":`text-item-price-${t.toLowerCase().replace(/\s+/g,"-")}`,children:h(n)})})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2 leading-relaxed",children:e}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[typeof s=="number"&&s>0&&a.jsxs(Ke,{variant:"secondary",className:"gap-1 bg-red-100 text-red-700 border-red-200 hover:bg-red-200 transition-colors",children:[a.jsx(J_,{className:"h-3 w-3"}),Array(s).fill("").join("")]}),i&&a.jsxs(Ke,{variant:"secondary",className:"gap-1 bg-green-100 text-green-700 border-green-200 hover:bg-green-200 transition-colors",children:[a.jsx(Op,{className:"h-3 w-3"}),"Vegan"]}),o&&!i&&a.jsxs(Ke,{variant:"secondary",className:"gap-1 bg-green-100 text-green-700 border-green-200 hover:bg-green-200 transition-colors",children:[a.jsx(Op,{className:"h-3 w-3"}),"Vegetarian"]}),l&&a.jsxs(Ke,{variant:"secondary",className:"gap-1 bg-blue-100 text-blue-700 border-blue-200 hover:bg-blue-200 transition-colors",children:[a.jsx(tA,{className:"h-3 w-3"}),"Halal"]}),c&&a.jsxs(Ke,{variant:"secondary",className:"gap-1 bg-purple-100 text-purple-700 border-purple-200 hover:bg-purple-200 transition-colors",children:[a.jsx(vd,{className:"h-3 w-3"}),"Kosher"]})]}),u&&u.length>0&&a.jsx("div",{className:"mb-4 p-2 bg-yellow-50 border border-yellow-200 rounded-md",children:a.jsxs("p",{className:"text-xs text-yellow-800 font-medium",children:[" Allergens: ",u.join(", ")]})}),a.jsxs(X,{className:"w-full gap-2 btn-glow hover-lift font-semibold",onClick:m=>{m.stopPropagation(),d==null||d()},"data-testid":`button-add-to-cart-${t.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(Co,{className:"h-4 w-4"}),"Add to Cart"]})]})]})}const X2=I0,qG=ER,KG=M0,Z2=p.forwardRef(({className:t,...e},n)=>a.jsx(Nf,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Z2.displayName=Nf.displayName;const YG=Lo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),kS=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>a.jsxs(KG,{children:[a.jsx(Z2,{}),a.jsxs(jf,{ref:s,className:ae(YG({side:t}),e),...r,children:[n,a.jsxs(vg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(d0,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kS.displayName=jf.displayName;const PS=({className:t,...e})=>a.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});PS.displayName="SheetHeader";const _S=p.forwardRef(({className:t,...e},n)=>a.jsx(Tf,{ref:n,className:ae("text-lg font-semibold text-foreground",t),...e}));_S.displayName=Tf.displayName;const J2=p.forwardRef(({className:t,...e},n)=>a.jsx(kf,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));J2.displayName=kf.displayName;var GG=p.createContext(void 0);function qc(t){const e=p.useContext(GG);return t||e||"ltr"}var nv="rovingFocusGroup.onEntryFocus",QG={bubbles:!1,cancelable:!0},Uf="RovingFocusGroup",[dw,eM,XG]=eg(Uf),[ZG,Kc]=yn(Uf,[XG]),[JG,eQ]=ZG(Uf),tM=p.forwardRef((t,e)=>a.jsx(dw.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(dw.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(tQ,{...t,ref:e})})}));tM.displayName=Uf;var tQ=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=p.useRef(null),m=De(e,h),y=qc(i),[g,w]=Zr({prop:o,defaultProp:l??null,onChange:c,caller:Uf}),[x,v]=p.useState(!1),b=Dt(u),S=eM(n),E=p.useRef(!1),[k,T]=p.useState(0);return p.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(nv,b),()=>N.removeEventListener(nv,b)},[b]),a.jsx(JG,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(N=>w(N),[w]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(N=>N+1),[]),onFocusableItemRemove:p.useCallback(()=>T(N=>N-1),[]),children:a.jsx(Ne.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{E.current=!0}),onFocus:oe(t.onFocus,N=>{const j=!E.current;if(N.target===N.currentTarget&&j&&!x){const P=new CustomEvent(nv,QG);if(N.currentTarget.dispatchEvent(P),!P.defaultPrevented){const O=S().filter(V=>V.focusable),I=O.find(V=>V.active),B=O.find(V=>V.id===g),M=[I,B,...O].filter(Boolean).map(V=>V.ref.current);sM(M,d)}}E.current=!1}),onBlur:oe(t.onBlur,()=>v(!1))})})}),nM="RovingFocusGroupItem",rM=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=Gr(),u=i||c,d=eQ(nM,n),f=d.currentTabStopId===u,h=eM(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=d;return p.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),a.jsx(dw.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Ne.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:oe(t.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:oe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:oe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=sQ(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const S=b.indexOf(w.currentTarget);b=d.loop?iQ(b,S+1):b.slice(S+1)}setTimeout(()=>sM(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});rM.displayName=nM;var nQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function sQ(t,e,n){const r=rQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nQ[r]}function sM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function iQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var AS=tM,RS=rM;function _g(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var IS="Radio",[aQ,iM]=yn(IS),[oQ,lQ]=aQ(IS),aM=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[f,h]=p.useState(null),m=De(e,w=>h(w)),y=p.useRef(!1),g=f?u||!!f.closest("form"):!0;return a.jsxs(oQ,{scope:n,checked:s,disabled:o,children:[a.jsx(Ne.button,{type:"button",role:"radio","aria-checked":s,"data-state":uM(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:oe(t.onClick,w=>{s||c==null||c(),g&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),g&&a.jsx(cM,{control:f,bubbles:!y.current,name:r,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});aM.displayName=IS;var oM="RadioIndicator",lM=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=lQ(oM,n);return a.jsx(rn,{present:r||i.checked,children:a.jsx(Ne.span,{"data-state":uM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});lM.displayName=oM;var cQ="RadioBubbleInput",cM=p.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=p.useRef(null),l=De(o,i),c=_g(n),u=cg(e);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),a.jsx(Ne.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cM.displayName=cQ;function uM(t){return t?"checked":"unchecked"}var uQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ag="RadioGroup",[dQ]=yn(Ag,[Kc,iM]),dM=Kc(),fM=iM(),[fQ,hQ]=dQ(Ag),hM=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=t,m=dM(n),y=qc(u),[g,w]=Zr({prop:i,defaultProp:s??null,onChange:f,caller:Ag});return a.jsx(fQ,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:w,children:a.jsx(AS,{asChild:!0,...m,orientation:c,dir:y,loop:d,children:a.jsx(Ne.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...h,ref:e})})})});hM.displayName=Ag;var pM="RadioGroupItem",mM=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=hQ(pM,n),o=i.disabled||r,l=dM(n),c=fM(n),u=p.useRef(null),d=De(e,u),f=i.value===s.value,h=p.useRef(!1);return p.useEffect(()=>{const m=g=>{uQ.includes(g.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",y)}},[]),a.jsx(RS,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(aM,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:oe(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:oe(s.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});mM.displayName=pM;var pQ="RadioGroupIndicator",gM=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=fM(n);return a.jsx(lM,{...s,...r,ref:e})});gM.displayName=pQ;var yM=hM,vM=mM,mQ=gM;const xM=p.forwardRef(({className:t,...e},n)=>a.jsx(yM,{className:ae("grid gap-2",t),...e,ref:n}));xM.displayName=yM.displayName;const fw=p.forwardRef(({className:t,...e},n)=>a.jsx(vM,{ref:n,className:ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(mQ,{className:"flex items-center justify-center",children:a.jsx(Z_,{className:"h-2.5 w-2.5 fill-current text-current"})})}));fw.displayName=vM.displayName;function gQ({items:t,onUpdateQuantity:e,onRemoveItem:n,paymentMethod:r,onPaymentMethodChange:s,onCheckout:i,stripeOnboardingComplete:o=!1,paystackOnboardingComplete:l=!1}){const{t:c,formatCurrency:u}=Ft(),d=t.reduce((g,w)=>g+w.price*w.quantity,0),f=d*.1,h=d+f,m=t.reduce((g,w)=>g+w.quantity,0),y=o||l;return p.useEffect(()=>{!y&&r==="online"&&s("cash")},[y,r,s]),a.jsxs(X2,{children:[a.jsx(qG,{asChild:!0,children:a.jsxs("div",{className:"relative inline-block",children:[a.jsx(X,{variant:"outline",size:"icon","data-testid":"button-open-cart",children:a.jsx(qC,{className:"h-5 w-5"})}),m>0&&a.jsx("span",{className:"absolute -top-1 -right-1 pointer-events-none translate-x-1/2 -translate-y-1/2",children:a.jsx(Ke,{variant:"destructive",className:"h-5 min-w-5 px-1 rounded-full flex items-center justify-center text-xs","data-testid":"badge-cart-count",children:m})})]})}),a.jsxs(kS,{className:"w-full sm:max-w-lg overflow-y-auto",children:[a.jsx(PS,{children:a.jsx(_S,{children:c("yourCart")})}),t.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[a.jsx(qC,{className:"h-16 w-16 mb-4"}),a.jsx("p",{children:c("emptyCart")})]}):a.jsxs("div",{className:"mt-6 space-y-4",children:[t.map(g=>a.jsxs("div",{className:"flex gap-4","data-testid":`cart-item-${g.id}`,children:[a.jsx("img",{src:g.image,alt:g.name,className:"w-20 h-20 object-cover rounded-md"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:g.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:u(g.price)}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(X,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>e(g.id,Math.max(0,g.quantity-1)),"data-testid":`button-decrease-${g.id}`,children:a.jsx(rA,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center","data-testid":`text-quantity-${g.id}`,children:g.quantity}),a.jsx(X,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>e(g.id,g.quantity+1),"data-testid":`button-increase-${g.id}`,children:a.jsx(Co,{className:"h-3 w-3"})}),a.jsx(X,{size:"icon",variant:"ghost",className:"h-7 w-7 ml-auto",onClick:()=>n(g.id),"data-testid":`button-remove-${g.id}`,children:a.jsx(Cf,{className:"h-4 w-4"})})]})]})]},g.id)),a.jsx(Kt,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:c("subtotal")}),a.jsx("span",{"data-testid":"text-subtotal",children:u(d)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:c("tax")}),a.jsx("span",{"data-testid":"text-tax",children:u(f)})]}),a.jsx(Kt,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:c("total")}),a.jsx("span",{"data-testid":"text-total",children:u(h)})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Je,{className:"text-sm font-medium",children:c("paymentMethod")}),a.jsxs(xM,{value:r,onValueChange:g=>s(g),children:[y&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fw,{value:"online",id:"online","data-testid":"radio-payment-online"}),a.jsx(Je,{htmlFor:"online",className:"cursor-pointer",children:c("payOnline")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fw,{value:"cash",id:"cash","data-testid":"radio-payment-cash"}),a.jsx(Je,{htmlFor:"cash",className:"cursor-pointer",children:c("payWithCash")})]})]})]}),a.jsx(X,{className:"w-full",size:"lg",onClick:i,"data-testid":"button-checkout",children:c("checkout")})]})]})]})}function yQ({open:t,onOpenChange:e,item:n,onAddToCart:r}){const[s,i]=p.useState(1),{formatCurrency:o}=Ft(),l=()=>{r==null||r(s),i(1),e(!1)};return a.jsx(En,{open:t,onOpenChange:e,children:a.jsxs(fn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Nn,{children:a.jsx(hn,{children:n.name})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"aspect-video overflow-hidden rounded-lg",children:a.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx("p",{className:"text-muted-foreground",children:n.description}),a.jsx("span",{className:"font-semibold text-2xl text-primary shrink-0",children:o(n.price)})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold",children:"Dietary Information"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.spiceLevel&&n.spiceLevel>0&&a.jsxs(Ke,{variant:"secondary",className:"gap-1",children:[a.jsx(J_,{className:"h-4 w-4"}),"Spice Level: ",n.spiceLevel]}),n.isVegan&&a.jsxs(Ke,{variant:"secondary",className:"gap-1",children:[a.jsx(Op,{className:"h-4 w-4"}),"Vegan"]}),n.isVegetarian&&!n.isVegan&&a.jsxs(Ke,{variant:"secondary",className:"gap-1",children:[a.jsx(Op,{className:"h-4 w-4"}),"Vegetarian"]}),n.isHalal&&a.jsxs(Ke,{variant:"secondary",className:"gap-1",children:[a.jsx(tA,{className:"h-4 w-4"}),"Halal"]}),n.isKosher&&a.jsxs(Ke,{variant:"secondary",className:"gap-1",children:[a.jsx(vd,{className:"h-4 w-4"}),"Kosher"]})]})]}),n.allergens&&n.allergens.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold",children:"Allergen Information"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.allergens.map(c=>a.jsx(Ke,{variant:"outline",children:c},c))})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(X,{size:"icon",variant:"outline",onClick:()=>i(Math.max(1,s-1)),"data-testid":"button-decrease-quantity",children:a.jsx(rA,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-12 text-center font-medium","data-testid":"text-dialog-quantity",children:s}),a.jsx(X,{size:"icon",variant:"outline",onClick:()=>i(s+1),"data-testid":"button-increase-quantity",children:a.jsx(Co,{className:"h-4 w-4"})})]}),a.jsxs(X,{onClick:l,className:"gap-2","data-testid":"button-dialog-add-to-cart",children:[a.jsx(Co,{className:"h-4 w-4"}),"Add to Cart - ",o(n.price*s)]})]})]})]})})}function vQ(t){const e=xQ(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(bQ);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function xQ(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=CQ(s),l=SQ(i,s.props);return s.type!==p.Fragment&&(l.ref=r?mi(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wQ=Symbol("radix.slottable");function bQ(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wQ}function SQ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function CQ(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hw=["Enter"," "],EQ=["ArrowDown","PageUp","Home"],wM=["ArrowUp","PageDown","End"],NQ=[...EQ,...wM],jQ={ltr:[...hw,"ArrowRight"],rtl:[...hw,"ArrowLeft"]},TQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$f="Menu",[Ad,kQ,PQ]=eg($f),[Uo,bM]=yn($f,[PQ,$c,Kc]),Rg=$c(),SM=Kc(),[_Q,$o]=Uo($f),[AQ,Bf]=Uo($f),CM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,l=Rg(e),[c,u]=p.useState(null),d=p.useRef(!1),f=Dt(i),h=qc(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(b0,{...l,children:a.jsx(_Q,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(AQ,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};CM.displayName=$f;var RQ="MenuAnchor",MS=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Rg(n);return a.jsx(S0,{...s,...r,ref:e})});MS.displayName=RQ;var OS="MenuPortal",[IQ,EM]=Uo(OS,{forceMount:void 0}),NM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=$o(OS,e);return a.jsx(IQ,{scope:e,forceMount:n,children:a.jsx(rn,{present:n||i.open,children:a.jsx(bf,{asChild:!0,container:s,children:r})})})};NM.displayName=OS;var yr="MenuContent",[MQ,DS]=Uo(yr),jM=p.forwardRef((t,e)=>{const n=EM(yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$o(yr,t.__scopeMenu),o=Bf(yr,t.__scopeMenu);return a.jsx(Ad.Provider,{scope:t.__scopeMenu,children:a.jsx(rn,{present:r||i.open,children:a.jsx(Ad.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(OQ,{...s,ref:e}):a.jsx(DQ,{...s,ref:e})})})})}),OQ=p.forwardRef((t,e)=>{const n=$o(yr,t.__scopeMenu),r=p.useRef(null),s=De(e,r);return p.useEffect(()=>{const i=r.current;if(i)return P0(i)},[]),a.jsx(FS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),DQ=p.forwardRef((t,e)=>{const n=$o(yr,t.__scopeMenu);return a.jsx(FS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),FQ=vQ("MenuContent.ScrollLock"),FS=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...g}=t,w=$o(yr,n),x=Bf(yr,n),v=Rg(n),b=SM(n),S=kQ(n),[E,k]=p.useState(null),T=p.useRef(null),N=De(e,T,w.onContentChange),j=p.useRef(0),P=p.useRef(""),O=p.useRef(0),I=p.useRef(null),B=p.useRef("right"),D=p.useRef(0),M=y?gg:p.Fragment,V=y?{as:FQ,allowPinchZoom:!0}:void 0,$=R=>{var Q,L;const q=P.current+R,G=S().filter(he=>!he.disabled),se=document.activeElement,J=(Q=G.find(he=>he.ref.current===se))==null?void 0:Q.textValue,ce=G.map(he=>he.textValue),Se=GQ(ce,q,J),W=(L=G.find(he=>he.textValue===Se))==null?void 0:L.ref.current;(function he(ne){P.current=ne,window.clearTimeout(j.current),ne!==""&&(j.current=window.setTimeout(()=>he(""),1e3))})(q),W&&setTimeout(()=>W.focus())};p.useEffect(()=>()=>window.clearTimeout(j.current),[]),k0();const _=p.useCallback(R=>{var G,se;return B.current===((G=I.current)==null?void 0:G.side)&&XQ(R,(se=I.current)==null?void 0:se.area)},[]);return a.jsx(MQ,{scope:n,searchRef:P,onItemEnter:p.useCallback(R=>{_(R)&&R.preventDefault()},[_]),onItemLeave:p.useCallback(R=>{var q;_(R)||((q=T.current)==null||q.focus(),k(null))},[_]),onTriggerLeave:p.useCallback(R=>{_(R)&&R.preventDefault()},[_]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(R=>{I.current=R},[]),children:a.jsx(M,{...V,children:a.jsx(pg,{asChild:!0,trapped:s,onMountAutoFocus:oe(i,R=>{var q;R.preventDefault(),(q=T.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Fc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(AS,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:k,onEntryFocus:oe(c,R=>{x.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(C0,{role:"menu","aria-orientation":"vertical","data-state":BM(w.open),"data-radix-menu-content":"",dir:x.dir,...v,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:oe(g.onKeyDown,R=>{const G=R.target.closest("[data-radix-menu-content]")===R.currentTarget,se=R.ctrlKey||R.altKey||R.metaKey,J=R.key.length===1;G&&(R.key==="Tab"&&R.preventDefault(),!se&&J&&$(R.key));const ce=T.current;if(R.target!==ce||!NQ.includes(R.key))return;R.preventDefault();const W=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);wM.includes(R.key)&&W.reverse(),KQ(W)}),onBlur:oe(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(j.current),P.current="")}),onPointerMove:oe(t.onPointerMove,Rd(R=>{const q=R.target,G=D.current!==R.clientX;if(R.currentTarget.contains(q)&&G){const se=R.clientX>D.current?"right":"left";B.current=se,D.current=R.clientX}}))})})})})})})});jM.displayName=yr;var LQ="MenuGroup",LS=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ne.div,{role:"group",...r,ref:e})});LS.displayName=LQ;var VQ="MenuLabel",TM=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ne.div,{...r,ref:e})});TM.displayName=VQ;var sm="MenuItem",fj="menu.itemSelect",Ig=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),o=Bf(sm,t.__scopeMenu),l=DS(sm,t.__scopeMenu),c=De(e,i),u=p.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(fj,{bubbles:!0,cancelable:!0});f.addEventListener(fj,m=>r==null?void 0:r(m),{once:!0}),r0(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(kM,{...s,ref:c,disabled:n,onClick:oe(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:oe(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:oe(t.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||hw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ig.displayName=sm;var kM=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=DS(sm,n),l=SM(n),c=p.useRef(null),u=De(e,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),a.jsx(Ad.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:a.jsx(RS,{asChild:!0,...l,focusable:!r,children:a.jsx(Ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:oe(t.onPointerMove,Rd(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,Rd(y=>o.onItemLeave(y))),onFocus:oe(t.onFocus,()=>f(!0)),onBlur:oe(t.onBlur,()=>f(!1))})})})}),UQ="MenuCheckboxItem",PM=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return a.jsx(MM,{scope:t.__scopeMenu,checked:n,children:a.jsx(Ig,{role:"menuitemcheckbox","aria-checked":im(n)?"mixed":n,...s,ref:e,"data-state":US(n),onSelect:oe(s.onSelect,()=>r==null?void 0:r(im(n)?!0:!n),{checkForDefaultPrevented:!1})})})});PM.displayName=UQ;var _M="MenuRadioGroup",[$Q,BQ]=Uo(_M,{value:void 0,onValueChange:()=>{}}),AM=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Dt(r);return a.jsx($Q,{scope:t.__scopeMenu,value:n,onValueChange:i,children:a.jsx(LS,{...s,ref:e})})});AM.displayName=_M;var RM="MenuRadioItem",IM=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=BQ(RM,t.__scopeMenu),i=n===s.value;return a.jsx(MM,{scope:t.__scopeMenu,checked:i,children:a.jsx(Ig,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":US(i),onSelect:oe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});IM.displayName=RM;var VS="MenuItemIndicator",[MM,zQ]=Uo(VS,{checked:!1}),OM=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=zQ(VS,n);return a.jsx(rn,{present:r||im(i.checked)||i.checked===!0,children:a.jsx(Ne.span,{...s,ref:e,"data-state":US(i.checked)})})});OM.displayName=VS;var WQ="MenuSeparator",DM=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});DM.displayName=WQ;var HQ="MenuArrow",FM=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Rg(n);return a.jsx(E0,{...s,...r,ref:e})});FM.displayName=HQ;var qQ="MenuSub",[Gie,LM]=Uo(qQ),ju="MenuSubTrigger",VM=p.forwardRef((t,e)=>{const n=$o(ju,t.__scopeMenu),r=Bf(ju,t.__scopeMenu),s=LM(ju,t.__scopeMenu),i=DS(ju,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(MS,{asChild:!0,...u,children:a.jsx(kM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":BM(n.open),...t,ref:mi(e,s.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,Rd(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:oe(t.onPointerLeave,Rd(f=>{var m,y;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(y=n.content)==null?void 0:y.dataset.side,w=g==="right",x=w?-5:5,v=h[w?"left":"right"],b=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";t.disabled||h&&f.key===" "||jQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});VM.displayName=ju;var UM="MenuSubContent",$M=p.forwardRef((t,e)=>{const n=EM(yr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=$o(yr,t.__scopeMenu),o=Bf(yr,t.__scopeMenu),l=LM(UM,t.__scopeMenu),c=p.useRef(null),u=De(e,c);return a.jsx(Ad.Provider,{scope:t.__scopeMenu,children:a.jsx(rn,{present:r||i.open,children:a.jsx(Ad.Slot,{scope:t.__scopeMenu,children:a.jsx(FS,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:oe(t.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=TQ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});$M.displayName=UM;function BM(t){return t?"open":"closed"}function im(t){return t==="indeterminate"}function US(t){return im(t)?"indeterminate":t?"checked":"unchecked"}function KQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function YQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function GQ(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=YQ(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function QQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function XQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return QQ(n,e)}function Rd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZQ=CM,JQ=MS,eX=NM,tX=jM,nX=LS,rX=TM,sX=Ig,iX=PM,aX=AM,oX=IM,lX=OM,cX=DM,uX=FM,dX=VM,fX=$M,Mg="DropdownMenu",[hX]=yn(Mg,[bM]),_n=bM(),[pX,zM]=hX(Mg),WM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=_n(e),u=p.useRef(null),[d,f]=Zr({prop:s,defaultProp:i??!1,onChange:o,caller:Mg});return a.jsx(pX,{scope:e,triggerId:Gr(),triggerRef:u,contentId:Gr(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(ZQ,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};WM.displayName=Mg;var HM="DropdownMenuTrigger",qM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=zM(HM,n),o=_n(n);return a.jsx(JQ,{asChild:!0,...o,children:a.jsx(Ne.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:mi(e,i.triggerRef),onPointerDown:oe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:oe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});qM.displayName=HM;var mX="DropdownMenuPortal",KM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=_n(e);return a.jsx(eX,{...r,...n})};KM.displayName=mX;var YM="DropdownMenuContent",GM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zM(YM,n),i=_n(n),o=p.useRef(!1);return a.jsx(tX,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GM.displayName=YM;var gX="DropdownMenuGroup",yX=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(nX,{...s,...r,ref:e})});yX.displayName=gX;var vX="DropdownMenuLabel",QM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(rX,{...s,...r,ref:e})});QM.displayName=vX;var xX="DropdownMenuItem",XM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(sX,{...s,...r,ref:e})});XM.displayName=xX;var wX="DropdownMenuCheckboxItem",ZM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(iX,{...s,...r,ref:e})});ZM.displayName=wX;var bX="DropdownMenuRadioGroup",SX=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(aX,{...s,...r,ref:e})});SX.displayName=bX;var CX="DropdownMenuRadioItem",JM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(oX,{...s,...r,ref:e})});JM.displayName=CX;var EX="DropdownMenuItemIndicator",eO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(lX,{...s,...r,ref:e})});eO.displayName=EX;var NX="DropdownMenuSeparator",tO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(cX,{...s,...r,ref:e})});tO.displayName=NX;var jX="DropdownMenuArrow",TX=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(uX,{...s,...r,ref:e})});TX.displayName=jX;var kX="DropdownMenuSubTrigger",nO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(dX,{...s,...r,ref:e})});nO.displayName=kX;var PX="DropdownMenuSubContent",rO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_n(n);return a.jsx(fX,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rO.displayName=PX;var _X=WM,AX=qM,RX=KM,sO=GM,iO=QM,aO=XM,oO=ZM,lO=JM,cO=eO,uO=tO,dO=nO,fO=rO;const IX=_X,MX=AX,OX=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>a.jsxs(dO,{ref:s,className:ae("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,a.jsx(A$,{className:"ml-auto"})]}));OX.displayName=dO.displayName;const DX=p.forwardRef(({className:t,...e},n)=>a.jsx(fO,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));DX.displayName=fO.displayName;const hO=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(RX,{children:a.jsx(sO,{ref:r,sideOffset:e,className:ae("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));hO.displayName=sO.displayName;const pO=p.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(aO,{ref:r,className:ae("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));pO.displayName=aO.displayName;const FX=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>a.jsxs(oO,{ref:s,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(cO,{children:a.jsx(os,{className:"h-4 w-4"})})}),e]}));FX.displayName=oO.displayName;const LX=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(lO,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(cO,{children:a.jsx(Z_,{className:"h-2 w-2 fill-current"})})}),e]}));LX.displayName=lO.displayName;const VX=p.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(iO,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));VX.displayName=iO.displayName;const UX=p.forwardRef(({className:t,...e},n)=>a.jsx(uO,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));UX.displayName=uO.displayName;function $X(){const{language:t,setLanguage:e}=Ft();return Fx.find(n=>n.code===t),a.jsxs(IX,{children:[a.jsx(MX,{asChild:!0,children:a.jsxs(X,{variant:"ghost",size:"icon","data-testid":"button-language-selector","aria-label":"Select language",children:[a.jsx(nA,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Select language"})]})}),a.jsx(hO,{align:"end",className:"w-48",children:Fx.map(n=>a.jsxs(pO,{onClick:()=>e(n.code),className:"flex items-center justify-between","data-testid":`language-option-${n.code}`,children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:n.flag}),a.jsx("span",{children:n.nativeName})]}),t===n.code&&a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:""})]},n.code))})]})}const BX=p.createContext(void 0);function Og({children:t,currencyCode:e,defaultLanguage:n}){const{setCurrencyCode:r,setLanguage:s}=Ft();return p.useEffect(()=>(e&&r(e),()=>{r(void 0)}),[e,r]),p.useEffect(()=>{n&&s(n)},[n,s]),a.jsx(BX.Provider,{value:{currencyCode:e,defaultLanguage:n},children:t})}const mO="/assets/ChatGPT%20Image%20Oct%2022_%202025_%2007_35_55%20PM_1761180288922-B6CcGUJR.png";class Id{static getAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}static playAck(){try{const e=this.getAudioContext(),n=e.currentTime,r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.frequency.value=784,r.type="sine",s.gain.setValueAtTime(0,n),s.gain.linearRampToValueAtTime(.15,n+.01),s.gain.exponentialRampToValueAtTime(.01,n+.12),r.start(n),r.stop(n+.12)}catch(e){console.debug("Audio acknowledgment skipped:",e)}}}Fe(Id,"audioContext",null);const zX=[{phrase:"Let me help you with that.",file:"phrase_1.mp3"},{phrase:"Great choice!",file:"phrase_2.mp3"},{phrase:"I'd be happy to help.",file:"phrase_3.mp3"},{phrase:"That sounds delicious!",file:"phrase_4.mp3"},{phrase:"Absolutely!",file:"phrase_5.mp3"},{phrase:"Perfect!",file:"phrase_6.mp3"},{phrase:"Good question!",file:"phrase_7.mp3"},{phrase:"Of course!",file:"phrase_8.mp3"}],Yu=new Map;let Gu=!1;function rv(){if(!Gu)try{zX.forEach(({phrase:t,file:e})=>{const n=new Audio(`/attached_assets/cached_tts/${e}`);n.preload="auto",Yu.set(t.toLowerCase(),n)}),Gu=!0,console.log("Audio cache initialized with",Yu.size,"phrases")}catch(t){console.warn("Failed to initialize audio cache:",t)}}class gO{static tryPlayCachedPhrase(e){Gu||rv();const n=e.toLowerCase().trim();for(const[r,s]of Array.from(Yu.entries()))if(n.startsWith(r)){console.log("Found cached phrase:",r);const i=s.cloneNode(!0);try{return i.play().catch(o=>{console.debug("Cached audio play failed:",o)}),i}catch(o){return console.debug("Error playing cached audio:",o),null}}return null}static getCachedPhrases(){return Gu||rv(),Array.from(Yu.keys())}static hasCachedPhrase(e){Gu||rv();const n=e.toLowerCase().trim();for(const r of Array.from(Yu.keys()))if(n.startsWith(r))return!0;return!1}}function WX({onWakeWordDetected:t,enabled:e,language:n="en-US"}){const[r,s]=p.useState(!1),[i,o]=p.useState(!1),l=p.useRef(null),c=p.useRef(null),u=p.useRef(e),d=p.useRef(!1),f=p.useRef(0);p.useEffect(()=>{u.current=e},[e]),p.useEffect(()=>{const g=window.SpeechRecognition||window.webkitSpeechRecognition;o(!!g)},[]);const h=p.useCallback(g=>{const w=g.toLowerCase().trim();return["hey waiterix","hey waitrix","hey wait tricks","hey wait trix","waiterix","waitrix"].some(v=>w.includes(v))},[]),m=p.useCallback(()=>{if(!(!i||!u.current))try{const g=window.SpeechRecognition||window.webkitSpeechRecognition;if(l.current||(l.current=new g,l.current.continuous=!0,l.current.interimResults=!0,l.current.lang=n,l.current.onstart=()=>{console.log("[Wake Word] Continuous listening started"),s(!0),d.current=!1},l.current.onresult=w=>{for(let x=w.resultIndex;x<w.results.length;x++){const v=w.results[x][0].transcript;console.log("[Wake Word] Heard:",v,"(final:",w.results[x].isFinal,")"),h(v)&&(console.log("[Wake Word] Wake word detected!"),t())}},l.current.onerror=w=>{if(console.warn("[Wake Word] Recognition error:",w.error),w.error==="not-allowed"||w.error==="service-not-allowed"){console.error("[Wake Word] Microphone permission denied"),u.current=!1,s(!1);return}if(w.error==="no-speech"||w.error==="audio-capture"){const x=Date.now();x-f.current>3e3&&u.current&&!d.current&&(console.log("[Wake Word] Will restart after error in 2 seconds..."),f.current=x,c.current=setTimeout(()=>{if(u.current&&!d.current&&l.current)try{l.current.start()}catch(b){console.warn("[Wake Word] Restart failed:",b)}},2e3))}},l.current.onend=()=>{if(console.log("[Wake Word] Recognition ended, user stopped:",d.current),d.current){s(!1);return}const w=Date.now(),x=w-f.current;u.current&&!d.current&&x>1e3&&(console.log("[Wake Word] Auto-restarting after normal end..."),f.current=w,c.current=setTimeout(()=>{if(u.current&&!d.current&&l.current)try{l.current.start()}catch(v){console.warn("[Wake Word] Auto-restart failed:",v)}},1e3))}),r){console.log("[Wake Word] Already listening, skipping start");return}l.current.start()}catch(g){console.error("[Wake Word] Failed to start recognition:",g),s(!1)}},[i,n,h,t,r]),y=p.useCallback(()=>{if(console.log("[Wake Word] User-initiated stop"),d.current=!0,c.current&&(clearTimeout(c.current),c.current=null),l.current)try{l.current.stop()}catch(g){console.warn("[Wake Word] Error stopping recognition:",g)}s(!1)},[]);return p.useEffect(()=>(e&&i?m():y(),()=>{y()}),[e,i,m,y]),p.useEffect(()=>()=>{if(c.current&&clearTimeout(c.current),l.current){try{l.current.abort()}catch{}l.current=null}},[]),{isListening:r,isSupported:i,startListening:m,stopListening:y}}const yO=p.forwardRef(({restaurantId:t,restaurantName:e,menuItems:n,onAddToCart:r,initiallyHidden:s=!1},i)=>{const{t:o,language:l}=Ft(),[c,u]=p.useState(!s),[d,f]=p.useState(!1),[h,m]=p.useState("idle"),[y,g]=p.useState("Processing..."),[w,x]=p.useState([]),[v,b]=p.useState(0),[S,E]=p.useState(!1),[k,T]=p.useState(!1),[N,j]=p.useState(()=>{if(typeof window<"u"){const ne=localStorage.getItem("waiterix-wake-word-enabled");return ne!==null?ne==="true":!0}return!0}),[P,O]=p.useState(()=>typeof window<"u"?sessionStorage.getItem("waiterix-mic-permission-granted")==="true":!1),I=p.useRef(null),B=p.useRef([]),D=p.useRef(null),M=p.useRef(null),V=p.useRef(!1),$=p.useRef(`customer-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),_=p.useRef(null),R=p.useRef(null),q=p.useRef(null),G=p.useRef(e?`Hey there! Welcome to ${e}. I'm your AI waiter. Press this button or say "Hey Waiterix" anytime to chat about the menu or place an order!`:"Hey there! I'm your AI waiter. Press this button or say 'Hey Waiterix' anytime to chat about the menu or place an order!");WX({onWakeWordDetected:()=>{console.log("[FloatingAIWaiter] Wake word detected, triggering conversation"),h==="idle"&&L()},enabled:N&&P,language:l}),p.useEffect(()=>{const ne=()=>{const pe=sessionStorage.getItem("waiterix-mic-permission-granted")==="true";pe!==P&&O(pe)};ne();const te=setInterval(ne,1e3);return()=>clearInterval(te)},[P]),p.useEffect(()=>{typeof window<"u"&&localStorage.setItem("waiterix-wake-word-enabled",String(N))},[N]),p.useEffect(()=>(typeof window<"u"&&(D.current=new Audio,D.current.onplay=()=>{console.log("Audio started playing")},D.current.onended=()=>{console.log("Audio finished playing"),V.current||m("idle")},D.current.onpause=()=>{console.log("Audio paused"),V.current||m("idle")},D.current.onerror=ne=>{console.error("Audio playback error:",ne),V.current||m("idle")}),()=>{D.current&&(D.current.pause(),D.current.src=""),M.current&&clearTimeout(M.current),R.current&&(R.current.disconnect(),R.current=null),q.current&&(q.current.disconnect(),q.current=null),_.current&&(_.current.close(),_.current=null)}),[]),p.useImperativeHandle(i,()=>({triggerWelcome:async()=>{if(d)return;f(!0),console.log("Welcome triggered via overlay, showing AI Waiter and playing welcome"),u(!0),m("responding"),await Se(),await ce(G.current)||(console.log("Welcome message failed to play"),m("idle"))}})),p.useEffect(()=>{!s&&!c&&u(!0)},[s,c]),p.useEffect(()=>{const ne=window.location.protocol==="https:"?"wss:":"ws:",te=new WebSocket(`${ne}//${window.location.host}/ws?restaurantId=${t}&customerSessionId=${$.current}`);return te.onopen=()=>{console.log("WebSocket connected for customer")},te.onmessage=pe=>{const xe=JSON.parse(pe.data);if(xe.type==="chef-answer"){console.log("Received chef answer:",xe.data);const{answer:Ce}=xe.data;x(je=>[...je,{role:"assistant",content:Ce}]),ce(Ce).catch(je=>{console.error("Failed to speak chef answer:",je)})}},te.onerror=pe=>{console.error("WebSocket error:",pe)},te.onclose=()=>{console.log("WebSocket disconnected")},()=>{te.close()}},[t]);const se=()=>{g("Processing..."),M.current=setTimeout(()=>{g("Answer's almost ready")},3e3)},J=()=>{M.current&&(clearTimeout(M.current),M.current=null)},ce=async ne=>{try{console.log("Speaking message:",ne.substring(0,50)+"..."),m("responding"),J(),V.current=!0;const te=gO.tryPlayCachedPhrase(ne);D.current&&(D.current.pause(),D.current.src="");const xe=await fetch("http://localhost:3005/dev/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:ne,language:l,restaurantId:t})});if(console.log("TTS response status:",xe.status),xe.status===503)return console.warn("Voice features temporarily unavailable"),V.current=!1,m("idle"),!1;if(!xe.ok)return console.warn("Text-to-speech unavailable:",xe.statusText),V.current=!1,m("idle"),!1;const Ce=await xe.blob();console.log("Audio blob size:",Ce.size);const je=URL.createObjectURL(Ce);if(D.current){D.current.src=je;try{return console.log("Attempting to play audio..."),D.current.load(),await D.current.play(),console.log("Audio playing successfully"),V.current=!1,!0}catch(we){return console.error("Audio play error:",we),console.error("Error details:",JSON.stringify(we)),V.current=!1,m("idle"),!1}}return console.error("Audio ref not available"),V.current=!1,m("idle"),!1}catch(te){return console.error("Text-to-speech error:",te),V.current=!1,m("idle"),!1}},Se=async()=>{if(!(k||!D.current))try{console.log("Unlocking audio for mobile browsers...");const ne="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAADhAC7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7//////////////////////////////////////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAA4Tb7VefAAAAAAAAAAAAAAAAAAAA//sQZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZDgP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";D.current.src=ne,D.current.load();try{await D.current.play(),D.current.pause(),D.current.currentTime=0}catch(te){console.log("Silent play failed (expected on some browsers):",te)}D.current.src="",T(!0),console.log("Audio unlocked successfully")}catch(ne){console.warn("Audio unlock failed:",ne),T(!0)}},W=()=>{R.current&&(R.current.disconnect(),R.current=null),q.current&&(q.current.disconnect(),q.current=null),_.current&&(_.current.close(),_.current=null)},Q=()=>{I.current&&I.current.state==="recording"&&(I.current.stop(),I.current.stream.getTracks().forEach(ne=>ne.stop())),W(),D.current&&(D.current.pause(),D.current.src=""),J(),m("idle")},L=async()=>{if(console.log("Character clicked, current status:",h),k||await Se(),!(h==="listening"||h==="processing")){if(h==="responding"){Q();return}try{m("listening"),console.log("Requesting microphone access...");const ne=await navigator.mediaDevices.getUserMedia({audio:!0});console.log("Microphone access granted");const te=new MediaRecorder(ne,{mimeType:"audio/webm"});B.current=[],te.ondataavailable=Me=>{Me.data.size>0&&B.current.push(Me.data)},te.onstop=async()=>{console.log("Recording stopped"),W(),m("processing"),se();const Me=new Blob(B.current,{type:"audio/webm"});console.log("Audio blob size:",Me.size);try{const A=new FormData;A.append("audio",Me,"recording.webm"),A.append("language",l),A.append("restaurantId",t),console.log("Sending audio to speech-to-text...");const U="http://localhost:3005/dev",z=await fetch(`${U}/api/ai/speech-to-text`,{method:"POST",body:A});if(console.log("STT response status:",z.status),z.status===503){console.warn("Voice input temporarily unavailable"),J(),m("idle");return}if(!z.ok)throw new Error("Speech-to-text failed");const{text:ue}=await z.json();console.log("Transcribed text:",ue);const ee=[...w,{role:"user",content:ue}];x(ee),console.log("Sending to AI chat...");const Z=await fetch(`${U}/api/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurantId:t,messages:ee,menuItems:n,language:l,customerSessionId:$.current})});if(console.log("Chat response status:",Z.status),Z.status===503){console.warn("AI chat temporarily unavailable"),J(),m("idle");return}if(!Z.ok)throw new Error("Chat failed");const{message:de,addToCart:Te}=await Z.json();console.log("AI response:",de.substring(0,50)+"..."),console.log("[FloatingAIWaiter] addToCart:",Te),Te&&Te.length>0&&r&&(console.log("[FloatingAIWaiter] Adding items to cart:",Te),Te.forEach(jt=>{console.log("[FloatingAIWaiter] Adding item:",jt),r(jt)}));let Ae=de;v<2&&(Ae=de+" Don't forget you have to press this button to speak.",b(jt=>jt+1));const Ze=[...ee,{role:"assistant",content:de}];x(Ze),await ce(Ae)?J():(console.warn("Speech failed, but conversation was successful"),J(),setTimeout(()=>m("idle"),500))}catch(A){console.error("Error in voice pipeline:",A),J(),m("idle")}},I.current=te,te.start(),console.log("Recording started (max 20 seconds, or until silence detected)..."),_.current=new AudioContext,q.current=_.current.createMediaStreamSource(ne),R.current=_.current.createAnalyser(),R.current.fftSize=2048,q.current.connect(R.current);const pe=R.current.frequencyBinCount,xe=new Uint8Array(pe);let Ce=null;const je=5,we=1500,Qe=Date.now(),Oe=()=>{if(te.state!=="recording"||!R.current)return;R.current.getByteTimeDomainData(xe);let Me=0;for(let z=0;z<pe;z++){const ue=Math.abs(xe[z]-128);Me+=ue}const A=Me/pe,U=((Date.now()-Qe)/1e3).toFixed(1);if(A<je){if(Ce===null)Ce=Date.now(),console.log(`Silence started at ${U}s (volume: ${A.toFixed(1)})`);else if(Date.now()-Ce>we){const z=((Date.now()-Qe)/1e3).toFixed(1);console.log(`Silence detected after ${z}s, stopping recording early`),Id.playAck(),te.stop(),ne.getTracks().forEach(ue=>ue.stop());return}}else Ce!==null&&console.log(`Sound detected at ${U}s (volume: ${A.toFixed(1)}), continuing recording`),Ce=null;requestAnimationFrame(Oe)};requestAnimationFrame(Oe),setTimeout(()=>{te.state==="recording"&&(console.log("Auto-stopping recording after 20 seconds"),Id.playAck(),te.stop(),ne.getTracks().forEach(Me=>Me.stop()))},2e4)}catch(ne){console.error("Microphone error:",ne),W(),m("idle")}}},he=()=>{switch(h){case"listening":return o("listening");case"processing":return o("aiProcessing");case"responding":return o("speaking");default:return""}};return c?a.jsxs("div",{className:`fixed bottom-6 right-6 z-50 flex flex-col items-center gap-3 transition-all duration-500 ${c?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,"data-testid":"floating-ai-waiter",children:[a.jsxs("div",{onClick:L,onTouchStart:()=>E(!0),onTouchEnd:()=>E(!1),onMouseDown:()=>E(!0),onMouseUp:()=>E(!1),onMouseLeave:()=>E(!1),className:`
          relative w-[60px] h-[60px] rounded-full overflow-hidden
          flex items-center justify-center cursor-pointer shadow-2xl
          transition-all duration-200 ease-out
          ${h==="idle"?"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800":"bg-gradient-to-br from-primary to-primary/80"}
          ${h==="idle"?"hover:scale-105":""}
          ${h==="listening"?"scale-110 shadow-[0_0_30px_rgba(59,130,246,0.6)]":""}
          ${h==="processing"?"scale-105":""}
          ${h==="responding"?"scale-110 shadow-[0_0_30px_rgba(59,130,246,0.4)]":""}
          ${S?"scale-95":""}
        `,style:{animation:h==="listening"||h==="processing"?"slowPulse 3s ease-in-out infinite":void 0},"data-testid":"button-ai-waiter",children:[h!=="idle"&&a.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/20",style:{animation:"slowPing 3s cubic-bezier(0, 0, 0.2, 1) infinite"}}),h==="idle"&&a.jsx("img",{src:mO,alt:"AI Waiter",className:"w-full h-full object-cover"}),a.jsxs("div",{className:"relative z-10 text-primary-foreground",children:[h==="listening"&&a.jsx(Fp,{className:"w-6 h-6"}),h==="processing"&&a.jsx(We,{className:"w-6 h-6 animate-spin"}),h==="responding"&&a.jsx(oA,{className:"w-6 h-6",style:{animation:"slowPulse 2s ease-in-out infinite"}})]})]}),a.jsx("div",{onClick:h==="idle"?L:void 0,onTouchStart:h==="idle"?()=>E(!0):void 0,onTouchEnd:h==="idle"?()=>E(!1):void 0,onMouseDown:h==="idle"?()=>E(!0):void 0,onMouseUp:h==="idle"?()=>E(!1):void 0,onMouseLeave:h==="idle"?()=>E(!1):void 0,className:`
          bg-primary text-primary-foreground px-5 py-2 rounded-full 
          text-xs font-medium shadow-lg
          transition-all duration-200
          ${h==="idle"?"cursor-pointer":""}
          ${h==="idle"&&S?"scale-95 shadow-md":"scale-100"}
        `,style:{animation:h==="idle"&&!S?"slowBounce 2s ease-in-out infinite":void 0},"data-testid":"text-status-label",children:h==="idle"?o("tapToTalk"):he()})]}):null});yO.displayName="FloatingAIWaiter";function HX({restaurantName:t,onDismiss:e}){const{t:n}=Ft(),r=s=>{s.preventDefault(),s.stopPropagation(),e()};return a.jsxs(Ci.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center",onClick:r,onTouchEnd:r,"data-testid":"welcome-overlay",children:[a.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-lg"}),a.jsxs(Ci.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.4,ease:"easeOut"},className:"relative z-10 flex flex-col items-center gap-6 px-8 py-12 max-w-md mx-4",children:[a.jsxs(Ci.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,duration:.5,type:"spring",bounce:.5},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/30 blur-2xl scale-125"}),a.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-gradient-to-br from-primary to-primary/80 shadow-2xl",children:a.jsx("img",{src:mO,alt:"AI Waiter",className:"w-full h-full object-cover"})}),a.jsx(Ci.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-2 -right-2",children:a.jsx(iA,{className:"w-6 h-6 text-primary",fill:"currentColor"})})]}),a.jsxs(Ci.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.4},className:"text-center space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[a.jsx(Q_,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wider",children:t})]}),a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:n("welcome")}),a.jsx("p",{className:"text-muted-foreground text-base",children:n("meetYourAIWaiter")})]}),a.jsxs(Ci.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.7,duration:.4,type:"spring"},whileTap:{scale:.95},className:"relative",children:[a.jsx(Ci.div,{animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-full bg-primary/30"}),a.jsx("button",{className:"relative bg-primary text-primary-foreground px-8 py-4 rounded-full text-lg font-semibold shadow-lg","data-testid":"button-tap-to-start",children:n("tapToStart")})]}),a.jsx(Ci.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.4},className:"text-xs text-muted-foreground text-center",children:n("tapAnywhereToContinue")})]})]})}var vO={exports:{}},qX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KX=qX,YX=KX;function xO(){}function wO(){}wO.resetWarningCache=xO;var GX=function(){function t(r,s,i,o,l,c){if(c!==YX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wO,resetWarningCache:xO};return n.PropTypes=n,n};vO.exports=GX();var QX=vO.exports;const ct=hi(QX);function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){bO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function np(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?np=function(e){return typeof e}:np=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function bO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ZX(t,e){if(t==null)return{};var n=XX(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SO(t,e){return JX(t)||eZ(t,e)||tZ(t,e)||nZ()}function JX(t){if(Array.isArray(t))return t}function eZ(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,o,l;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function tZ(t,e){if(t){if(typeof t=="string")return mj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mj(t,e)}}function mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vn=function(e,n,r){var s=!!r,i=re.useRef(r);re.useEffect(function(){i.current=r},[r]),re.useEffect(function(){if(!s||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,o),function(){e.off(n,o)}},[s,n,e,i])},pw=function(e){var n=re.useRef(e);return re.useEffect(function(){n.current=e},[e]),n.current},Tc=function(e){return e!==null&&np(e)==="object"},rZ=function(e){return Tc(e)&&typeof e.then=="function"},sZ=function(e){return Tc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},gj="[object Object]",iZ=function t(e,n){if(!Tc(e)||!Tc(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===gj,o=Object.prototype.toString.call(n)===gj;if(i!==o)return!1;if(!i&&!r)return e===n;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var m=e,y=n,g=function(x){return t(m[x],y[x])};return h.every(g)},CO=function(e,n,r){return Tc(e)?Object.keys(e).reduce(function(s,i){var o=!Tc(n)||!iZ(e[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?pj(pj({},s||{}),{},bO({},i,e[i])):s},null):null},EO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",yj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:EO;if(e===null||sZ(e))return e;throw new Error(n)},aZ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:EO;if(rZ(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return yj(s,n)})};var r=yj(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},oZ=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},Dg=re.createContext(null);Dg.displayName="ElementsContext";var NO=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},jO=function(e){var n=e.stripe,r=e.options,s=e.children,i=re.useMemo(function(){return aZ(n)},[n]),o=re.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),l=SO(o,2),c=l[0],u=l[1];re.useEffect(function(){var h=!0,m=function(g){u(function(w){return w.stripe?w:{stripe:g,elements:g.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(y){y&&h&&m(y)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){h=!1}},[i,c,r]);var d=pw(n);re.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=pw(r);return re.useEffect(function(){if(c.elements){var h=CO(r,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,f,c.elements]),re.useEffect(function(){oZ(c.stripe)},[c.stripe]),re.createElement(Dg.Provider,{value:c},s)};jO.propTypes={stripe:ct.any,options:ct.object};var lZ=function(e){var n=re.useContext(Dg);return NO(n,e)},cZ=function(){var e=lZ("calls useElements()"),n=e.elements;return n};ct.func.isRequired;var TO=re.createContext(null);TO.displayName="CheckoutContext";ct.any,ct.shape({clientSecret:ct.oneOfType([ct.string,ct.instanceOf(Promise)]).isRequired,elementsOptions:ct.object}).isRequired;var mw=function(e){var n=re.useContext(TO),r=re.useContext(Dg);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n}else return NO(r,e)},uZ=["mode"],dZ=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},$n=function(e,n){var r="".concat(dZ(e),"Element"),s=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,m=c.onBlur,y=c.onFocus,g=c.onReady,w=c.onChange,x=c.onEscape,v=c.onClick,b=c.onLoadError,S=c.onLoaderStart,E=c.onNetworksChange,k=c.onConfirm,T=c.onCancel,N=c.onShippingAddressChange,j=c.onShippingRateChange,P=c.onSavedPaymentMethodRemove,O=c.onSavedPaymentMethodUpdate,I=mw("mounts <".concat(r,">")),B="elements"in I?I.elements:null,D="checkoutState"in I?I.checkoutState:null,M=(D==null?void 0:D.type)==="success"||(D==null?void 0:D.type)==="loading"?D.sdk:null,V=re.useState(null),$=SO(V,2),_=$[0],R=$[1],q=re.useRef(null),G=re.useRef(null);vn(_,"blur",m),vn(_,"focus",y),vn(_,"escape",x),vn(_,"click",v),vn(_,"loaderror",b),vn(_,"loaderstart",S),vn(_,"networkschange",E),vn(_,"confirm",k),vn(_,"cancel",T),vn(_,"shippingaddresschange",N),vn(_,"shippingratechange",j),vn(_,"savedpaymentmethodremove",P),vn(_,"savedpaymentmethodupdate",O),vn(_,"change",w);var se;g&&(e==="expressCheckout"?se=g:se=function(){g(_)}),vn(_,"ready",se),re.useLayoutEffect(function(){if(q.current===null&&G.current!==null&&(B||M)){var ce=null;if(M)switch(e){case"paymentForm":ce=M.createPaymentFormElement();break;case"payment":ce=M.createPaymentElement(h);break;case"address":if("mode"in h){var Se=h.mode,W=ZX(h,uZ);if(Se==="shipping")ce=M.createShippingAddressElement(W);else if(Se==="billing")ce=M.createBillingAddressElement(W);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ce=M.createExpressCheckoutElement(h);break;case"currencySelector":ce=M.createCurrencySelectorElement();break;case"taxId":ce=M.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else B&&(ce=B.create(e,h));q.current=ce,R(ce),ce&&ce.mount(G.current)}},[B,M,h]);var J=pw(h);return re.useEffect(function(){if(q.current){var ce=CO(h,J,["paymentRequest"]);ce&&"update"in q.current&&q.current.update(ce)}},[h,J]),re.useLayoutEffect(function(){return function(){if(q.current&&typeof q.current.destroy=="function")try{q.current.destroy(),q.current=null}catch{}}},[]),re.createElement("div",{id:u,className:d,ref:G})},i=function(c){mw("mounts <".concat(r,">"));var u=c.id,d=c.className;return re.createElement("div",{id:u,className:d})},o=n?i:s;return o.propTypes={id:ct.string,className:ct.string,onChange:ct.func,onBlur:ct.func,onFocus:ct.func,onReady:ct.func,onEscape:ct.func,onClick:ct.func,onLoadError:ct.func,onLoaderStart:ct.func,onNetworksChange:ct.func,onConfirm:ct.func,onCancel:ct.func,onShippingAddressChange:ct.func,onShippingRateChange:ct.func,onSavedPaymentMethodRemove:ct.func,onSavedPaymentMethodUpdate:ct.func,options:ct.object},o.displayName=r,o.__elementType=e,o},Bn=typeof window>"u",fZ=re.createContext(null);fZ.displayName="EmbeddedCheckoutProviderContext";var hZ=function(){var e=mw("calls useStripe()"),n=e.stripe;return n};$n("auBankAccount",Bn);$n("card",Bn);$n("cardNumber",Bn);$n("cardExpiry",Bn);$n("cardCvc",Bn);$n("iban",Bn);var pZ=$n("payment",Bn);$n("expressCheckout",Bn);$n("paymentRequestButton",Bn);$n("linkAuthentication",Bn);$n("address",Bn);$n("shippingAddress",Bn);$n("paymentMethodMessaging",Bn);$n("taxId",Bn);var kO="clover",mZ=function(e){return e===3?"v3":e},PO="https://js.stripe.com",gZ="".concat(PO,"/").concat(kO,"/stripe.js"),yZ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,vZ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var xZ=function(e){return yZ.test(e)||vZ.test(e)},wZ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(PO,'"]')),n=0;n<e.length;n++){var r=e[n];if(xZ(r.src))return r}return null},vj=function(e){var n="",r=document.createElement("script");r.src="".concat(gZ).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},bZ=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:n})},ou=null,Eh=null,Nh=null,SZ=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},CZ=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},EZ=function(e){return ou!==null?ou:(ou=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=wZ();if(!(s&&e)){if(!s)s=vj(e);else if(s&&Nh!==null&&Eh!==null){var i;s.removeEventListener("load",Nh),s.removeEventListener("error",Eh),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=vj(e)}}Nh=CZ(n,r),Eh=SZ(r),s.addEventListener("load",Nh),s.addEventListener("error",Eh)}catch(o){r(o);return}}),ou.catch(function(n){return ou=null,Promise.reject(n)}))},NZ=function(e,n,r){if(e===null)return null;var s=n[0],i=s.match(/^pk_test/),o=mZ(e.version),l=kO;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return bZ(c,r),c},lu,_O=!1,AO=function(){return lu||(lu=EZ(null).catch(function(e){return lu=null,Promise.reject(e)}),lu)};Promise.resolve().then(function(){return AO()}).catch(function(t){_O||console.warn(t)});var RO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];_O=!0;var s=Date.now();return AO().then(function(i){return NZ(i,n,s)})};const br=p.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));br.displayName="Textarea";const jZ=Lo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Md=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:ae(jZ({variant:e}),t),...n}));Md.displayName="Alert";const IO=p.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:ae("mb-1 font-medium leading-none tracking-tight",t),...e}));IO.displayName="AlertTitle";const Od=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ae("text-sm [&_p]:leading-relaxed",t),...e}));Od.displayName="AlertDescription";function TZ({items:t,subtotal:e,tax:n,tip:r,total:s,restaurantId:i,tableId:o,stripeAccountId:l,onSuccess:c,onOrderComplete:u}){const d=hZ(),f=cZ(),{toast:h}=ot(),[,m]=ks(),[y,g]=p.useState(!1),[w,x]=p.useState(""),{formatCurrency:v}=Ft(),b=async S=>{if(S.preventDefault(),!(!d||!f)){g(!0);try{const E={restaurantId:i,tableId:o,items:t.map(O=>({...O,price:O.price.toFixed(2)})),subtotal:e.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"online",customerNote:w,stripeAccountId:l,timestamp:Date.now()};localStorage.setItem("pendingOrder",JSON.stringify(E));const k=`${window.location.origin}/menu/${i}?payment=success`,{error:T,paymentIntent:N}=await d.confirmPayment({elements:f,redirect:"if_required",confirmParams:{return_url:k}});if(T){localStorage.removeItem("pendingOrder"),h({title:"Payment Failed",description:T.message,variant:"destructive"}),g(!1);return}const j=await Re("POST","/api/orders",{restaurantId:i,tableId:o,items:t.map(O=>({...O,price:O.price.toFixed(2)})),subtotal:e.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"online",customerNote:w,stripePaymentIntentId:N.id});if(!j.ok){const O=await j.json();throw new Error(O.message||"Order creation failed")}const P=await j.json();localStorage.removeItem("pendingOrder"),u?(u(P.id),c()):m(`/receipt/${P.id}`)}catch(E){localStorage.removeItem("pendingOrder");try{const T=(E.message||String(E)).match(/:\s*(\{.*\})\s*$/);if(T){const N=JSON.parse(T[1]);if(N.error==="subscription_required"){h({title:"Orders Not Available",description:N.message||"This restaurant is not currently accepting orders.",variant:"destructive"}),g(!1);return}}}catch{}h({title:"Order Failed",description:"Payment was successful but order creation failed. Please contact support.",variant:"destructive"}),g(!1)}}};return a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Je,{children:"Customer Notes (Optional)"}),a.jsx(br,{placeholder:"Any special requests or dietary requirements...",value:w,onChange:S=>x(S.target.value),"data-testid":"input-customer-note"})]}),a.jsxs("div",{children:[a.jsx(Je,{className:"mb-3 block",children:"Payment Information"}),a.jsx(pZ,{})]}),a.jsx(X,{type:"submit",className:"w-full",size:"lg",disabled:!d||y,"data-testid":"button-confirm-payment",children:y?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):`Pay ${v(s)}`})]})}function kZ({items:t,subtotal:e,tax:n,tip:r,total:s,restaurantId:i,tableId:o,onSuccess:l,onOrderComplete:c}){const{toast:u}=ot(),[,d]=ks(),[f,h]=p.useState(!1),[m,y]=p.useState(""),{formatCurrency:g}=Ft(),w=async x=>{x.preventDefault(),h(!0);try{const v=await Re("POST","/api/orders",{restaurantId:i,tableId:o,items:t.map(S=>({...S,price:S.price.toFixed(2)})),subtotal:e.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"cash",customerNote:m});if(!v.ok){const S=await v.json();throw new Error(S.message||"Order creation failed")}const b=await v.json();c?(c(b.id),l()):d(`/receipt/${b.id}`)}catch(v){try{const S=(v.message||String(v)).match(/:\s*(\{.*\})\s*$/);if(S){const E=JSON.parse(S[1]);if(E.error==="subscription_required"){u({title:"Orders Not Available",description:E.message||"This restaurant is not currently accepting orders.",variant:"destructive"}),h(!1);return}}}catch{}u({title:"Order Failed",description:"Failed to place order. Please try again.",variant:"destructive"}),h(!1)}};return a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Je,{children:"Customer Notes (Optional)"}),a.jsx(br,{placeholder:"Any special requests or dietary requirements...",value:m,onChange:x=>y(x.target.value),"data-testid":"input-customer-note"})]}),a.jsx("div",{className:"rounded-lg bg-muted p-4 space-y-2",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(fa,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Cash Payment"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Please pay ",g(s)," at the register when you pick up your order."]})]})]})}),a.jsx(X,{type:"submit",className:"w-full",size:"lg",disabled:f,"data-testid":"button-confirm-cash-order",children:f?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Placing Order..."]}):"Place Order"})]})}function PZ({items:t,subtotal:e,tax:n,tip:r,total:s,restaurantId:i,tableId:o,onSuccess:l,onOrderComplete:c}){const{toast:u}=ot(),[d,f]=p.useState(!1),[h,m]=p.useState(""),[y,g]=p.useState(""),{formatCurrency:w}=Ft(),x=async v=>{if(v.preventDefault(),y&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y)){u({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"});return}f(!0);try{const b=await Re("POST","/api/orders",{restaurantId:i,tableId:o,items:t.map(j=>({...j,price:j.price.toFixed(2)})),subtotal:e.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"online",customerNote:h});if(!b.ok){const j=await b.json();throw new Error(j.message||"Order creation failed")}const E=(await b.json()).id,k=y||`customer-${E.slice(0,8)}@waiterix.app`,T=await Re("POST","/api/paystack/initialize-payment",{orderId:E,customerEmail:k});if(!T.ok){const j=await T.json();if(j.paymentUnavailable){u({title:"Payment Unavailable",description:j.message||"Online payment is not available. Please choose cash payment.",variant:"destructive"}),f(!1);return}throw new Error(j.message||"Payment initialization failed")}const N=await T.json();window.location.href=N.authorizationUrl}catch(b){u({title:"Error",description:b.message||"Failed to initialize payment. Please try again.",variant:"destructive"}),f(!1)}};return a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Je,{children:"Email Address (Optional)"}),a.jsx(qe,{type:"email",placeholder:"your@email.com (optional)",value:y,onChange:v=>g(v.target.value),"data-testid":"input-customer-email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: We can send your receipt to this email"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Je,{children:"Customer Notes (Optional)"}),a.jsx(br,{placeholder:"Any special requests or dietary requirements...",value:h,onChange:v=>m(v.target.value),"data-testid":"input-customer-note"})]}),a.jsx("div",{className:"rounded-lg bg-muted p-4 space-y-2",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Cl,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Secure Online Payment"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["You'll be redirected to Paystack to complete your payment of ",w(s)," securely."]})]})]})}),a.jsx(X,{type:"submit",className:"w-full",size:"lg",disabled:d,"data-testid":"button-confirm-paystack-payment",children:d?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Redirecting to Payment..."]}):`Pay ${w(s)} with Paystack`})]})}function _Z({open:t,onOpenChange:e,items:n,subtotal:r,tax:s,total:i,paymentMethod:o,restaurantId:l,tableId:c,onSuccess:u,onOrderComplete:d}){const{toast:f}=ot(),{formatCurrency:h,currencyCode:m}=Ft(),[y,g]=p.useState(null),[w,x]=p.useState(null),[v,b]=p.useState(null),[S,E]=p.useState(!1),[k,T]=p.useState(null),[N,j]=p.useState(null),[P,O]=p.useState(""),{data:I}=tt({queryKey:["/api/public/restaurant",l],enabled:!!l}),B=!!(I!=null&&I.paystackSubaccountCode),D=P?parseFloat(P)||0:N?r*(N/100):0,M=i+D;p.useEffect(()=>{t&&o==="online"&&!B&&(console.log("CheckoutDialog: Starting payment intent creation for amount:",M),E(!0),g(null),T(null),Re("POST","/api/create-payment-intent",{amount:M,restaurantId:l}).then(async $=>{const _=await $.json();if(_.error==="subscription_required"){T(_.message||"This restaurant is not currently accepting orders."),E(!1);return}console.log("Payment intent created successfully:",_),console.log("Client secret received:",_.clientSecret?"yes":"no"),console.log("Stripe account ID received:",_.stripeAccountId?"yes":"no"),g(_.clientSecret),x(_.stripeAccountId);const R="pk_test_51SXnfY2VZXX1nihiLJ78hL5DVPaOqoXhU2TwGCldGBJzrAgGNJ6lTxYsNW6bE1bMFJ7KIBH9Gdz7NJdOUyCYz2AE00Ux84umtM";if(!_.stripeAccountId){console.error("Stripe account ID not received from server"),T("Restaurant payment setup is incomplete. Please contact support."),E(!1);return}const q=RO(R,{stripeAccount:_.stripeAccountId});b(q),E(!1)}).catch($=>{console.error("Failed to create payment intent:",$);try{const R=($.message||String($)).match(/:\s*(\{.*\})\s*$/);if(R){const q=JSON.parse(R[1]);if(q.error==="subscription_required"){T(q.message||"This restaurant is not currently accepting orders."),E(!1);return}}}catch{}f({title:"Payment Error",description:"Failed to initialize payment. Please try again.",variant:"destructive"}),E(!1)}))},[t,o,M,l,f]);const V=()=>{u(),e(!1)};return a.jsx(En,{open:t,onOpenChange:e,children:a.jsxs(fn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Nn,{children:a.jsx(hn,{children:"Checkout"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Order Summary"}),a.jsx("div",{className:"space-y-3",children:n.map($=>a.jsxs("div",{className:"space-y-1","data-testid":`checkout-item-${$.id}`,children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[$.quantity,"x ",$.name]}),a.jsx("span",{children:h($.price*$.quantity)})]}),$.customerNote&&a.jsxs("p",{className:"text-xs text-muted-foreground italic pl-6","data-testid":`checkout-item-note-${$.id}`,children:["Note: ",$.customerNote]})]},$.id))}),a.jsx(Kt,{}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),a.jsx("span",{"data-testid":"checkout-subtotal",children:h(r)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax (10%)"}),a.jsx("span",{"data-testid":"checkout-tax",children:h(s)})]}),D>0&&a.jsxs("div",{className:"flex justify-between text-primary",children:[a.jsx("span",{children:"Tip"}),a.jsx("span",{"data-testid":"checkout-tip",children:h(D)})]}),a.jsx(Kt,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{"data-testid":"checkout-total",children:h(M)})]})]})]}),a.jsx(Kt,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Je,{className:"text-base font-semibold",children:"Add a Tip (Optional)"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Show your appreciation for great service"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(X,{type:"button",variant:N===10?"default":"outline",onClick:()=>{j(10),O("")},"data-testid":"button-tip-10",children:"10%"}),a.jsx(X,{type:"button",variant:N===15?"default":"outline",onClick:()=>{j(15),O("")},"data-testid":"button-tip-15",children:"15%"}),a.jsx(X,{type:"button",variant:N===20?"default":"outline",onClick:()=>{j(20),O("")},"data-testid":"button-tip-20",children:"20%"}),a.jsx(X,{type:"button",variant:N===null&&!P?"default":"outline",onClick:()=>{j(null),O("")},"data-testid":"button-tip-none",children:"None"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"custom-tip",children:"Custom Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:m&&cE[m]?cE[m]:"$"}),a.jsx("input",{id:"custom-tip",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:P,onChange:$=>{O($.target.value),j(null)},className:"w-full pl-7 pr-3 py-2 border rounded-md","data-testid":"input-custom-tip"})]})]})]}),a.jsx(Kt,{}),k&&a.jsx(Md,{variant:"destructive","data-testid":"alert-subscription-error",children:a.jsx(Od,{children:k})}),o==="online"?B?a.jsx(PZ,{items:n,subtotal:r,tax:s,tip:D,total:M,restaurantId:l,tableId:c,onSuccess:V,onOrderComplete:d}):k?null:S||!y||!v?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsx(jO,{stripe:v,options:{clientSecret:y,appearance:{theme:"stripe"}},children:a.jsx(TZ,{items:n,subtotal:r,tax:s,tip:D,total:M,restaurantId:l,tableId:c,stripeAccountId:w,onSuccess:V,onOrderComplete:d})}):a.jsx(kZ,{items:n,subtotal:r,tax:s,tip:D,total:M,restaurantId:l,tableId:c,onSuccess:V,onOrderComplete:d})]})]})})}function ft(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function va(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const MO=6048e5,AZ=864e5,jh=43200,xj=1440;let RZ={};function zf(){return RZ}function Dd(t,e){var l,c,u,d;const n=zf(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ft(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function am(t){return Dd(t,{weekStartsOn:1})}function OO(t){const e=ft(t),n=e.getFullYear(),r=va(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=am(r),i=va(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=am(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function wj(t){const e=ft(t);return e.setHours(0,0,0,0),e}function om(t){const e=ft(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function IZ(t,e){const n=wj(t),r=wj(e),s=+n-om(n),i=+r-om(r);return Math.round((s-i)/AZ)}function MZ(t){const e=OO(t),n=va(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),am(n)}function rp(t,e){const n=ft(t),r=ft(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function OZ(t){return va(t,Date.now())}function DZ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function FZ(t){if(!DZ(t)&&typeof t!="number")return!1;const e=ft(t);return!isNaN(Number(e))}function LZ(t,e){const n=ft(t),r=ft(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function VZ(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function UZ(t,e){return+ft(t)-+ft(e)}function $Z(t){const e=ft(t);return e.setHours(23,59,59,999),e}function BZ(t){const e=ft(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function zZ(t){const e=ft(t);return+$Z(e)==+BZ(e)}function WZ(t,e){const n=ft(t),r=ft(e),s=rp(n,r),i=Math.abs(LZ(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=rp(n,r)===-s;zZ(ft(t))&&i===1&&rp(t,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function HZ(t,e,n){const r=UZ(t,e)/1e3;return VZ(n==null?void 0:n.roundingMethod)(r)}function qZ(t){const e=ft(t),n=va(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const KZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YZ=(t,e,n)=>{let r;const s=KZ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const GZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZZ={date:sv({formats:GZ,defaultWidth:"full"}),time:sv({formats:QZ,defaultWidth:"full"}),dateTime:sv({formats:XZ,defaultWidth:"full"})},JZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eJ=(t,e,n,r)=>JZ[t];function cu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const tJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oJ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lJ={ordinalNumber:oJ,era:cu({values:tJ,defaultWidth:"wide"}),quarter:cu({values:nJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cu({values:rJ,defaultWidth:"wide"}),day:cu({values:sJ,defaultWidth:"wide"}),dayPeriod:cu({values:iJ,defaultWidth:"wide",formattingValues:aJ,defaultFormattingWidth:"wide"})};function uu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?uJ(l,f=>f.test(o)):cJ(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function cJ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function uJ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const fJ=/^(\d+)(th|st|nd|rd)?/i,hJ=/\d+/i,pJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mJ={any:[/^b/i,/^(a|c)/i]},gJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yJ={any:[/1/i,/2/i,/3/i,/4/i]},vJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EJ={ordinalNumber:dJ({matchPattern:fJ,parsePattern:hJ,valueCallback:t=>parseInt(t,10)}),era:uu({matchPatterns:pJ,defaultMatchWidth:"wide",parsePatterns:mJ,defaultParseWidth:"any"}),quarter:uu({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:yJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uu({matchPatterns:vJ,defaultMatchWidth:"wide",parsePatterns:xJ,defaultParseWidth:"any"}),day:uu({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:SJ,defaultMatchWidth:"any",parsePatterns:CJ,defaultParseWidth:"any"})},DO={code:"en-US",formatDistance:YZ,formatLong:ZZ,formatRelative:eJ,localize:lJ,match:EJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NJ(t){const e=ft(t);return IZ(e,qZ(e))+1}function jJ(t){const e=ft(t),n=+am(e)-+MZ(e);return Math.round(n/MO)+1}function FO(t,e){var d,f,h,m;const n=ft(t),r=n.getFullYear(),s=zf(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=va(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Dd(o,e),c=va(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Dd(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function TJ(t,e){var l,c,u,d;const n=zf(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=FO(t,e),i=va(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Dd(i,e)}function kJ(t,e){const n=ft(t),r=+Dd(n,e)-+TJ(n,e);return Math.round(r/MO)+1}function st(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ei={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return st(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):st(n+1,2)},d(t,e){return st(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return st(t.getHours()%12||12,e.length)},H(t,e){return st(t.getHours(),e.length)},m(t,e){return st(t.getMinutes(),e.length)},s(t,e){return st(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return st(s,e.length)}},qo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bj={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ei.y(t,e)},Y:function(t,e,n,r){const s=FO(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return st(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):st(i,e.length)},R:function(t,e){const n=OO(t);return st(n,e.length)},u:function(t,e){const n=t.getFullYear();return st(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return st(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return st(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ei.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return st(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=kJ(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):st(s,e.length)},I:function(t,e,n){const r=jJ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):st(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ei.d(t,e)},D:function(t,e,n){const r=NJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):st(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return st(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return st(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return st(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=qo.noon:r===0?s=qo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=qo.evening:r>=12?s=qo.afternoon:r>=4?s=qo.morning:s=qo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ei.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ei.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):st(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ei.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ei.s(t,e)},S:function(t,e){return Ei.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Cj(r);case"XXXX":case"XX":return Fa(r);case"XXXXX":case"XXX":default:return Fa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Cj(r);case"xxxx":case"xx":return Fa(r);case"xxxxx":case"xxx":default:return Fa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Sj(r,":");case"OOOO":default:return"GMT"+Fa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Sj(r,":");case"zzzz":default:return"GMT"+Fa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return st(r,e.length)},T:function(t,e,n){const r=t.getTime();return st(r,e.length)}};function Sj(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+st(i,2)}function Cj(t,e){return t%60===0?(t>0?"-":"+")+st(Math.abs(t)/60,2):Fa(t,e)}function Fa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=st(Math.trunc(r/60),2),i=st(r%60,2);return n+s+e+i}const Ej=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Ej(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Ej(r,e)).replace("{{time}}",LO(s,e))},_J={p:LO,P:PJ},AJ=/^D+$/,RJ=/^Y+$/,IJ=["D","DD","YY","YYYY"];function MJ(t){return AJ.test(t)}function OJ(t){return RJ.test(t)}function DJ(t,e,n){const r=FJ(t,e,n);if(console.warn(r),IJ.includes(t))throw new RangeError(r)}function FJ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UJ=/^'([^]*?)'?$/,$J=/''/g,BJ=/[a-zA-Z]/;function ti(t,e,n){var d,f,h,m;const r=zf(),s=r.locale??DO,i=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=ft(t);if(!FZ(l))throw new RangeError("Invalid time value");let c=e.match(VJ).map(y=>{const g=y[0];if(g==="p"||g==="P"){const w=_J[g];return w(y,s.formatLong)}return y}).join("").match(LJ).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:zJ(y)};if(bj[g])return{isToken:!0,value:y};if(g.match(BJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;(OJ(g)||MJ(g))&&DJ(g,e,String(t));const w=bj[g[0]];return w(l,g,s.localize,u)}).join("")}function zJ(t){const e=t.match(UJ);return e?e[1].replace($J,"'"):t}function WJ(t,e,n){const r=zf(),s=(n==null?void 0:n.locale)??r.locale??DO,i=2520,o=rp(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=ft(e),u=ft(t)):(c=ft(t),u=ft(e));const d=HZ(u,c),f=(om(u)-om(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<xj){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<jh){const y=Math.round(h/xj);return s.formatDistance("xDays",y,l)}else if(h<jh*2)return m=Math.round(h/jh),s.formatDistance("aboutXMonths",m,l)}if(m=WZ(u,c),m<12){const y=Math.round(h/jh);return s.formatDistance("xMonths",y,l)}else{const y=m%12,g=Math.trunc(m/12);return y<3?s.formatDistance("aboutXYears",g,l):y<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function $S(t,e){return WJ(t,OZ(t),e)}function HJ({orderId:t,open:e,onOpenChange:n}){const[r,s]=p.useState(!1),[i,o]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(!1),{toast:f}=ot(),{t:h,formatCurrency:m}=Ft();p.useEffect(()=>{if(!e||!t)return;const x=document.createElement("style");return x.textContent=`
      @media print {
        body * {
          visibility: hidden;
        }
        .receipt-printable-dialog,
        .receipt-printable-dialog * {
          visibility: visible;
        }
        .receipt-printable-dialog {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
        }
        @page {
          margin: 1cm;
        }
      }
    `,document.head.appendChild(x),()=>{document.head.removeChild(x)}},[e,t]);const{data:y,isLoading:g}=tt({queryKey:["/api/orders",t,"receipt"],enabled:!!t&&e}),w=async()=>{if(!i||!t)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){f({title:h("invalidEmail"),description:h("pleaseEnterValidEmail"),variant:"destructive"});return}c(!0);try{const v=await Re("POST",`/api/orders/${t}/email-receipt`,{email:i});if(v.ok)f({title:h("receiptSent"),description:`${h("receiptSentTo")} ${i}`}),s(!1),o("");else{const b=await v.json();throw new Error(b.message||"Failed to send email")}}catch(v){console.error("Error sending receipt email:",v),f({title:h("failedToSend"),description:v instanceof Error?v.message:h("couldNotSendEmail"),variant:"destructive"})}finally{c(!1)}};return t?a.jsxs(a.Fragment,{children:[a.jsx(En,{open:e,onOpenChange:n,children:a.jsx(fn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-receipt",children:g?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-receipt"})}):y?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-6 print:hidden",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full mb-4",children:a.jsx(o0,{className:"h-8 w-8 text-green-600 dark:text-green-400","data-testid":"icon-success"})}),a.jsx(hn,{className:"text-3xl font-bold mb-2",children:y.order.paymentMethod==="cash"?h("invoice"):h("receipt")}),a.jsx(ts,{className:"text-base",children:h("thankYouForYourOrder")})]}),a.jsxs("div",{className:"space-y-6 receipt-printable-dialog",children:[a.jsxs("div",{className:"text-center border-b pb-6",children:[a.jsx("img",{src:jo,alt:"Waiterix",className:"h-12 w-12 mx-auto mb-3","data-testid":"img-logo"}),a.jsx("h2",{className:"text-2xl font-bold mb-1",children:y.restaurant.name}),y.restaurant.address&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.restaurant.address,y.restaurant.city&&`, ${y.restaurant.city}`,y.restaurant.country&&`, ${y.restaurant.country}`]}),y.restaurant.phone&&a.jsx("p",{className:"text-sm text-muted-foreground",children:y.restaurant.phone})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("orderNumber")}),a.jsxs("p",{className:"font-medium","data-testid":"text-order-number",children:["#",y.order.id.slice(0,8).toUpperCase()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("dateAndTime")}),a.jsx("p",{className:"font-medium","data-testid":"text-order-date",children:ti(new Date(y.order.createdAt),"MMM d, yyyy 'at' h:mm a")})]}),y.table&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("table")}),a.jsxs("p",{className:"font-medium","data-testid":"text-table-number",children:[h("table")," ",y.table.tableNumber]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("paymentMethod")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ke,{variant:"secondary","data-testid":"badge-payment-method",children:y.order.paymentMethod==="card"?"Card":y.order.paymentMethod.charAt(0).toUpperCase()+y.order.paymentMethod.slice(1)}),y.order.paymentStatus==="completed"&&a.jsx(Ke,{variant:"outline",className:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400",children:h("paid")}),y.order.paymentStatus==="pending"&&a.jsx(Ke,{variant:"outline",className:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400",children:h("pending")})]})]})]}),a.jsx(Kt,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:h("orderItems")}),a.jsx("div",{className:"space-y-3",children:y.items.map(x=>a.jsxs("div",{className:"flex justify-between items-start","data-testid":`item-${x.id}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:x.name}),a.jsxs("span",{className:"text-muted-foreground",children:["x",x.quantity]})]}),x.modifiers&&x.modifiers.length>0&&a.jsx("div",{className:"text-sm text-muted-foreground ml-4 mt-1",children:x.modifiers.map((v,b)=>a.jsxs("div",{children:["+ ",v.name," ",parseFloat(v.price)>0&&`(+${m(parseFloat(v.price))})`]},b))}),x.customerNote&&a.jsxs("p",{className:"text-sm text-muted-foreground ml-4 mt-1",children:["Note: ",x.customerNote]})]}),a.jsx("span",{className:"font-medium ml-4","data-testid":`item-price-${x.id}`,children:m(parseFloat(x.price)*x.quantity)})]},x.id))})]}),a.jsx(Kt,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:h("subtotal")}),a.jsx("span",{"data-testid":"text-subtotal",children:m(parseFloat(y.order.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:h("tax")}),a.jsx("span",{"data-testid":"text-tax",children:m(parseFloat(y.order.tax))})]}),parseFloat(y.order.tip)>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tip"}),a.jsx("span",{"data-testid":"text-tip",children:m(parseFloat(y.order.tip))})]}),a.jsx(Kt,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:h("total")}),a.jsx("span",{"data-testid":"text-total",children:m(parseFloat(y.order.total))})]})]}),y.order.customerNote&&a.jsxs(a.Fragment,{children:[a.jsx(Kt,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:h("specialInstructions")}),a.jsx("p",{className:"text-sm",children:y.order.customerNote})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 print:hidden",children:[a.jsxs(X,{variant:"outline",className:"flex-1",onClick:()=>s(!0),"data-testid":"button-email-receipt",children:[a.jsx(vc,{className:"h-4 w-4 mr-2"}),h("emailReceipt")]}),a.jsxs(X,{variant:"outline",className:"flex-1",disabled:u,onClick:()=>{u||(d(!0),window.print(),setTimeout(()=>d(!1),2e3))},"data-testid":"button-print-receipt",children:[a.jsx(sg,{className:"h-4 w-4 mr-2"}),h(u?"printing":"printSavePDF")]})]}),a.jsxs("div",{className:"space-y-3 pt-4 print:hidden",children:[a.jsxs(X,{className:"w-full",onClick:()=>{f({title:h("openingOrderTracking"),description:h("orderTrackingWillOpen")}),window.open(`/track/${t}`,"_blank")},"data-testid":"button-track-order",children:[a.jsx(l0,{className:"h-4 w-4 mr-2"}),h("trackYourOrder")]}),a.jsx(X,{variant:"outline",onClick:()=>n(!1),className:"w-full","data-testid":"button-close-receipt",children:h("continueBrowsingMenu")})]}),a.jsx("div",{className:"text-center pt-4 border-t mt-4 print:hidden",children:a.jsx("a",{href:"https://waiterix.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover-elevate inline-block px-3 py-1.5 rounded-md transition-colors","data-testid":"link-waiterix-branding-receipt",children:"Powered by Waiterix.com - AI Ordering Made Simple"})})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:h("receiptNotFound")})})})}),a.jsx(En,{open:r,onOpenChange:s,children:a.jsxs(fn,{"data-testid":"dialog-email-receipt",children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:h("emailReceipt")}),a.jsx(ts,{children:h("enterEmailToReceiveReceipt")})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"email",children:h("emailAddress")}),a.jsx(qe,{id:"email",type:"email",placeholder:"your@email.com",value:i,onChange:x=>o(x.target.value),onKeyDown:x=>x.key==="Enter"&&w(),"data-testid":"input-email"})]})}),a.jsxs(ma,{children:[a.jsx(X,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-email",children:h("cancel")}),a.jsx(X,{onClick:w,disabled:l,"data-testid":"button-send-email",children:l?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),h("sending")]}):a.jsxs(a.Fragment,{children:[a.jsx(vc,{className:"mr-2 h-4 w-4"}),h("sendReceipt")]})})]})]})})]}):null}function qJ({restaurantId:t,tableId:e,orderId:n,variant:r="default",className:s}){const[i,o]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(!1),{toast:f}=ot(),{t:h}=Ft(),m=et({mutationFn:async g=>{const w=await Re("POST","/api/assistance-requests",{...g,requestType:"call_waiter"});if(!w.ok){const x=await w.json();throw new Error(x.message||"Failed to call waiter")}return w.json()},onSuccess:()=>{d(!0),f({title:h("waiterCalled"),description:h("staffMemberWillBeWithYouShortly")}),setTimeout(()=>{o(!1),d(!1),c("")},2e3)},onError:g=>{f({title:h("error"),description:g.message,variant:"destructive"})}}),y=()=>{if(!t||!t.trim()){f({title:h("error"),description:h("unableToContactRestaurant"),variant:"destructive"});return}m.mutate({restaurantId:t,tableId:e,orderId:n,customerMessage:l||void 0})};return a.jsxs(a.Fragment,{children:[a.jsx(X,{variant:r,size:"icon",onClick:()=>o(!0),className:s,"data-testid":"button-call-waiter",children:a.jsx(Tx,{className:"h-5 w-5 text-red-500"})}),a.jsx(En,{open:i,onOpenChange:o,children:a.jsxs(fn,{"data-testid":"dialog-call-waiter",children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:h("callForAssistance")}),a.jsx(ts,{children:h("staffNotified")})]}),u?a.jsxs("div",{className:"py-8 flex flex-col items-center justify-center text-center",children:[a.jsx(fa,{className:"h-16 w-16 text-green-500 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:h("requestSent")}),a.jsx("p",{className:"text-muted-foreground",children:h("someoneWillBeWithYouSoon")})]}):a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:h("assistanceQuestion")}),a.jsx(br,{placeholder:h("assistancePlaceholder"),value:l,onChange:g=>c(g.target.value),rows:3,"data-testid":"textarea-waiter-message"})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(X,{variant:"outline",onClick:()=>o(!1),disabled:m.isPending,"data-testid":"button-cancel-call",children:h("cancel")}),a.jsxs(X,{onClick:y,disabled:m.isPending,"data-testid":"button-confirm-call",children:[m.isPending&&a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),h("callWaiter")]})]})]})]})})]})}function on({className:t,...e}){return a.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",t),...e})}const Th="/assets/stock_images/restaurant_interior__df0b7770.jpg";function KJ(){var ce,Se;const{id:t}=wf(),[,e]=ks(),{t:n,setLanguage:r,language:s}=Ft(),{toast:i}=ot(),[o,l]=p.useState("ALL"),[c,u]=p.useState([]),[d,f]=p.useState("online"),[h,m]=p.useState(null),[y,g]=p.useState(!1),[w,x]=p.useState(!1),[v,b]=p.useState(null),[S,E]=p.useState(!1),k=p.useRef(null),T=new URLSearchParams(window.location.search).get("table");p.useEffect(()=>{t&&(sessionStorage.getItem(`restaurant-${t}-welcome-seen`)||x(!0))},[t]);const{data:N,isLoading:j,error:P}=tt({queryKey:["/api/public/restaurant",t],queryFn:async()=>{const Q=await fetch(`http://localhost:3005/dev/api/public/restaurant/${t}`);if(!Q.ok)throw new Error("Restaurant not found");return Q.json()},enabled:!!t});p.useEffect(()=>{if(N!=null&&N.defaultLanguage&&t){const W=localStorage.getItem(`restaurant-${t}-language`);W?W!==s&&r(W):(r(N.defaultLanguage),localStorage.setItem(`restaurant-${t}-language`,N.defaultLanguage))}},[N==null?void 0:N.defaultLanguage,t]),p.useEffect(()=>{if(t&&s&&N){const W=localStorage.getItem(`restaurant-${t}-language`);W&&W!==s&&localStorage.setItem(`restaurant-${t}-language`,s)}},[s,t,N]),p.useEffect(()=>{(async()=>{if(t&&T&&!sessionStorage.getItem(`restaurant-${t}-table-${T}-tracked`))try{await fetch("http://localhost:3005/dev/api/analytics/table-scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurantId:t,tableId:T})}),sessionStorage.setItem(`restaurant-${t}-table-${T}-tracked`,"true")}catch(L){console.error("Failed to track table scan:",L)}})()},[t,T]),p.useEffect(()=>{(async()=>{const Q=new URLSearchParams(window.location.search),L=Q.get("payment_intent"),he=Q.get("payment_intent_client_secret");if(L&&he){console.log("[Payment Return] Detected payment redirect return");const ne=localStorage.getItem("pendingOrder");if(!ne){console.error("[Payment Return] No pending order data found in localStorage"),i({title:"Order Error",description:"Could not find pending order data. Please contact support if payment was charged.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname);return}const te=JSON.parse(ne),pe=60*60*1e3,xe=Date.now()-te.timestamp;if(xe>pe){console.error("[Payment Return] Pending order data has expired:",xe,"ms old"),localStorage.removeItem("pendingOrder"),i({title:"Order Expired",description:"This order session has expired. Please place a new order.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname);return}try{const Ce="pk_test_51SXnfY2VZXX1nihiLJ78hL5DVPaOqoXhU2TwGCldGBJzrAgGNJ6lTxYsNW6bE1bMFJ7KIBH9Gdz7NJdOUyCYz2AE00Ux84umtM",je=await RO(Ce,{stripeAccount:te.stripeAccountId});if(!je)throw new Error("Failed to load Stripe");const{paymentIntent:we}=await je.retrievePaymentIntent(he);if((we==null?void 0:we.status)==="succeeded"){console.log("[Payment Return] Payment successful, creating order");const Qe=await Re("POST","/api/orders",{...te,stripePaymentIntentId:L});if(!Qe.ok){const Me=await Qe.json();console.error("[Payment Return] Order creation failed:",Me),i({title:"Order Creation Failed",description:Me.message||"Payment succeeded but order creation failed. Please contact support with your payment confirmation.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname);return}const Oe=await Qe.json();console.log("[Payment Return] Order created successfully:",Oe),localStorage.removeItem("pendingOrder"),u([]),e(`/receipt/${Oe.id}`)}else console.error("[Payment Return] Payment not successful:",we==null?void 0:we.status),localStorage.removeItem("pendingOrder"),i({title:"Payment Issue",description:`Payment status: ${we==null?void 0:we.status}. Please contact support if you were charged.`,variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname)}catch(Ce){console.error("[Payment Return] Error creating order after redirect:",Ce),i({title:"Order Failed",description:"Payment verification or order creation failed. Please contact support with your payment confirmation.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname)}}})()},[t,i]);const{data:O=[],isLoading:I}=tt({queryKey:["/api/menu-items",t],queryFn:async()=>{const Q=await fetch(`http://localhost:3005/dev/api/menu-items?restaurantId=${t}`);if(!Q.ok)throw new Error("Failed to fetch menu items");return Q.json()},enabled:!!t}),B=Array.from(new Set(O.map(W=>W.category))),D=[{value:"ALL",label:n("allCategories")},...B.map(W=>({value:W,label:W}))],M=o==="ALL"?O.filter(W=>W.available):O.filter(W=>W.category===o&&W.available),V=(W,Q=1)=>{console.log("[CustomerMenu] addToCart called with item:",W),console.log("[CustomerMenu] Current cart items:",c);const L={id:W.id,name:W.name,description:W.description,price:W.price,quantity:Q,image:W.imageUrl||Th,category:W.category,spiceLevel:W.spiceLevel,isVegan:W.isVegan,isVegetarian:W.isVegetarian,isHalal:W.isHalal,isKosher:W.isKosher,allergens:W.allergens};console.log("[CustomerMenu] Created cart item:",L),c.find(ne=>ne.id===W.id)?(console.log("[CustomerMenu] Item exists in cart, updating quantity"),u(c.map(ne=>ne.id===W.id?{...ne,quantity:ne.quantity+Q}:ne))):(console.log("[CustomerMenu] Adding new item to cart"),u([...c,L]))},$=(W,Q)=>{u(Q===0?c.filter(L=>L.id!==W):c.map(L=>L.id===W?{...L,quantity:Q}:L))},_=()=>{g(!0)},R=()=>{u([]),g(!1)},q=W=>{b(W),E(!0),g(!1)},G=c.reduce((W,Q)=>W+parseFloat(Q.price)*Q.quantity,0),se=G*.1,J=G+se;return j||I?a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"relative mb-8 overflow-hidden rounded-xl",children:[a.jsx(on,{className:"h-64 w-full pulse-enhanced"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[a.jsx(on,{className:"h-8 w-3/4 mb-2 pulse-enhanced"}),a.jsx(on,{className:"h-4 w-1/2 pulse-enhanced"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(on,{className:"h-6 w-20 pulse-enhanced"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(on,{className:"h-10 w-24 pulse-enhanced"}),a.jsx(on,{className:"h-10 w-24 pulse-enhanced"}),a.jsx(on,{className:"h-10 w-24 pulse-enhanced"})]})]}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(W=>a.jsx(on,{className:"h-8 w-20 pulse-enhanced"},W))})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(W=>a.jsxs("div",{className:"glass-card rounded-lg overflow-hidden",children:[a.jsx(on,{className:"h-48 w-full pulse-enhanced"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx(on,{className:"h-6 w-3/4 pulse-enhanced"}),a.jsx(on,{className:"h-6 w-16 pulse-enhanced"})]}),a.jsx(on,{className:"h-4 w-full mb-2 pulse-enhanced"}),a.jsx(on,{className:"h-4 w-2/3 mb-4 pulse-enhanced"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx(on,{className:"h-6 w-16 pulse-enhanced"}),a.jsx(on,{className:"h-6 w-20 pulse-enhanced"})]}),a.jsx(on,{className:"h-10 w-full pulse-enhanced"})]})]},W))})]})}):P||!N?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(Md,{variant:"destructive",className:"max-w-md",children:[a.jsx(rg,{className:"h-4 w-4"}),a.jsx(IO,{children:"Restaurant Not Found"}),a.jsx(Od,{children:"The restaurant you're looking for doesn't exist or has been removed."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(zG,{name:N.name,description:N.description||"",image:N.coverImageUrl||Th,address:N.address||"",phone:N.phone||"",hours:N.hours||""}),a.jsx("div",{className:"sticky top-0 z-40 glass backdrop-blur-md border-b",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold gradient-text",children:n("menu")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($X,{}),a.jsx(qJ,{restaurantId:t||"",tableId:T||void 0,variant:"outline",className:"hover-lift"}),a.jsx(gQ,{items:c.map(W=>({...W,price:parseFloat(W.price)})),onUpdateQuantity:$,onRemoveItem:W=>u(c.filter(Q=>Q.id!==W)),paymentMethod:d,onPaymentMethodChange:f,onCheckout:_,stripeOnboardingComplete:N.stripeOnboardingComplete,paystackOnboardingComplete:!!N.paystackSubaccountCode})]})]}),a.jsx(WG,{categories:D,activeCategory:o,onCategoryChange:l})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-chart-2/5 pointer-events-none"}),M.length===0?a.jsx("div",{className:"text-center py-20 relative z-10",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-muted to-muted/50 rounded-full flex items-center justify-center",children:a.jsx(ho,{className:"h-12 w-12 text-muted-foreground"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Items Available"}),a.jsx("p",{className:"text-muted-foreground",children:"No menu items available in this category at the moment."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 relative z-10",children:M.map((W,Q)=>{var L,he;return a.jsx("div",{className:"bounce-in",style:{animationDelay:`${Q*.1}s`},children:a.jsx(HG,{name:W.name,description:W.description,price:parseFloat(W.price),image:(L=W.imageUrl)!=null&&L.startsWith("http")||(he=W.imageUrl)!=null&&he.startsWith("/")?W.imageUrl:`/assets/stock_images/${W.imageUrl}`||Th,spiceLevel:W.spiceLevel?parseInt(W.spiceLevel):void 0,isVegan:W.isVegan,isVegetarian:W.isVegetarian,isHalal:W.isHalal,isKosher:W.isKosher,allergens:W.allergens||[],onAddToCart:()=>V(W),onClick:()=>m(W)})},W.id)})})]}),h&&a.jsx(yQ,{open:!!h,onOpenChange:W=>!W&&m(null),item:{...h,price:parseFloat(h.price),spiceLevel:h.spiceLevel?parseInt(h.spiceLevel):void 0,allergens:h.allergens||[],image:(ce=h.imageUrl)!=null&&ce.startsWith("http")||(Se=h.imageUrl)!=null&&Se.startsWith("/")?h.imageUrl:`/assets/stock_images/${h.imageUrl}`||Th},onAddToCart:W=>V(h,W)}),t&&a.jsx(_Z,{open:y,onOpenChange:g,items:c.map(W=>({...W,price:parseFloat(W.price)})),subtotal:G,tax:se,total:J,paymentMethod:d,restaurantId:t,tableId:T||void 0,onSuccess:R,onOrderComplete:q}),a.jsx(HJ,{orderId:v,open:S,onOpenChange:W=>{E(W),W||u([])}}),a.jsx(x9,{children:w&&N&&N.aiWaiterEnabled&&a.jsx(HX,{restaurantName:N.name,onDismiss:async()=>{const W=localStorage.getItem("waiterix-wake-word-enabled");if(W===null||W==="true")try{console.log("[CustomerMenu] Requesting mic permission for wake word detection...");const Q=await navigator.mediaDevices.getUserMedia({audio:!0});console.log("[CustomerMenu] Mic permission granted"),sessionStorage.setItem("waiterix-mic-permission-granted","true"),Q.getTracks().forEach(L=>L.stop())}catch(Q){console.warn("[CustomerMenu] Mic permission denied:",Q),sessionStorage.setItem("waiterix-mic-permission-granted","false")}t&&sessionStorage.setItem(`restaurant-${t}-welcome-seen`,"true"),x(!1),k.current?k.current.triggerWelcome().catch(Q=>{console.error("Welcome trigger failed:",Q)}):console.error("AI Waiter ref not available when overlay was dismissed")}})}),t&&(N==null?void 0:N.aiWaiterEnabled)&&a.jsx(yO,{ref:k,restaurantId:t,restaurantName:N.name,menuItems:O,onAddToCart:W=>V(W),initiallyHidden:w}),a.jsx("footer",{className:"mt-8 pb-4 text-center border-t pt-4",children:a.jsx("a",{href:"https://waiterix.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover-elevate inline-block px-3 py-1.5 rounded-md transition-colors","data-testid":"link-waiterix-branding",children:"Powered by Waiterix.com - AI Ordering Made Simple"})})]})}function YJ(){const{id:t}=wf(),{data:e}=tt({queryKey:["/api/public/restaurant",t],queryFn:async()=>{const r=await fetch(`http://localhost:3005/dev/api/public/restaurant/${t}`);if(!r.ok)throw new Error("Restaurant not found");return r.json()},enabled:!!t});return a.jsx(Og,{currencyCode:e==null?void 0:e.currencyCode,defaultLanguage:e==null?void 0:e.defaultLanguage,children:a.jsx(KJ,{})})}const iv=768;function GJ(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${iv-1}px)`),r=()=>{e(window.innerWidth<iv)};return n.addEventListener("change",r),e(window.innerWidth<iv),()=>n.removeEventListener("change",r)},[]),!!t}const QJ="sidebar_state",XJ=60*60*24*7,ZJ="16rem",JJ="18rem",eee="3rem",tee="b",VO=p.createContext(null);function BS(){const t=p.useContext(VO);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function nee({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o}){const l=GJ(),[c,u]=p.useState(!1),[d,f]=p.useState(t),h=e??d,m=p.useCallback(x=>{const v=typeof x=="function"?x(h):x;n?n(v):f(v),document.cookie=`${QJ}=${v}; path=/; max-age=${XJ}`},[n,h]),y=p.useCallback(()=>l?u(x=>!x):m(x=>!x),[l,m,u]);p.useEffect(()=>{const x=v=>{v.key===tee&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),y())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[y]);const g=h?"expanded":"collapsed",w=p.useMemo(()=>({state:g,open:h,setOpen:m,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:y}),[g,h,m,l,c,u,y]);return a.jsx(VO.Provider,{value:w,children:a.jsx(KA,{delayDuration:0,children:a.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":ZJ,"--sidebar-width-icon":eee,...s},className:ae("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:i})})})}function ree({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:u}=BS();return n==="none"?a.jsx("div",{"data-slot":"sidebar",className:ae("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...i,children:s}):o?a.jsx(X2,{open:c,onOpenChange:u,...i,children:a.jsxs(kS,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":JJ},side:t,children:[a.jsxs(PS,{className:"sr-only",children:[a.jsx(_S,{children:"Sidebar"}),a.jsx(J2,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):a.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[a.jsx("div",{"data-slot":"sidebar-gap",className:ae("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),a.jsx("div",{"data-slot":"sidebar-container",className:ae("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:a.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function see({className:t,onClick:e,...n}){const{toggleSidebar:r}=BS();return a.jsxs(X,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ae("h-7 w-7",t),onClick:s=>{e==null||e(s),r()},...n,children:[a.jsx(W$,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function iee({className:t,...e}){return a.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function aee({className:t,...e}){return a.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:ae("relative flex w-full min-w-0 flex-col p-2",t),...e})}function oee({className:t,asChild:e=!1,...n}){const r=e?hg:"div";return a.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ae("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function lee({className:t,...e}){return a.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ae("w-full text-sm",t),...e})}function cee({className:t,...e}){return a.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:ae("flex w-full min-w-0 flex-col gap-1",t),...e})}function uee({className:t,...e}){return a.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ae("group/menu-item relative",t),...e})}const dee=Lo("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function fee({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o}){const l=t?hg:"button",{isMobile:c,state:u}=BS(),d=a.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:ae(dee({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(EB,{children:[a.jsx(NB,{asChild:!0,children:d}),a.jsx(YA,{side:"right",align:"center",hidden:u!=="collapsed"||c,...s})]})):d}function du({orderId:t,items:e,total:n,tip:r,paymentMethod:s,status:i,createdAt:o,customerNote:l,tableNumber:c,onStatusChange:u}){const{formatCurrency:d}=Ft(),f={new:"bg-blue-500",preparing:"bg-yellow-500",ready:"bg-green-500",completed:"bg-gray-500"},m=(()=>{const y=["new","preparing","ready","completed"],g=y.indexOf(i);return g<y.length-1?y[g+1]:null})();return a.jsxs(ge,{className:"p-4","data-testid":`card-order-${t}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("h4",{className:"font-semibold","data-testid":`text-order-id-${t}`,children:["Order #",t]}),c&&a.jsxs(Ke,{variant:"outline",className:"flex items-center gap-1","data-testid":`badge-table-${t}`,children:[a.jsx(eA,{className:"h-3 w-3"}),"Table ",c]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-1",children:[a.jsx(So,{className:"h-3 w-3"}),$S(o,{addSuffix:!0})]})]}),a.jsx(Ke,{className:f[i],"data-testid":`badge-status-${t}`,children:i.charAt(0).toUpperCase()+i.slice(1)})]}),a.jsx("div",{className:"space-y-2 mb-3",children:e.map((y,g)=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:[y.quantity,"x"]})," ",y.name]}),y.customerNote&&a.jsxs("p",{className:"text-xs text-muted-foreground italic pl-6","data-testid":`text-item-note-${g}`,children:["Note: ",y.customerNote]})]},g))}),l&&a.jsx("div",{className:"bg-muted p-2 rounded-md mb-3",children:a.jsxs("p",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:["Note: ",l]})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Px,{className:"h-4 w-4"}),a.jsx("span",{className:"font-semibold","data-testid":`text-order-total-${t}`,children:d(n)})]}),r&&r>0&&a.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`text-order-tip-${t}`,children:["Includes ",d(r)," tip"]})]}),a.jsx(Ke,{variant:s==="online"?"default":"outline","data-testid":`badge-payment-${t}`,children:s==="online"?"Paid Online":"Cash"})]}),u&&m&&a.jsx("div",{className:"mt-3 pt-3 border-t",children:a.jsxs(X,{size:"sm",className:"w-full",onClick:()=>u(t,m),"data-testid":`button-update-status-${t}`,children:["Mark as ",m.charAt(0).toUpperCase()+m.slice(1)]})})]})}function hee({order:t,items:e,tableNumber:n,restaurantName:r}){const{formatCurrency:s}=Ft();return a.jsxs("div",{className:"printable-order hidden print:block",children:[a.jsx("style",{children:`
          @media print {
            body * {
              visibility: hidden;
            }
            .printable-order,
            .printable-order * {
              visibility: visible;
            }
            .printable-order {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              background: white;
              color: black;
              padding: 20px;
            }
            @page {
              margin: 10mm;
            }
          }
        `}),a.jsxs("div",{className:"max-w-md mx-auto text-black bg-white",children:[a.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2 border-black",children:[r&&a.jsx("h1",{className:"text-2xl font-bold mb-2",children:r}),a.jsx("h2",{className:"text-xl font-semibold",children:"ORDER RECEIPT"})]}),a.jsxs("div",{className:"mb-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Order ID:"}),a.jsx("span",{className:"font-mono",children:t.id.substring(0,8).toUpperCase()})]}),n&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Table:"}),a.jsx("span",{children:n})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Date:"}),a.jsx("span",{children:ti(new Date(t.createdAt),"MMM dd, yyyy")})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Time:"}),a.jsx("span",{children:ti(new Date(t.createdAt),"hh:mm a")})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Status:"}),a.jsx("span",{className:"uppercase font-bold",children:t.status})]})]}),a.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-dashed border-gray-400",children:[a.jsx("h3",{className:"font-bold mb-3 text-lg",children:"ITEMS"}),a.jsx("div",{className:"space-y-3",children:e.map((i,o)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-semibold",children:[i.quantity,"x"]})," ",a.jsx("span",{children:i.name})]}),a.jsx("span",{className:"font-mono",children:s(parseFloat(i.price))})]}),i.customerNote&&a.jsxs("div",{className:"ml-6 mt-1 text-sm italic text-gray-700",children:["Note: ",i.customerNote]})]},o))})]}),t.customerNote&&a.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-dashed border-gray-400",children:[a.jsx("h3",{className:"font-bold mb-2",children:"CUSTOMER NOTE"}),a.jsx("p",{className:"text-sm font-semibold bg-gray-100 p-3 rounded border-2 border-gray-800",children:t.customerNote})]}),a.jsxs("div",{className:"mb-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(t.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tax:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(t.tax))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tip:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(t.tip))})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t-2 border-black",children:[a.jsx("span",{children:"TOTAL:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(t.total))})]})]}),a.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-dashed border-gray-400",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Payment Method:"}),a.jsx("span",{className:"uppercase",children:t.paymentMethod})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Payment Status:"}),a.jsx("span",{className:"uppercase font-bold",children:t.paymentStatus})]})]}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:[a.jsx("p",{children:"Thank you for your order!"}),a.jsxs("p",{className:"mt-2",children:["Printed: ",ti(new Date,"MMM dd, yyyy hh:mm a")]})]})]})]})}var Wf=t=>t.type==="checkbox",qa=t=>t instanceof Date,Mn=t=>t==null;const UO=t=>typeof t=="object";var Bt=t=>!Mn(t)&&!Array.isArray(t)&&UO(t)&&!qa(t),$O=t=>Bt(t)&&t.target?Wf(t.target)?t.target.checked:t.target.value:t,pee=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,BO=(t,e)=>t.has(pee(e)),mee=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},zS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(zS&&(t instanceof Blob||r))&&(n||Bt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!mee(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=zt(t[s]));else return t;return e}var Fg=t=>/^\w*$/.test(t),At=t=>t===void 0,WS=t=>Array.isArray(t)?t.filter(Boolean):[],HS=t=>WS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(t,e,n)=>{if(!e||!Bt(t))return n;const r=(Fg(e)?[e]:HS(e)).reduce((s,i)=>Mn(s)?s:s[i],t);return At(r)||r===t?At(t[e])?n:t[e]:r},Hn=t=>typeof t=="boolean",rt=(t,e,n)=>{let r=-1;const s=Fg(e)?[e]:HS(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=Bt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const lm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qS=re.createContext(null);qS.displayName="HookFormContext";const Lg=()=>re.useContext(qS),gee=t=>{const{children:e,...n}=t;return re.createElement(qS.Provider,{value:n},e)};var zO=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==zr.all&&(e._proxyFormState[o]=!r||zr.all),n&&(n[o]=!0),t[o]}});return s};const KS=typeof window<"u"?re.useLayoutEffect:re.useEffect;function yee(t){const e=Lg(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=re.useState(n._formState),c=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return KS(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),re.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),re.useMemo(()=>zO(o,n,c.current,!1),[o,n])}var Kn=t=>typeof t=="string",gw=(t,e,n,r,s)=>Kn(t)?(r&&e.watch.add(t),fe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),fe(n,i))):(r&&(e.watchAll=!0),n),yw=t=>Mn(t)||!UO(t);function Wr(t,e,n=new WeakSet){if(yw(t)||yw(e))return Object.is(t,e);if(qa(t)&&qa(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(qa(o)&&qa(l)||Bt(o)&&Bt(l)||Array.isArray(o)&&Array.isArray(l)?!Wr(o,l,n):!Object.is(o,l))return!1}}return!0}function vee(t){const e=Lg(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:l}=t||{},c=re.useRef(s),u=re.useRef(l),d=re.useRef(void 0),f=re.useRef(n),h=re.useRef(r);u.current=l;const[m,y]=re.useState(()=>{const S=n._getWatch(r,c.current);return u.current?u.current(S):S}),g=re.useCallback(S=>{const E=gw(r,n._names,S||n._formValues,!1,c.current);return u.current?u.current(E):E},[n._formValues,n._names,r]),w=re.useCallback(S=>{if(!i){const E=gw(r,n._names,S||n._formValues,!1,c.current);if(u.current){const k=u.current(E);Wr(k,d.current)||(y(k),d.current=k)}else y(E)}},[n._formValues,n._names,i,r]);KS(()=>((f.current!==n||!Wr(h.current,r))&&(f.current=n,h.current=r,w()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:S=>{w(S.values)}})),[n,o,r,w]),re.useEffect(()=>n._removeUnmounted());const x=f.current!==n,v=h.current,b=re.useMemo(()=>{if(i)return null;const S=!x&&!Wr(v,r);return x||S?g():null},[i,x,r,v,g]);return b!==null?b:m}function xee(t){const e=Lg(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,l=BO(s._names.array,n),c=re.useMemo(()=>fe(s._formValues,n,fe(s._defaultValues,n,o)),[s,n,o]),u=vee({control:s,name:n,defaultValue:c,exact:!0}),d=yee({control:s,name:n,exact:!0}),f=re.useRef(t),h=re.useRef(void 0),m=re.useRef(s.register(n,{...t.rules,value:u,...Hn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!fe(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!fe(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!fe(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!fe(d.validatingFields,n)},error:{enumerable:!0,get:()=>fe(d.errors,n)}}),[d,n]),g=re.useCallback(b=>m.current.onChange({target:{value:$O(b),name:n},type:lm.CHANGE}),[n]),w=re.useCallback(()=>m.current.onBlur({target:{value:fe(s._formValues,n),name:n},type:lm.BLUR}),[n,s._formValues]),x=re.useCallback(b=>{const S=fe(s._fields,n);S&&b&&(S._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:E=>b.setCustomValidity(E),reportValidity:()=>b.reportValidity()})},[s._fields,n]),v=re.useMemo(()=>({name:n,value:u,...Hn(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:g,onBlur:w,ref:x}),[n,r,d.disabled,g,w,x,u]);return re.useEffect(()=>{const b=s._options.shouldUnregister||i,S=h.current;S&&S!==n&&!l&&s.unregister(S),s.register(n,{...f.current.rules,...Hn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(k,T)=>{const N=fe(s._fields,k);N&&N._f&&(N._f.mount=T)};if(E(n,!0),b){const k=zt(fe(s._options.defaultValues,n,f.current.defaultValue));rt(s._defaultValues,n,k),At(fe(s._formValues,n))&&rt(s._formValues,n,k)}return!l&&s.register(n),h.current=n,()=>{(l?b&&!s._state.action:b)?s.unregister(n):E(n,!1)}},[n,s,l,i]),re.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),re.useMemo(()=>({field:v,formState:d,fieldState:y}),[v,d,y])}const wee=t=>t.render(xee(t));var WO=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Qu=t=>Array.isArray(t)?t:[t],Nj=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function HO(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&Bt(s)&&i){const o=HO(s,i);Bt(o)&&(n[r]=o)}else t[r]&&(n[r]=i)}return n}var Sn=t=>Bt(t)&&!Object.keys(t).length,YS=t=>t.type==="file",Hr=t=>typeof t=="function",cm=t=>{if(!zS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},qO=t=>t.type==="select-multiple",GS=t=>t.type==="radio",bee=t=>GS(t)||Wf(t),av=t=>cm(t)&&t.isConnected;function See(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=At(t)?r++:t[e[r++]];return t}function Cee(t){for(const e in t)if(t.hasOwnProperty(e)&&!At(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:Fg(e)?[e]:HS(e),r=n.length===1?t:See(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Bt(r)&&Sn(r)||Array.isArray(r)&&Cee(r))&&Lt(t,n.slice(0,-1)),t}var Eee=t=>{for(const e in t)if(Hr(t[e]))return!0;return!1};function KO(t){return Array.isArray(t)||Bt(t)&&!Eee(t)}function vw(t,e={}){for(const n in t){const r=t[n];KO(r)?(e[n]=Array.isArray(r)?[]:{},vw(r,e[n])):At(r)||(e[n]=!0)}return e}function Go(t,e,n){n||(n=vw(e));for(const r in t){const s=t[r];if(KO(s))At(e)||yw(n[r])?n[r]=vw(s,Array.isArray(s)?[]:{}):Go(s,Mn(e)?{}:e[r],n[r]);else{const i=e[r];n[r]=!Wr(s,i)}}return n}const jj={value:!1,isValid:!1},Tj={value:!0,isValid:!0};var YO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!At(t[0].attributes.value)?At(t[0].value)||t[0].value===""?Tj:{value:t[0].value,isValid:!0}:Tj:jj}return jj},GO=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>At(t)?t:e?t===""?NaN:t&&+t:n&&Kn(t)?new Date(t):r?r(t):t;const kj={isValid:!1,value:null};var QO=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kj):kj;function Pj(t){const e=t.ref;return YS(e)?e.files:GS(e)?QO(t.refs).value:qO(e)?[...e.selectedOptions].map(({value:n})=>n):Wf(e)?YO(t.refs).value:GO(At(e.value)?t.ref.value:e.value,t)}var Nee=(t,e,n,r)=>{const s={};for(const i of t){const o=fe(e,i);o&&rt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},um=t=>t instanceof RegExp,fu=t=>At(t)?t:um(t)?t.source:Bt(t)?um(t.value)?t.value.source:t.value:t,_j=t=>({isOnSubmit:!t||t===zr.onSubmit,isOnBlur:t===zr.onBlur,isOnChange:t===zr.onChange,isOnAll:t===zr.all,isOnTouch:t===zr.onTouched});const Aj="AsyncFunction";var jee=t=>!!t&&!!t.validate&&!!(Hr(t.validate)&&t.validate.constructor.name===Aj||Bt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Aj)),Tee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Rj=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Xu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=fe(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Xu(l,e))break}else if(Bt(l)&&Xu(l,e))break}}};function Ij(t,e,n){const r=fe(t,n);if(r||Fg(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=fe(e,i),l=fe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var kee=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Sn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||zr.all))},Pee=(t,e,n)=>!t||!e||t===e||Qu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),_ee=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Aee=(t,e)=>!WS(fe(t,e)).length&&Lt(t,e),Ree=(t,e,n)=>{const r=Qu(fe(t,n));return rt(r,"root",e[n]),rt(t,n,r),t};function Mj(t,e,n="validate"){if(Kn(t)||Array.isArray(t)&&t.every(Kn)||Hn(t)&&!t)return{type:n,message:Kn(t)?t:"",ref:e}}var Ko=t=>Bt(t)&&!um(t)?t:{value:t,message:""},Oj=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:g,valueAsNumber:w,mount:x}=t._f,v=fe(n,g);if(!x||e.has(g))return{};const b=l?l[0]:o,S=I=>{s&&b.reportValidity&&(b.setCustomValidity(Hn(I)?"":I||""),b.reportValidity())},E={},k=GS(o),T=Wf(o),N=k||T,j=(w||YS(o))&&At(o.value)&&At(v)||cm(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,P=WO.bind(null,g,r,E),O=(I,B,D,M=Is.maxLength,V=Is.minLength)=>{const $=I?B:D;E[g]={type:I?M:V,message:$,ref:o,...P(I?M:V,$)}};if(i?!Array.isArray(v)||!v.length:c&&(!N&&(j||Mn(v))||Hn(v)&&!v||T&&!YO(l).isValid||k&&!QO(l).isValid)){const{value:I,message:B}=Kn(c)?{value:!!c,message:c}:Ko(c);if(I&&(E[g]={type:Is.required,message:B,ref:b,...P(Is.required,B)},!r))return S(B),E}if(!j&&(!Mn(f)||!Mn(h))){let I,B;const D=Ko(h),M=Ko(f);if(!Mn(v)&&!isNaN(v)){const V=o.valueAsNumber||v&&+v;Mn(D.value)||(I=V>D.value),Mn(M.value)||(B=V<M.value)}else{const V=o.valueAsDate||new Date(v),$=q=>new Date(new Date().toDateString()+" "+q),_=o.type=="time",R=o.type=="week";Kn(D.value)&&v&&(I=_?$(v)>$(D.value):R?v>D.value:V>new Date(D.value)),Kn(M.value)&&v&&(B=_?$(v)<$(M.value):R?v<M.value:V<new Date(M.value))}if((I||B)&&(O(!!I,D.message,M.message,Is.max,Is.min),!r))return S(E[g].message),E}if((u||d)&&!j&&(Kn(v)||i&&Array.isArray(v))){const I=Ko(u),B=Ko(d),D=!Mn(I.value)&&v.length>+I.value,M=!Mn(B.value)&&v.length<+B.value;if((D||M)&&(O(D,I.message,B.message),!r))return S(E[g].message),E}if(m&&!j&&Kn(v)){const{value:I,message:B}=Ko(m);if(um(I)&&!v.match(I)&&(E[g]={type:Is.pattern,message:B,ref:o,...P(Is.pattern,B)},!r))return S(B),E}if(y){if(Hr(y)){const I=await y(v,n),B=Mj(I,b);if(B&&(E[g]={...B,...P(Is.validate,B.message)},!r))return S(B.message),E}else if(Bt(y)){let I={};for(const B in y){if(!Sn(I)&&!r)break;const D=Mj(await y[B](v,n),b,B);D&&(I={...D,...P(B,D.message)},S(D.message),r&&(E[g]=I))}if(!Sn(I)&&(E[g]={ref:b,...I},!r))return E}}return S(!0),E};const Iee={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function Mee(t={}){let e={...Iee,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Hr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Bt(e.defaultValues)||Bt(e.values)?zt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:zt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Nj(),state:Nj()},m=e.criteriaMode===zr.all,y=A=>U=>{clearTimeout(u),u=setTimeout(A,U)},g=async A=>{if(!e.disabled&&(d.isValid||f.isValid||A)){const U=e.resolver?Sn((await T()).errors):await j(r,!0);U!==n.isValid&&h.state.next({isValid:U})}},w=(A,U)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((A||Array.from(l.mount)).forEach(z=>{z&&(U?rt(n.validatingFields,z,U):Lt(n.validatingFields,z))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Sn(n.validatingFields)}))},x=(A,U=[],z,ue,ee=!0,Z=!0)=>{if(ue&&z&&!e.disabled){if(o.action=!0,Z&&Array.isArray(fe(r,A))){const de=z(fe(r,A),ue.argA,ue.argB);ee&&rt(r,A,de)}if(Z&&Array.isArray(fe(n.errors,A))){const de=z(fe(n.errors,A),ue.argA,ue.argB);ee&&rt(n.errors,A,de),Aee(n.errors,A)}if((d.touchedFields||f.touchedFields)&&Z&&Array.isArray(fe(n.touchedFields,A))){const de=z(fe(n.touchedFields,A),ue.argA,ue.argB);ee&&rt(n.touchedFields,A,de)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Go(s,i)),h.state.next({name:A,isDirty:O(A,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rt(i,A,U)},v=(A,U)=>{rt(n.errors,A,U),h.state.next({errors:n.errors})},b=A=>{n.errors=A,h.state.next({errors:n.errors,isValid:!1})},S=(A,U,z,ue)=>{const ee=fe(r,A);if(ee){const Z=fe(i,A,At(z)?fe(s,A):z);At(Z)||ue&&ue.defaultChecked||U?rt(i,A,U?Z:Pj(ee._f)):D(A,Z),o.mount&&!o.action&&g()}},E=(A,U,z,ue,ee)=>{let Z=!1,de=!1;const Te={name:A};if(!e.disabled){if(!z||ue){(d.isDirty||f.isDirty)&&(de=n.isDirty,n.isDirty=Te.isDirty=O(),Z=de!==Te.isDirty);const Ae=Wr(fe(s,A),U);de=!!fe(n.dirtyFields,A),Ae?Lt(n.dirtyFields,A):rt(n.dirtyFields,A,!0),Te.dirtyFields=n.dirtyFields,Z=Z||(d.dirtyFields||f.dirtyFields)&&de!==!Ae}if(z){const Ae=fe(n.touchedFields,A);Ae||(rt(n.touchedFields,A,z),Te.touchedFields=n.touchedFields,Z=Z||(d.touchedFields||f.touchedFields)&&Ae!==z)}Z&&ee&&h.state.next(Te)}return Z?Te:{}},k=(A,U,z,ue)=>{const ee=fe(n.errors,A),Z=(d.isValid||f.isValid)&&Hn(U)&&n.isValid!==U;if(e.delayError&&z?(c=y(()=>v(A,z)),c(e.delayError)):(clearTimeout(u),c=null,z?rt(n.errors,A,z):Lt(n.errors,A)),(z?!Wr(ee,z):ee)||!Sn(ue)||Z){const de={...ue,...Z&&Hn(U)?{isValid:U}:{},errors:n.errors,name:A};n={...n,...de},h.state.next(de)}},T=async A=>{w(A,!0);const U=await e.resolver(i,e.context,Nee(A||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(A),U},N=async A=>{const{errors:U}=await T(A);if(A)for(const z of A){const ue=fe(U,z);ue?rt(n.errors,z,ue):Lt(n.errors,z)}else n.errors=U;return U},j=async(A,U,z={valid:!0})=>{for(const ue in A){const ee=A[ue];if(ee){const{_f:Z,...de}=ee;if(Z){const Te=l.array.has(Z.name),Ae=ee._f&&jee(ee._f);Ae&&d.validatingFields&&w([Z.name],!0);const Ze=await Oj(ee,l.disabled,i,m,e.shouldUseNativeValidation&&!U,Te);if(Ae&&d.validatingFields&&w([Z.name]),Ze[Z.name]&&(z.valid=!1,U))break;!U&&(fe(Ze,Z.name)?Te?Ree(n.errors,Ze,Z.name):rt(n.errors,Z.name,Ze[Z.name]):Lt(n.errors,Z.name))}!Sn(de)&&await j(de,U,z)}}return z.valid},P=()=>{for(const A of l.unMount){const U=fe(r,A);U&&(U._f.refs?U._f.refs.every(z=>!av(z)):!av(U._f.ref))&&Q(A)}l.unMount=new Set},O=(A,U)=>!e.disabled&&(A&&U&&rt(i,A,U),!Wr(q(),s)),I=(A,U,z)=>gw(A,l,{...o.mount?i:At(U)?s:Kn(A)?{[A]:U}:U},z,U),B=A=>WS(fe(o.mount?i:s,A,e.shouldUnregister?fe(s,A,[]):[])),D=(A,U,z={})=>{const ue=fe(r,A);let ee=U;if(ue){const Z=ue._f;Z&&(!Z.disabled&&rt(i,A,GO(U,Z)),ee=cm(Z.ref)&&Mn(U)?"":U,qO(Z.ref)?[...Z.ref.options].forEach(de=>de.selected=ee.includes(de.value)):Z.refs?Wf(Z.ref)?Z.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ee)?de.checked=!!ee.find(Te=>Te===de.value):de.checked=ee===de.value||!!ee)}):Z.refs.forEach(de=>de.checked=de.value===ee):YS(Z.ref)?Z.ref.value="":(Z.ref.value=ee,Z.ref.type||h.state.next({name:A,values:zt(i)})))}(z.shouldDirty||z.shouldTouch)&&E(A,ee,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&R(A)},M=(A,U,z)=>{for(const ue in U){if(!U.hasOwnProperty(ue))return;const ee=U[ue],Z=A+"."+ue,de=fe(r,Z);(l.array.has(A)||Bt(ee)||de&&!de._f)&&!qa(ee)?M(Z,ee,z):D(Z,ee,z)}},V=(A,U,z={})=>{const ue=fe(r,A),ee=l.array.has(A),Z=zt(U);rt(i,A,Z),ee?(h.array.next({name:A,values:zt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&h.state.next({name:A,dirtyFields:Go(s,i),isDirty:O(A,Z)})):ue&&!ue._f&&!Mn(Z)?M(A,Z,z):D(A,Z,z),Rj(A,l)&&h.state.next({...n,name:A}),h.state.next({name:o.mount?A:void 0,values:zt(i)})},$=async A=>{o.mount=!0;const U=A.target;let z=U.name,ue=!0;const ee=fe(r,z),Z=Ae=>{ue=Number.isNaN(Ae)||qa(Ae)&&isNaN(Ae.getTime())||Wr(Ae,fe(i,z,Ae))},de=_j(e.mode),Te=_j(e.reValidateMode);if(ee){let Ae,Ze;const Nr=U.type?Pj(ee._f):$O(A),jt=A.type===lm.BLUR||A.type===lm.FOCUS_OUT,An=!Tee(ee._f)&&!e.resolver&&!fe(n.errors,z)&&!ee._f.deps||_ee(jt,fe(n.touchedFields,z),n.isSubmitted,Te,de),jr=Rj(z,l,jt);rt(i,z,Nr),jt?(!U||!U.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(A),c&&c(0)):ee._f.onChange&&ee._f.onChange(A);const vi=E(z,Nr,jt),Hf=!Sn(vi)||jr;if(!jt&&h.state.next({name:z,type:A.type,values:zt(i)}),An)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?jt&&g():jt||g()),Hf&&h.state.next({name:z,...jr?{}:vi});if(!jt&&jr&&h.state.next({...n}),e.resolver){const{errors:Gc}=await T([z]);if(Z(Nr),ue){const F=Ij(n.errors,r,z),ke=Ij(Gc,r,F.name||z);Ae=ke.error,z=ke.name,Ze=Sn(Gc)}}else w([z],!0),Ae=(await Oj(ee,l.disabled,i,m,e.shouldUseNativeValidation))[z],w([z]),Z(Nr),ue&&(Ae?Ze=!1:(d.isValid||f.isValid)&&(Ze=await j(r,!0)));ue&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&R(ee._f.deps),k(z,Ze,Ae,vi))}},_=(A,U)=>{if(fe(n.errors,U)&&A.focus)return A.focus(),1},R=async(A,U={})=>{let z,ue;const ee=Qu(A);if(e.resolver){const Z=await N(At(A)?A:ee);z=Sn(Z),ue=A?!ee.some(de=>fe(Z,de)):z}else A?(ue=(await Promise.all(ee.map(async Z=>{const de=fe(r,Z);return await j(de&&de._f?{[Z]:de}:de)}))).every(Boolean),!(!ue&&!n.isValid)&&g()):ue=z=await j(r);return h.state.next({...!Kn(A)||(d.isValid||f.isValid)&&z!==n.isValid?{}:{name:A},...e.resolver||!A?{isValid:z}:{},errors:n.errors}),U.shouldFocus&&!ue&&Xu(r,_,A?ee:l.mount),ue},q=(A,U)=>{let z={...o.mount?i:s};return U&&(z=HO(U.dirtyFields?n.dirtyFields:n.touchedFields,z)),At(A)?z:Kn(A)?fe(z,A):A.map(ue=>fe(z,ue))},G=(A,U)=>({invalid:!!fe((U||n).errors,A),isDirty:!!fe((U||n).dirtyFields,A),error:fe((U||n).errors,A),isValidating:!!fe(n.validatingFields,A),isTouched:!!fe((U||n).touchedFields,A)}),se=A=>{A&&Qu(A).forEach(U=>Lt(n.errors,U)),h.state.next({errors:A?n.errors:{}})},J=(A,U,z)=>{const ue=(fe(r,A,{_f:{}})._f||{}).ref,ee=fe(n.errors,A)||{},{ref:Z,message:de,type:Te,...Ae}=ee;rt(n.errors,A,{...Ae,...U,ref:ue}),h.state.next({name:A,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&ue&&ue.focus&&ue.focus()},ce=(A,U)=>Hr(A)?h.state.subscribe({next:z=>"values"in z&&A(I(void 0,U),z)}):I(A,U,!0),Se=A=>h.state.subscribe({next:U=>{Pee(A.name,U.name,A.exact)&&kee(U,A.formState||d,Qe,A.reRenderRoot)&&A.callback({values:{...i},...n,...U,defaultValues:s})}}).unsubscribe,W=A=>(o.mount=!0,f={...f,...A.formState},Se({...A,formState:f})),Q=(A,U={})=>{for(const z of A?Qu(A):l.mount)l.mount.delete(z),l.array.delete(z),U.keepValue||(Lt(r,z),Lt(i,z)),!U.keepError&&Lt(n.errors,z),!U.keepDirty&&Lt(n.dirtyFields,z),!U.keepTouched&&Lt(n.touchedFields,z),!U.keepIsValidating&&Lt(n.validatingFields,z),!e.shouldUnregister&&!U.keepDefaultValue&&Lt(s,z);h.state.next({values:zt(i)}),h.state.next({...n,...U.keepDirty?{isDirty:O()}:{}}),!U.keepIsValid&&g()},L=({disabled:A,name:U})=>{(Hn(A)&&o.mount||A||l.disabled.has(U))&&(A?l.disabled.add(U):l.disabled.delete(U))},he=(A,U={})=>{let z=fe(r,A);const ue=Hn(U.disabled)||Hn(e.disabled);return rt(r,A,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:A}},name:A,mount:!0,...U}}),l.mount.add(A),z?L({disabled:Hn(U.disabled)?U.disabled:e.disabled,name:A}):S(A,!0,U.value),{...ue?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:fu(U.min),max:fu(U.max),minLength:fu(U.minLength),maxLength:fu(U.maxLength),pattern:fu(U.pattern)}:{},name:A,onChange:$,onBlur:$,ref:ee=>{if(ee){he(A,U),z=fe(r,A);const Z=At(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,de=bee(Z),Te=z._f.refs||[];if(de?Te.find(Ae=>Ae===Z):Z===z._f.ref)return;rt(r,A,{_f:{...z._f,...de?{refs:[...Te.filter(av),Z,...Array.isArray(fe(s,A))?[{}]:[]],ref:{type:Z.type,name:A}}:{ref:Z}}}),S(A,!1,void 0,Z)}else z=fe(r,A,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(BO(l.array,A)&&o.action)&&l.unMount.add(A)}}},ne=()=>e.shouldFocusError&&Xu(r,_,l.mount),te=A=>{Hn(A)&&(h.state.next({disabled:A}),Xu(r,(U,z)=>{const ue=fe(r,z);ue&&(U.disabled=ue._f.disabled||A,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(ee=>{ee.disabled=ue._f.disabled||A}))},0,!1))},pe=(A,U)=>async z=>{let ue;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let ee=zt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:de}=await T();n.errors=Z,ee=zt(de)}else await j(r);if(l.disabled.size)for(const Z of l.disabled)Lt(ee,Z);if(Lt(n.errors,"root"),Sn(n.errors)){h.state.next({errors:{}});try{await A(ee,z)}catch(Z){ue=Z}}else U&&await U({...n.errors},z),ne(),setTimeout(ne);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(n.errors)&&!ue,submitCount:n.submitCount+1,errors:n.errors}),ue)throw ue},xe=(A,U={})=>{fe(r,A)&&(At(U.defaultValue)?V(A,zt(fe(s,A))):(V(A,U.defaultValue),rt(s,A,zt(U.defaultValue))),U.keepTouched||Lt(n.touchedFields,A),U.keepDirty||(Lt(n.dirtyFields,A),n.isDirty=U.defaultValue?O(A,zt(fe(s,A))):O()),U.keepError||(Lt(n.errors,A),d.isValid&&g()),h.state.next({...n}))},Ce=(A,U={})=>{const z=A?zt(A):s,ue=zt(z),ee=Sn(A),Z=ee?s:ue;if(U.keepDefaultValues||(s=z),!U.keepValues){if(U.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(Go(s,i))]);for(const Te of Array.from(de))fe(n.dirtyFields,Te)?rt(Z,Te,fe(i,Te)):V(Te,fe(Z,Te))}else{if(zS&&At(A))for(const de of l.mount){const Te=fe(r,de);if(Te&&Te._f){const Ae=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(cm(Ae)){const Ze=Ae.closest("form");if(Ze){Ze.reset();break}}}}if(U.keepFieldsRef)for(const de of l.mount)V(de,fe(Z,de));else r={}}i=e.shouldUnregister?U.keepDefaultValues?zt(s):{}:zt(Z),h.array.next({values:{...Z}}),h.state.next({values:{...Z}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues||!e.shouldUnregister&&!Sn(Z),o.watch=!!e.shouldUnregister,h.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Wr(A,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:U.keepDirtyValues?U.keepDefaultValues&&i?Go(s,i):n.dirtyFields:U.keepDefaultValues&&A?Go(s,A):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},je=(A,U)=>Ce(Hr(A)?A(i):A,U),we=(A,U={})=>{const z=fe(r,A),ue=z&&z._f;if(ue){const ee=ue.refs?ue.refs[0]:ue.ref;ee.focus&&(ee.focus(),U.shouldSelect&&Hr(ee.select)&&ee.select())}},Qe=A=>{n={...n,...A}},Me={control:{register:he,unregister:Q,getFieldState:G,handleSubmit:pe,setError:J,_subscribe:Se,_runSchema:T,_focusError:ne,_getWatch:I,_getDirty:O,_setValid:g,_setFieldArray:x,_setDisabledField:L,_setErrors:b,_getFieldArray:B,_reset:Ce,_resetDefaultValues:()=>Hr(e.defaultValues)&&e.defaultValues().then(A=>{je(A,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:te,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(A){o=A},get _defaultValues(){return s},get _names(){return l},set _names(A){l=A},get _formState(){return n},get _options(){return e},set _options(A){e={...e,...A}}},subscribe:W,trigger:R,register:he,handleSubmit:pe,watch:ce,setValue:V,getValues:q,reset:je,resetField:xe,clearErrors:se,unregister:Q,setError:J,setFocus:we,getFieldState:G};return{...Me,formControl:Me}}function XO(t={}){const e=re.useRef(void 0),n=re.useRef(void 0),[r,s]=re.useState({isDirty:!1,isValidating:!1,isLoading:Hr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Hr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Hr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=Mee(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,KS(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),re.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),re.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),re.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),re.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),re.useEffect(()=>{var o;t.values&&!Wr(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),n.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=zO(r,i),e.current}const Dj=(t,e,n)=>{if(t&&"reportValidity"in t){const r=fe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},ZO=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Dj(r.ref,n,t):r.refs&&r.refs.forEach(s=>Dj(s,n,t))}},Oee=(t,e)=>{e.shouldUseNativeValidation&&ZO(t,e);const n={};for(const r in t){const s=fe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Dee(e.names||Object.keys(t),r)){const o=Object.assign({},fe(n,r));rt(o,"root",i),rt(n,r,o)}else rt(n,r,i)}return n},Dee=(t,e)=>t.some(n=>n.startsWith(e+"."));var Fee=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=WO(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},JO=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&ZO({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Oee(Fee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Xe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Xe||(Xe={}));var Fj;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Fj||(Fj={}));const be=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ai=t=>{switch(typeof t){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(t)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(t)?be.array:t===null?be.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?be.promise:typeof Map<"u"&&t instanceof Map?be.map:typeof Set<"u"&&t instanceof Set?be.set:typeof Date<"u"&&t instanceof Date?be.date:be.object;default:return be.unknown}},le=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof fi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}fi.create=t=>new fi(t);const xw=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===be.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Xe.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xe.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xe.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${Xe.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Xe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,Xe.assertNever(t)}return{message:n}};let Lee=xw;function Vee(){return Lee}const Uee=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function me(t,e){const n=Vee(),r=Uee({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===xw?void 0:xw].filter(s=>!!s)});t.common.issues.push(r)}class er{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Le;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return er.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Le;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Le=Object.freeze({status:"aborted"}),Tu=t=>({status:"dirty",value:t}),Cr=t=>({status:"valid",value:t}),Lj=t=>t.status==="aborted",Vj=t=>t.status==="dirty",kc=t=>t.status==="valid",dm=t=>typeof Promise<"u"&&t instanceof Promise;var Ee;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ee||(Ee={}));class xa{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Uj=(t,e)=>{if(kc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new fi(t.common.issues);return this._error=n,this._error}}};function $e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class Ge{get description(){return this._def.description}_getType(e){return Ai(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new er,ctx:{common:e.parent.common,data:e.data,parsedType:Ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ai(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Uj(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ai(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return kc(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>kc(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ai(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(dm(s)?s:Promise.resolve(s));return Uj(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:le.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new _c({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return la.create(this,this._def)}nullable(){return Ac.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return js.create(this)}promise(){return mm.create(this,this._def)}or(e){return hm.create([this,e],this._def)}and(e){return pm.create(this,e,this._def)}transform(e){return new _c({...$e(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Sw({...$e(this._def),innerType:this,defaultValue:n,typeName:Ve.ZodDefault})}brand(){return new cte({typeName:Ve.ZodBranded,type:this,...$e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Cw({...$e(this._def),innerType:this,catchValue:n,typeName:Ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return QS.create(this,e)}readonly(){return Ew.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $ee=/^c[^\s-]{8,}$/i,Bee=/^[0-9a-z]+$/,zee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Wee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Hee=/^[a-z0-9_-]{21}$/i,qee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Kee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Yee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Gee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ov;const Qee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Jee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ete=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tte=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nte=new RegExp(`^${eD}$`);function tD(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function rte(t){return new RegExp(`^${tD(t)}$`)}function ste(t){let e=`${eD}T${tD(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ite(t,e){return!!((e==="v4"||!e)&&Qee.test(t)||(e==="v6"||!e)&&Zee.test(t))}function ate(t,e){if(!qee.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function ote(t,e){return!!((e==="v4"||!e)&&Xee.test(t)||(e==="v6"||!e)&&Jee.test(t))}class Qi extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==be.string){const i=this._getOrReturnCtx(e);return me(i,{code:le.invalid_type,expected:be.string,received:i.parsedType}),Le}const r=new er;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?me(s,{code:le.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&me(s,{code:le.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Yee.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"email",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")ov||(ov=new RegExp(Gee,"u")),ov.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"emoji",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Wee.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"uuid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Hee.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"nanoid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")$ee.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Bee.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid2",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")zee.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ulid",code:le.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),me(s,{validation:"url",code:le.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"regex",code:le.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?ste(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?nte.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?rte(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:le.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Kee.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"duration",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?ite(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ip",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?ate(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"jwt",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?ote(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cidr",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?ete.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64",code:le.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?tte.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64url",code:le.invalid_string,message:i.message}),r.dirty()):Xe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:le.invalid_string,...Ee.errToObj(r)})}_addCheck(e){return new Qi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ee.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ee.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ee.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ee.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ee.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ee.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ee.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ee.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ee.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ee.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ee.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ee.errToObj(n)})}nonempty(e){return this.min(1,Ee.errToObj(e))}trim(){return new Qi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qi.create=t=>new Qi({checks:[],typeName:Ve.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});function lte(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Fd extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==be.number){const i=this._getOrReturnCtx(e);return me(i,{code:le.invalid_type,expected:be.number,received:i.parsedType}),Le}let r;const s=new er;for(const i of this._def.checks)i.kind==="int"?Xe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:le.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:le.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:le.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?lte(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),me(r,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:le.not_finite,message:i.message}),s.dirty()):Xe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ee.toString(n))}setLimit(e,n,r,s){return new Fd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ee.toString(s)}]})}_addCheck(e){return new Fd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Xe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Fd.create=t=>new Fd({checks:[],typeName:Ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class Ld extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==be.bigint)return this._getInvalidInput(e);let r;const s=new er;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:le.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:le.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),me(r,{code:le.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Xe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return me(n,{code:le.invalid_type,expected:be.bigint,received:n.parsedType}),Le}gte(e,n){return this.setLimit("min",e,!0,Ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ee.toString(n))}setLimit(e,n,r,s){return new Ld({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ee.toString(s)}]})}_addCheck(e){return new Ld({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ld.create=t=>new Ld({checks:[],typeName:Ve.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});class ww extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==be.boolean){const r=this._getOrReturnCtx(e);return me(r,{code:le.invalid_type,expected:be.boolean,received:r.parsedType}),Le}return Cr(e.data)}}ww.create=t=>new ww({typeName:Ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class fm extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==be.date){const i=this._getOrReturnCtx(e);return me(i,{code:le.invalid_type,expected:be.date,received:i.parsedType}),Le}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return me(i,{code:le.invalid_date}),Le}const r=new er;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:le.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Xe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new fm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ee.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ee.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}fm.create=t=>new fm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ve.ZodDate,...$e(t)});class $j extends Ge{_parse(e){if(this._getType(e)!==be.symbol){const r=this._getOrReturnCtx(e);return me(r,{code:le.invalid_type,expected:be.symbol,received:r.parsedType}),Le}return Cr(e.data)}}$j.create=t=>new $j({typeName:Ve.ZodSymbol,...$e(t)});class Bj extends Ge{_parse(e){if(this._getType(e)!==be.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:le.invalid_type,expected:be.undefined,received:r.parsedType}),Le}return Cr(e.data)}}Bj.create=t=>new Bj({typeName:Ve.ZodUndefined,...$e(t)});class zj extends Ge{_parse(e){if(this._getType(e)!==be.null){const r=this._getOrReturnCtx(e);return me(r,{code:le.invalid_type,expected:be.null,received:r.parsedType}),Le}return Cr(e.data)}}zj.create=t=>new zj({typeName:Ve.ZodNull,...$e(t)});class Wj extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Cr(e.data)}}Wj.create=t=>new Wj({typeName:Ve.ZodAny,...$e(t)});class Hj extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cr(e.data)}}Hj.create=t=>new Hj({typeName:Ve.ZodUnknown,...$e(t)});class wa extends Ge{_parse(e){const n=this._getOrReturnCtx(e);return me(n,{code:le.invalid_type,expected:be.never,received:n.parsedType}),Le}}wa.create=t=>new wa({typeName:Ve.ZodNever,...$e(t)});class qj extends Ge{_parse(e){if(this._getType(e)!==be.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:le.invalid_type,expected:be.void,received:r.parsedType}),Le}return Cr(e.data)}}qj.create=t=>new qj({typeName:Ve.ZodVoid,...$e(t)});class js extends Ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==be.array)return me(n,{code:le.invalid_type,expected:be.array,received:n.parsedType}),Le;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(me(n,{code:o?le.too_big:le.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(me(n,{code:le.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(me(n,{code:le.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new xa(n,o,n.path,l)))).then(o=>er.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new xa(n,o,n.path,l)));return er.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new js({...this._def,minLength:{value:e,message:Ee.toString(n)}})}max(e,n){return new js({...this._def,maxLength:{value:e,message:Ee.toString(n)}})}length(e,n){return new js({...this._def,exactLength:{value:e,message:Ee.toString(n)}})}nonempty(e){return this.min(1,e)}}js.create=(t,e)=>new js({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...$e(e)});function Qo(t){if(t instanceof Ut){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=la.create(Qo(r))}return new Ut({...t._def,shape:()=>e})}else return t instanceof js?new js({...t._def,type:Qo(t.element)}):t instanceof la?la.create(Qo(t.unwrap())):t instanceof Ac?Ac.create(Qo(t.unwrap())):t instanceof Po?Po.create(t.items.map(e=>Qo(e))):t}class Ut extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Xe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==be.object){const u=this._getOrReturnCtx(e);return me(u,{code:le.invalid_type,expected:be.object,received:u.parsedType}),Le}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof wa&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new xa(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof wa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(me(s,{code:le.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new xa(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>er.mergeObjectSync(r,u)):er.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ee.errToObj,new Ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ee.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ut({...this._def,unknownKeys:"strip"})}passthrough(){return new Ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ut({...this._def,catchall:e})}pick(e){const n={};for(const r of Xe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ut({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Xe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ut({...this._def,shape:()=>n})}deepPartial(){return Qo(this)}partial(e){const n={};for(const r of Xe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Ut({...this._def,shape:()=>n})}required(e){const n={};for(const r of Xe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof la;)i=i._def.innerType;n[r]=i}return new Ut({...this._def,shape:()=>n})}keyof(){return nD(Xe.objectKeys(this.shape))}}Ut.create=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strip",catchall:wa.create(),typeName:Ve.ZodObject,...$e(e)});Ut.strictCreate=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strict",catchall:wa.create(),typeName:Ve.ZodObject,...$e(e)});Ut.lazycreate=(t,e)=>new Ut({shape:t,unknownKeys:"strip",catchall:wa.create(),typeName:Ve.ZodObject,...$e(e)});class hm extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new fi(l.ctx.common.issues));return me(n,{code:le.invalid_union,unionErrors:o}),Le}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new fi(c));return me(n,{code:le.invalid_union,unionErrors:l}),Le}}get options(){return this._def.options}}hm.create=(t,e)=>new hm({options:t,typeName:Ve.ZodUnion,...$e(e)});function bw(t,e){const n=Ai(t),r=Ai(e);if(t===e)return{valid:!0,data:t};if(n===be.object&&r===be.object){const s=Xe.objectKeys(e),i=Xe.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=bw(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===be.array&&r===be.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=bw(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===be.date&&r===be.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pm extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Lj(i)||Lj(o))return Le;const l=bw(i.value,o.value);return l.valid?((Vj(i)||Vj(o))&&n.dirty(),{status:n.value,value:l.data}):(me(r,{code:le.invalid_intersection_types}),Le)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pm.create=(t,e,n)=>new pm({left:t,right:e,typeName:Ve.ZodIntersection,...$e(n)});class Po extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.array)return me(r,{code:le.invalid_type,expected:be.array,received:r.parsedType}),Le;if(r.data.length<this._def.items.length)return me(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&r.data.length>this._def.items.length&&(me(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new xa(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>er.mergeArray(n,o)):er.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Po({...this._def,rest:e})}}Po.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Po({items:t,typeName:Ve.ZodTuple,rest:null,...$e(e)})};class Kj extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.map)return me(r,{code:le.invalid_type,expected:be.map,received:r.parsedType}),Le;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new xa(r,l,r.path,[u,"key"])),value:i._parse(new xa(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Le;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Le;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Kj.create=(t,e,n)=>new Kj({valueType:e,keyType:t,typeName:Ve.ZodMap,...$e(n)});class Vd extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.set)return me(r,{code:le.invalid_type,expected:be.set,received:r.parsedType}),Le;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(me(r,{code:le.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(me(r,{code:le.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Le;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new xa(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Vd({...this._def,minSize:{value:e,message:Ee.toString(n)}})}max(e,n){return new Vd({...this._def,maxSize:{value:e,message:Ee.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Vd.create=(t,e)=>new Vd({valueType:t,minSize:null,maxSize:null,typeName:Ve.ZodSet,...$e(e)});class Yj extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yj.create=(t,e)=>new Yj({getter:t,typeName:Ve.ZodLazy,...$e(e)});class Gj extends Ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return me(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gj.create=(t,e)=>new Gj({value:t,typeName:Ve.ZodLiteral,...$e(e)});function nD(t,e){return new Pc({values:t,typeName:Ve.ZodEnum,...$e(e)})}class Pc extends Ge{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{expected:Xe.joinValues(r),received:n.parsedType,code:le.invalid_type}),Le}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{received:n.data,code:le.invalid_enum_value,options:r}),Le}return Cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Pc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Pc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Pc.create=nD;class Qj extends Ge{_parse(e){const n=Xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==be.string&&r.parsedType!==be.number){const s=Xe.objectValues(n);return me(r,{expected:Xe.joinValues(s),received:r.parsedType,code:le.invalid_type}),Le}if(this._cache||(this._cache=new Set(Xe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Xe.objectValues(n);return me(r,{received:r.data,code:le.invalid_enum_value,options:s}),Le}return Cr(e.data)}get enum(){return this._def.values}}Qj.create=(t,e)=>new Qj({values:t,typeName:Ve.ZodNativeEnum,...$e(e)});class mm extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.promise&&n.common.async===!1)return me(n,{code:le.invalid_type,expected:be.promise,received:n.parsedType}),Le;const r=n.parsedType===be.promise?n.data:Promise.resolve(n.data);return Cr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}mm.create=(t,e)=>new mm({type:t,typeName:Ve.ZodPromise,...$e(e)});class _c extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{me(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Le;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Le:c.status==="dirty"||n.value==="dirty"?Tu(c.value):c});{if(n.value==="aborted")return Le;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Le:l.status==="dirty"||n.value==="dirty"?Tu(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Le:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Le:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kc(o))return Le;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>kc(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):Le);Xe.assertNever(s)}}_c.create=(t,e,n)=>new _c({schema:t,typeName:Ve.ZodEffects,effect:e,...$e(n)});_c.createWithPreprocess=(t,e,n)=>new _c({schema:e,effect:{type:"preprocess",transform:t},typeName:Ve.ZodEffects,...$e(n)});class la extends Ge{_parse(e){return this._getType(e)===be.undefined?Cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}la.create=(t,e)=>new la({innerType:t,typeName:Ve.ZodOptional,...$e(e)});class Ac extends Ge{_parse(e){return this._getType(e)===be.null?Cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ac.create=(t,e)=>new Ac({innerType:t,typeName:Ve.ZodNullable,...$e(e)});class Sw extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===be.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Sw.create=(t,e)=>new Sw({innerType:t,typeName:Ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$e(e)});class Cw extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dm(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new fi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Cw.create=(t,e)=>new Cw({innerType:t,typeName:Ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$e(e)});class Xj extends Ge{_parse(e){if(this._getType(e)!==be.nan){const r=this._getOrReturnCtx(e);return me(r,{code:le.invalid_type,expected:be.nan,received:r.parsedType}),Le}return{status:"valid",value:e.data}}}Xj.create=t=>new Xj({typeName:Ve.ZodNaN,...$e(t)});class cte extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class QS extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Le:i.status==="dirty"?(n.dirty(),Tu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Le:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new QS({in:e,out:n,typeName:Ve.ZodPipeline})}}class Ew extends Ge{_parse(e){const n=this._def.innerType._parse(e),r=s=>(kc(s)&&(s.value=Object.freeze(s.value)),s);return dm(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ew.create=(t,e)=>new Ew({innerType:t,typeName:Ve.ZodReadonly,...$e(e)});var Ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const Mt=Qi.create,kh=ww.create;wa.create;js.create;const XS=Ut.create;hm.create;pm.create;Po.create;Pc.create;mm.create;la.create;Ac.create;const rD=gee,sD=p.createContext({}),bt=({...t})=>a.jsx(sD.Provider,{value:{name:t.name},children:a.jsx(wee,{...t})}),Vg=()=>{const t=p.useContext(sD),e=p.useContext(iD),{getFieldState:n,formState:r}=Lg(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},iD=p.createContext({}),gt=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return a.jsx(iD.Provider,{value:{id:r},children:a.jsx("div",{ref:n,className:ae("space-y-2",t),...e})})});gt.displayName="FormItem";const ut=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Vg();return a.jsx(Je,{ref:n,className:ae(r&&"text-destructive",t),htmlFor:s,...e})});ut.displayName="FormLabel";const xt=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Vg();return a.jsx(hg,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});xt.displayName="FormControl";const qs=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Vg();return a.jsx("p",{ref:n,id:r,className:ae("text-sm text-muted-foreground",t),...e})});qs.displayName="FormDescription";const Vt=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Vg(),o=s?String((s==null?void 0:s.message)??""):e;return o?a.jsx("p",{ref:r,id:i,className:ae("text-sm font-medium text-destructive",t),...n,children:o}):null});Vt.displayName="FormMessage";function Nw(t,[e,n]){return Math.min(n,Math.max(e,t))}function ute(t){const e=dte(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(hte);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function dte(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=mte(s),l=pte(i,s.props);return s.type!==p.Fragment&&(l.ref=r?mi(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fte=Symbol("radix.slottable");function hte(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fte}function pte(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function mte(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gte=[" ","Enter","ArrowUp","ArrowDown"],yte=[" ","Enter"],_o="Select",[Ug,$g,vte]=eg(_o),[Yc]=yn(_o,[vte,$c]),Bg=$c(),[xte,Pa]=Yc(_o),[wte,bte]=Yc(_o),aD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,g=Bg(e),[w,x]=p.useState(null),[v,b]=p.useState(null),[S,E]=p.useState(!1),k=qc(u),[T,N]=Zr({prop:r,defaultProp:s??!1,onChange:i,caller:_o}),[j,P]=Zr({prop:o,defaultProp:l,onChange:c,caller:_o}),O=p.useRef(null),I=w?y||!!w.closest("form"):!0,[B,D]=p.useState(new Set),M=Array.from(B).map(V=>V.props.value).join(";");return a.jsx(b0,{...g,children:a.jsxs(xte,{required:m,scope:e,trigger:w,onTriggerChange:x,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Gr(),value:j,onValueChange:P,open:T,onOpenChange:N,dir:k,triggerPointerDownPosRef:O,disabled:h,children:[a.jsx(Ug.Provider,{scope:e,children:a.jsx(wte,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(V=>{D($=>new Set($).add(V))},[]),onNativeOptionRemove:p.useCallback(V=>{D($=>{const _=new Set($);return _.delete(V),_})},[]),children:n})}),I?a.jsxs(_D,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:V=>P(V.target.value),disabled:h,form:y,children:[j===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},M):null]})})};aD.displayName=_o;var oD="SelectTrigger",lD=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Bg(n),o=Pa(oD,n),l=o.disabled||r,c=De(e,o.onTriggerChange),u=$g(n),d=p.useRef("touch"),[f,h,m]=RD(g=>{const w=u().filter(b=>!b.disabled),x=w.find(b=>b.value===o.value),v=ID(w,g,x);v!==void 0&&o.onValueChange(v.value)}),y=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(S0,{asChild:!0,...i,children:a.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AD(o.value)?"":void 0,...s,ref:c,onClick:oe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:oe(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:oe(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&gte.includes(g.key)&&(y(),g.preventDefault())})})})});lD.displayName=oD;var cD="SelectValue",uD=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=Pa(cD,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=De(e,c.onValueNodeChange);return Xt(()=>{u(d)},[u,d]),a.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:AD(c.value)?a.jsx(a.Fragment,{children:o}):i})});uD.displayName=cD;var Ste="SelectIcon",dD=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Ne.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});dD.displayName=Ste;var Cte="SelectPortal",fD=t=>a.jsx(bf,{asChild:!0,...t});fD.displayName=Cte;var Ao="SelectContent",hD=p.forwardRef((t,e)=>{const n=Pa(Ao,t.__scopeSelect),[r,s]=p.useState();if(Xt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Do.createPortal(a.jsx(pD,{scope:t.__scopeSelect,children:a.jsx(Ug.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(mD,{...t,ref:e})});hD.displayName=Ao;var _r=10,[pD,_a]=Yc(Ao),Ete="SelectContentImpl",Nte=ute("SelectContent.RemoveScroll"),mD=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w,...x}=t,v=Pa(Ao,n),[b,S]=p.useState(null),[E,k]=p.useState(null),T=De(e,Q=>S(Q)),[N,j]=p.useState(null),[P,O]=p.useState(null),I=$g(n),[B,D]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(b)return P0(b)},[b]),k0();const V=p.useCallback(Q=>{const[L,...he]=I().map(pe=>pe.ref.current),[ne]=he.slice(-1),te=document.activeElement;for(const pe of Q)if(pe===te||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===L&&E&&(E.scrollTop=0),pe===ne&&E&&(E.scrollTop=E.scrollHeight),pe==null||pe.focus(),document.activeElement!==te))return},[I,E]),$=p.useCallback(()=>V([N,b]),[V,N,b]);p.useEffect(()=>{B&&$()},[B,$]);const{onOpenChange:_,triggerPointerDownPosRef:R}=v;p.useEffect(()=>{if(b){let Q={x:0,y:0};const L=ne=>{var te,pe;Q={x:Math.abs(Math.round(ne.pageX)-(((te=R.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((pe=R.current)==null?void 0:pe.y)??0))}},he=ne=>{Q.x<=10&&Q.y<=10?ne.preventDefault():b.contains(ne.target)||_(!1),document.removeEventListener("pointermove",L),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",L),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",he,{capture:!0})}}},[b,_,R]),p.useEffect(()=>{const Q=()=>_(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[_]);const[q,G]=RD(Q=>{const L=I().filter(te=>!te.disabled),he=L.find(te=>te.ref.current===document.activeElement),ne=ID(L,Q,he);ne&&setTimeout(()=>ne.ref.current.focus())}),se=p.useCallback((Q,L,he)=>{const ne=!M.current&&!he;(v.value!==void 0&&v.value===L||ne)&&(j(Q),ne&&(M.current=!0))},[v.value]),J=p.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=p.useCallback((Q,L,he)=>{const ne=!M.current&&!he;(v.value!==void 0&&v.value===L||ne)&&O(Q)},[v.value]),Se=r==="popper"?jw:gD,W=Se===jw?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(pD,{scope:n,content:b,viewport:E,onViewportChange:k,itemRefCallback:se,selectedItem:N,onItemLeave:J,itemTextRefCallback:ce,focusSelectedItem:$,selectedItemText:P,position:r,isPositioned:B,searchRef:q,children:a.jsx(gg,{as:Nte,allowPinchZoom:!0,children:a.jsx(pg,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:oe(s,Q=>{var L;(L=v.trigger)==null||L.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(Fc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Se,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),...x,...W,onPlaced:()=>D(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:oe(x.onKeyDown,Q=>{const L=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!L&&Q.key.length===1&&G(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ne=I().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const te=Q.target,pe=ne.indexOf(te);ne=ne.slice(pe+1)}setTimeout(()=>V(ne)),Q.preventDefault()}})})})})})})});mD.displayName=Ete;var jte="SelectItemAlignedPosition",gD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Pa(Ao,n),o=_a(Ao,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=De(e,T=>d(T)),h=$g(n),m=p.useRef(!1),y=p.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:x,focusSelectedItem:v}=o,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&w&&x){const T=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const te=P.left-N.left,pe=j.left-te,xe=T.left-pe,Ce=T.width+xe,je=Math.max(Ce,N.width),we=window.innerWidth-_r,Qe=Nw(pe,[_r,Math.max(_r,we-je)]);l.style.minWidth=Ce+"px",l.style.left=Qe+"px"}else{const te=N.right-P.right,pe=window.innerWidth-j.right-te,xe=window.innerWidth-T.right-pe,Ce=T.width+xe,je=Math.max(Ce,N.width),we=window.innerWidth-_r,Qe=Nw(pe,[_r,Math.max(_r,we-je)]);l.style.minWidth=Ce+"px",l.style.right=Qe+"px"}const O=h(),I=window.innerHeight-_r*2,B=g.scrollHeight,D=window.getComputedStyle(u),M=parseInt(D.borderTopWidth,10),V=parseInt(D.paddingTop,10),$=parseInt(D.borderBottomWidth,10),_=parseInt(D.paddingBottom,10),R=M+V+B+_+$,q=Math.min(w.offsetHeight*5,R),G=window.getComputedStyle(g),se=parseInt(G.paddingTop,10),J=parseInt(G.paddingBottom,10),ce=T.top+T.height/2-_r,Se=I-ce,W=w.offsetHeight/2,Q=w.offsetTop+W,L=M+V+Q,he=R-L;if(L<=ce){const te=O.length>0&&w===O[O.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-g.offsetTop-g.offsetHeight,xe=Math.max(Se,W+(te?J:0)+pe+$),Ce=L+xe;l.style.height=Ce+"px"}else{const te=O.length>0&&w===O[0].ref.current;l.style.top="0px";const xe=Math.max(ce,M+g.offsetTop+(te?se:0)+W)+he;l.style.height=xe+"px",g.scrollTop=L-ce+g.offsetTop}l.style.margin=`${_r}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,w,x,i.dir,r]);Xt(()=>b(),[b]);const[S,E]=p.useState();Xt(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(T=>{T&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return a.jsx(kte,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gD.displayName=jte;var Tte="SelectPopperPosition",jw=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=_r,...i}=t,o=Bg(n);return a.jsx(C0,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jw.displayName=Tte;var[kte,ZS]=Yc(Ao,{}),Tw="SelectViewport",yD=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=_a(Tw,n),o=ZS(Tw,n),l=De(e,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Ug.Slot,{scope:n,children:a.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-_r*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(g,w);if(x<y){const v=x+m,b=Math.min(y,v),S=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yD.displayName=Tw;var vD="SelectGroup",[Pte,_te]=Yc(vD),Ate=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gr();return a.jsx(Pte,{scope:n,id:s,children:a.jsx(Ne.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Ate.displayName=vD;var xD="SelectLabel",wD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_te(xD,n);return a.jsx(Ne.div,{id:s.id,...r,ref:e})});wD.displayName=xD;var gm="SelectItem",[Rte,bD]=Yc(gm),SD=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=Pa(gm,n),c=_a(gm,n),u=l.value===r,[d,f]=p.useState(i??""),[h,m]=p.useState(!1),y=De(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),g=Gr(),w=p.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Rte,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Ug.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(Ne.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:oe(o.onFocus,()=>m(!0)),onBlur:oe(o.onBlur,()=>m(!1)),onClick:oe(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:oe(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:oe(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:oe(o.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:oe(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(yte.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});SD.displayName=gm;var ku="SelectItemText",CD=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Pa(ku,n),l=_a(ku,n),c=bD(ku,n),u=bte(ku,n),[d,f]=p.useState(null),h=De(e,x=>f(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return Xt(()=>(g(y),()=>w(y)),[g,w,y]),a.jsxs(a.Fragment,{children:[a.jsx(Ne.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Do.createPortal(i.children,o.valueNode):null]})});CD.displayName=ku;var ED="SelectItemIndicator",ND=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bD(ED,n).isSelected?a.jsx(Ne.span,{"aria-hidden":!0,...r,ref:e}):null});ND.displayName=ED;var kw="SelectScrollUpButton",jD=p.forwardRef((t,e)=>{const n=_a(kw,t.__scopeSelect),r=ZS(kw,t.__scopeSelect),[s,i]=p.useState(!1),o=De(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(kD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});jD.displayName=kw;var Pw="SelectScrollDownButton",TD=p.forwardRef((t,e)=>{const n=_a(Pw,t.__scopeSelect),r=ZS(Pw,t.__scopeSelect),[s,i]=p.useState(!1),o=De(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(kD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});TD.displayName=Pw;var kD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=_a("SelectScrollButton",n),o=p.useRef(null),l=$g(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Xt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ne.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{c()})})}),Ite="SelectSeparator",PD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Ne.div,{"aria-hidden":!0,...r,ref:e})});PD.displayName=Ite;var _w="SelectArrow",Mte=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Bg(n),i=Pa(_w,n),o=_a(_w,n);return i.open&&o.position==="popper"?a.jsx(E0,{...s,...r,ref:e}):null});Mte.displayName=_w;var Ote="SelectBubbleInput",_D=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=De(r,s),o=_g(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(Ne.select,{...n,style:{...T_,...n.style},ref:i,defaultValue:e})});_D.displayName=Ote;function AD(t){return t===""||t===void 0}function RD(t){const e=Dt(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ID(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Dte(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Dte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Fte=aD,MD=lD,Lte=uD,Vte=dD,Ute=fD,OD=hD,$te=yD,DD=wD,FD=SD,Bte=CD,zte=ND,LD=jD,VD=TD,UD=PD;const ym=Fte,vm=Lte,Ud=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(MD,{ref:r,className:ae("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(Vte,{asChild:!0,children:a.jsx(X_,{className:"h-4 w-4 opacity-50"})})]}));Ud.displayName=MD.displayName;const $D=p.forwardRef(({className:t,...e},n)=>a.jsx(LD,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(R$,{className:"h-4 w-4"})}));$D.displayName=LD.displayName;const BD=p.forwardRef(({className:t,...e},n)=>a.jsx(VD,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(X_,{className:"h-4 w-4"})}));BD.displayName=VD.displayName;const $d=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(Ute,{children:a.jsxs(OD,{ref:s,className:ae("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx($D,{}),a.jsx($te,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(BD,{})]})}));$d.displayName=OD.displayName;const Wte=p.forwardRef(({className:t,...e},n)=>a.jsx(DD,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Wte.displayName=DD.displayName;const ms=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(FD,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(zte,{children:a.jsx(os,{className:"h-4 w-4"})})}),a.jsx(Bte,{children:e})]}));ms.displayName=FD.displayName;const Hte=p.forwardRef(({className:t,...e},n)=>a.jsx(UD,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));Hte.displayName=UD.displayName;function zD(t,e){return Object.hasOwn(t,e)}const{AbortController:lv}=globalThis,WD=(t="Aborted",e)=>{const n=new DOMException(t,"AbortError");return e!=null&&zD(e,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),n};class qte extends Error{constructor(n,r){super(n);Fe(this,"isNetworkError");Fe(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&zD(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class Kte extends Error{constructor(n,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");Fe(this,"cause");Fe(this,"isNetworkError");Fe(this,"request");this.cause=n,this.isNetworkError=!0,this.request=r}}function Yte(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new Kte(e)})}function Gte(t){const e=n=>"error"in n&&!!n.error;return t.filter(n=>!e(n))}function Qte(t){return t.filter(e=>{var n;return!((n=e.progress)!=null&&n.uploadStarted)||!e.isRestored})}function HD(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const Zj={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function qD(t){var n;if(t.type)return t.type;const e=t.name?(n=HD(t.name).extension)==null?void 0:n.toLowerCase():null;return e&&e in Zj?Zj[e]:"application/octet-stream"}function Xte(t){return t.charCodeAt(0).toString(32)}function Jj(t){let e="";return t.replace(/[^A-Z0-9]/gi,n=>(e+=`-${Xte(n)}`,"/"))+e}function Zte(t,e){var r;let n=e||"uppy";return typeof t.name=="string"&&(n+=`-${Jj(t.name.toLowerCase())}`),t.type!==void 0&&(n+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(n+=`-${Jj(t.meta.relativePath.toLowerCase())}`),((r=t.data)==null?void 0:r.size)!==void 0&&(n+=`-${t.data.size}`),t.data.lastModified!==void 0&&(n+=`-${t.data.lastModified}`),n}function Jte(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function ene(t,e){if(Jte(t))return t.id;const n=qD(t);return Zte({...t,type:n},e)}function eT(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}function tne(t){var s;const n=(s=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:s[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${n}`}function cv(t){return t<10?`0${t}`:t.toString()}function sp(){const t=new Date,e=cv(t.getHours()),n=cv(t.getMinutes()),r=cv(t.getSeconds());return`${e}:${n}:${r}`}function nne(t){return new Error("Cancelled",{cause:t})}function tT(t){var e;if(t!=null){const n=()=>this.abort(t.reason);t.addEventListener("abort",n,{once:!0});const r=()=>{t.removeEventListener("abort",n)};(e=this.then)==null||e.call(this,r,r)}return this}var $s,ds,Bs,Kl,fs,Yl,no,mn,Aw,Pu,KD,YD,GD,Pm,Gl;class rne{constructor(e){H(this,mn);H(this,$s,0);H(this,ds,[]);H(this,Bs,!1);H(this,Kl);H(this,fs,1);H(this,Yl);H(this,no);Fe(this,"limit");H(this,Pm,()=>this.resume());H(this,Gl,()=>{if(C(this,Bs)){K(this,no,setTimeout(C(this,Gl),0));return}K(this,fs,this.limit),this.limit=Math.ceil((C(this,Yl)+C(this,fs))/2);for(let e=C(this,fs);e<=this.limit;e++)Y(this,mn,Pu).call(this);C(this,Yl)-C(this,fs)>3?K(this,no,setTimeout(C(this,Gl),2e3)):K(this,fs,Math.floor(C(this,fs)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,n){return!C(this,Bs)&&C(this,$s)<this.limit?Y(this,mn,Aw).call(this,e):Y(this,mn,YD).call(this,e,n)}wrapSyncFunction(e,n){return(...r)=>{const s=this.run(()=>(e(...r),queueMicrotask(()=>s.done()),()=>{}),n);return{abortOn:tT,abort(){s.abort()}}}}wrapPromiseFunction(e,n){return(...r)=>{let s;const i=new Promise((o,l)=>{s=this.run(()=>{let c,u;try{u=Promise.resolve(e(...r))}catch(d){u=Promise.reject(d)}return u.then(d=>{c?l(c):(s.done(),o(d))},d=>{c?l(c):(s.done(),l(d))}),d=>{c=nne(d)}},n)});return i.abort=o=>{s.abort(o)},i.abortOn=tT,i}}resume(){K(this,Bs,!1),clearTimeout(C(this,Kl));for(let e=0;e<this.limit;e++)Y(this,mn,Pu).call(this)}pause(e=null){K(this,Bs,!0),clearTimeout(C(this,Kl)),e!=null&&K(this,Kl,setTimeout(C(this,Pm),e))}rateLimit(e){clearTimeout(C(this,no)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(K(this,Yl,this.limit-1),this.limit=C(this,fs),K(this,no,setTimeout(C(this,Gl),e)))}get isPaused(){return C(this,Bs)}}$s=new WeakMap,ds=new WeakMap,Bs=new WeakMap,Kl=new WeakMap,fs=new WeakMap,Yl=new WeakMap,no=new WeakMap,mn=new WeakSet,Aw=function(e){K(this,$s,C(this,$s)+1);let n=!1,r;try{r=e()}catch(s){throw K(this,$s,C(this,$s)-1),s}return{abort:s=>{n||(n=!0,K(this,$s,C(this,$s)-1),r==null||r(s),Y(this,mn,Pu).call(this))},done:()=>{n||(n=!0,K(this,$s,C(this,$s)-1),Y(this,mn,Pu).call(this))}}},Pu=function(){queueMicrotask(()=>Y(this,mn,KD).call(this))},KD=function(){if(C(this,Bs)||C(this,$s)>=this.limit||C(this,ds).length===0)return;const e=C(this,ds).shift();if(e==null)throw new Error("Invariant violation: next is null");const n=Y(this,mn,Aw).call(this,e.fn);e.abort=n.abort,e.done=n.done},YD=function(e,n){const r={fn:e,priority:(n==null?void 0:n.priority)||0,abort:()=>{Y(this,mn,GD).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},s=C(this,ds).findIndex(i=>r.priority>i.priority);return s===-1?C(this,ds).push(r):C(this,ds).splice(s,0,r),r},GD=function(e){const n=C(this,ds).indexOf(e);n!==-1&&C(this,ds).splice(n,1)},Pm=new WeakMap,Gl=new WeakMap;function sne(t,e,n){const r=[];return t.forEach(s=>typeof s!="string"?r.push(s):e[Symbol.split](s).forEach((i,o,l)=>{i!==""&&r.push(i),o<l.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function nT(t,e){const n=/\$/g,r="$$$$";let s=[t];if(e==null)return s;for(const i of Object.keys(e))if(i!=="_"){let o=e[i];typeof o=="string"&&(o=n[Symbol.replace](o,r)),s=sne(s,new RegExp(`%\\{${i}\\}`,"g"),o)}return s}const ine=t=>{throw new Error(`missing string: ${t}`)};var Qd,Xd,Rw;class QD{constructor(e,{onMissingKey:n=ine}={}){H(this,Xd);Fe(this,"locale");H(this,Qd);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(e)?e.forEach(Y(this,Xd,Rw),this):Y(this,Xd,Rw).call(this,e),K(this,Qd,n)}translate(e,n){return this.translateArray(e,n).join("")}translateArray(e,n){let r=this.locale.strings[e];if(r==null&&(C(this,Qd).call(this,e),r=e),typeof r=="object"){if(n&&typeof n.smart_count<"u"){const i=this.locale.pluralize(n.smart_count);return nT(r[i],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return nT(r,n)}}Qd=new WeakMap,Xd=new WeakSet,Rw=function(e){if(!(e!=null&&e.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...e.strings},pluralize:e.pluralize||n.pluralize})};class ane extends Error{constructor(){super(...arguments);Fe(this,"name","UserFacingApiError")}}class one{constructor(e,n){Fe(this,"uppy");Fe(this,"opts");Fe(this,"id");Fe(this,"defaultLocale");Fe(this,"i18n");Fe(this,"i18nArray");Fe(this,"type");Fe(this,"VERSION");this.uppy=e,this.opts=n??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new QD([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}var hs,Zd;class lne{constructor(e){H(this,hs);H(this,Zd,[]);K(this,hs,e)}on(e,n){return C(this,Zd).push([e,n]),C(this,hs).on(e,n)}remove(){for(const[e,n]of C(this,Zd).splice(0))C(this,hs).off(e,n)}onFilePause(e,n){this.on("upload-pause",(r,s)=>{e===(r==null?void 0:r.id)&&n(s)})}onFileRemove(e,n){this.on("file-removed",r=>{e===r.id&&n(r.id)})}onPause(e,n){this.on("upload-pause",(r,s)=>{e===(r==null?void 0:r.id)&&n(s)})}onRetry(e,n){this.on("upload-retry",r=>{e===(r==null?void 0:r.id)&&n()})}onRetryAll(e,n){this.on("retry-all",()=>{C(this,hs).getFile(e)&&n()})}onPauseAll(e,n){this.on("pause-all",()=>{C(this,hs).getFile(e)&&n()})}onCancelAll(e,n){this.on("cancel-all",(...r)=>{C(this,hs).getFile(e)&&n(...r)})}onResumeAll(e,n){this.on("resume-all",()=>{C(this,hs).getFile(e)&&n()})}}hs=new WeakMap,Zd=new WeakMap;const cne={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${sp()}]`,...t)},une={debug:(...t)=>console.debug(`[Uppy] [${sp()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${sp()}]`,...t),error:(...t)=>console.error(`[Uppy] [${sp()}]`,...t)};var dne=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const n=e<0;let r=Math.abs(e);if(n&&(r=-r),r===0)return"0 B";const s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.min(Math.floor(Math.log(r)/Math.log(1024)),s.length-1),o=Number(r/1024**i),l=s[i];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Ph=hi(dne);function XD(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}XD.prototype.match=function(t){var e=!0,n=this.parts,r,s=n.length,i;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(i=(t||"").split(this.separator),r=0;e&&r<s;r++)n[r]!=="*"&&(r<i.length?e=n[r]===i[r]:e=!1);e=e&&i}else if(typeof t.splice=="function")for(e=[],r=t.length;r--;)this.match(t[r])&&(e[e.length]=t[r]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var fne=function(t,e,n){var r=new XD(t,n||/[\/\.]/);return typeof e<"u"?r.match(e):r},hne=fne,pne=/[\/\+\.]/,mne=function(t,e){function n(r){var s=hne(r,t,pne);return s&&s.length>=2}return e?n(e.split(";")[0]):n};const gne=hi(mne),yne={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class $r extends Error{constructor(n,r){super(n);Fe(this,"isUserFacing");Fe(this,"file");Fe(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class vne{constructor(e,n){Fe(this,"getI18n");Fe(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var s;const r=e();if(((s=r.restrictions)==null?void 0:s.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,n){const{maxTotalFileSize:r,maxNumberOfFiles:s}=this.getOpts().restrictions;if(s&&e.filter(o=>!o.isGhost).length+n.length>s)throw new $r(`${this.getI18n()("youCanOnlyUploadX",{smart_count:s})}`);if(r){const i=[...e,...n].reduce((o,l)=>o+(l.size??0),0);if(i>r)throw new $r(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Ph(r),size:Ph(i)}))}}validateSingleFile(e){const{maxFileSize:n,minFileSize:r,allowedFileTypes:s}=this.getOpts().restrictions;if(s&&!s.some(o=>o.includes("/")?e.type?gne(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=s.join(", ");throw new $r(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&e.size!=null&&e.size>n)throw new $r(this.getI18n()("exceedsSize",{size:Ph(n),file:e.name??this.getI18n()("unnamed")}),{file:e});if(r&&e.size!=null&&e.size<r)throw new $r(this.getI18n()("inferiorSize",{size:Ph(r)}),{file:e})}validate(e,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,n)}validateMinNumberOfFiles(e){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(e).length<n)throw new $r(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(e){const n=new $r(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,s=[];for(const i of r)(!Object.hasOwn(e.meta,i)||e.meta[i]==="")&&s.push(i);return{missingFields:s,error:n}}}const xne="5.0.0",wne={version:xne};var Ql,_m,JD;class ZD{constructor(){H(this,_m);Fe(this,"state",{});H(this,Ql,new Set)}getState(){return this.state}setState(e){const n={...this.state},r={...this.state,...e};this.state=r,Y(this,_m,JD).call(this,n,r,e)}subscribe(e){return C(this,Ql).add(e),()=>{C(this,Ql).delete(e)}}}Ql=new WeakMap,_m=new WeakSet,JD=function(...e){C(this,Ql).forEach(n=>{n(...e)})},Fe(ZD,"VERSION",wne.version);function bne(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var JS=bne,Sne=typeof mu=="object"&&mu&&mu.Object===Object&&mu,Cne=Sne,Ene=Cne,Nne=typeof self=="object"&&self&&self.Object===Object&&self,jne=Ene||Nne||Function("return this")(),eF=jne,Tne=eF,kne=function(){return Tne.Date.now()},Pne=kne,_ne=/\s/;function Ane(t){for(var e=t.length;e--&&_ne.test(t.charAt(e)););return e}var Rne=Ane,Ine=Rne,Mne=/^\s+/;function One(t){return t&&t.slice(0,Ine(t)+1).replace(Mne,"")}var Dne=One,Fne=eF,Lne=Fne.Symbol,tF=Lne,rT=tF,nF=Object.prototype,Vne=nF.hasOwnProperty,Une=nF.toString,hu=rT?rT.toStringTag:void 0;function $ne(t){var e=Vne.call(t,hu),n=t[hu];try{t[hu]=void 0;var r=!0}catch{}var s=Une.call(t);return r&&(e?t[hu]=n:delete t[hu]),s}var Bne=$ne,zne=Object.prototype,Wne=zne.toString;function Hne(t){return Wne.call(t)}var qne=Hne,sT=tF,Kne=Bne,Yne=qne,Gne="[object Null]",Qne="[object Undefined]",iT=sT?sT.toStringTag:void 0;function Xne(t){return t==null?t===void 0?Qne:Gne:iT&&iT in Object(t)?Kne(t):Yne(t)}var Zne=Xne;function Jne(t){return t!=null&&typeof t=="object"}var ere=Jne,tre=Zne,nre=ere,rre="[object Symbol]";function sre(t){return typeof t=="symbol"||nre(t)&&tre(t)==rre}var ire=sre,are=Dne,aT=JS,ore=ire,oT=NaN,lre=/^[-+]0x[0-9a-f]+$/i,cre=/^0b[01]+$/i,ure=/^0o[0-7]+$/i,dre=parseInt;function fre(t){if(typeof t=="number")return t;if(ore(t))return oT;if(aT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=aT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=are(t);var n=cre.test(t);return n||ure.test(t)?dre(t.slice(2),n?2:8):lre.test(t)?oT:+t}var hre=fre,pre=JS,uv=Pne,lT=hre,mre="Expected a function",gre=Math.max,yre=Math.min;function vre(t,e,n){var r,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(mre);e=lT(e)||0,pre(n)&&(d=!!n.leading,f="maxWait"in n,i=f?gre(lT(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h);function m(k){var T=r,N=s;return r=s=void 0,u=k,o=t.apply(N,T),o}function y(k){return u=k,l=setTimeout(x,e),d?m(k):o}function g(k){var T=k-c,N=k-u,j=e-T;return f?yre(j,i-N):j}function w(k){var T=k-c,N=k-u;return c===void 0||T>=e||T<0||f&&N>=i}function x(){var k=uv();if(w(k))return v(k);l=setTimeout(x,g(k))}function v(k){return l=void 0,h&&r?m(k):(r=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function S(){return l===void 0?o:v(uv())}function E(){var k=uv(),T=w(k);if(r=arguments,s=this,c=k,T){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(x,e),m(c)}return l===void 0&&(l=setTimeout(x,e)),o}return E.cancel=b,E.flush=S,E}var xre=vre,wre=xre,bre=JS,Sre="Expected a function";function Cre(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(Sre);return bre(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),wre(t,e,{leading:r,maxWait:e,trailing:s})}var Ere=Cre;const Nre=hi(Ere);var jre=function(){var e={},n=e._fns={};e.emit=function(o,l,c,u,d,f,h){var m=r(o);m.length&&s(o,m,[l,c,u,d,f,h])},e.on=function(o,l){n[o]||(n[o]=[]),n[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var u=this._fns[o],d=0,f=u?u.length:0;for(d;d<f;d++)u[d]!==l&&c.push(u[d])}c.length?this._fns[o]=c:delete this._fns[o]};function r(i){var o=n[i]?n[i]:[],l=i.indexOf(":"),c=l===-1?[i]:[i.substring(0,l),i.substring(l+1)],u=Object.keys(n),d=0,f=u.length;for(d;d<f;d++){var h=u[d];if(h==="*"&&(o=o.concat(n[h])),c.length===2&&c[0]===h){o=o.concat(n[h]);break}}return o}function s(i,o,l){var c=0,u=o.length;for(c;c<u&&o[c];c++)o[c].event=i,o[c].apply(o[c],l)}return e};const Tre=hi(jre);let kre="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pre=(t=21)=>{let e="",n=t|0;for(;n--;)e+=kre[Math.random()*64|0];return e};const _re="5.1.1",Are={version:_re};function Rre(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const Ire={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function Mre(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const r=e[1].split(".",2),s=parseInt(r[0],10),i=parseInt(r[1],10);return s<15||s===15&&i<15063||s>18||s===18&&i>=18218}const _h={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Mr,Or,Jd,ro,Xl,Zl,so,Pe,La,Mw,rF,sF,iF,Ow,Dw,Fw,Lw,Am,Vw,io,aF,oF,Ki,ef,_u,lF,Uw,Au;const Rm=class Rm{constructor(e){H(this,Pe);H(this,Mr,Object.create(null));H(this,Or);H(this,Jd);H(this,ro,Tre());H(this,Xl,new Set);H(this,Zl,new Set);H(this,so,new Set);Fe(this,"defaultLocale");Fe(this,"locale");Fe(this,"opts");Fe(this,"store");Fe(this,"i18n");Fe(this,"i18nArray");Fe(this,"scheduledAutoProceed",null);Fe(this,"wasOffline",!1);H(this,Am,(e,n)=>{const r=e?this.getFile(e.id):void 0;if(e==null||!r){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const s={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...r.progress,...s,bytesUploaded:n.bytesUploaded}}):this.setFileState(e.id,{progress:{...r.progress,...s}}),C(this,io).call(this)});H(this,io,Nre(()=>Y(this,Pe,Vw).call(this),500,{leading:!0,trailing:!0}));H(this,Ki,this.updateOnlineStatus.bind(this));H(this,ef,new Map);this.defaultLocale=Ire;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:yne,meta:{},onBeforeFileAdded:(s,i)=>!Object.hasOwn(i,s.id),onBeforeUpload:s=>s,store:new ZD,logger:cne,infoTimeout:5e3},r={...n,...e};this.opts={...r,restrictions:{...n.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=une),this.log(`Using Core v${Rm.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({..._h,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Mre(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),K(this,Or,new vne(()=>this.opts,()=>this.i18n)),K(this,Jd,this.store.subscribe((s,i,o)=>{this.emit("state-update",s,i,o),this.updateAll(i)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),Y(this,Pe,oF).call(this)}emit(e,...n){C(this,ro).emit(e,...n)}on(e,n){return C(this,ro).on(e,n),this}once(e,n){return C(this,ro).once(e,n),this}off(e,n){return C(this,ro).off(e,n),this}updateAll(e){this.iteratePlugins(n=>{n.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(e).map(([r,s])=>[r,{...n[r],...s}]))}})}setFileState(e,n){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:n})}i18nInit(){const e=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new QD([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(n=>{n.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(s=>{r[s]={...n[s],progress:{...n[s].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:r,..._h})}clear(){const{capabilities:e,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({..._h,files:{}})}addPreProcessor(e){C(this,Xl).add(e)}removePreProcessor(e){return C(this,Xl).delete(e)}addPostProcessor(e){C(this,so).add(e)}removePostProcessor(e){return C(this,so).delete(e)}addUploader(e){C(this,Zl).add(e)}removeUploader(e){return C(this,Zl).delete(e)}setMeta(e){const n={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(s=>{r[s]={...r[s],meta:{...r[s].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:n,files:r})}setFileMeta(e,n){const r={...this.getState().files};if(!r[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const s={...r[e].meta,...n};r[e]={...r[e],meta:s},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:e,totalProgress:n,error:r}=this.getState(),s=Object.values(e),i=[],o=[],l=[],c=[],u=[],d=[],f=[],h=[],m=[];for(const y of s){const{progress:g}=y;!g.uploadComplete&&g.uploadStarted&&(i.push(y),y.isPaused||h.push(y)),g.uploadStarted||o.push(y),(g.uploadStarted||g.preprocess||g.postprocess)&&l.push(y),g.uploadStarted&&c.push(y),y.isPaused&&u.push(y),g.uploadComplete&&d.push(y),y.error&&f.push(y),(g.preprocess||g.postprocess)&&m.push(y)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:u,completeFiles:d,erroredFiles:f,inProgressFiles:i,inProgressNotPausedFiles:h,processingFiles:m,isUploadStarted:c.length>0,isAllComplete:n===100&&d.length===s.length&&m.length===0,isAllErrored:!!r&&f.length===s.length,isAllPaused:i.length!==0&&u.length===i.length,isUploadInProgress:i.length>0,isSomeGhost:s.some(y=>y.isGhost)}}validateRestrictions(e,n=this.getFiles()){try{C(this,Or).validate(n,[e])}catch(r){return r}return null}validateSingleFile(e){try{C(this,Or).validateSingleFile(e)}catch(n){return n.message}return null}validateAggregateRestrictions(e){const n=this.getFiles();try{C(this,Or).validateAggregateRestrictions(n,e)}catch(r){return r.message}return null}checkIfFileAlreadyExists(e){const{files:n}=this.getState();return!!(n[e]&&!n[e].isGhost)}addFile(e){const{nextFilesState:n,validFilesToAdd:r,errors:s}=Y(this,Pe,Dw).call(this,[e]),i=s.filter(l=>l.isRestriction);if(Y(this,Pe,La).call(this,i),s.length>0)throw s[0];this.setState({files:n});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),Y(this,Pe,Ow).call(this),o.id}addFiles(e){const{nextFilesState:n,validFilesToAdd:r,errors:s}=Y(this,Pe,Dw).call(this,e),i=s.filter(l=>l.isRestriction);Y(this,Pe,La).call(this,i);const o=s.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:n}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&Y(this,Pe,Ow).call(this)}removeFiles(e){const{files:n,currentUploads:r}=this.getState(),s={...n},i={...r},o=Object.create(null);e.forEach(d=>{n[d]&&(o[d]=n[d],delete s[d])});function l(d){return o[d]===void 0}Object.keys(i).forEach(d=>{const f=r[d].fileIDs.filter(l);if(f.length===0){delete i[d];return}const{capabilities:h}=this.getState();if(f.length!==r[d].fileIDs.length&&!h.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");i[d]={...r[d],fileIDs:f}});const c={currentUploads:i,files:s};Object.keys(s).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),C(this,io).call(this);const u=Object.keys(o);u.forEach(d=>{this.emit("file-removed",o[d])}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const n=this.getFile(e),s=!(n.isPaused||!1);return this.setFileState(e,{isPaused:s}),this.emit("upload-pause",n,s),s}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const s={...e[r],isPaused:!0};e[r]=s}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const s={...e[r],isPaused:!1,error:null};e[r]=s}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await Y(this,Pe,Lw).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),n=Object.keys(e);n.length&&this.removeFiles(n),this.setState(_h)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const n=Y(this,Pe,_u).call(this,[e],{forceAllowNewUpload:!0});return Y(this,Pe,Au).call(this,n)}logout(){this.iteratePlugins(e=>{var n,r;(r=(n=e.provider)==null?void 0:n.logout)==null||r.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return Y(this,Pe,Vw).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...n){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,...n),s=r.id;if(!s)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const i=this.getPlugin(s);if(i){const o=`Already found a plugin named '${i.id}'. Tried to use: '${s}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${s} v${e.VERSION}`),r.type in C(this,Mr)?C(this,Mr)[r.type].push(r):C(this,Mr)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const n of Object.values(C(this,Mr))){const r=n.find(s=>s.id===e);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](e){return C(this,Mr)[e]}iteratePlugins(e){Object.values(C(this,Mr)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const n=C(this,Mr)[e.type],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1);const i={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(i)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),C(this,Jd).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",C(this,Ki)),window.removeEventListener("offline",C(this,Ki)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,n="info",r=3e3){const s=typeof e=="object";this.setState({info:[...this.getState().info,{type:n,message:s?e.message:e,details:s?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,n){const{logger:r}=this.opts;switch(n){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}registerRequestClient(e,n){C(this,ef).set(e,n)}getRequestClientForFile(e){if(!("remote"in e&&e.remote))throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const n=C(this,ef).get(e.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return n}async restore(e){this.log(`Core: Running restored upload "${e}"`);const n=await Y(this,Pe,Au).call(this,e);return this.emit("complete",n),n}[Symbol.for("uppy test: createUpload")](...e){return Y(this,Pe,_u).call(this,...e)}addResultData(e,n){if(!Y(this,Pe,lF).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),s={...r[e],result:{...r[e].result,...n}};this.setState({currentUploads:{...r,[e]:s}})}async upload(){var s;(s=C(this,Mr).uploader)!=null&&s.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(Y(this,Pe,Fw).call(this).length>0){const i=await Y(this,Pe,Lw).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",i),i;({files:e}=this.getState())}const r=this.opts.onBeforeUpload(e);if(r===!1)throw new Error("Not starting the upload because onBeforeUpload returned false");r&&typeof r=="object"&&(e=r,this.setState({files:e}));try{if(C(this,Or).validateMinNumberOfFiles(e),!Y(this,Pe,rF).call(this,e))throw new $r(this.i18n("missingRequiredMetaField"));const{currentUploads:i}=this.getState(),o=Object.values(i).flatMap(d=>d.fileIDs),l=Object.keys(e).filter(d=>{const f=this.getFile(d);return f&&!f.progress.uploadStarted&&!o.includes(d)}),c=Y(this,Pe,_u).call(this,l),u=await Y(this,Pe,Au).call(this,c);return this.emit("complete",u),u}catch(i){throw Y(this,Pe,La).call(this,[i]),i}}};Mr=new WeakMap,Or=new WeakMap,Jd=new WeakMap,ro=new WeakMap,Xl=new WeakMap,Zl=new WeakMap,so=new WeakMap,Pe=new WeakSet,La=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const n=e.filter(o=>o.isUserFacing),r=4,s=n.slice(0,r),i=n.slice(r);s.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})},Mw=function(e){const{missingFields:n,error:r}=C(this,Or).getMissingRequiredMetaFields(e);return n.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:n,error:r.message}),this.log(r.message),this.emit("restriction-failed",e,r),!1):(n.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},rF=function(e){let n=!0;for(const r of Object.values(e))Y(this,Pe,Mw).call(this,r)||(n=!1);return n},sF=function(e){const{allowNewUpload:n}=this.getState();if(n===!1){const r=new $r(this.i18n("noMoreFilesAllowed"),{file:e});throw Y(this,Pe,La).call(this,[r]),r}},iF=function(e){const n=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e,meta:{},isRemote:!1,source:void 0,preview:void 0}:e,r=qD(n),s=Rre(r,n),i=HD(s).extension,o=ene(n,this.getID()),l={...n.meta,name:s,type:r},c=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:o,name:s,extension:i||"",meta:{...this.getState().meta,...l},type:r,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,...n.isRemote?{isRemote:!0,remote:n.remote,data:n.data}:{isRemote:!1,data:n.data},preview:n.preview}},Ow=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},Dw=function(e){let{files:n}=this.getState(),r={...n};const s=[],i=[];for(const o of e)try{let l=Y(this,Pe,iF).call(this,o);Y(this,Pe,sF).call(this,l);const c=n[l.id],u=c==null?void 0:c.isGhost;if(u&&!l.isRemote){if(l.data==null)throw new Error("File data is missing");l={...c,isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}const d=this.opts.onBeforeFileAdded(l,r);if(n=this.getState().files,r={...n,...r},!d&&this.checkIfFileAlreadyExists(l.id))throw new $r(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:l});if(d===!1&&!u)throw new $r("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof d=="object"&&d!==null&&(l=d),C(this,Or).validateSingleFile(l),r[l.id]=l,s.push(l)}catch(l){i.push(l)}try{C(this,Or).validateAggregateRestrictions(Object.values(n),s)}catch(o){return i.push(o),{nextFilesState:n,validFilesToAdd:[],errors:i}}return{nextFilesState:r,validFilesToAdd:s,errors:i}},Fw=function(){const{files:e}=this.getState();return Object.keys(e).filter(n=>{const r=e[n];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},Lw=async function(){const e=Y(this,Pe,Fw).call(this),n={...this.getState().files};if(e.forEach(s=>{n[s]={...n[s],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const r=Y(this,Pe,_u).call(this,e,{forceAllowNewUpload:!0});return Y(this,Pe,Au).call(this,r)},Am=new WeakMap,Vw=function(){const e=Y(this,Pe,aF).call(this);let n=null;e!=null&&(n=Math.round(e*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},io=new WeakMap,aF=function(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0)return 0;if(n.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,s=n.filter(r),i=n.filter(c=>!r(c));if(s.every(c=>c.progress.uploadComplete)&&i.length>0&&!i.every(c=>c.progress.uploadComplete))return null;const o=s.reduce((c,u)=>c+(u.progress.bytesTotal??0),0),l=s.reduce((c,u)=>c+(u.progress.bytesUploaded||0),0);return o===0?0:l/o},oF=function(){const e=(s,i,o)=>{let l=s.message||"Unknown error";s.details&&(l+=` ${s.details}`),this.setState({error:l}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(s,i,o)=>{if(e(i,s,o),typeof i=="object"&&i.message){this.log(i.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(s==null?void 0:s.name)??""}));l.isUserFacing=!0,l.details=i.message,i.details&&(l.details+=` ${i.details}`),Y(this,Pe,La).call(this,[l])}else Y(this,Pe,La).call(this,[i])});let n=null;this.on("upload-stalled",(s,i)=>{const{message:o}=s,l=i.map(c=>c.meta.name).join(", ");n||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=s=>{const i=s.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(i.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",C(this,Am)),this.on("upload-success",(s,i)=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}const o=this.getFile(s.id).progress,l=C(this,so).size>0;this.setFileState(s.id,{progress:{...o,postprocess:l?{mode:"indeterminate"}:void 0,uploadComplete:!0,...!l&&{complete:!0},percentage:100,bytesUploaded:o.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),s.size==null&&this.setFileState(s.id,{size:i.bytesUploaded||o.bytesTotal}),C(this,io).call(this)}),this.on("preprocess-progress",(s,i)=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}this.setFileState(s.id,{progress:{...this.getFile(s.id).progress,preprocess:i}})}),this.on("preprocess-complete",s=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}const i={...this.getState().files};i[s.id]={...i[s.id],progress:{...i[s.id].progress}},delete i[s.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(s,i)=>{if(s==null||!this.getFile(s.id)){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}this.setFileState(s.id,{progress:{...this.getState().files[s.id].progress,postprocess:i}})}),this.on("postprocess-complete",s=>{const i=s&&this.getFile(s.id);if(i==null){this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`);return}const{postprocess:o,...l}=i.progress;this.patchFilesState({[i.id]:{progress:{...l,complete:!0}}})}),this.on("restored",()=>{C(this,io).call(this)}),this.on("dashboard:file-edit-complete",s=>{s&&Y(this,Pe,Mw).call(this,s)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",C(this,Ki)),window.addEventListener("offline",C(this,Ki)),setTimeout(C(this,Ki),3e3))},Ki=new WeakMap,ef=new WeakMap,_u=function(e,n={}){const{forceAllowNewUpload:r=!1}=n,{allowNewUpload:s,currentUploads:i}=this.getState();if(!s&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=Pre();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[o]:{fileIDs:e,step:0,result:{}}}}),o},lF=function(e){const{currentUploads:n}=this.getState();return n[e]},Uw=function(e){const{[e]:n,...r}=this.getState().currentUploads;this.setState({currentUploads:r})},Au=async function(e){const n=()=>{const{currentUploads:o}=this.getState();return o[e]};let r=n();if(!r)throw new Error("Nonexistent upload");const s=[...C(this,Xl),...C(this,Zl),...C(this,so)];try{for(let o=r.step||0;o<s.length&&r;o++){const l=s[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...r,step:o}}});const c=r.fileIDs.filter(u=>!this.getFile(u).progress.uploadComplete);await l(c,e),r=n()}}catch(o){throw Y(this,Pe,Uw).call(this,e),o}if(r){r.fileIDs.forEach(u=>{const d=this.getFile(u);d!=null&&d.progress.postprocess&&this.emit("postprocess-complete",d)});const o=r.fileIDs.map(u=>this.getFile(u)),l=o.filter(u=>!u.error),c=o.filter(u=>u.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),r=n()}let i;return r&&(i=r.result,Y(this,Pe,Uw).call(this,e)),i==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),i={successful:[],failed:[],uploadID:e}),i},Fe(Rm,"VERSION",Are.version);let Iw=Rm;var cF={};function Sr(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Ore=Sr;Sr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Sr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Sr.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Sr.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Sr.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Sr.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Sr.prototype.start=Sr.prototype.try;Sr.prototype.errors=function(){return this._errors};Sr.prototype.attempts=function(){return this._attempts};Sr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var s=this._errors[r],i=s.message,o=(t[i]||0)+1;t[i]=o,o>=n&&(e=s,n=o)}return e};(function(t){var e=Ore;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var s in n)r[s]=n[s];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],o=0;o<r.retries;o++)i.push(this.createTimeout(o,r));return n&&n.forever&&!i.length&&i.push(this.createTimeout(o,r)),i.sort(function(l,c){return l-c}),i},t.createTimeout=function(n,r){var s=r.randomize?Math.random()+1:1,i=Math.round(s*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return i=Math.min(i,r.maxTimeout),i},t.wrap=function(n,r,s){if(r instanceof Array&&(s=r,r=null),!s){s=[];for(var i in n)typeof n[i]=="function"&&s.push(i)}for(var o=0;o<s.length;o++){var l=s[o],c=n[l];n[l]=(function(d){var f=t.operation(r),h=Array.prototype.slice.call(arguments,1),m=h.pop();h.push(function(y){f.retry(y)||(y&&(arguments[0]=f.mainError()),m.apply(this,arguments))}),f.attempt(function(){d.apply(n,h)})}).bind(n,c),n[l].options=r}}})(cF);var Dre=cF;const Fre=hi(Dre),Lre=Object.prototype.toString,Vre=t=>Lre.call(t)==="[object Error]",Ure=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function $re(t){if(!(t&&Vre(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Ure.has(n)}class $w extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const cT=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t};async function uT(t,e){return new Promise((n,r)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const s=Fre.operation(e),i=()=>{var l;s.stop(),r((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",i,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",i),s.stop()};s.attempt(async l=>{try{const c=await t(l);o(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof $w)throw c.originalError;if(c instanceof TypeError&&!$re(c))throw c;if(cT(c,l,e),await e.shouldRetry(c)||(s.stop(),r(c)),await e.onFailedAttempt(c),!s.retry(c))throw s.mainError()}catch(u){cT(u,l,e),o(),r(u)}}})})}const Bre="5.1.1",zre={version:Bre};class Wre extends Error{constructor(){super("Authorization required");Fe(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function Hre(t){return t.replace(/\/$/,"")}const dT=10,qre=5*60*1e3,Kre=401;class Yre extends Error{constructor({statusCode:n,message:r}){super(r);Fe(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function Gre(t){if(t.status===Kre)throw new Wre;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,n;try{n=await t.json(),n.message&&(e=`${e} message: ${n.message}`),n.requestId&&(e=`${e} request-Id: ${n.requestId}`)}catch(r){throw new Error(e,{cause:r})}throw t.status>=400&&t.status<=499&&n.message?new ane(n.message):new Yre({statusCode:t.status,message:e})}function Qre(t,e,n){const{progress:r,bytesUploaded:s,bytesTotal:i}=e;r&&(t.uppy.log(`Upload progress: ${r}`),t.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:s,bytesTotal:i}))}var ao,ba,Bw,Im,zw;class uF{constructor(e,n){H(this,ba);H(this,ao);Fe(this,"uppy");Fe(this,"opts");H(this,Im,async({file:e,postBody:n,signal:r})=>{var i;if(((i=e.remote)==null?void 0:i.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...n},{signal:r})).token});this.uppy=e,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),K(this,ao,n.companionHeaders)}setCompanionHeaders(e){K(this,ao,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return C(this,ao)}get hostname(){const{companion:e}=this.uppy.getState(),n=this.opts.companionUrl;return Hre(e!=null&&e[n]?e[n]:n)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...C(this,ao)}}onReceiveResponse(e){const{headers:n}=e,s=this.uppy.getState().companion||{},i=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==s[i]&&this.uppy.setState({companion:{...s,[i]:n.get("i-am")}})}async request({path:e,method:n="GET",data:r,skipPostResponse:s,signal:i}){try{const o=await this.headers(!r),l=await Yte(Y(this,ba,Bw).call(this,e),{method:n,signal:i,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return s||this.onReceiveResponse(l),await Gre(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new qte(`Could not ${n} ${Y(this,ba,Bw).call(this,e)}`,{cause:o})}}async get(e,n){return this.request({...n,path:e})}async post(e,n,r){return this.request({...r,path:e,method:"POST",data:n})}async delete(e,n,r){return this.request({...r,path:e,method:"DELETE",data:n})}async uploadRemoteFile(e,n,r){try{const{signal:s,getQueue:i}=r||{};return await uT(async()=>{var u;const o=(u=this.uppy.getFile(e.id))==null?void 0:u.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),Y(this,ba,zw).call(this,{file:e,queue:i(),signal:s});const c=await i().wrapPromiseFunction(async(...d)=>{try{return await C(this,Im).call(this,...d)}catch(f){if(f.isAuthError)throw new $w(f);if(f.cause==null)throw f;const h=f.cause,m=()=>[408,409,429,418,423].includes(h.statusCode)||h.statusCode>=500&&h.statusCode<=599&&![501,505].includes(h.statusCode);throw h.name==="HttpError"&&!m()?new $w(h):h}},{priority:-1})({file:e,postBody:n,signal:s}).abortOn(s);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),Y(this,ba,zw).call(this,{file:this.uppy.getFile(e.id),queue:i(),signal:s})},{retries:dT,signal:s,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(s){if(s.name==="AbortError")return;throw this.uppy.emit("upload-error",e,s),s}}}ao=new WeakMap,ba=new WeakSet,Bw=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},Im=new WeakMap,zw=async function({file:e,queue:n,signal:r}){let s;const{capabilities:i}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,u=tne(e.remote.companionUrl);let d,f,h,{isPaused:m}=e;const y=(T,N)=>{if(d==null||d.readyState!==d.OPEN){this.uppy.log(`Cannot send "${T}" to socket ${e.id} because the socket state was ${String(d==null?void 0:d.readyState)}`,"warning");return}d.send(JSON.stringify({action:T,payload:N??{}}))};function g(){i.resumableUploads&&y(m?"pause":"resume")}const w=async()=>{f&&f.abort(),f=new AbortController;const T=j=>{var P;this.uppy.setFileState(e.id,{serverToken:null}),(P=f==null?void 0:f.abort)==null||P.call(f),l(j)};function N(){clearTimeout(h),!m&&(h=setTimeout(()=>T(new Error("Timeout waiting for message from Companion socket")),qre))}try{await n.wrapPromiseFunction(async()=>{await uT(async()=>new Promise((P,O)=>{d=new WebSocket(`${u}/api/${c}`),N(),d.addEventListener("close",()=>{d=void 0,O(new Error("Socket closed unexpectedly"))}),d.addEventListener("error",B=>{this.uppy.log(`Companion socket error ${JSON.stringify(B)}, closing socket`,"warning"),d==null||d.close()}),d.addEventListener("open",()=>{g()}),d.addEventListener("message",B=>{var D,M,V;N();try{const{action:$,payload:_}=JSON.parse(B.data);switch($){case"progress":{Qre(this,_,this.uppy.getFile(e.id));break}case"success":{const R=(D=_.response)==null?void 0:D.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:_.url,status:((M=_.response)==null?void 0:M.status)??200,body:R?JSON.parse(R):void 0}),(V=f==null?void 0:f.abort)==null||V.call(f),o();break}case"error":{const{message:R}=_.error;throw Object.assign(new Error(R),{cause:_.error})}default:this.uppy.log(`Companion socket unknown action ${$}`,"warning")}}catch($){T($)}});const I=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(h),d&&d.close(),d=void 0};f.signal.addEventListener("abort",()=>{I()})}),{retries:dT,signal:f.signal,onFailedAttempt:()=>{f.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(f.signal)}catch(j){if(f.signal.aborted)return;T(j)}},x=T=>{i.resumableUploads&&(m=T,d&&g())},v=T=>{var N;i.individualCancellation&&T.id===e.id&&(y("cancel"),(N=f==null?void 0:f.abort)==null||N.call(f),this.uppy.log(`upload ${e.id} was removed`),o())},b=()=>{var T;y("cancel"),(T=f==null?void 0:f.abort)==null||T.call(f),this.uppy.log(`upload ${e.id} was canceled`),o()},S=(T,N)=>{(T==null?void 0:T.id)===e.id&&x(N)},E=()=>x(!0),k=()=>x(!1);this.uppy.on("file-removed",v),this.uppy.on("cancel-all",b),this.uppy.on("upload-pause",S),this.uppy.on("pause-all",E),this.uppy.on("resume-all",k),s=()=>{this.uppy.off("file-removed",v),this.uppy.off("cancel-all",b),this.uppy.off("upload-pause",S),this.uppy.off("pause-all",E),this.uppy.off("resume-all",k)},r.addEventListener("abort",()=>{f==null||f.abort()}),w()})}finally{s==null||s()}},Fe(uF,"VERSION",zre.version);const Xre="5.0.2",Zre={version:Xre};function Jre({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:n="",SignedHeaders:r,HashedPayload:s}){const i=Object.keys(r).map(o=>o.toLowerCase()).sort();return[t,e,n,...i.map(o=>`${o}:${r[o]}`),"",i.join(";"),s].join(`
`)}const e1=new TextEncoder,t1={name:"HMAC",hash:"SHA-256"};async function ese(t){const{subtle:e}=globalThis.crypto;return e.digest(t1.hash,e1.encode(t))}async function tse(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?e1.encode(t):t,t1,!1,["sign"])}function fT(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.length;r++)n+=e[r].toString(16).padStart(2,"0");return n}async function pu(t,e){const{subtle:n}=globalThis.crypto;return n.sign(t1,await tse(t),e1.encode(e))}async function nse({accountKey:t,accountSecret:e,sessionToken:n,bucketName:r,Key:s,Region:i,expires:o,uploadId:l,partNumber:c}){const u="s3",d=`${u}.${i}.amazonaws.com`,f=`/${r}/${encodeURI(s).replace(/[;?:@&=+$,#!'()*]/g,j=>`%${j.charCodeAt(0).toString(16).toUpperCase()}`)}`,h="UNSIGNED-PAYLOAD",m=new Date().toISOString().replace(/[-:]|\.\d+/g,""),y=m.slice(0,8),g=`${y}/${i}/${u}/aws4_request`,w=new URL(`https://${d}${f}`);w.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),w.searchParams.set("X-Amz-Content-Sha256",h),w.searchParams.set("X-Amz-Credential",`${t}/${g}`),w.searchParams.set("X-Amz-Date",m),w.searchParams.set("X-Amz-Expires",o),w.searchParams.set("X-Amz-Security-Token",n),w.searchParams.set("X-Amz-SignedHeaders","host"),c&&w.searchParams.set("partNumber",c),l&&w.searchParams.set("uploadId",l),w.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const x=Jre({CanonicalUri:f,CanonicalQueryString:w.search.slice(1),SignedHeaders:{host:d},HashedPayload:h}),v=fT(await ese(x)),b=["AWS4-HMAC-SHA256",m,g,v].join(`
`),S=await pu(`AWS4${e}`,y),E=await pu(S,i),k=await pu(E,u),T=await pu(k,"aws4_request"),N=fT(await pu(T,b));return w.searchParams.set("X-Amz-Signature",N),w}const rse=1024*1024,hT={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function sse(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const ip=Symbol("pausing upload, not an actual error");var Dr,lr,ps,zs,Ws,tf,nf,Jl,oo,ec,rf,tc,sf,ns,dF,fF,Ww,af,of,hF;class ise{constructor(e,n){H(this,ns);Fe(this,"options");H(this,Dr,new lv);H(this,lr,[]);H(this,ps,[]);H(this,zs);H(this,Ws);H(this,tf,!1);H(this,nf);H(this,Jl);H(this,oo);H(this,ec);H(this,rf,e=>(e==null?void 0:e.cause)===ip?null:C(this,nf).call(this,e));H(this,tc,1e4);H(this,sf,5*rse);H(this,af,e=>n=>{if(!n.lengthComputable)return;C(this,ps)[e].uploaded=sse(n.loaded);const r=C(this,ps).reduce((s,i)=>s+i.uploaded,0);this.options.onProgress(r,C(this,zs).size)});H(this,of,e=>n=>{C(this,lr)[e]=null,C(this,ps)[e].etag=n,C(this,ps)[e].done=!0;const r={PartNumber:e+1,ETag:n};this.options.onPartComplete(r)});var r;this.options={...hT,...n},(r=this.options).getChunkSize??(r.getChunkSize=hT.getChunkSize),K(this,zs,e),K(this,Ws,n.file),K(this,Jl,this.options.onSuccess),K(this,nf,this.options.onError),K(this,oo,this.options.shouldUseMultipart),K(this,ec,n.uploadId&&n.key),Y(this,ns,dF).call(this)}start(){C(this,tf)?(C(this,Dr).signal.aborted||C(this,Dr).abort(ip),K(this,Dr,new lv),Y(this,ns,Ww).call(this)):C(this,ec)?(this.options.companionComm.restoreUploadFile(C(this,Ws),{uploadId:this.options.uploadId,key:this.options.key}),Y(this,ns,Ww).call(this)):Y(this,ns,fF).call(this)}pause(){C(this,Dr).abort(ip),K(this,Dr,new lv)}abort(e){e!=null&&e.really?Y(this,ns,hF).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return C(this,ps)}}Dr=new WeakMap,lr=new WeakMap,ps=new WeakMap,zs=new WeakMap,Ws=new WeakMap,tf=new WeakMap,nf=new WeakMap,Jl=new WeakMap,oo=new WeakMap,ec=new WeakMap,rf=new WeakMap,tc=new WeakMap,sf=new WeakMap,ns=new WeakSet,dF=function(){const e=C(this,zs).size,n=typeof C(this,oo)=="function"?C(this,oo).call(this,C(this,Ws)):!!C(this,oo);if(n&&e>C(this,sf)){let r=Math.max(this.options.getChunkSize(C(this,zs)),C(this,sf)),s=Math.floor(e/r);s>C(this,tc)&&(s=C(this,tc),r=e/C(this,tc)),K(this,lr,Array(s));for(let i=0,o=0;i<e;i+=r,o++){const l=Math.min(e,i+r),c=()=>{const u=i;return C(this,zs).slice(u,l)};if(C(this,lr)[o]={getData:c,onProgress:C(this,af).call(this,o),onComplete:C(this,of).call(this,o),shouldUseMultipart:n},C(this,ec)){const u=i+r>e?e-i:r;C(this,lr)[o].setAsUploaded=()=>{C(this,lr)[o]=null,C(this,ps)[o].uploaded=u}}}}else K(this,lr,[{getData:()=>C(this,zs),onProgress:C(this,af).call(this,0),onComplete:C(this,of).call(this,0),shouldUseMultipart:n}]);K(this,ps,C(this,lr).map(()=>({uploaded:0})))},fF=function(){this.options.companionComm.uploadFile(C(this,Ws),C(this,lr),C(this,Dr).signal).then(C(this,Jl),C(this,rf)),K(this,tf,!0)},Ww=function(){this.options.companionComm.resumeUploadFile(C(this,Ws),C(this,lr),C(this,Dr).signal).then(C(this,Jl),C(this,rf))},af=new WeakMap,of=new WeakMap,hF=function(){C(this,Dr).abort(),this.options.companionComm.abortFileUpload(C(this,Ws)).catch(e=>this.options.log(e))};function cn(t){if(t!=null&&t.aborted)throw WD("The operation was aborted",{cause:t.reason})}function ase(t){const e=new URL(t);return e.search="",e.hash="",e.href}var lf,Fr,cf,uf,df,ff,nc,rc,sc,ic,lo,ac,Lr,Io,pF,Hw;class ose{constructor(e,n,r,s){H(this,Io);H(this,lf);H(this,Fr,new WeakMap);H(this,cf);H(this,uf);H(this,df);H(this,ff);H(this,nc);H(this,rc);H(this,sc);H(this,ic);H(this,lo);H(this,ac);H(this,Lr);K(this,rc,e),K(this,lo,r),K(this,Lr,s),this.setOptions(n)}setOptions(e){const n=C(this,rc);"abortMultipartUpload"in e&&K(this,lf,n.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&K(this,cf,n.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&K(this,uf,n.wrapPromiseFunction(e.signPart)),"listParts"in e&&K(this,ff,n.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&K(this,ic,n.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&K(this,sc,e.retryDelays??[]),"uploadPartBytes"in e&&K(this,ac,n.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&K(this,df,n.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,n){let r;for(;;){if(e.data==null)throw new Error("File data is empty");if(r=C(this,Fr).get(e.data),r==null)break;try{return await r}catch{}}const s=C(this,cf).call(this,C(this,Lr).call(this,e),n),i=()=>{if(e.data==null)throw new Error("File data is empty");s.abort(n.reason),C(this,Fr).delete(e.data)};return n.addEventListener("abort",i,{once:!0}),C(this,Fr).set(e.data,s),s.then(async o=>{if(n.removeEventListener("abort",i),C(this,lo).call(this,e,o),e.data==null)throw new Error("File data is empty");C(this,Fr).set(e.data,o)},()=>{if(n.removeEventListener("abort",i),e.data==null)throw new Error("File data is empty");C(this,Fr).delete(e.data)}),s}async abortFileUpload(e){if(e.data==null)throw new Error("File data is empty");const n=C(this,Fr).get(e.data);if(n==null)return;C(this,Fr).delete(e.data),C(this,lo).call(this,e,Object.create(null));let r;try{r=await n}catch{return}await C(this,lf).call(this,C(this,Lr).call(this,e),r)}async uploadFile(e,n,r){if(cn(r),n.length===1&&!n[0].shouldUseMultipart)return Y(this,Io,Hw).call(this,e,n[0],r);const{uploadId:s,key:i}=await this.getUploadId(e,r);cn(r);try{const o=await Promise.all(n.map((l,c)=>this.uploadChunk(e,c+1,l,r)));return cn(r),await C(this,ic).call(this,C(this,Lr).call(this,e),{key:i,uploadId:s,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==ip&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,n){if(e.data==null)throw new Error("File data is empty");C(this,Fr).set(e.data,n)}async resumeUploadFile(e,n,r){if(cn(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return Y(this,Io,Hw).call(this,e,n[0],r);const{uploadId:s,key:i}=await this.getUploadId(e,r);cn(r);const o=await C(this,ff).call(this,C(this,Lr).call(this,e),{uploadId:s,key:i,signal:r},r).abortOn(r);cn(r);const l=await Promise.all(n.map((c,u)=>{var h;const d=u+1,f=o.find(({PartNumber:m})=>m===d);return f==null?this.uploadChunk(e,d,c,r):((h=c==null?void 0:c.setAsUploaded)==null||h.call(c),{PartNumber:d,ETag:f.ETag})}));return cn(r),C(this,ic).call(this,C(this,Lr).call(this,e),{key:i,uploadId:s,parts:l,signal:r},r).abortOn(r)}async uploadChunk(e,n,r,s){cn(s);const{uploadId:i,key:o}=await this.getUploadId(e,s),l=C(this,sc).values(),c=C(this,sc).values(),u=()=>{const d=l.next();return d==null||d.done?null:d.value};for(;;){cn(s);const d=r.getData(),{onProgress:f,onComplete:h}=r;let m;try{m=await C(this,uf).call(this,C(this,Lr).call(this,e),{uploadId:i,key:o,partNumber:n,body:d,signal:s}).abortOn(s)}catch(y){const g=u();if(g==null||s.aborted)throw y;await new Promise(w=>setTimeout(w,g));continue}cn(s);try{return{PartNumber:n,...await C(this,ac).call(this,{signature:m,body:d,size:d.size,onProgress:f,onComplete:h,signal:s}).abortOn(s)}}catch(y){if(!await Y(this,Io,pF).call(this,y,c))throw y}}}}lf=new WeakMap,Fr=new WeakMap,cf=new WeakMap,uf=new WeakMap,df=new WeakMap,ff=new WeakMap,nc=new WeakMap,rc=new WeakMap,sc=new WeakMap,ic=new WeakMap,lo=new WeakMap,ac=new WeakMap,Lr=new WeakMap,Io=new WeakSet,pF=async function(e,n){var i;const r=C(this,rc),s=(i=e==null?void 0:e.source)==null?void 0:i.status;if(s==null)return!1;if(s===403&&e.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||C(this,nc)==null){const o=n.next();if(o==null||o.done)return!1;K(this,nc,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,C(this,nc)))}}else if(s===429){if(!r.isPaused){const o=n.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(s>400&&s<500&&s!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=n.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},Hw=async function(e,n,r){const{method:s="POST",url:i,fields:o,headers:l}=await C(this,df).call(this,C(this,Lr).call(this,e),{signal:r}).abortOn(r);let c;const u=n.getData();if(s.toUpperCase()==="POST"){const y=new FormData;Object.entries(o).forEach(([g,w])=>y.set(g,w)),y.set("file",u),c=y}else c=u;const{onProgress:d,onComplete:f}=n,h=await C(this,ac).call(this,{signature:{url:i,headers:l,method:s},body:c,size:u.size,onProgress:d,onComplete:f,signal:r}).abortOn(r),m=o==null?void 0:o.key;return C(this,lo).call(this,e,{key:m}),{...h,location:h.location??ase(i),bucket:o==null?void 0:o.bucket,key:m}};function Yo(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function pT(t){const e=t.Expiration;if(e){const n=Math.floor((new Date(e)-Date.now())/1e3);if(n>9)return n}}function mT({meta:t,allowedMetaFields:e,querify:n=!1}){const r=e??Object.keys(t);return t?Object.fromEntries(r.filter(s=>t[s]!=null).map(s=>{const i=n?`metadata[${s}]`:s,o=String(t[s]);return[i,o]})):{}}const lse={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var oc,bn,Ht,Kw,ki,Vr,mF,Mm,lc,gF,yF,hf,cc,co,pf;const Om=class Om extends one{constructor(n,r){super(n,{...lse,uploadPartBytes:Om.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});H(this,Ht);H(this,oc);H(this,bn);Fe(this,"requests");Fe(this,"uploaderEvents");Fe(this,"uploaders");H(this,Vr);H(this,Mm,(n,{key:r,uploadId:s})=>{const i=this.uppy.getFile(n.id);i!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...i.s3Multipart,key:r,uploadId:s}})});H(this,lc,n=>this.uppy.getFile(n.id)||n);H(this,hf,async n=>{if(n.length===0)return;const r=this.uppy.getFilesByIds(n),s=Gte(r),i=Qte(s);this.uppy.emit("upload-start",i);const o=s.map(c=>{if(c.isRemote){const u=()=>this.requests;C(this,co).call(this,!1);const d=new AbortController,f=m=>{m.id===c.id&&d.abort()};this.uppy.on("file-removed",f);const h=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,Y(this,Ht,yF).call(this,c),{signal:d.signal,getQueue:u});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",f)},{priority:-1})(),h}return Y(this,Ht,gF).call(this,c)}),l=await Promise.allSettled(o);return C(this,co).call(this,!0),l});H(this,cc,()=>{var n;(n=C(this,bn))==null||n.setCompanionHeaders(this.opts.headers)});H(this,co,n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:n}})});H(this,pf,()=>{C(this,co).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",Y(this,Ht,Kw).call(this,r);const s={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const i of Object.keys(s))this.opts[i]==null&&(this.opts[i]=s[i].bind(this));this.requests=this.opts.rateLimitedQueue??new rne(this.opts.limit),K(this,oc,new ose(this.requests,this.opts,C(this,Mm),C(this,lc))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return C(this,bn)}setOptions(n){C(this,oc).setOptions(n),super.setOptions(n),Y(this,Ht,Kw).call(this,n)}resetUploaderReferences(n,r){this.uploaders[n]&&(this.uploaders[n].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,r){Y(this,Ht,ki).call(this,"createMultipartUpload"),cn(r);const s=eT(this.opts.allowedMetaFields,n.meta),i=mT({meta:n.meta,allowedMetaFields:s});return C(this,bn).post("s3/multipart",{filename:n.name,type:n.type,metadata:i},{signal:r}).then(Yo)}listParts(n,{key:r,uploadId:s,signal:i},o){i??(i=o),Y(this,Ht,ki).call(this,"listParts"),cn(i);const l=encodeURIComponent(r);return C(this,bn).get(`s3/multipart/${encodeURIComponent(s)}?key=${l}`,{signal:i}).then(Yo)}completeMultipartUpload(n,{key:r,uploadId:s,parts:i,signal:o},l){o??(o=l),Y(this,Ht,ki).call(this,"completeMultipartUpload"),cn(o);const c=encodeURIComponent(r),u=encodeURIComponent(s);return C(this,bn).post(`s3/multipart/${u}/complete?key=${c}`,{parts:i.map(({ETag:d,PartNumber:f})=>({ETag:d,PartNumber:f}))},{signal:o}).then(Yo)}async createSignedURL(n,r){const s=await Y(this,Ht,mF).call(this,r),i=pT(s.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:i,fields:{},url:`${await nse({accountKey:s.credentials.AccessKeyId,accountSecret:s.credentials.SecretAccessKey,sessionToken:s.credentials.SessionToken,expires:i,bucketName:s.bucket,Region:s.region,Key:l??`${crypto.randomUUID()}-${n.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:r,key:s,partNumber:i,signal:o}){if(Y(this,Ht,ki).call(this,"signPart"),cn(o),r==null||s==null||i==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(s);return C(this,bn).get(`s3/multipart/${encodeURIComponent(r)}/${i}?key=${l}`,{signal:o}).then(Yo)}abortMultipartUpload(n,{key:r,uploadId:s,signal:i}){Y(this,Ht,ki).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(s);return C(this,bn).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:i}).then(Yo)}getUploadParameters(n,r){Y(this,Ht,ki).call(this,"getUploadParameters");const{meta:s}=n,{type:i,name:o}=s,l=eT(this.opts.allowedMetaFields,n.meta),c=mT({meta:s,allowedMetaFields:l,querify:!0}),u=new URLSearchParams({filename:o,type:i,...c});return C(this,bn).get(`s3/params?${u}`,r)}static async uploadPartBytes({signature:{url:n,expires:r,headers:s,method:i="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:u,signal:d}){if(cn(d),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((f,h)=>{const m=new XMLHttpRequest;m.open(i,n,!0),s&&Object.keys(s).forEach(w=>{m.setRequestHeader(w,s[w])}),m.responseType="text",typeof r=="number"&&(m.timeout=r*1e3);function y(){m.abort()}function g(){d==null||d.removeEventListener("abort",y)}d==null||d.addEventListener("abort",y),m.upload.addEventListener("progress",w=>{c(w)}),m.addEventListener("abort",()=>{g(),h(WD())}),m.addEventListener("timeout",()=>{g();const w=new Error("Request has expired");w.source={status:403},h(w)}),m.addEventListener("load",()=>{if(g(),m.status===403&&m.responseText.includes("<Message>Request has expired</Message>")){const S=new Error("Request has expired");S.source=m,h(S);return}if(m.status<200||m.status>=300){const S=new Error("Non 2xx");S.source=m,h(S);return}c==null||c({loaded:l,lengthComputable:!0});const w=m.getAllResponseHeaders().trim().split(/[\r\n]+/),x={__proto__:null};for(const S of w){const E=S.split(": "),k=E.shift(),T=E.join(": ");x[k]=T}const{etag:v,location:b}=x;if(i.toUpperCase()==="POST"&&b==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),v==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}u==null||u(v),f({...x,ETag:v})}),m.addEventListener("error",w=>{g();const x=new Error("Unknown error");x.source=w.target,h(x)}),m.send(o)})}install(){C(this,co).call(this,!0),this.uppy.addPreProcessor(C(this,cc)),this.uppy.addUploader(C(this,hf)),this.uppy.on("cancel-all",C(this,pf))}uninstall(){this.uppy.removePreProcessor(C(this,cc)),this.uppy.removeUploader(C(this,hf)),this.uppy.off("cancel-all",C(this,pf))}};oc=new WeakMap,bn=new WeakMap,Ht=new WeakSet,Kw=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?K(this,bn,new uF(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&C(this,cc).call(this),"cookiesRule"in n&&(C(this,bn).opts.companionCookiesRule=n.cookiesRule)))},ki=function(n){if(!C(this,bn))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},Vr=new WeakMap,mF=async function(n){if(cn(n==null?void 0:n.signal),C(this,Vr)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(Y(this,Ht,ki).call(this,"getTemporarySecurityCredentials"),K(this,Vr,C(this,bn).get("s3/sts",n).then(Yo))):K(this,Vr,r(n)),K(this,Vr,await C(this,Vr)),setTimeout(()=>{K(this,Vr,null)},(pT(C(this,Vr).credentials)||0)*500)}return C(this,Vr)},Mm=new WeakMap,lc=new WeakMap,gF=function(n){return new Promise((r,s)=>{const i=(d,f)=>{const h=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",h,{uploadStarted:h.progress.uploadStarted??0,bytesUploaded:d,bytesTotal:f})},o=d=>{this.uppy.log(d),this.uppy.emit("upload-error",n,d),this.resetUploaderReferences(n.id),s(d)},l=d=>{const f={body:{...d},status:200,uploadURL:d.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",C(this,lc).call(this,n),f),d.location&&this.uppy.log(`Download ${n.name} from ${d.location}`),r(void 0)};if(n.data==null)throw new Error("File data is empty");const c=new ise(n.data,{companionComm:C(this,oc),log:(...d)=>this.uppy.log(...d),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:i,onError:o,onSuccess:l,onPartComplete:d=>{this.uppy.emit("s3-multipart:part-uploaded",C(this,lc).call(this,n),d)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=c;const u=new lne(this.uppy);this.uploaderEvents[n.id]=u,u.onFileRemove(n.id,d=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${d} was removed`)}),u.onCancelAll(n.id,()=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${n.id} was canceled`)}),u.onFilePause(n.id,d=>{d?c.pause():c.start()}),u.onPauseAll(n.id,()=>{c.pause()}),u.onResumeAll(n.id,()=>{c.start()}),c.start()})},yF=function(n){var r;return{..."remote"in n&&((r=n.remote)==null?void 0:r.body),protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},hf=new WeakMap,cc=new WeakMap,co=new WeakMap,pf=new WeakMap,Fe(Om,"VERSION",Zre.version);let qw=Om;function vF({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:n,onComplete:r,buttonClassName:s,children:i}){const[o,l]=p.useState(!1),[c]=p.useState(()=>new Iw({restrictions:{maxNumberOfFiles:t,maxFileSize:e},autoProceed:!1}).use(qw,{shouldUseMultipart:!1,getUploadParameters:n}).on("complete",u=>{r==null||r(u)}));return a.jsxs("div",{children:[a.jsx(X,{onClick:()=>l(!0),className:s,children:i}),a.jsx(DashboardModal,{uppy:c,open:o,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}const cse=[{code:"US",name:"United States",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"ES",name:"Spain",flag:""},{code:"IT",name:"Italy",flag:""},{code:"NL",name:"Netherlands",flag:""},{code:"BE",name:"Belgium",flag:""},{code:"CH",name:"Switzerland",flag:""},{code:"AT",name:"Austria",flag:""},{code:"SE",name:"Sweden",flag:""},{code:"NO",name:"Norway",flag:""},{code:"DK",name:"Denmark",flag:""},{code:"FI",name:"Finland",flag:""},{code:"IE",name:"Ireland",flag:""},{code:"PT",name:"Portugal",flag:""},{code:"GR",name:"Greece",flag:""},{code:"PL",name:"Poland",flag:""},{code:"CZ",name:"Czech Republic",flag:""},{code:"HU",name:"Hungary",flag:""},{code:"RO",name:"Romania",flag:""},{code:"BG",name:"Bulgaria",flag:""},{code:"HR",name:"Croatia",flag:""},{code:"SK",name:"Slovakia",flag:""},{code:"SI",name:"Slovenia",flag:""},{code:"EE",name:"Estonia",flag:""},{code:"LV",name:"Latvia",flag:""},{code:"LT",name:"Lithuania",flag:""},{code:"JP",name:"Japan",flag:""},{code:"KR",name:"South Korea",flag:""},{code:"CN",name:"China",flag:""},{code:"HK",name:"Hong Kong",flag:""},{code:"SG",name:"Singapore",flag:""},{code:"MY",name:"Malaysia",flag:""},{code:"TH",name:"Thailand",flag:""},{code:"VN",name:"Vietnam",flag:""},{code:"PH",name:"Philippines",flag:""},{code:"ID",name:"Indonesia",flag:""},{code:"IN",name:"India",flag:""},{code:"AE",name:"United Arab Emirates",flag:""},{code:"SA",name:"Saudi Arabia",flag:""},{code:"IL",name:"Israel",flag:""},{code:"TR",name:"Turkey",flag:""},{code:"ZA",name:"South Africa",flag:""},{code:"NG",name:"Nigeria",flag:""},{code:"KE",name:"Kenya",flag:""},{code:"EG",name:"Egypt",flag:""},{code:"MX",name:"Mexico",flag:""},{code:"BR",name:"Brazil",flag:""},{code:"AR",name:"Argentina",flag:""},{code:"CL",name:"Chile",flag:""},{code:"CO",name:"Colombia",flag:""},{code:"PE",name:"Peru",flag:""},{code:"NZ",name:"New Zealand",flag:""},{code:"RU",name:"Russia",flag:""},{code:"UA",name:"Ukraine",flag:""}],xF=XS({name:Mt().min(1,"Restaurant name is required"),description:Mt().optional(),address:Mt().optional(),city:Mt().min(1,"City is required"),country:Mt().min(1,"Country is required"),phone:Mt().optional(),hours:Mt().optional(),coverImageUrl:Mt().optional(),defaultLanguage:Mt().default("en")}),use=XS({adminPasscode:Mt().regex(/^\d{6}$/,"Admin passcode must be exactly 6 digits"),securityQuestion1:Mt().min(1,"Security question 1 is required"),securityAnswer1:Mt().min(1,"Security answer 1 is required"),securityQuestion2:Mt().min(1,"Security question 2 is required"),securityAnswer2:Mt().min(1,"Security answer 2 is required")}),dse=xF.merge(use);function wF({restaurantId:t,initialData:e,onSubmit:n,showSecurityFields:r=!0}){const[s,i]=p.useState(e==null?void 0:e.coverImageUrl),[o,l]=p.useState(!1),{toast:c}=ot(),d=XO({resolver:JO(r?dse:xF),defaultValues:{name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",address:(e==null?void 0:e.address)||"",city:(e==null?void 0:e.city)||"",country:(e==null?void 0:e.country)||"",phone:(e==null?void 0:e.phone)||"",hours:(e==null?void 0:e.hours)||"",coverImageUrl:(e==null?void 0:e.coverImageUrl)||"",defaultLanguage:(e==null?void 0:e.defaultLanguage)||"en",...r&&{adminPasscode:"",securityQuestion1:"",securityAnswer1:"",securityQuestion2:"",securityAnswer2:""}}}),f=async()=>({method:"PUT",url:(await(await Re("POST","/api/objects/upload",{})).json()).uploadURL}),h=async y=>{if(!t){c({title:"Error",description:"Cannot upload cover image: Restaurant ID is missing",variant:"destructive"});return}if(y.successful&&y.successful.length>0){const g=y.successful[0].uploadURL;l(!0);try{const x=await(await Re("PUT",`/api/restaurant/${t}/cover-image`,{coverImageUrl:g})).json();i(x.coverImageUrl),d.setValue("coverImageUrl",x.coverImageUrl),c({title:"Success",description:"Cover image uploaded successfully"})}catch(w){c({title:"Error",description:w instanceof Error?w.message:"Failed to set cover image",variant:"destructive"})}finally{l(!1)}}},m=y=>{n({...y,coverImageUrl:s})};return a.jsxs(ge,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Restaurant Information"}),a.jsx(rD,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4",children:[a.jsx(bt,{control:d.control,name:"name",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Restaurant Name *"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"The Golden Bistro","data-testid":"input-restaurant-name"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"description",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Description"}),a.jsx(xt,{children:a.jsx(br,{...y,placeholder:"Brief description of your restaurant","data-testid":"input-restaurant-description"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"address",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Address"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"123 Main Street","data-testid":"input-restaurant-address"})}),a.jsx(Vt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(bt,{control:d.control,name:"city",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"City *"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"New York","data-testid":"input-restaurant-city",disabled:!!(e!=null&&e.city),className:e!=null&&e.city?"bg-muted cursor-not-allowed":""})}),(e==null?void 0:e.city)&&a.jsx(qs,{className:"text-xs text-muted-foreground",children:"City cannot be changed once set"}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"country",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Country *"}),a.jsxs(ym,{onValueChange:y.onChange,defaultValue:y.value,disabled:!!(e!=null&&e.country),children:[a.jsx(xt,{children:a.jsx(Ud,{"data-testid":"select-restaurant-country",className:e!=null&&e.country?"bg-muted cursor-not-allowed":"",children:a.jsx(vm,{placeholder:"Select a country"})})}),a.jsx($d,{children:cse.map(g=>a.jsx(ms,{value:g.name,"data-testid":`country-option-${g.code}`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{children:g.flag}),a.jsx("span",{children:g.name})]})},g.code))})]}),a.jsx(qs,{className:"text-xs",children:e!=null&&e.country?"Country cannot be changed once set (required for payment processing)":"Required for payment processing"}),a.jsx(Vt,{})]})})]}),a.jsx(bt,{control:d.control,name:"phone",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Phone Number"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"(555) 123-4567","data-testid":"input-restaurant-phone"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"hours",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Operating Hours"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"Mon-Sun: 11AM - 10PM","data-testid":"input-restaurant-hours"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"defaultLanguage",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Default Language"}),a.jsxs(ym,{onValueChange:y.onChange,defaultValue:y.value,children:[a.jsx(xt,{children:a.jsx(Ud,{"data-testid":"select-default-language",children:a.jsx(vm,{placeholder:"Select a language"})})}),a.jsx($d,{children:Fx.map(g=>a.jsx(ms,{value:g.code,"data-testid":`language-option-${g.code}`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{children:g.flag}),a.jsx("span",{children:g.nativeName})]})},g.code))})]}),a.jsx(qs,{children:"This will be the default language shown to customers when they scan your QR code"}),a.jsx(Vt,{})]})}),r&&a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"font-semibold text-base mb-4",children:"Admin Security Setup"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set up your admin passcode and security questions for account recovery"}),a.jsx(bt,{control:d.control,name:"adminPasscode",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Admin Passcode (6 digits) *"}),a.jsx(xt,{children:a.jsx(qe,{...y,type:"password",inputMode:"numeric",maxLength:6,placeholder:"123456","data-testid":"input-admin-passcode"})}),a.jsx(qs,{children:"You'll use this to access the admin panel and kitchen dashboard"}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"securityQuestion1",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Security Question 1 *"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"e.g., What was your first pet's name?","data-testid":"input-security-question-1"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"securityAnswer1",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Answer 1 *"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"Your answer (case-insensitive)","data-testid":"input-security-answer-1"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"securityQuestion2",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Security Question 2 *"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"e.g., What city were you born in?","data-testid":"input-security-question-2"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:d.control,name:"securityAnswer2",render:({field:y})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Answer 2 *"}),a.jsx(xt,{children:a.jsx(qe,{...y,placeholder:"Your answer (case-insensitive)","data-testid":"input-security-answer-2"})}),a.jsx(qs,{children:"Once set, security questions cannot be changed for security reasons"}),a.jsx(Vt,{})]})})]}),t&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ut,{children:"Cover Image"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a cover image for your restaurant"})]}),s&&a.jsx("div",{className:"relative w-full aspect-[21/9] rounded-lg overflow-hidden border",children:a.jsx("img",{src:s,alt:"Restaurant cover",className:"w-full h-full object-cover","data-testid":"img-restaurant-cover"})}),a.jsx(vF,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:f,onComplete:h,buttonClassName:"w-full",children:o?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(L$,{className:"h-4 w-4 mr-2"}),s?"Change Cover Image":"Upload Cover Image"]})})]}),a.jsx(X,{type:"submit",className:"w-full","data-testid":"button-save-info",children:"Save Information"})]})})]})}var zg="Checkbox",[fse]=yn(zg),[hse,n1]=fse(zg);function pse(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,m]=Zr({prop:n,defaultProp:s??!1,onChange:c,caller:zg}),[y,g]=p.useState(null),[w,x]=p.useState(null),v=p.useRef(!1),b=y?!!o||!!y.closest("form"):!0,S={checked:h,disabled:i,setChecked:m,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:ca(s)?!1:s,isFormControl:b,bubbleInput:w,setBubbleInput:x};return a.jsx(hse,{scope:e,...S,children:mse(f)?f(S):r})}var bF="CheckboxTrigger",SF=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:y}=n1(bF,t),g=De(s,d),w=p.useRef(c);return p.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const v=()=>f(w.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[i,f]),a.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":ca(c)?"mixed":c,"aria-required":u,"data-state":TF(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:oe(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:oe(n,x=>{f(v=>ca(v)?!0:!v),y&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});SF.displayName=bF;var r1=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return a.jsx(pse,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(SF,{...f,ref:e,__scopeCheckbox:n}),h&&a.jsx(jF,{__scopeCheckbox:n})]})})});r1.displayName=zg;var CF="CheckboxIndicator",EF=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=n1(CF,n);return a.jsx(rn,{present:r||ca(i.checked)||i.checked===!0,children:a.jsx(Ne.span,{"data-state":TF(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});EF.displayName=CF;var NF="CheckboxBubbleInput",jF=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=n1(NF,t),y=De(n,m),g=_g(i),w=cg(r);p.useEffect(()=>{const v=h;if(!v)return;const b=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(b,"checked").set,k=!s.current;if(g!==i&&E){const T=new Event("click",{bubbles:k});v.indeterminate=ca(i),E.call(v,ca(i)?!1:i),v.dispatchEvent(T)}},[h,g,i,s]);const x=p.useRef(ca(i)?!1:i);return a.jsx(Ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jF.displayName=NF;function mse(t){return typeof t=="function"}function ca(t){return t==="indeterminate"}function TF(t){return ca(t)?"indeterminate":t?"checked":"unchecked"}const ml=p.forwardRef(({className:t,...e},n)=>a.jsx(r1,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(EF,{className:ae("flex items-center justify-center text-current"),children:a.jsx(os,{className:"h-4 w-4"})})}));ml.displayName=r1.displayName;const gse=XS({name:Mt().min(1,"Item name is required"),description:Mt().min(1,"Description is required"),price:Mt().min(1,"Price is required"),category:Mt().min(1,"Category is required"),spiceLevel:Mt().optional(),isVegan:kh().default(!1),isVegetarian:kh().default(!1),isHalal:kh().default(!1),isKosher:kh().default(!1),allergens:Mt().optional(),imageUrl:Mt().optional()});function yse({onSubmit:t,onCancel:e,menuItem:n}){var d;const[r,s]=p.useState((n==null?void 0:n.imageUrl)||void 0),{toast:i}=ot(),o=XO({resolver:JO(gse),defaultValues:{name:(n==null?void 0:n.name)||"",description:(n==null?void 0:n.description)||"",price:(n==null?void 0:n.price)||"",category:(n==null?void 0:n.category)||"",spiceLevel:(n==null?void 0:n.spiceLevel)||"0",isVegan:(n==null?void 0:n.isVegan)||!1,isVegetarian:(n==null?void 0:n.isVegetarian)||!1,isHalal:(n==null?void 0:n.isHalal)||!1,isKosher:(n==null?void 0:n.isKosher)||!1,allergens:((d=n==null?void 0:n.allergens)==null?void 0:d.join(", "))||"",imageUrl:(n==null?void 0:n.imageUrl)||void 0}}),l=async()=>{try{const f=await Re("POST","/api/objects/upload");if(!f.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await f.json()).uploadURL}}catch(f){throw console.error("Error getting upload parameters:",f),i({title:"Upload Failed",description:"Could not prepare image upload. Please try again.",variant:"destructive"}),f}},c=async f=>{try{if(f.successful&&f.successful.length>0){const h=f.successful[0].uploadURL;if(n!=null&&n.id){const m=await Re("PUT",`/api/menu-items/${n.id}/image`,{imageUrl:h});let y;try{y=await m.json()}catch{y=null}if(!m.ok){const w=(y==null?void 0:y.error)||(y==null?void 0:y.message)||"Failed to update image";throw new Error(w)}const g=(y==null?void 0:y.imageUrl)||h;s(g),i({title:"Image Updated",description:"Menu item image has been successfully updated"})}else s(h),i({title:"Image Uploaded",description:"Image uploaded successfully. Save the item to complete."})}}catch(h){throw console.error("Error uploading image:",h),i({title:"Upload Failed",description:h instanceof Error?h.message:"Could not upload image. Please try again.",variant:"destructive"}),h}},u=f=>{const h=f.allergens?f.allergens.split(",").map(m=>m.trim()).filter(Boolean):[];t({...f,allergens:h,imageUrl:r})};return a.jsx(rD,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-4",children:[a.jsx(bt,{control:o.control,name:"name",render:({field:f})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Item Name *"}),a.jsx(xt,{children:a.jsx(qe,{...f,placeholder:"Classic Burger","data-testid":"input-item-name"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:o.control,name:"description",render:({field:f})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Description *"}),a.jsx(xt,{children:a.jsx(br,{...f,placeholder:"Delicious burger with fresh ingredients","data-testid":"input-item-description"})}),a.jsx(Vt,{})]})}),a.jsxs(gt,{children:[a.jsx(ut,{children:"Item Image"}),a.jsxs("div",{className:"space-y-4",children:[r&&a.jsx("div",{className:"relative w-full max-w-xs",children:a.jsx("img",{src:r!=null&&r.startsWith("http")||r!=null&&r.startsWith("/")?r:`/assets/stock_images/${r}`,alt:"Menu item",className:"w-full h-48 object-cover rounded-md","data-testid":"img-menu-item-preview"})}),a.jsxs(vF,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:l,onComplete:c,buttonClassName:"w-full",children:[a.jsx(u0,{className:"h-4 w-4 mr-2"}),r?"Change Image":"Upload Image"]})]}),a.jsx(qs,{children:"Upload a high-quality image of the menu item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(bt,{control:o.control,name:"price",render:({field:f})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Price *"}),a.jsx(xt,{children:a.jsx(qe,{...f,type:"number",step:"0.01",placeholder:"14.99","data-testid":"input-item-price"})}),a.jsx(Vt,{})]})}),a.jsx(bt,{control:o.control,name:"category",render:({field:f})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Category *"}),a.jsx(xt,{children:a.jsx(qe,{...f,placeholder:"e.g., Appetizers, Main Course, Desserts","data-testid":"input-item-category"})}),a.jsx(qs,{children:"Create your own categories or use common ones like Appetizers, Main Course, Sides, Drinks, Desserts"}),a.jsx(Vt,{})]})})]}),a.jsx(bt,{control:o.control,name:"spiceLevel",render:({field:f})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Spice Level"}),a.jsxs(ym,{onValueChange:f.onChange,defaultValue:f.value,children:[a.jsx(xt,{children:a.jsx(Ud,{"data-testid":"select-spice-level",children:a.jsx(vm,{placeholder:"Select spice level"})})}),a.jsxs($d,{children:[a.jsx(ms,{value:"0",children:"Not Spicy"}),a.jsx(ms,{value:"1",children:"Mild"}),a.jsx(ms,{value:"2",children:"Medium"}),a.jsx(ms,{value:"3",children:"Hot"}),a.jsx(ms,{value:"4",children:"Very Hot"}),a.jsx(ms,{value:"5",children:"Extreme"})]})]}),a.jsx(Vt,{})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ut,{children:"Dietary Options"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(bt,{control:o.control,name:"isVegan",render:({field:f})=>a.jsxs(gt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(xt,{children:a.jsx(ml,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-vegan"})}),a.jsx(ut,{className:"!mt-0 cursor-pointer",children:"Vegan"})]})}),a.jsx(bt,{control:o.control,name:"isVegetarian",render:({field:f})=>a.jsxs(gt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(xt,{children:a.jsx(ml,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-vegetarian"})}),a.jsx(ut,{className:"!mt-0 cursor-pointer",children:"Vegetarian"})]})}),a.jsx(bt,{control:o.control,name:"isHalal",render:({field:f})=>a.jsxs(gt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(xt,{children:a.jsx(ml,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-halal"})}),a.jsx(ut,{className:"!mt-0 cursor-pointer",children:"Halal"})]})}),a.jsx(bt,{control:o.control,name:"isKosher",render:({field:f})=>a.jsxs(gt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(xt,{children:a.jsx(ml,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-kosher"})}),a.jsx(ut,{className:"!mt-0 cursor-pointer",children:"Kosher"})]})})]})]}),a.jsx(bt,{control:o.control,name:"allergens",render:({field:f})=>a.jsxs(gt,{children:[a.jsx(ut,{children:"Allergens"}),a.jsx(xt,{children:a.jsx(qe,{...f,placeholder:"Gluten, Dairy, Nuts (comma separated)","data-testid":"input-allergens"})}),a.jsx(qs,{children:"Enter allergens separated by commas"}),a.jsx(Vt,{})]})}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(X,{type:"submit",className:"flex-1","data-testid":"button-save-item",children:"Save Item"}),a.jsx(X,{type:"button",variant:"outline",onClick:e,className:"flex-1","data-testid":"button-cancel",children:"Cancel"})]})]})})}function vse({menuItemId:t,menuItemName:e,restaurantId:n,interviewType:r="menu_item",onComplete:s}){const{toast:i}=ot(),[o,l]=p.useState(!1),[c,u]=p.useState("idle"),[d,f]=p.useState([]),[h,m]=p.useState({}),y=p.useRef(null),g=p.useRef([]),w=p.useRef(null),x=p.useRef(null),v=p.useRef(null),b=p.useRef(null);p.useEffect(()=>(typeof window<"u"&&(w.current=new Audio,w.current.onplay=()=>{u("responding")},w.current.onended=()=>{u("idle")},w.current.onpause=()=>{u("idle")},w.current.onerror=()=>{u("idle")}),()=>{w.current&&(w.current.pause(),w.current.src=""),v.current&&(v.current.disconnect(),v.current=null),b.current&&(b.current.disconnect(),b.current=null),x.current&&(x.current.close(),x.current=null)}),[]),p.useEffect(()=>{!o&&n&&(l(!0),setTimeout(async()=>{const M=r==="menu_item"?`Hi! I'm here to help you add rich details about ${e||"this menu item"}. Let's chat about how you make it, where your ingredients come from, and what makes it special. Ready to start?`:"Hi! I'd love to learn about your restaurant's story. Tell me about how you started, your cooking philosophy, and what makes your restaurant unique. Ready?";await E({role:"assistant",content:M},!0)},100))},[o,n,t,e,r]);const S=async M=>{try{gO.tryPlayCachedPhrase(M),w.current&&(w.current.pause(),w.current.src="");const $=await fetch("http://localhost:3005/dev/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:M,language:"en"})});if($.status===503||!$.ok)return u("idle"),!1;const _=await $.blob(),R=URL.createObjectURL(_);if(w.current){w.current.src=R;try{return await w.current.play(),!0}catch{return u("idle"),!1}}return!1}catch(V){return console.error("TTS error:",V),u("idle"),!1}},E=async(M,V=!1)=>{const $=V?[M]:[...d,M];if(f($),M.role==="assistant"){await S(M.content);return}try{u("processing");const R=await fetch("http://localhost:3005/dev/api/ai/interview",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({messages:$,menuItemId:t,restaurantId:n,interviewType:r})});if(!R.ok)throw new Error("Interview request failed");const q=await R.json(),G={role:"assistant",content:q.message};f([...$,G]),await S(q.message)}catch(_){console.error("Interview error:",_),i({title:"Interview Error",description:"Something went wrong. Please try again.",variant:"destructive"}),u("idle")}},k=async()=>{try{const M=await navigator.mediaDevices.getUserMedia({audio:!0}),V=new MediaRecorder(M,{mimeType:"audio/webm"});y.current=V,g.current=[],V.ondataavailable=ce=>{ce.data.size>0&&g.current.push(ce.data)},V.onstop=async()=>{T();const ce=new Blob(g.current,{type:"audio/webm"});await j(ce),M.getTracks().forEach(Se=>Se.stop())},V.start(),u("listening"),console.log("Recording started (max 20 seconds, or until silence detected)..."),x.current=new AudioContext,b.current=x.current.createMediaStreamSource(M),v.current=x.current.createAnalyser(),v.current.fftSize=2048,b.current.connect(v.current);const $=v.current.frequencyBinCount,_=new Uint8Array($);let R=null;const q=5,G=1500,se=Date.now(),J=()=>{if(V.state!=="recording"||!v.current)return;v.current.getByteTimeDomainData(_);let ce=0;for(let Q=0;Q<$;Q++){const L=Math.abs(_[Q]-128);ce+=L}const Se=ce/$,W=((Date.now()-se)/1e3).toFixed(1);if(Se<q){if(R===null)R=Date.now(),console.log(`Silence started at ${W}s (volume: ${Se.toFixed(1)})`);else if(Date.now()-R>G){const Q=((Date.now()-se)/1e3).toFixed(1);console.log(`Silence detected after ${Q}s, stopping recording early`),Id.playAck(),V.stop(),M.getTracks().forEach(L=>L.stop());return}}else R!==null&&console.log(`Sound detected at ${W}s (volume: ${Se.toFixed(1)}), continuing recording`),R=null;requestAnimationFrame(J)};requestAnimationFrame(J),setTimeout(()=>{V.state==="recording"&&(console.log("Auto-stopping recording after 20 seconds"),Id.playAck(),V.stop(),M.getTracks().forEach(ce=>ce.stop()))},2e4)}catch(M){console.error("Recording error:",M),T(),i({title:"Microphone Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"}),u("idle")}},T=()=>{v.current&&(v.current.disconnect(),v.current=null),b.current&&(b.current.disconnect(),b.current=null),x.current&&(x.current.close(),x.current=null)},N=()=>{y.current&&y.current.state==="recording"&&(y.current.stop(),u("processing")),T()},j=async M=>{try{const V=new FormData;V.append("audio",M,"recording.webm"),V.append("language","en");const _=await fetch("http://localhost:3005/dev/api/ai/speech-to-text",{method:"POST",body:V});if(!_.ok)throw new Error("Transcription failed");const R=await _.json();R.text&&R.text.trim()?await E({role:"user",content:R.text}):u("idle")}catch(V){console.error("Transcription error:",V),i({title:"Transcription Error",description:"Could not transcribe audio. Please try again.",variant:"destructive"}),u("idle")}},P=()=>{c==="listening"?N():c==="idle"&&k()},O=async()=>{try{u("saving");const M=I();if(!(await fetch("http://localhost:3005/dev/api/ai/interview/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({menuItemId:t,restaurantId:n,interviewType:r,data:M})})).ok)throw new Error("Save failed");i({title:"Interview Saved",description:"Your details have been saved successfully!"}),u("idle"),s&&s()}catch(M){console.error("Save error:",M),i({title:"Save Error",description:"Could not save interview. Please try again.",variant:"destructive"}),u("idle")}},I=()=>{const M=d.filter(V=>V.role==="user").map(V=>V.content).join(" ");return{preparationMethod:M.substring(0,500),ingredientSources:"",pairingSuggestions:"",chefNotes:M,cookingTime:"",specialTechniques:""}},B=()=>{switch(c){case"listening":return"Listening...";case"processing":return"Processing...";case"responding":return"Speaking...";case"saving":return"Saving...";default:return"Press to speak"}},D=d.length>2&&c==="idle";return a.jsxs(ge,{className:"w-full max-w-2xl mx-auto","data-testid":"card-interview-assistant",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(ho,{className:"w-5 h-5"}),"Menu Interview Assistant"]}),a.jsx(xs,{children:r==="menu_item"?`Adding details for: ${e||"Menu Item"}`:"Share your restaurant story"})]}),a.jsxs(Fn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(X,{size:"lg",variant:c==="listening"?"destructive":"default",className:"w-32 h-32 rounded-full",onClick:P,disabled:c==="processing"||c==="responding"||c==="saving","data-testid":"button-voice-interview",children:c==="processing"||c==="responding"||c==="saving"?a.jsx(We,{className:"w-12 h-12 animate-spin"}):c==="listening"?a.jsx(oA,{className:"w-12 h-12 animate-pulse"}):a.jsx(Fp,{className:"w-12 h-12"})}),a.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-interview-status",children:B()})]}),d.length>0&&a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto rounded-md border p-4",children:d.map((M,V)=>a.jsxs("div",{className:`text-sm ${M.role==="assistant"?"text-muted-foreground italic":"font-medium"}`,"data-testid":`text-message-${V}`,children:[a.jsx("strong",{children:M.role==="assistant"?"AI: ":"You: "}),M.content]},V))}),D&&a.jsxs(X,{className:"w-full",onClick:O,disabled:c!=="idle","data-testid":"button-save-interview",children:[a.jsx(sA,{className:"w-4 h-4 mr-2"}),"Save Interview"]})]})]})}class s1{static getAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}static playChime(){try{const e=this.getAudioContext(),n=e.currentTime,r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.frequency.value=800,r.type="sine",s.gain.setValueAtTime(0,n),s.gain.linearRampToValueAtTime(.3,n+.01),s.gain.exponentialRampToValueAtTime(.01,n+.15),r.start(n),r.stop(n+.15);const i=e.createOscillator(),o=e.createGain();i.connect(o),o.connect(e.destination),i.frequency.value=600,i.type="sine",o.gain.setValueAtTime(0,n+.1),o.gain.linearRampToValueAtTime(.3,n+.11),o.gain.exponentialRampToValueAtTime(.01,n+.3),i.start(n+.1),i.stop(n+.3)}catch(e){console.error("Error playing notification sound:",e)}}}Fe(s1,"audioContext",null);function xse({restaurantId:t}){const[e,n]=p.useState(null),[r,s]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState("voice"),[u,d]=p.useState(""),{toast:f}=ot(),{user:h}=Cg(),m=p.useRef(null),y=p.useRef([]),{data:g=[],isLoading:w}=tt({queryKey:["/api/chef/questions"],refetchInterval:5e3});p.useEffect(()=>{if(!h)return;const E=window.location.protocol==="https:"?"wss:":"ws:",k=new WebSocket(`${E}//${window.location.host}/ws?restaurantId=${t}&role=chef`);return k.onopen=()=>{console.log("WebSocket connected for chef")},k.onmessage=T=>{JSON.parse(T.data).type==="new-question"&&(it.invalidateQueries({queryKey:["/api/chef/questions"]}),s1.playChime(),f({title:"New Question",description:"A customer has a question that needs your answer!"}))},k.onerror=T=>{console.error("WebSocket error:",T)},k.onclose=()=>{console.log("WebSocket disconnected")},()=>{k.close()}},[t,h,f]);const x=async()=>{try{const E=await navigator.mediaDevices.getUserMedia({audio:!0}),k=new MediaRecorder(E);m.current=k,y.current=[],k.ondataavailable=T=>{T.data.size>0&&y.current.push(T.data)},k.onstop=()=>{const T=new Blob(y.current,{type:"audio/webm"});o(T),E.getTracks().forEach(N=>N.stop())},k.start(),s(!0)}catch(E){console.error("Error starting recording:",E),f({title:"Error",description:"Failed to access microphone",variant:"destructive"})}},v=()=>{m.current&&r&&(m.current.stop(),s(!1))},b=et({mutationFn:async()=>{if(!e)throw new Error("No question selected");if(l==="voice"&&!i)throw new Error("No audio recorded");if(l==="text"&&!u.trim())throw new Error("Please enter an answer");const E=new FormData;E.append("questionId",e.id),E.append("language",e.language),l==="voice"&&i?E.append("audio",i,"answer.webm"):E.append("textAnswer",u.trim());const T=await fetch("http://localhost:3005/dev/api/chef/answer",{method:"POST",body:E,credentials:"include"});if(!T.ok){const N=await T.json();throw new Error(N.error||"Failed to send answer")}return T.json()},onSuccess:()=>{it.invalidateQueries({queryKey:["/api/chef/questions"]}),it.invalidateQueries({queryKey:["/api/faqs"]}),n(null),o(null),d(""),c("voice"),f({title:"Success",description:"Your answer has been sent to the customer!"})},onError:E=>{f({title:"Error",description:E.message,variant:"destructive"})}}),S=g.filter(E=>E.status==="pending");return w?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-questions"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Customer Questions"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Answer customer questions via voice - your responses will be sent back instantly"})]}),S.length===0?a.jsx(ge,{className:"p-12",children:a.jsx("p",{className:"text-muted-foreground text-center","data-testid":"text-no-questions",children:"No pending questions. When customers ask questions that the AI can't answer, they'll appear here."})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(E=>a.jsxs(ge,{className:"p-6 space-y-4","data-testid":`card-question-${E.id}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:ti(new Date(E.createdAt),"MMM d, h:mm a")}),a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-primary/10 text-primary",children:E.language.toUpperCase()})]}),a.jsx("p",{className:"font-medium text-lg mb-2","data-testid":`text-question-${E.id}`,children:E.question}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Session: ",E.customerSessionId.substring(0,8),"..."]})]}),(e==null?void 0:e.id)===E.id?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X,{onClick:()=>c("voice"),variant:l==="voice"?"default":"outline",className:"flex-1",size:"sm","data-testid":`button-mode-voice-${E.id}`,children:[a.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Voice"]}),a.jsxs(X,{onClick:()=>c("text"),variant:l==="text"?"default":"outline",className:"flex-1",size:"sm","data-testid":`button-mode-text-${E.id}`,children:[a.jsx(Dp,{className:"h-4 w-4 mr-2"}),"Text"]})]}),l==="voice"&&!i&&a.jsx(X,{onClick:r?v:x,className:"w-full",variant:r?"destructive":"default","data-testid":`button-record-${E.id}`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(X$,{className:"h-4 w-4 mr-2"}),"Stop Recording"]}):a.jsxs(a.Fragment,{children:[a.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Record Answer"]})}),l==="voice"&&i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Answer recorded"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X,{onClick:()=>b.mutate(),disabled:b.isPending,className:"flex-1","data-testid":`button-send-${E.id}`,children:[b.isPending?a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(_x,{className:"h-4 w-4 mr-2"}),"Send Answer"]}),a.jsx(X,{onClick:()=>o(null),variant:"outline","data-testid":`button-re-record-${E.id}`,children:"Re-record"})]})]}),l==="text"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(br,{value:u,onChange:k=>d(k.target.value),placeholder:"Type your answer here...",className:"min-h-[100px]","data-testid":`input-answer-${E.id}`}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(X,{onClick:()=>b.mutate(),disabled:b.isPending||!u.trim(),className:"flex-1","data-testid":`button-send-text-${E.id}`,children:[b.isPending?a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(_x,{className:"h-4 w-4 mr-2"}),"Send Answer"]})})]}),a.jsx(X,{onClick:()=>{o(null),d(""),n(null)},variant:"outline",className:"w-full","data-testid":`button-cancel-${E.id}`,children:"Cancel"})]}):a.jsx(X,{onClick:()=>n(E),variant:"outline",className:"w-full","data-testid":`button-answer-${E.id}`,children:"Answer Question"})]},E.id))})]})}const gT=()=>{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createOscillator(),r=t.createGain();e.connect(r),n.connect(r),r.connect(t.destination),e.frequency.value=800,n.frequency.value=1e3,r.gain.value=.3;const s=t.currentTime;e.start(s),e.stop(s+.2),n.start(s+.2),n.stop(s+.4)};function wse(){const{toast:t}=ot(),[e,n]=p.useState("pending"),r=p.useRef(0),s=p.useRef(!0),{data:i}=tt({queryKey:["/api/restaurant"]}),o=e==="all"?"/api/assistance-requests":`/api/assistance-requests?status=${e}`,{data:l=[],isLoading:c}=tt({queryKey:[o],refetchInterval:1e4});p.useEffect(()=>{if(!(i!=null&&i.id))return;const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws?restaurantId=${i.id}&role=chef`,y=new WebSocket(m);return y.onopen=()=>{console.log("WebSocket connected to assistance requests")},y.onmessage=g=>{try{JSON.parse(g.data).type==="new-assistance-request"&&(it.invalidateQueries({predicate:x=>{const v=x.queryKey[0];return v==null?void 0:v.startsWith("/api/assistance-requests")}}),gT(),t({title:"New Assistance Request",description:"A customer needs help!"}))}catch(w){console.error("WebSocket message error:",w)}},y.onerror=g=>{console.error("WebSocket error for assistance requests:",g)},()=>{y.close()}},[i==null?void 0:i.id,t]),p.useEffect(()=>{if(s.current){s.current=!1,r.current=l.filter(m=>m.status==="pending").length;return}const h=l.filter(m=>m.status==="pending").length;h>r.current&&gT(),r.current=h},[l]);const u=et({mutationFn:async({id:h,status:m})=>{const y=await Re("PATCH",`/api/assistance-requests/${h}/status`,{status:m});if(!y.ok)throw new Error("Failed to update request status");return y.json()},onSuccess:()=>{it.invalidateQueries({predicate:h=>{const m=h.queryKey[0];return m==null?void 0:m.startsWith("/api/assistance-requests")}}),t({title:"Status Updated",description:"Request status has been updated."})},onError:h=>{t({title:"Error",description:h.message,variant:"destructive"})}}),d=l,f=l.filter(h=>h.status==="pending").length;return c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(So,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading requests..."})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-assistance-title",children:"Assistance Requests"}),f>0&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[f," pending ",f===1?"request":"requests"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(X,{variant:e==="pending"?"default":"outline",size:"sm",onClick:()=>n("pending"),"data-testid":"button-filter-pending",children:["Pending ",f>0&&`(${f})`]}),a.jsx(X,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),"data-testid":"button-filter-all",children:"All"}),a.jsx(X,{variant:e==="resolved"?"default":"outline",size:"sm",onClick:()=>n("resolved"),"data-testid":"button-filter-resolved",children:"Resolved"})]})]}),d.length===0?a.jsxs(ge,{className:"p-12 text-center",children:[a.jsx(Tx,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Assistance Requests"}),a.jsx("p",{className:"text-muted-foreground",children:e==="pending"?"No pending requests at the moment":"No assistance requests found"})]}):a.jsx("div",{className:"space-y-3",children:d.map(h=>a.jsx(ge,{className:"p-4","data-testid":`card-request-${h.id}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(Ke,{className:h.status==="pending"?"bg-yellow-500":h.status==="acknowledged"?"bg-blue-500":"bg-green-500","data-testid":`badge-status-${h.id}`,children:[h.status==="pending"&&a.jsx(Tx,{className:"h-3 w-3 mr-1"}),h.status==="resolved"&&a.jsx(fa,{className:"h-3 w-3 mr-1"}),h.status.charAt(0).toUpperCase()+h.status.slice(1)]}),h.tableId&&a.jsxs(Ke,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(eA,{className:"h-3 w-3"}),"Table ",h.tableNumber||"Unknown"]})]}),h.customerMessage&&a.jsxs("div",{className:"flex items-start gap-2 mb-3 p-3 bg-muted rounded-md",children:[a.jsx(Dp,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),a.jsx("p",{className:"text-sm","data-testid":`text-message-${h.id}`,children:h.customerMessage})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(So,{className:"h-3 w-3"}),$S(new Date(h.createdAt),{addSuffix:!0})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[h.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(X,{size:"sm",variant:"outline",onClick:()=>u.mutate({id:h.id,status:"acknowledged"}),disabled:u.isPending,"data-testid":`button-acknowledge-${h.id}`,children:"Acknowledge"}),a.jsx(X,{size:"sm",onClick:()=>u.mutate({id:h.id,status:"resolved"}),disabled:u.isPending,"data-testid":`button-resolve-${h.id}`,children:"Resolve"})]}),h.status==="acknowledged"&&a.jsx(X,{size:"sm",onClick:()=>u.mutate({id:h.id,status:"resolved"}),disabled:u.isPending,"data-testid":`button-resolve-${h.id}`,children:"Resolve"})]})]})},h.id))})]})}function bse({restaurantName:t}){const[e,n]=p.useState(""),[r,s]=p.useState(""),{toast:i}=ot(),o=et({mutationFn:async c=>(await Re("POST","/api/contact-support",c)).json(),onSuccess:()=>{i({title:"Message Sent",description:"Your message has been sent to Waiterix support. We'll get back to you soon!"}),n(""),s("")},onError:c=>{i({title:"Error",description:c.message||"Failed to send message. Please try again.",variant:"destructive"})}}),l=c=>{if(c.preventDefault(),!e.trim()||!r.trim()){i({title:"Error",description:"Please fill in both subject and message fields.",variant:"destructive"});return}o.mutate({subject:e,message:r})};return a.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Contact Waiterix Support"}),a.jsx("p",{className:"text-muted-foreground",children:"Need help or have questions? Reach out to our support team and we'll get back to you as soon as possible."})]}),a.jsxs(ge,{children:[a.jsx(pr,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(vc,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx(mr,{children:"Send us a message"}),a.jsx(xs,{children:"Messages will be sent to support@harmoniaenterprisesllc.com"})]})]})}),a.jsx(Fn,{children:a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"restaurant-name",children:"Restaurant Name"}),a.jsx(qe,{id:"restaurant-name",value:t,disabled:!0,className:"bg-muted","data-testid":"input-restaurant-name"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your restaurant information will be automatically included in the message"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"subject",children:"Subject *"}),a.jsx(qe,{id:"subject",placeholder:"Brief description of your inquiry",value:e,onChange:c=>n(c.target.value),disabled:o.isPending,"data-testid":"input-subject"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"message",children:"Message *"}),a.jsx(br,{id:"message",placeholder:"Please describe your question or issue in detail...",value:r,onChange:c=>s(c.target.value),disabled:o.isPending,rows:8,className:"resize-none","data-testid":"input-message"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(X,{type:"submit",disabled:o.isPending||!e.trim()||!r.trim(),"data-testid":"button-send-message",children:o.isPending?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_x,{className:"h-4 w-4 mr-2"}),"Send Message"]})})})]})})]}),a.jsxs(ge,{children:[a.jsx(pr,{children:a.jsx(mr,{className:"text-base",children:"Support Information"})}),a.jsxs(Fn,{className:"space-y-2 text-sm",children:[a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[100px]",children:"Email:"}),a.jsx("span",{className:"text-muted-foreground",children:"support@harmoniaenterprisesllc.com"})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[100px]",children:"Response Time:"}),a.jsx("span",{className:"text-muted-foreground",children:"We typically respond within 24-48 hours"})]})]})]})]})}function Sse(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var i1="ScrollArea",[kF]=yn(i1),[Cse,Er]=kF(i1),PF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,y]=p.useState(null),[g,w]=p.useState(null),[x,v]=p.useState(0),[b,S]=p.useState(0),[E,k]=p.useState(!1),[T,N]=p.useState(!1),j=De(e,O=>c(O)),P=qc(s);return a.jsx(Cse,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:T,onScrollbarYEnabledChange:N,onCornerWidthChange:v,onCornerHeightChange:S,children:a.jsx(Ne.div,{dir:P,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});PF.displayName=i1;var _F="ScrollAreaViewport",AF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Er(_F,n),l=p.useRef(null),c=De(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});AF.displayName=_F;var _s="ScrollAreaScrollbar",a1=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Er(_s,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(Ese,{...r,ref:e,forceMount:n}):s.type==="scroll"?a.jsx(Nse,{...r,ref:e,forceMount:n}):s.type==="auto"?a.jsx(RF,{...r,ref:e,forceMount:n}):s.type==="always"?a.jsx(o1,{...r,ref:e}):null});a1.displayName=_s;var Ese=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Er(_s,t.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(rn,{present:n||i,children:a.jsx(RF,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Nse=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Er(_s,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Hg(()=>c("SCROLL_END"),100),[l,c]=Sse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(rn,{present:n||l!=="hidden",children:a.jsx(o1,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:oe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:oe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),RF=p.forwardRef((t,e)=>{const n=Er(_s,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=p.useState(!1),l=t.orientation==="horizontal",c=Hg(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Rc(n.viewport,c),Rc(n.content,c),a.jsx(rn,{present:r||i,children:a.jsx(o1,{"data-state":i?"visible":"hidden",...s,ref:e})})}),o1=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Er(_s,t.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=FF(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return Ase(h,o.current,l,m)}return n==="horizontal"?a.jsx(jse,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=yT(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?a.jsx(Tse,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=yT(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),jse=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Er(_s,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=De(e,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(MF,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wg(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),VF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wm(o.paddingLeft),paddingEnd:wm(o.paddingRight)}})}})}),Tse=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Er(_s,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=De(e,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(MF,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wg(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),VF(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wm(o.paddingTop),paddingEnd:wm(o.paddingBottom)}})}})}),[kse,IF]=kF(_s),MF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,m=Er(_s,n),[y,g]=p.useState(null),w=De(e,j=>g(j)),x=p.useRef(null),v=p.useRef(""),b=m.viewport,S=r.content-r.viewport,E=Dt(d),k=Dt(c),T=Hg(f,10);function N(j){if(x.current){const P=j.clientX-x.current.left,O=j.clientY-x.current.top;u({x:P,y:O})}}return p.useEffect(()=>{const j=P=>{const O=P.target;(y==null?void 0:y.contains(O))&&E(P,S)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[b,y,S,E]),p.useEffect(k,[r,k]),Rc(y,T),Rc(m.content,T),a.jsx(kse,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Dt(i),onThumbPointerUp:Dt(o),onThumbPositionChange:k,onThumbPointerDown:Dt(l),children:a.jsx(Ne.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:oe(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),x.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(j))}),onPointerMove:oe(t.onPointerMove,N),onPointerUp:oe(t.onPointerUp,j=>{const P=j.target;P.hasPointerCapture(j.pointerId)&&P.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),xm="ScrollAreaThumb",OF=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=IF(xm,t.__scopeScrollArea);return a.jsx(rn,{present:n||s.hasThumb,children:a.jsx(Pse,{ref:e,...r})})}),Pse=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Er(xm,n),o=IF(xm,n),{onThumbPositionChange:l}=o,c=De(e,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=Hg(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Rse(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Ne.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(t.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:oe(t.onPointerUp,o.onThumbPointerUp)})});OF.displayName=xm;var l1="ScrollAreaCorner",DF=p.forwardRef((t,e)=>{const n=Er(l1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(_se,{...t,ref:e}):null});DF.displayName=l1;var _se=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Er(l1,n),[i,o]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return Rc(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Rc(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Ne.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function wm(t){return t?parseInt(t,10):0}function FF(t,e){const n=t/e;return isNaN(n)?0:n}function Wg(t){const e=FF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Ase(t,e,n,r="ltr"){const s=Wg(n),i=s/2,o=e||i,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return LF([c,u],f)(t)}function yT(t,e,n="ltr"){const r=Wg(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Nw(t,c);return LF([0,o],[0,l])(u)}function LF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function VF(t,e){return t>0&&t<e}var Rse=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Hg(t,e){const n=Dt(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Rc(t,e){const n=Dt(e);Xt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var UF=PF,Ise=AF,Mse=DF;const $F=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(UF,{ref:r,className:ae("relative overflow-hidden",t),...n,children:[a.jsx(Ise,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(BF,{}),a.jsx(Mse,{})]}));$F.displayName=UF.displayName;const BF=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(a1,{ref:r,orientation:e,className:ae("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(OF,{className:"relative flex-1 rounded-full bg-border"})}));BF.displayName=a1.displayName;function vT({open:t,onAccept:e}){const[n,r]=p.useState(!1),{toast:s}=ot(),i=et({mutationFn:async()=>{const c=await fetch("http://localhost:3005/dev/api/auth/accept-terms",{method:"POST",credentials:"include"});if(!c.ok)throw new Error("Failed to accept terms");return c.json()},onSuccess:()=>{it.invalidateQueries({queryKey:["/api/auth/user"]}),e(),s({title:"Welcome!",description:"You've successfully accepted the terms and conditions."})},onError:()=>{s({title:"Error",description:"Failed to accept terms. Please try again.",variant:"destructive"})}}),o=()=>{if(!n){s({title:"Please accept terms",description:"You must agree to the terms and conditions to continue.",variant:"destructive"});return}i.mutate()};return a.jsx(En,{open:t,onOpenChange:()=>{},children:a.jsxs(fn,{className:"max-w-3xl max-h-[90vh]","data-testid":"dialog-terms-acceptance",children:[a.jsxs(Nn,{children:[a.jsx(hn,{className:"text-2xl",children:"Terms and Conditions"}),a.jsx(ts,{children:"Please read and accept our terms and conditions to continue using Waiterix."})]}),a.jsx($F,{className:"h-[400px] pr-4",children:a.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[a.jsx("h3",{className:"font-bold mb-2",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"mb-4",children:"By using Waiterix, you accept and agree to be bound by these terms. If you do not agree, please do not use our service."}),a.jsx("h3",{className:"font-bold mb-2",children:"2. Service Description"}),a.jsx("p",{className:"mb-4",children:"Waiterix provides AI-powered restaurant ordering solutions including voice assistance, QR code menus, online ordering, and payment processing."}),a.jsx("h3",{className:"font-bold mb-2",children:"3. Subscription & Money-Back Guarantee"}),a.jsx("p",{className:"mb-4",children:"Waiterix costs $50/month plus AI usage costs (typically $15-20/month). If you're not satisfied within 30 days, you can request a full refund. Contact support within the guarantee period for a no-questions-asked refund."}),a.jsx("h3",{className:"font-bold mb-2",children:"4. AI Usage"}),a.jsx("p",{className:"mb-4",children:"Our AI features are powered by OpenAI. You acknowledge that AI responses may not always be accurate and you are responsible for monitoring customer interactions."}),a.jsx("h3",{className:"font-bold mb-2",children:"5. User Content"}),a.jsx("p",{className:"mb-4",children:"You retain ownership of all content you upload. By using our service, you grant us a license to use, store, and process this content to provide the service."}),a.jsx("h3",{className:"font-bold mb-2",children:"6. Account Termination"}),a.jsx("p",{className:"mb-4",children:"You may permanently delete your account at any time. Upon deletion, all your data will be permanently removed and cannot be recovered."}),a.jsx("h3",{className:"font-bold mb-2",children:"7. Limitation of Liability"}),a.jsx("p",{className:"mb-4",children:'Waiterix is provided "as is" without warranties. We are not liable for service interruptions, data loss, errors in AI responses, or third-party service failures.'}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-6",children:["For complete terms, please visit our"," ",a.jsx(md,{href:"/terms",className:"text-primary hover:underline","data-testid":"link-full-terms",children:"full Terms and Conditions page"}),"."]})]})}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[a.jsx(ml,{id:"terms",checked:n,onCheckedChange:l=>r(l),"data-testid":"checkbox-agree-terms"}),a.jsx("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I have read and agree to the Terms and Conditions"})]}),a.jsx(ma,{children:a.jsx(X,{onClick:o,disabled:!n||i.isPending,className:"w-full","data-testid":"button-accept-terms",children:i.isPending?"Accepting...":"Accept and Continue"})})]})})}const zF=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",t),...e})}));zF.displayName="Table";const WF=p.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",t),...e}));WF.displayName="TableHeader";const HF=p.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",t),...e}));HF.displayName="TableBody";const Ose=p.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Ose.displayName="TableFooter";const ap=p.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ap.displayName="TableRow";const Xo=p.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Xo.displayName="TableHead";const Va=p.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Va.displayName="TableCell";const Dse=p.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",t),...e}));Dse.displayName="TableCaption";var qF={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(mu,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},c=0,u={};function d(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var P=E(j);P.chunkSize=parseInt(P.chunkSize),j.step||j.chunk||(P.chunkSize=null),this._handle=new g(P),(this._handle.streamer=this)._config=P}).call(this,N),this.parseChunk=function(j,P){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let B=this._config.newline;B||(I=this._config.quoteChar||'"',B=this._handle.guessLineEndings(j,I)),j=[...j.split(B).slice(O)].join(B)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(j))!==void 0&&(j=I),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+j,I=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=I.meta.cursor,O=(this._finished||(this._partialLine=O.substring(j-this._baseIndex),this._baseIndex=j),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:I,workerId:u.WORKER_ID,finished:O});else if(T(this._config.chunk)&&!P){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!O||!T(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(j){T(this._config.error)?this._config.error(j):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:j,finished:!1})}}function f(N){var j;(N=N||{}).chunkSize||(N.chunkSize=u.RemoteChunkSize),d.call(this,N),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),i||(j.onload=k(this._chunkLoaded,this),j.onerror=k(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var P,O=this._config.downloadRequestHeaders;for(P in O)j.setRequestHeader(P,O[P])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+I));try{j.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}i&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(P){P=j.statusText||P,this._sendError(new Error(P))}}function h(N){(N=N||{}).chunkSize||(N.chunkSize=u.LocalChunkSize),d.call(this,N);var j,P,O=typeof FileReader<"u";this.stream=function(I){this._input=I,P=I.slice||I.webkitSlice||I.mozSlice,O?((j=new FileReader).onload=k(this._chunkLoaded,this),j.onerror=k(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),I=P.call(I,this._start,B)),j.readAsText(I,this._config.encoding));O||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(j.error)}}function m(N){var j;d.call(this,N=N||{}),this.stream=function(P){return j=P,this._nextChunk()},this._nextChunk=function(){var P,O;if(!this._finished)return P=this._config.chunkSize,j=P?(O=j.substring(0,P),j.substring(P)):(O=j,""),this._finished=!j,this.parseChunk(O)}}function y(N){d.call(this,N=N||{});var j=[],P=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):P=!0},this._streamData=k(function(I){try{j.push(typeof I=="string"?I:I.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(B){this._streamError(B)}},this),this._streamError=k(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=k(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(N){var j,P,O,I,B=Math.pow(2,53),D=-B,M=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,$=this,_=0,R=0,q=!1,G=!1,se=[],J={data:[],errors:[],meta:{}};function ce(L){return N.skipEmptyLines==="greedy"?L.join("").trim()==="":L.length===1&&L[0].length===0}function Se(){if(J&&O&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),O=!1),N.skipEmptyLines&&(J.data=J.data.filter(function(pe){return!ce(pe)})),W()){let pe=function(xe,Ce){T(N.transformHeader)&&(xe=N.transformHeader(xe,Ce)),se.push(xe)};var te=pe;if(J)if(Array.isArray(J.data[0])){for(var L=0;W()&&L<J.data.length;L++)J.data[L].forEach(pe);J.data.splice(0,1)}else J.data.forEach(pe)}function he(pe,xe){for(var Ce=N.header?{}:[],je=0;je<pe.length;je++){var we=je,Qe=pe[je],Qe=((Oe,Me)=>(A=>(N.dynamicTypingFunction&&N.dynamicTyping[A]===void 0&&(N.dynamicTyping[A]=N.dynamicTypingFunction(A)),(N.dynamicTyping[A]||N.dynamicTyping)===!0))(Oe)?Me==="true"||Me==="TRUE"||Me!=="false"&&Me!=="FALSE"&&((A=>{if(M.test(A)&&(A=parseFloat(A),D<A&&A<B))return 1})(Me)?parseFloat(Me):V.test(Me)?new Date(Me):Me===""?null:Me):Me)(we=N.header?je>=se.length?"__parsed_extra":se[je]:we,Qe=N.transform?N.transform(Qe,we):Qe);we==="__parsed_extra"?(Ce[we]=Ce[we]||[],Ce[we].push(Qe)):Ce[we]=Qe}return N.header&&(je>se.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+se.length+" fields but parsed "+je,R+xe):je<se.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+se.length+" fields but parsed "+je,R+xe)),Ce}var ne;J&&(N.header||N.dynamicTyping||N.transform)&&(ne=1,!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(he),ne=J.data.length):J.data=he(J.data,0),N.header&&J.meta&&(J.meta.fields=se),R+=ne)}function W(){return N.header&&se.length===0}function Q(L,he,ne,te){L={type:L,code:he,message:ne},te!==void 0&&(L.row=te),J.errors.push(L)}T(N.step)&&(I=N.step,N.step=function(L){J=L,W()?Se():(Se(),J.data.length!==0&&(_+=L.data.length,N.preview&&_>N.preview?P.abort():(J.data=J.data[0],I(J,$))))}),this.parse=function(L,he,ne){var te=N.quoteChar||'"',te=(N.newline||(N.newline=this.guessLineEndings(L,te)),O=!1,N.delimiter?T(N.delimiter)&&(N.delimiter=N.delimiter(L),J.meta.delimiter=N.delimiter):((te=((pe,xe,Ce,je,we)=>{var Qe,Oe,Me,A;we=we||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var U=0;U<we.length;U++){for(var z,ue=we[U],ee=0,Z=0,de=0,Te=(Me=void 0,new x({comments:je,delimiter:ue,newline:xe,preview:10}).parse(pe)),Ae=0;Ae<Te.data.length;Ae++)Ce&&ce(Te.data[Ae])?de++:(z=Te.data[Ae].length,Z+=z,Me===void 0?Me=z:0<z&&(ee+=Math.abs(z-Me),Me=z));0<Te.data.length&&(Z/=Te.data.length-de),(Oe===void 0||ee<=Oe)&&(A===void 0||A<Z)&&1.99<Z&&(Oe=ee,Qe=ue,A=Z)}return{successful:!!(N.delimiter=Qe),bestDelimiter:Qe}})(L,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=te.bestDelimiter:(O=!0,N.delimiter=u.DefaultDelimiter),J.meta.delimiter=N.delimiter),E(N));return N.preview&&N.header&&te.preview++,j=L,P=new x(te),J=P.parse(j,he,ne),Se(),q?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,P.abort(),j=T(N.chunk)?"":j.substring(P.getCharIndex())},this.resume=function(){$.streamer._halted?(q=!1,$.streamer.parseChunk(j,!0)):setTimeout($.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,P.abort(),J.meta.aborted=!0,T(N.complete)&&N.complete(J),j=""},this.guessLineEndings=function(pe,te){pe=pe.substring(0,1048576);var te=new RegExp(w(te)+"([^]*?)"+w(te),"gm"),ne=(pe=pe.replace(te,"")).split("\r"),te=pe.split(`
`),pe=1<te.length&&te[0].length<ne[0].length;if(ne.length===1||pe)return`
`;for(var xe=0,Ce=0;Ce<ne.length;Ce++)ne[Ce][0]===`
`&&xe++;return xe>=ne.length/2?`\r
`:"\r"}}function w(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(N){var j=(N=N||{}).delimiter,P=N.newline,O=N.comments,I=N.step,B=N.preview,D=N.fastMode,M=null,V=!1,$=N.quoteChar==null?'"':N.quoteChar,_=$;if(N.escapeChar!==void 0&&(_=N.escapeChar),(typeof j!="string"||-1<u.BAD_DELIMITERS.indexOf(j))&&(j=","),O===j)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var R=0,q=!1;this.parse=function(G,se,J){if(typeof G!="string")throw new Error("Input must be a string");var ce=G.length,Se=j.length,W=P.length,Q=O.length,L=T(I),he=[],ne=[],te=[],pe=R=0;if(!G)return ee();if(D||D!==!1&&G.indexOf($)===-1){for(var xe=G.split(P),Ce=0;Ce<xe.length;Ce++){if(te=xe[Ce],R+=te.length,Ce!==xe.length-1)R+=P.length;else if(J)return ee();if(!O||te.substring(0,Q)!==O){if(L){if(he=[],A(te.split(j)),Z(),q)return ee()}else A(te.split(j));if(B&&B<=Ce)return he=he.slice(0,B),ee(!0)}}return ee()}for(var je=G.indexOf(j,R),we=G.indexOf(P,R),Qe=new RegExp(w(_)+w($),"g"),Oe=G.indexOf($,R);;)if(G[R]===$)for(Oe=R,R++;;){if((Oe=G.indexOf($,Oe+1))===-1)return J||ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:he.length,index:R}),z();if(Oe===ce-1)return z(G.substring(R,Oe).replace(Qe,$));if($===_&&G[Oe+1]===_)Oe++;else if($===_||Oe===0||G[Oe-1]!==_){je!==-1&&je<Oe+1&&(je=G.indexOf(j,Oe+1));var Me=U((we=we!==-1&&we<Oe+1?G.indexOf(P,Oe+1):we)===-1?je:Math.min(je,we));if(G.substr(Oe+1+Me,Se)===j){te.push(G.substring(R,Oe).replace(Qe,$)),G[R=Oe+1+Me+Se]!==$&&(Oe=G.indexOf($,R)),je=G.indexOf(j,R),we=G.indexOf(P,R);break}if(Me=U(we),G.substring(Oe+1+Me,Oe+1+Me+W)===P){if(te.push(G.substring(R,Oe).replace(Qe,$)),ue(Oe+1+Me+W),je=G.indexOf(j,R),Oe=G.indexOf($,R),L&&(Z(),q))return ee();if(B&&he.length>=B)return ee(!0);break}ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:he.length,index:R}),Oe++}}else if(O&&te.length===0&&G.substring(R,R+Q)===O){if(we===-1)return ee();R=we+W,we=G.indexOf(P,R),je=G.indexOf(j,R)}else if(je!==-1&&(je<we||we===-1))te.push(G.substring(R,je)),R=je+Se,je=G.indexOf(j,R);else{if(we===-1)break;if(te.push(G.substring(R,we)),ue(we+W),L&&(Z(),q))return ee();if(B&&he.length>=B)return ee(!0)}return z();function A(de){he.push(de),pe=R}function U(de){var Te=0;return Te=de!==-1&&(de=G.substring(Oe+1,de))&&de.trim()===""?de.length:Te}function z(de){return J||(de===void 0&&(de=G.substring(R)),te.push(de),R=ce,A(te),L&&Z()),ee()}function ue(de){R=de,A(te),te=[],we=G.indexOf(P,R)}function ee(de){if(N.header&&!se&&he.length&&!V){var Te=he[0],Ae=Object.create(null),Ze=new Set(Te);let Nr=!1;for(let jt=0;jt<Te.length;jt++){let An=Te[jt];if(Ae[An=T(N.transformHeader)?N.transformHeader(An,jt):An]){let jr,vi=Ae[An];for(;jr=An+"_"+vi,vi++,Ze.has(jr););Ze.add(jr),Te[jt]=jr,Ae[An]++,Nr=!0,(M=M===null?{}:M)[jr]=An}else Ae[An]=1,Te[jt]=An;Ze.add(An)}Nr&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:he,errors:ne,meta:{delimiter:j,linebreak:P,aborted:q,truncated:!!de,cursor:pe+(se||0),renamedHeaders:M}}}function Z(){I(ee()),he=[],ne=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return R}}function v(N){var j=N.data,P=l[j.workerId],O=!1;if(j.error)P.userError(j.error,j.file);else if(j.results&&j.results.data){var I={abort:function(){O=!0,b(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(T(P.userStep)){for(var B=0;B<j.results.data.length&&(P.userStep({data:j.results.data[B],errors:j.results.errors,meta:j.results.meta},I),!O);B++);delete j.results}else T(P.userChunk)&&(P.userChunk(j.results,I,j.file),delete j.results)}j.finished&&!O&&b(j.workerId,j.results)}function b(N,j){var P=l[N];T(P.userComplete)&&P.userComplete(j),P.terminate(),delete l[N]}function S(){throw new Error("Not implemented.")}function E(N){if(typeof N!="object"||N===null)return N;var j,P=Array.isArray(N)?[]:{};for(j in N)P[j]=E(N[j]);return P}function k(N,j){return function(){N.apply(j,arguments)}}function T(N){return typeof N=="function"}return u.parse=function(N,j){var P=(j=j||{}).dynamicTyping||!1;if(T(P)&&(j.dynamicTypingFunction=P,P={}),j.dynamicTyping=P,j.transform=!!T(j.transform)&&j.transform,!j.worker||!u.WORKERS_SUPPORTED)return P=null,u.NODE_STREAM_INPUT,typeof N=="string"?(N=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(N),P=new(j.download?f:m)(j)):N.readable===!0&&T(N.read)&&T(N.on)?P=new y(j):(r.File&&N instanceof File||N instanceof Object)&&(P=new h(j)),P.stream(N);(P=(()=>{var O;return!!u.WORKERS_SUPPORTED&&(O=(()=>{var I=r.URL||r.webkitURL||null,B=n.toString();return u.BLOB_URL||(u.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=v,O.id=c++,l[O.id]=O)})()).userStep=j.step,P.userChunk=j.chunk,P.userComplete=j.complete,P.userError=j.error,j.step=T(j.step),j.chunk=T(j.chunk),j.complete=T(j.complete),j.error=T(j.error),delete j.worker,P.postMessage({input:N,config:j,workerId:P.id})},u.unparse=function(N,j){var P=!1,O=!0,I=",",B=`\r
`,D='"',M=D+D,V=!1,$=null,_=!1,R=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||u.BAD_DELIMITERS.filter(function(se){return j.delimiter.indexOf(se)!==-1}).length||(I=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(P=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(V=j.skipEmptyLines),typeof j.newline=="string"&&(B=j.newline),typeof j.quoteChar=="string"&&(D=j.quoteChar),typeof j.header=="boolean"&&(O=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");$=j.columns}j.escapeChar!==void 0&&(M=j.escapeChar+D),j.escapeFormulae instanceof RegExp?_=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(_=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(D),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return q(null,N,V);if(typeof N[0]=="object")return q($||Object.keys(N[0]),N,V)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||$),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),q(N.fields||[],N.data||[],V);throw new Error("Unable to serialize unrecognized input");function q(se,J,ce){var Se="",W=(typeof se=="string"&&(se=JSON.parse(se)),typeof J=="string"&&(J=JSON.parse(J)),Array.isArray(se)&&0<se.length),Q=!Array.isArray(J[0]);if(W&&O){for(var L=0;L<se.length;L++)0<L&&(Se+=I),Se+=G(se[L],L);0<J.length&&(Se+=B)}for(var he=0;he<J.length;he++){var ne=(W?se:J[he]).length,te=!1,pe=W?Object.keys(J[he]).length===0:J[he].length===0;if(ce&&!W&&(te=ce==="greedy"?J[he].join("").trim()==="":J[he].length===1&&J[he][0].length===0),ce==="greedy"&&W){for(var xe=[],Ce=0;Ce<ne;Ce++){var je=Q?se[Ce]:Ce;xe.push(J[he][je])}te=xe.join("").trim()===""}if(!te){for(var we=0;we<ne;we++){0<we&&!pe&&(Se+=I);var Qe=W&&Q?se[we]:we;Se+=G(J[he][Qe],we)}he<J.length-1&&(!ce||0<ne&&!pe)&&(Se+=B)}}return Se}function G(se,J){var ce,Se;return se==null?"":se.constructor===Date?JSON.stringify(se).slice(1,25):(Se=!1,_&&typeof se=="string"&&_.test(se)&&(se="'"+se,Se=!0),ce=se.toString().replace(R,M),(Se=Se||P===!0||typeof P=="function"&&P(se,J)||Array.isArray(P)&&P[J]||((W,Q)=>{for(var L=0;L<Q.length;L++)if(-1<W.indexOf(Q[L]))return!0;return!1})(ce,u.BAD_DELIMITERS)||-1<ce.indexOf(I)||ce.charAt(0)===" "||ce.charAt(ce.length-1)===" ")?D+ce+D:ce)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=m,u.ReadableStreamStreamer=y,r.jQuery&&((s=r.jQuery).fn.parse=function(N){var j=N.config||{},P=[];return this.each(function(B){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)P.push({file:this.files[D],inputElem:this,instanceConfig:s.extend({},j)})}),O(),this;function O(){if(P.length===0)T(N.complete)&&N.complete();else{var B,D,M,V,$=P[0];if(T(N.before)){var _=N.before($.file,$.inputElem);if(typeof _=="object"){if(_.action==="abort")return B="AbortError",D=$.file,M=$.inputElem,V=_.reason,void(T(N.error)&&N.error({name:B},D,M,V));if(_.action==="skip")return void I();typeof _.config=="object"&&($.instanceConfig=s.extend($.instanceConfig,_.config))}else if(_==="skip")return void I()}var R=$.instanceConfig.complete;$.instanceConfig.complete=function(q){T(R)&&R(q,$.file,$.inputElem),I()},u.parse($.file,$.instanceConfig)}}function I(){P.splice(0,1),O()}}),o&&(r.onmessage=function(N){N=N.data,u.WORKER_ID===void 0&&N&&(u.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=u.parse(N.input,N.config))&&r.postMessage({workerId:u.WORKER_ID,results:N,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(d.prototype)).constructor=y,u})})(qF);var Fse=qF.exports;const Lse=hi(Fse);function Vse({open:t,onOpenChange:e,onImportComplete:n}){const[r,s]=p.useState(null),[i,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(!1),{toast:f}=ot(),h=async g=>{var x;const w=(x=g.target.files)==null?void 0:x[0];if(w){s(w),o(null),c(!0);try{const v=await w.text();if(Lse.parse(v,{header:!0,preview:1}).errors.length>0){f({title:"Invalid CSV file",description:"The file could not be parsed as CSV",variant:"destructive"}),s(null),c(!1);return}const E=await(await Re("POST","/api/menu-items/import/preview",{csvData:v})).json();o(E),E.errors.length>0?f({title:"Validation errors found",description:`${E.validRows} of ${E.totalRows} rows are valid`,variant:"default"}):f({title:"CSV validated",description:`${E.validRows} items ready to import`})}catch(v){console.error("Error processing CSV:",v),f({title:"Error processing CSV",description:v instanceof Error?v.message:"Failed to process file",variant:"destructive"}),s(null)}finally{c(!1)}}},m=async()=>{if(!(!i||i.validRows===0)){d(!0);try{const w=await(await Re("POST","/api/menu-items/import/confirm",{items:i.items})).json();if(w.count===0){f({title:"Import failed",description:w.errors&&w.errors.length>0?`All items failed: ${w.errors[0]}`:"No items were imported. Check the data format.",variant:"destructive"});return}w.errors&&w.errors.length>0?(f({title:"Import partially successful",description:`${w.count} items imported, ${w.errors.length} failed. Check console for details.`,variant:"default"}),console.error("Import errors:",w.errors)):f({title:"Import successful",description:`${w.count} menu items imported successfully`}),n(),y()}catch(g){console.error("Error importing menu items:",g),f({title:"Import failed",description:g instanceof Error?g.message:"Failed to import items",variant:"destructive"})}finally{d(!1)}}},y=()=>{s(null),o(null),c(!1),d(!1),e(!1)};return a.jsx(En,{open:t,onOpenChange:y,children:a.jsxs(fn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:"Import Menu Items from CSV"}),a.jsx(ts,{children:"Upload a CSV file to bulk import menu items. Download your existing items first to see the correct format."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"csv-upload",className:"text-sm font-medium",children:"Select CSV File"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qe,{id:"csv-upload",type:"file",accept:".csv",onChange:h,disabled:l||u,"data-testid":"input-csv-file"}),r&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(F$,{className:"h-4 w-4"}),r.name]})]})]}),l&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(We,{className:"h-4 w-4 animate-spin"}),"Processing CSV file..."]}),i&&i.errors.length>0&&a.jsxs(Md,{variant:"destructive",children:[a.jsx(rg,{className:"h-4 w-4"}),a.jsxs(Od,{children:[a.jsxs("div",{className:"font-semibold mb-2",children:["Found ",i.errors.length," validation error(s):"]}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[i.errors.slice(0,10).map((g,w)=>a.jsx("li",{children:g},w)),i.errors.length>10&&a.jsxs("li",{children:["... and ",i.errors.length-10," more"]})]})]})]}),i&&i.validRows>0&&a.jsxs(Md,{children:[a.jsx(o0,{className:"h-4 w-4"}),a.jsxs(Od,{children:[a.jsx("strong",{children:i.validRows})," valid items ready to import",i.errors.length>0&&` (${i.errors.length} errors will be skipped)`]})]}),i&&i.items.length>0&&a.jsx("div",{className:"border rounded-md",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsxs(zF,{children:[a.jsx(WF,{children:a.jsxs(ap,{children:[a.jsx(Xo,{children:"Name"}),a.jsx(Xo,{children:"Price"}),a.jsx(Xo,{children:"Category"}),a.jsx(Xo,{children:"Dietary"}),a.jsx(Xo,{children:"Spice"})]})}),a.jsxs(HF,{children:[i.items.slice(0,50).map((g,w)=>a.jsxs(ap,{"data-testid":`preview-row-${w}`,children:[a.jsx(Va,{className:"font-medium",children:g.name}),a.jsxs(Va,{children:["$",g.price]}),a.jsx(Va,{children:g.category}),a.jsx(Va,{className:"text-sm",children:[g.isVegan&&"Vegan",g.isVegetarian&&"Vegetarian",g.isHalal&&"Halal",g.isKosher&&"Kosher"].filter(Boolean).join(", ")||"-"}),a.jsx(Va,{children:g.spiceLevel||"-"})]},w)),i.items.length>50&&a.jsx(ap,{children:a.jsxs(Va,{colSpan:5,className:"text-center text-muted-foreground",children:["... and ",i.items.length-50," more items"]})})]})]})})}),!r&&a.jsxs("div",{className:"bg-muted p-4 rounded-lg text-sm space-y-2",children:[a.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[a.jsx(u0,{className:"h-4 w-4"}),"CSV Format Guide"]}),a.jsx("p",{children:"Required columns: name, price, category"}),a.jsx("p",{children:"Optional columns: description, isVegan, isVegetarian, isHalal, isKosher, spiceLevel, allergens, available, imageUrl"}),a.jsx("p",{className:"text-muted-foreground",children:"Tip: Download your existing menu items to see the exact format"})]})]}),a.jsxs(ma,{children:[a.jsx(X,{variant:"outline",onClick:y,disabled:l||u,"data-testid":"button-cancel-import",children:"Cancel"}),a.jsx(X,{onClick:m,disabled:!i||i.validRows===0||u,"data-testid":"button-confirm-import",children:u?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Importing..."]}):a.jsxs(a.Fragment,{children:["Import ",(i==null?void 0:i.validRows)||0," Items"]})})]})]})})}function KF(t){return/^401: .*Unauthorized/.test(t.message)}function xT(){var Hf,Gc;const[t,e]=ks(),[n,r]=p.useState("overview"),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(null),[y,g]=p.useState(!1),[w,x]=p.useState(!1),[v,b]=p.useState(!1),[S,E]=p.useState(""),[k,T]=p.useState(!1),[N,j]=p.useState(""),[P,O]=p.useState(""),[I,B]=p.useState(""),[D,M]=p.useState(""),{user:V,isLoading:$}=Cg(),{toast:_}=ot(),{formatCurrency:R}=Ft(),q=p.useRef(0),G=p.useRef(!1),se=p.useRef(new Set),[J,ce]=p.useState(null),[Se,W]=p.useState(null),{data:Q}=tt({queryKey:["/api/auth/user"],enabled:!!V});p.useEffect(()=>{Q&&!Q.acceptedTerms&&g(!0)},[Q]),p.useEffect(()=>{const F=t.split("/").pop();F&&["overview","menu","orders","questions","assistance","contact"].includes(F)?r(F):t==="/dashboard"&&r("overview")},[t]);const{data:L,isLoading:he,error:ne}=tt({queryKey:["/api/restaurant"],enabled:!!V});p.useEffect(()=>{L&&(L.subscriptionId&&(L.subscriptionStatus==="active"||L.subscriptionStatus==="trialing")||e("/subscribe"))},[L,e]);const{data:te=[],isLoading:pe}=tt({queryKey:[`/api/menu-items?restaurantId=${L==null?void 0:L.id}`],enabled:!!L}),{data:xe=[],isLoading:Ce}=tt({queryKey:["/api/orders"],enabled:!!L,refetchInterval:1e4}),{data:je}=tt({queryKey:["/api/admin/security-questions"],enabled:!!L}),{data:we=0}=tt({queryKey:["/api/chef/questions"],select:F=>Array.isArray(F)?F.filter(ke=>ke.status==="pending").length:0,refetchInterval:5e3,enabled:!!L}),{data:Qe=[]}=tt({queryKey:["/api/restaurant",L==null?void 0:L.id,"tables"],enabled:!!L}),Oe=SU({queries:xe.map(F=>({queryKey:[`/api/orders/${F.id}/items`],enabled:!!F.id}))});p.useEffect(()=>{if(!Ce&&Oe.length>0){if(!G.current)q.current=xe.length,se.current=new Set(xe.map(F=>F.id)),G.current=!0;else if(xe.length>q.current){const F=new Set(xe.map(lt=>lt.id)),ke=xe.filter(lt=>!se.current.has(lt.id));ke.length>0&&(s1.playChime(),_({title:"New Order",description:`You have ${ke.length} new order(s)!`}),L!=null&&L.autoPrintOrders&&ke[0]&&(console.log("[Auto-Print] New order detected, queuing for print:",ke[0].id),W(ke[0].id)),q.current=xe.length,se.current=F)}}},[xe,Ce,Oe,_,L==null?void 0:L.autoPrintOrders]),p.useEffect(()=>{if(Se&&xe.length>0&&Oe.length>0){const F=xe.findIndex(Tr=>Tr.id===Se);if(F<0){console.warn("[Auto-Print] Order disappeared before printing:",Se),W(null);return}const ke=Oe[F],lt=ke==null?void 0:ke.data;lt&&!(ke!=null&&ke.isLoading)?(L!=null&&L.autoPrintOrders?(console.log("[Auto-Print] Order items loaded, triggering print for order:",Se),ce({order:xe[F],items:lt})):console.log("[Auto-Print] Auto-print was disabled, skipping print for order:",Se),W(null)):!(ke!=null&&ke.isLoading)&&!lt&&(console.warn("[Auto-Print] Order items failed to load for order:",Se),_({title:"Auto-Print Failed",description:"Could not load order details for printing",variant:"destructive"}),W(null))}},[Se,xe,Oe,L==null?void 0:L.autoPrintOrders,_]),p.useEffect(()=>{J&&setTimeout(()=>{window.print(),ce(null)},100)},[J]);const Me=et({mutationFn:async F=>(await Re("POST","/api/restaurant",F)).json(),onSuccess:()=>{it.invalidateQueries({queryKey:["/api/restaurant"]}),_({title:"Success",description:"Restaurant created successfully"})},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}});et({mutationFn:async F=>(await Re("PUT",`/api/restaurant/${L==null?void 0:L.id}`,F)).json(),onSuccess:()=>{it.invalidateQueries({queryKey:["/api/restaurant"]}),_({title:"Success",description:"Restaurant information updated successfully"})},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}}),et({mutationFn:async()=>{await Re("DELETE",`/api/restaurant/${L==null?void 0:L.id}`)},onSuccess:()=>{_({title:"Restaurant Deleted",description:"Your restaurant has been permanently deleted"}),window.location.href="/"},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}}),et({mutationFn:async()=>{await Re("DELETE","/api/auth/delete-account")},onSuccess:()=>{_({title:"Account Deleted",description:"Your account has been permanently deleted. Redirecting..."}),setTimeout(()=>{window.location.href="/"},2e3)},onError:F=>{_({title:"Error",description:F.message||"Failed to delete account",variant:"destructive"})}});const A=et({mutationFn:async F=>(await Re("POST","/api/menu-items",{...F,restaurantId:L==null?void 0:L.id})).json(),onSuccess:()=>{it.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${L==null?void 0:L.id}`]}),i(!1),f(null),_({title:"Success",description:"Menu item created successfully"})},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}}),U=et({mutationFn:async({id:F,data:ke})=>(await Re("PUT",`/api/menu-items/${F}`,ke)).json(),onSuccess:()=>{it.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${L==null?void 0:L.id}`]}),i(!1),f(null),_({title:"Success",description:"Menu item updated successfully"})},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}}),z=et({mutationFn:async F=>{await Re("DELETE",`/api/menu-items/${F}`)},onSuccess:()=>{it.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${L==null?void 0:L.id}`]}),_({title:"Success",description:"Menu item deleted successfully"})},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}}),ue=et({mutationFn:async({id:F,available:ke})=>(await Re("PUT",`/api/menu-items/${F}`,{available:ke})).json(),onSuccess:()=>{it.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${L==null?void 0:L.id}`]}),_({title:"Success",description:"Menu item availability updated"})},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}}),ee=async()=>{try{const ke=await fetch("http://localhost:3005/dev/api/menu-items/export",{credentials:"include"});if(!ke.ok)throw new Error("Failed to export menu items");const lt=await ke.blob(),Tr=window.URL.createObjectURL(lt),As=document.createElement("a");As.href=Tr,As.download=`menu-items-${(L==null?void 0:L.name)||"export"}.csv`,document.body.appendChild(As),As.click(),window.URL.revokeObjectURL(Tr),document.body.removeChild(As),_({title:"CSV Downloaded",description:`${te.length} menu items exported`})}catch(F){console.error("Error downloading CSV:",F),_({title:"Download failed",description:F instanceof Error?F.message:"Failed to download CSV",variant:"destructive"})}},Z=et({mutationFn:async({orderId:F,status:ke,paymentMethod:lt})=>{const Tr=ke==="ready"&&lt==="online"?"completed":ke;return(await Re("PUT",`/api/orders/${F}/status`,{status:Tr})).json()},onSuccess:()=>{it.invalidateQueries({queryKey:["/api/orders"]}),_({title:"Success",description:"Order status updated successfully"})},onError:F=>{_({title:"Error",description:F.message,variant:"destructive"})}}),de=async()=>{if(L){T(!0);try{const F=await Re("POST","/api/admin/password/check"),{hasPassword:ke}=await F.json();if(!ke){e("/admin"),x(!1);return}const lt=await Re("POST","/api/admin/password/verify",{password:S}),{valid:Tr}=await lt.json();Tr?(e("/admin"),x(!1),E("")):_({title:"Invalid Password",description:"The admin password you entered is incorrect",variant:"destructive"})}catch(F){console.error("Admin verification error:",F),_({title:"Error",description:"Failed to verify admin password",variant:"destructive"})}finally{T(!1)}}},Te=async()=>{if(L){if(!N||!P){_({title:"Error",description:"Please answer both security questions",variant:"destructive"});return}if(!I||!D){_({title:"Error",description:"Please enter and confirm your new password",variant:"destructive"});return}if(I!==D){_({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(I.length<6){_({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}T(!0);try{(await Re("POST","/api/admin/password/reset",{answer1:N,answer2:P,newPassword:I})).ok&&(_({title:"Success",description:"Admin password reset successfully"}),b(!1),j(""),O(""),B(""),M(""),E(I),setTimeout(()=>{x(!0)},500))}catch(F){console.error("Password recovery error:",F),_({title:"Error",description:F instanceof Error?F.message:"Failed to reset password",variant:"destructive"})}finally{T(!1)}}};if(ne&&KF(ne))return e("/"),null;if($)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-auth"})});if(!V)return e("/"),null;if(he)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-restaurant"})});if(!L)return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx("header",{className:"border-b p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:jo,alt:"Waiterix",className:"h-8 w-8","data-testid":"img-waiterix-logo"}),a.jsx("span",{className:"text-xl font-bold",children:"Waiterix"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:async()=>{console.log("Logout button clicked");try{await Nd(),await Re("POST","/api/logout"),console.log("Logout complete, redirecting..."),window.location.href="/"}catch(F){console.error("Logout error:",F),window.location.href="/"}},"data-testid":"button-logout-setup",title:"Log out",children:a.jsx(HC,{className:"h-4 w-4"})}),a.jsx(Lx,{})]})]})}),a.jsx("div",{className:"flex items-center justify-center flex-1 p-6",children:a.jsxs("div",{className:"max-w-2xl w-full",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Welcome! Let's set up your restaurant"}),a.jsx(wF,{onSubmit:F=>Me.mutate(F)})]})})]}),a.jsx(vT,{open:y,onAccept:()=>g(!1)})]});const Ae=xe.map((F,ke)=>{var Tr;const lt=((Tr=Oe[ke])==null?void 0:Tr.data)||[];return{orderId:F.id,items:lt.map(As=>({name:As.name,quantity:As.quantity})),total:parseFloat(F.total),tip:F.tip?parseFloat(F.tip):void 0,paymentMethod:F.paymentMethod,status:F.status,createdAt:new Date(F.createdAt),customerNote:F.customerNote||void 0,tableNumber:F.tableNumber||void 0}}),Ze={new:Ae.filter(F=>F.status==="new"),preparing:Ae.filter(F=>F.status==="preparing"),ready:Ae.filter(F=>F.status==="ready"),completed:Ae.filter(F=>F.status==="completed")},Nr=Ae.filter(F=>{const ke=new Date;return ke.setHours(0,0,0,0),F.createdAt>=ke}),jt=Nr.reduce((F,ke)=>F+ke.total,0),An=Ae.filter(F=>F.status==="new"||F.status==="preparing").length,jr=[{title:"Overview",icon:U$,id:"overview"},{title:"Menu",icon:aA,id:"menu"},{title:"Orders",icon:G$,id:"orders"},{title:"Active Questions",icon:$$,id:"questions",badge:we>0?we:null},{title:"Assistance",icon:I$,id:"assistance"},{title:"Contact Us",icon:vc,id:"contact"}],vi={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return a.jsx(Og,{currencyCode:L==null?void 0:L.currencyCode,defaultLanguage:L==null?void 0:L.defaultLanguage,children:a.jsxs(nee,{style:vi,children:[a.jsxs("div",{className:"flex h-screen w-full",children:[a.jsx(ree,{children:a.jsx(iee,{children:a.jsxs(aee,{children:[a.jsx(oee,{className:"text-lg font-semibold px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:jo,alt:"Waiterix",className:"h-6 w-6"}),a.jsx("span",{children:"Waiterix"})]})}),a.jsx(lee,{children:a.jsx(cee,{children:jr.map(F=>a.jsx(uee,{children:a.jsxs(fee,{onClick:()=>e(`/dashboard/${F.id}`),isActive:n===F.id,"data-testid":`button-nav-${F.id}`,children:[a.jsx(F.icon,{className:"h-4 w-4"}),a.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[a.jsx("span",{children:F.title}),F.badge&&a.jsx("span",{className:"h-2 w-2 rounded-full bg-destructive","data-testid":`badge-${F.id}`})]})]})},F.id))})})]})})}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-card",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(see,{"data-testid":"button-sidebar-toggle"}),a.jsx("h1",{className:"text-xl font-semibold",children:"Dashboard"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>x(!0),"data-testid":"button-admin",title:"Admin Settings",children:a.jsx(c0,{className:"h-4 w-4"})}),a.jsx(X,{variant:"ghost",size:"icon",onClick:async()=>{console.log("Logout button clicked");try{await Nd(),await Re("POST","/api/logout"),console.log("Logout complete, redirecting..."),window.location.href="/"}catch(F){console.error("Logout error:",F),window.location.href="/"}},"data-testid":"button-logout",title:"Log out",children:a.jsx(HC,{className:"h-4 w-4"})}),a.jsx(Lx,{})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[n==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ge,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders Today"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-orders-today",children:Nr.length})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue Today"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-revenue-today",children:R(jt)})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Menu Items"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-menu-items-count",children:te.length})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Orders"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-active-orders",children:An})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs(ge,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Recent Orders"}),Ce?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(We,{className:"h-6 w-6 animate-spin","data-testid":"loader-orders"})}):Ae.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8","data-testid":"text-no-orders",children:"No orders yet"}):a.jsx("div",{className:"space-y-3",children:Ae.slice(0,2).map(F=>a.jsx(du,{...F,onStatusChange:(ke,lt)=>Z.mutate({orderId:ke,status:lt,paymentMethod:F.paymentMethod})},F.orderId))})]})})]}),n==="menu"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Menu Items"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",onClick:ee,disabled:te.length===0,"data-testid":"button-download-csv",children:[a.jsx(sg,{className:"h-4 w-4 mr-2"}),"Download CSV"]}),a.jsxs(X,{variant:"outline",onClick:()=>u(!0),"data-testid":"button-upload-csv",children:[a.jsx(u0,{className:"h-4 w-4 mr-2"}),"Upload CSV"]}),a.jsxs(X,{onClick:()=>i(!0),"data-testid":"button-add-menu-item",children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),pe?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-menu-items"})}):te.length===0?a.jsx(ge,{className:"p-12",children:a.jsx("p",{className:"text-muted-foreground text-center","data-testid":"text-no-menu-items",children:'No menu items yet. Click "Add Item" to create your first menu item.'})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:te.map(F=>a.jsx(ge,{className:"p-4","data-testid":`card-menu-item-${F.id}`,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:F.name}),!F.available&&a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:"Unavailable"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:F.description}),a.jsx("p",{className:"text-lg font-semibold mt-2",children:R(parseFloat(F.price))}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 capitalize",children:F.category})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[a.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{m(F),l(!0)},"data-testid":`button-add-details-${F.id}`,children:[a.jsx(ho,{className:"h-3 w-3 mr-1"}),"AI Details"]}),a.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{f(F),i(!0)},"data-testid":`button-edit-${F.id}`,children:[a.jsx(Q$,{className:"h-3 w-3 mr-1"}),"Edit"]}),a.jsx(X,{size:"sm",variant:"outline",onClick:()=>ue.mutate({id:F.id,available:!F.available}),"data-testid":`button-toggle-availability-${F.id}`,children:F.available?a.jsxs(a.Fragment,{children:[a.jsx(O$,{className:"h-3 w-3 mr-1"}),"Hide"]}):a.jsxs(a.Fragment,{children:[a.jsx(D$,{className:"h-3 w-3 mr-1"}),"Show"]})}),a.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this menu item?")&&z.mutate(F.id)},"data-testid":`button-delete-${F.id}`,children:[a.jsx(Cf,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})},F.id))})]}),n==="orders"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Orders"}),Ce?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-all-orders"})}):Ae.length===0?a.jsx(ge,{className:"p-12",children:a.jsx("p",{className:"text-muted-foreground text-center","data-testid":"text-no-all-orders",children:"No orders yet"})}):a.jsxs("div",{className:"space-y-8",children:[Ze.new.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"New Orders"}),a.jsx(Ke,{variant:"default",className:"bg-blue-500",children:Ze.new.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ze.new.map(F=>a.jsx(du,{...F,onStatusChange:(ke,lt)=>Z.mutate({orderId:ke,status:lt,paymentMethod:F.paymentMethod})},F.orderId))}),a.jsx("div",{className:"border-t-2 border-border"})]}),Ze.preparing.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Preparing"}),a.jsx(Ke,{variant:"default",className:"bg-yellow-500",children:Ze.preparing.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ze.preparing.map(F=>a.jsx(du,{...F,onStatusChange:(ke,lt)=>Z.mutate({orderId:ke,status:lt,paymentMethod:F.paymentMethod})},F.orderId))}),a.jsx("div",{className:"border-t-2 border-border"})]}),Ze.ready.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Ready for Pickup"}),a.jsx(Ke,{variant:"default",className:"bg-green-500",children:Ze.ready.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ze.ready.map(F=>a.jsx(du,{...F,onStatusChange:(ke,lt)=>Z.mutate({orderId:ke,status:lt,paymentMethod:F.paymentMethod})},F.orderId))}),a.jsx("div",{className:"border-t-2 border-border"})]}),Ze.completed.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Completed"}),a.jsx(Ke,{variant:"secondary",children:Ze.completed.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ze.completed.map(F=>a.jsx(du,{...F,onStatusChange:(ke,lt)=>Z.mutate({orderId:ke,status:lt,paymentMethod:F.paymentMethod})},F.orderId))})]})]})]}),n==="questions"&&a.jsx(xse,{restaurantId:L.id}),n==="assistance"&&a.jsx(wse,{}),n==="contact"&&L&&a.jsx(bse,{restaurantName:L.name})]})]})]}),a.jsx(En,{open:s,onOpenChange:F=>{i(F),F||f(null)},children:a.jsxs(fn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Nn,{children:a.jsx(hn,{children:d?"Edit Menu Item":"Add Menu Item"})}),a.jsx(yse,{menuItem:d||void 0,onSubmit:F=>{d?U.mutate({id:d.id,data:F}):A.mutate(F)},onCancel:()=>{i(!1),f(null)}})]})}),a.jsx(En,{open:o,onOpenChange:F=>{l(F),F||m(null)},children:a.jsxs(fn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Nn,{children:a.jsx(hn,{children:"AI Menu Interview"})}),h&&L&&a.jsx(vse,{menuItemId:h.id,menuItemName:h.name,restaurantId:L.id,interviewType:"menu_item",onComplete:()=>{l(!1),m(null),_({title:"Interview Complete",description:"Menu details saved successfully!"})}})]})}),a.jsx(En,{open:w,onOpenChange:F=>{x(F),F||E("")},children:a.jsxs(fn,{"data-testid":"dialog-admin-password",children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:"Admin Access Required"}),a.jsx(ts,{children:"Enter your admin password to access admin settings and analytics."})]}),a.jsxs("form",{onSubmit:F=>{F.preventDefault(),de()},children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"admin-password",children:"Admin Password"}),a.jsx(qe,{id:"admin-password",type:"password",placeholder:"Enter admin password",value:S,onChange:F=>E(F.target.value),disabled:k,"data-testid":"input-admin-password"})]}),(je==null?void 0:je.hasQuestions)&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>{x(!1),E(""),b(!0)},disabled:k,className:"text-sm text-primary hover:underline","data-testid":"button-forgot-password",children:"Forgot password?"})})]}),a.jsxs(ma,{className:"mt-6",children:[a.jsx(X,{type:"button",variant:"outline",onClick:()=>{x(!1),E("")},disabled:k,"data-testid":"button-cancel-admin",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:k||!S,"data-testid":"button-verify-admin",children:k?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Verifying..."]}):"Access Admin"})]})]})]})}),a.jsx(En,{open:v,onOpenChange:F=>{b(F),F||(j(""),O(""),B(""),M(""))},children:a.jsxs(fn,{"data-testid":"dialog-password-recovery",children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:"Reset Admin Password"}),a.jsx(ts,{children:"Answer your security questions to reset your admin password."})]}),a.jsxs("form",{onSubmit:F=>{F.preventDefault(),Te()},children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"recovery-question-1",children:((Hf=je==null?void 0:je.questions)==null?void 0:Hf.question1)||"Security Question 1"}),a.jsx(qe,{id:"recovery-answer-1",type:"text",placeholder:"Your answer",value:N,onChange:F=>j(F.target.value),disabled:k,required:!0,"data-testid":"input-recovery-answer-1"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"recovery-question-2",children:((Gc=je==null?void 0:je.questions)==null?void 0:Gc.question2)||"Security Question 2"}),a.jsx(qe,{id:"recovery-answer-2",type:"text",placeholder:"Your answer",value:P,onChange:F=>O(F.target.value),disabled:k,required:!0,"data-testid":"input-recovery-answer-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"new-recovery-password",children:"New Password"}),a.jsx(qe,{id:"new-recovery-password",type:"password",placeholder:"Enter new password (min 6 characters)",value:I,onChange:F=>B(F.target.value),disabled:k,required:!0,"data-testid":"input-new-recovery-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"confirm-recovery-password",children:"Confirm New Password"}),a.jsx(qe,{id:"confirm-recovery-password",type:"password",placeholder:"Confirm new password",value:D,onChange:F=>M(F.target.value),disabled:k,required:!0,"data-testid":"input-confirm-recovery-password"})]})]}),a.jsxs(ma,{className:"mt-6",children:[a.jsx(X,{type:"button",variant:"outline",onClick:()=>{b(!1),j(""),O(""),B(""),M("")},disabled:k,"data-testid":"button-cancel-recovery",children:"Cancel"}),a.jsx(X,{type:"submit",disabled:k,"data-testid":"button-submit-recovery",children:k?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Resetting..."]}):"Reset Password"})]})]})]})}),a.jsx(vT,{open:y,onAccept:()=>g(!1)}),a.jsx(Vse,{open:c,onOpenChange:u,onImportComplete:()=>{it.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${L==null?void 0:L.id}`]})}}),J&&a.jsx(hee,{order:J.order,items:J.items,tableNumber:J.order.tableNumber,restaurantName:L==null?void 0:L.name})]})})}var qg="Tabs",[Use]=yn(qg,[Kc]),YF=Kc(),[$se,c1]=Use(qg),GF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=qc(l),[f,h]=Zr({prop:r,onChange:s,defaultProp:i??"",caller:qg});return a.jsx($se,{scope:n,baseId:Gr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Ne.div,{dir:d,"data-orientation":o,...u,ref:e})})});GF.displayName=qg;var QF="TabsList",XF=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=c1(QF,n),o=YF(n);return a.jsx(AS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Ne.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});XF.displayName=QF;var ZF="TabsTrigger",JF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=c1(ZF,n),l=YF(n),c=nL(o.baseId,r),u=rL(o.baseId,r),d=r===o.value;return a.jsx(RS,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:oe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:oe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:oe(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});JF.displayName=ZF;var eL="TabsContent",tL=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=c1(eL,n),c=nL(l.baseId,r),u=rL(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(rn,{present:s||d,children:({present:h})=>a.jsx(Ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});tL.displayName=eL;function nL(t,e){return`${t}-trigger-${e}`}function rL(t,e){return`${t}-content-${e}`}var Bse=GF,sL=XF,iL=JF,aL=tL;const zse=Bse,oL=p.forwardRef(({className:t,...e},n)=>a.jsx(sL,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));oL.displayName=sL.displayName;const op=p.forwardRef(({className:t,...e},n)=>a.jsx(iL,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));op.displayName=iL.displayName;const lp=p.forwardRef(({className:t,...e},n)=>a.jsx(aL,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));lp.displayName=aL.displayName;var Kg="Switch",[Wse]=yn(Kg),[Hse,qse]=Wse(Kg),lL=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,m]=p.useState(null),y=De(e,b=>m(b)),g=p.useRef(!1),w=h?d||!!h.closest("form"):!0,[x,v]=Zr({prop:s,defaultProp:i??!1,onChange:u,caller:Kg});return a.jsxs(Hse,{scope:n,checked:x,disabled:l,children:[a.jsx(Ne.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":fL(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:oe(t.onClick,b=>{v(S=>!S),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&a.jsx(dL,{control:h,bubbles:!g.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});lL.displayName=Kg;var cL="SwitchThumb",uL=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=qse(cL,n);return a.jsx(Ne.span,{"data-state":fL(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});uL.displayName=cL;var Kse="SwitchBubbleInput",dL=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=p.useRef(null),l=De(o,i),c=_g(n),u=cg(e);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dL.displayName=Kse;function fL(t){return t?"checked":"unchecked"}var hL=lL,Yse=uL;const Yw=p.forwardRef(({className:t,...e},n)=>a.jsx(hL,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(Yse,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yw.displayName=hL.displayName;var Gse=Object.defineProperty,bm=Object.getOwnPropertySymbols,pL=Object.prototype.hasOwnProperty,mL=Object.prototype.propertyIsEnumerable,wT=(t,e,n)=>e in t?Gse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gw=(t,e)=>{for(var n in e||(e={}))pL.call(e,n)&&wT(t,n,e[n]);if(bm)for(var n of bm(e))mL.call(e,n)&&wT(t,n,e[n]);return t},Qw=(t,e)=>{var n={};for(var r in t)pL.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&bm)for(var r of bm(t))e.indexOf(r)<0&&mL.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ro;(t=>{const e=class Be{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Be.MIN_VERSION||c>Be.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let y=0;y<this.size;y++)h.push(!1);for(let y=0;y<this.size;y++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let y=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const w=this.getPenaltyScore();w<y&&(f=g,y=w),this.applyMask(g)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return Be.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return Be.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,m=!0){if(!(Be.MIN_VERSION<=d&&d<=f&&f<=Be.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let y,g;for(y=d;;y++){const b=Be.getNumDataCodewords(y,u)*8,S=o.getTotalBits(c,y);if(S<=b){g=S;break}if(y>=f)throw new RangeError("Data too long")}for(const b of[Be.Ecc.MEDIUM,Be.Ecc.QUARTILE,Be.Ecc.HIGH])m&&g<=Be.getNumDataCodewords(y,b)*8&&(u=b);let w=[];for(const b of c){n(b.mode.modeBits,4,w),n(b.numChars,b.mode.numCharCountBits(y),w);for(const S of b.getData())w.push(S)}s(w.length==g);const x=Be.getNumDataCodewords(y,u)*8;s(w.length<=x),n(0,Math.min(4,x-w.length),w),n(0,(8-w.length%8)%8,w),s(w.length%8==0);for(let b=236;w.length<x;b^=253)n(b,8,w);let v=[];for(;v.length*8<w.length;)v.push(0);return w.forEach((b,S)=>v[S>>>3]|=b<<7-(S&7)),new Be(y,u,v,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=c+f,y=u+d;0<=m&&m<this.size&&0<=y&&y<this.size&&this.setFunctionModule(m,y,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Be.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Be.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Be.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(Be.getNumRawDataModules(u)/8),y=f-m%f,g=Math.floor(m/f);let w=[];const x=Be.reedSolomonComputeDivisor(h);for(let b=0,S=0;b<f;b++){let E=c.slice(S,S+g-h+(b<y?0:1));S+=E.length;const k=Be.reedSolomonComputeRemainder(E,x);b<y&&E.push(0),w.push(E.concat(k))}let v=[];for(let b=0;b<w[0].length;b++)w.forEach((S,E)=>{(b!=g-h||E>=y)&&v.push(S[b])});return s(v.length==m),v}drawCodewords(c){if(c.length!=Math.floor(Be.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,g=(d+1&2)==0?this.size-1-f:f;!this.isFunction[g][m]&&u<c.length*8&&(this.modules[g][m]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let m=!1,y=0,g=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[h][w]==m?(y++,y==5?c+=Be.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,g),m||(c+=this.finderPenaltyCountPatterns(g)*Be.PENALTY_N3),m=this.modules[h][w],y=1);c+=this.finderPenaltyTerminateAndCount(m,y,g)*Be.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,y=0,g=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][h]==m?(y++,y==5?c+=Be.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,g),m||(c+=this.finderPenaltyCountPatterns(g)*Be.PENALTY_N3),m=this.modules[w][h],y=1);c+=this.finderPenaltyTerminateAndCount(m,y,g)*Be.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const y=this.modules[h][m];y==this.modules[h][m+1]&&y==this.modules[h+1][m]&&y==this.modules[h+1][m+1]&&(c+=Be.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,y)=>m+(y?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),c+=f*Be.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Be.MIN_VERSION||c>Be.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Be.getNumRawDataModules(c)/8)-Be.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Be.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=Be.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Be.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((m,y)=>d[y]^=Be.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class Tt{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new Tt(Tt.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Tt.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new Tt(Tt.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Tt.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=Tt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=Tt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(Tt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Tt(Tt.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Tt.isNumeric(c)?[Tt.makeNumeric(c)]:Tt.isAlphanumeric(c)?[Tt.makeAlphanumeric(c)]:[Tt.makeBytes(Tt.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Tt(Tt.Mode.ECI,0,u)}static isNumeric(c){return Tt.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Tt.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(Ro||(Ro={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Ro||(Ro={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Ro||(Ro={}));var gl=Ro;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Qse={L:gl.QrCode.Ecc.LOW,M:gl.QrCode.Ecc.MEDIUM,Q:gl.QrCode.Ecc.QUARTILE,H:gl.QrCode.Ecc.HIGH},gL=128,yL="L",vL="#FFFFFF",xL="#000000",wL=!1,bL=1,Xse=4,Zse=0,Jse=.1;function SL(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push(`M${l+e},${s+e} h1v1H${l+e}z`):n.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}o&&i===null&&(i=l)})}),n.join("")}function CL(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function eie(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*Jse),o=s/e,l=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?t.length/2-l/2:r.x*o,d=r.y==null?t.length/2-c/2:r.y*o,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let y=Math.floor(u),g=Math.floor(d),w=Math.ceil(l+u-y),x=Math.ceil(c+d-g);h={x:y,y:g,w,h:x}}const m=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:m}}function tie(t,e){return e!=null?Math.max(Math.floor(e),0):t?Xse:Zse}function EL({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:l}){let c=re.useMemo(()=>{const y=(Array.isArray(t)?t:[t]).reduce((g,w)=>(g.push(...gl.QrSegment.makeSegments(w)),g),[]);return gl.QrCode.encodeSegments(y,Qse[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=re.useMemo(()=>{let m=c.getModules();const y=tie(r,s),g=m.length+y*2,w=eie(m,o,y,i);return{cells:m,margin:y,numCells:g,calculatedImageSettings:w}},[c,o,i,r,s]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var nie=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),NL=re.forwardRef(function(e,n){const r=e,{value:s,size:i=gL,level:o=yL,bgColor:l=vL,fgColor:c=xL,includeMargin:u=wL,minVersion:d=bL,boostLevel:f,marginSize:h,imageSettings:m}=r,g=Qw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=g,x=Qw(g,["style"]),v=m==null?void 0:m.src,b=re.useRef(null),S=re.useRef(null),E=re.useCallback(D=>{b.current=D,typeof n=="function"?n(D):n&&(n.current=D)},[n]),[k,T]=re.useState(!1),{margin:N,cells:j,numCells:P,calculatedImageSettings:O}=EL({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:i});re.useEffect(()=>{if(b.current!=null){const D=b.current,M=D.getContext("2d");if(!M)return;let V=j;const $=S.current,_=O!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;_&&O.excavation!=null&&(V=CL(j,O.excavation));const R=window.devicePixelRatio||1;D.height=D.width=i*R;const q=i/P*R;M.scale(q,q),M.fillStyle=l,M.fillRect(0,0,P,P),M.fillStyle=c,nie?M.fill(new Path2D(SL(V,N))):j.forEach(function(G,se){G.forEach(function(J,ce){J&&M.fillRect(ce+N,se+N,1,1)})}),O&&(M.globalAlpha=O.opacity),_&&M.drawImage($,O.x+N,O.y+N,O.w,O.h)}}),re.useEffect(()=>{T(!1)},[v]);const I=Gw({height:i,width:i},w);let B=null;return v!=null&&(B=re.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{T(!0)},ref:S,crossOrigin:O==null?void 0:O.crossOrigin})),re.createElement(re.Fragment,null,re.createElement("canvas",Gw({style:I,height:i,width:i,ref:E,role:"img"},x)),B)});NL.displayName="QRCodeCanvas";var rie=re.forwardRef(function(e,n){const r=e,{value:s,size:i=gL,level:o=yL,bgColor:l=vL,fgColor:c=xL,includeMargin:u=wL,minVersion:d=bL,boostLevel:f,title:h,marginSize:m,imageSettings:y}=r,g=Qw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:x,numCells:v,calculatedImageSettings:b}=EL({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:y,size:i});let S=x,E=null;y!=null&&b!=null&&(b.excavation!=null&&(S=CL(x,b.excavation)),E=re.createElement("image",{href:y.src,height:b.h,width:b.w,x:b.x+w,y:b.y+w,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const k=SL(S,w);return re.createElement("svg",Gw({height:i,width:i,viewBox:`0 0 ${v} ${v}`,ref:n,role:"img"},g),!!h&&re.createElement("title",null,h),re.createElement("path",{fill:l,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),re.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),E)});rie.displayName="QRCodeSVG";var sie=Symbol("radix.slottable");function iie(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=sie,e}var jL="AlertDialog",[aie]=yn(jL,[lR]),yi=lR(),TL=t=>{const{__scopeAlertDialog:e,...n}=t,r=yi(e);return a.jsx(I0,{...r,...n,modal:!0})};TL.displayName=jL;var oie="AlertDialogTrigger",lie=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=yi(n);return a.jsx(ER,{...s,...r,ref:e})});lie.displayName=oie;var cie="AlertDialogPortal",kL=t=>{const{__scopeAlertDialog:e,...n}=t,r=yi(e);return a.jsx(M0,{...r,...n})};kL.displayName=cie;var uie="AlertDialogOverlay",PL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=yi(n);return a.jsx(Nf,{...s,...r,ref:e})});PL.displayName=uie;var Al="AlertDialogContent",[die,fie]=aie(Al),hie=iie("AlertDialogContent"),_L=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=yi(n),o=p.useRef(null),l=De(e,o),c=p.useRef(null);return a.jsx(Hz,{contentName:Al,titleName:AL,docsSlug:"alert-dialog",children:a.jsx(die,{scope:n,cancelRef:c,children:a.jsxs(jf,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:oe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(hie,{children:r}),a.jsx(mie,{contentRef:o})]})})})});_L.displayName=Al;var AL="AlertDialogTitle",RL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=yi(n);return a.jsx(Tf,{...s,...r,ref:e})});RL.displayName=AL;var IL="AlertDialogDescription",ML=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=yi(n);return a.jsx(kf,{...s,...r,ref:e})});ML.displayName=IL;var pie="AlertDialogAction",OL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=yi(n);return a.jsx(vg,{...s,...r,ref:e})});OL.displayName=pie;var DL="AlertDialogCancel",FL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=fie(DL,n),i=yi(n),o=De(e,s);return a.jsx(vg,{...i,...r,ref:o})});FL.displayName=DL;var mie=({contentRef:t})=>{const e=`\`${Al}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Al}\` by passing a \`${IL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Al}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},gie=TL,yie=kL,LL=PL,VL=_L,UL=OL,$L=FL,BL=RL,zL=ML;const Xw=gie,vie=yie,WL=p.forwardRef(({className:t,...e},n)=>a.jsx(LL,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));WL.displayName=LL.displayName;const Sm=p.forwardRef(({className:t,...e},n)=>a.jsxs(vie,{children:[a.jsx(WL,{}),a.jsx(VL,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Sm.displayName=VL.displayName;const Cm=({className:t,...e})=>a.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});Cm.displayName="AlertDialogHeader";const Em=({className:t,...e})=>a.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Em.displayName="AlertDialogFooter";const Nm=p.forwardRef(({className:t,...e},n)=>a.jsx(BL,{ref:n,className:ae("text-lg font-semibold",t),...e}));Nm.displayName=BL.displayName;const jm=p.forwardRef(({className:t,...e},n)=>a.jsx(zL,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));jm.displayName=zL.displayName;const Tm=p.forwardRef(({className:t,...e},n)=>a.jsx(UL,{ref:n,className:ae(T0(),t),...e}));Tm.displayName=UL.displayName;const km=p.forwardRef(({className:t,...e},n)=>a.jsx($L,{ref:n,className:ae(T0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));km.displayName=$L.displayName;function xie({restaurantId:t,restaurantName:e}){const{toast:n}=ot(),[r,s]=p.useState(null),[i,o]=p.useState(!1),[l,c]=p.useState(""),{data:u=[],isLoading:d}=tt({queryKey:["/api/restaurant",t,"tables"],enabled:!!t}),f=et({mutationFn:async w=>{await Re("DELETE",`/api/restaurant/${t}/tables/${w}`)},onSuccess:()=>{it.invalidateQueries({queryKey:["/api/restaurant",t,"tables"]}),n({title:"Table Deleted",description:"Table has been removed successfully."}),s(null)}}),h=et({mutationFn:async w=>await Re("POST",`/api/restaurant/${t}/tables`,{tableNumber:w}),onSuccess:()=>{it.invalidateQueries({queryKey:["/api/restaurant",t,"tables"]}),n({title:"Table Added",description:"New table has been created successfully."}),o(!1),c("")}}),m=w=>`${window.location.origin}/menu/${t}?table=${w}`,y=(w,x)=>{const v=document.getElementById(`qr-code-${w}`);if(v){const b=v.toDataURL("image/png"),S=document.createElement("a");S.download=`${e}-table-${x}-qr.png`,S.href=b,S.click(),n({title:"QR Code Downloaded",description:`Table ${x} QR code has been saved.`})}},g=()=>{l.trim()&&h.mutate(l.trim())};return d?a.jsx(ge,{className:"p-6",children:"Loading tables..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Table QR Codes"}),a.jsxs(X,{onClick:()=>o(!0),size:"sm",className:"gap-2","data-testid":"button-add-table",children:[a.jsx(Co,{className:"h-4 w-4"}),"Add Table"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(w=>a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsxs("h4",{className:"font-medium",children:["Table ",w.tableNumber]}),a.jsx("div",{className:"bg-white p-2 rounded-lg",children:a.jsx(NL,{id:`qr-code-${w.id}`,value:m(w.tableNumber),size:150,level:"H",includeMargin:!0})}),a.jsx("p",{className:"text-xs text-muted-foreground text-center break-all",children:m(w.tableNumber)}),a.jsxs("div",{className:"flex gap-2 w-full",children:[a.jsxs(X,{variant:"outline",size:"sm",className:"flex-1 gap-1",onClick:()=>y(w.id,w.tableNumber),"data-testid":`button-download-qr-${w.id}`,children:[a.jsx(sg,{className:"h-3 w-3"}),"Download"]}),a.jsx(X,{variant:"outline",size:"sm",onClick:()=>s(w.id),"data-testid":`button-delete-table-${w.id}`,children:a.jsx(Cf,{className:"h-3 w-3"})})]})]})},w.id))}),a.jsx(Xw,{open:i,onOpenChange:o,children:a.jsxs(Sm,{children:[a.jsxs(Cm,{children:[a.jsx(Nm,{children:"Add New Table"}),a.jsx(jm,{children:"Enter a number or name for the new table."})]}),a.jsxs("div",{className:"py-4",children:[a.jsx(Je,{htmlFor:"tableNumber",children:"Table Number"}),a.jsx(qe,{id:"tableNumber",value:l,onChange:w=>c(w.target.value),placeholder:"e.g., 4, A1, VIP-1","data-testid":"input-table-number"})]}),a.jsxs(Em,{children:[a.jsx(km,{"data-testid":"button-cancel-add",children:"Cancel"}),a.jsx(Tm,{onClick:g,disabled:!l.trim()||h.isPending,"data-testid":"button-confirm-add",children:h.isPending?"Adding...":"Add Table"})]})]})}),a.jsx(Xw,{open:!!r,onOpenChange:()=>s(null),children:a.jsxs(Sm,{children:[a.jsxs(Cm,{children:[a.jsx(Nm,{children:"Delete Table"}),a.jsx(jm,{children:"Are you sure you want to delete this table? This action cannot be undone."})]}),a.jsxs(Em,{children:[a.jsx(km,{"data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx(Tm,{onClick:()=>r&&f.mutate(r),disabled:f.isPending,"data-testid":"button-confirm-delete",children:f.isPending?"Deleting...":"Delete"})]})]})})]})}const wie=["Nigeria","Ghana","Kenya","South Africa"],bie=["United Arab Emirates","UAE","Saudi Arabia","Kuwait","Qatar","Bahrain","Oman","Jordan","Lebanon","Egypt"],Sie=["China","Japan","South Korea","Singapore","Malaysia","Thailand","Indonesia","Philippines","Vietnam","India","Pakistan","Bangladesh","Taiwan","Hong Kong"];function Cie(t){if(!t)return"stripe";const e=t.trim();return wie.some(n=>e.toLowerCase().includes(n.toLowerCase()))?"paystack":bie.some(n=>e.toLowerCase().includes(n.toLowerCase()))?"telr":Sie.some(n=>e.toLowerCase().includes(n.toLowerCase()))?"adyen":"stripe"}function Eie(t){switch(t){case"stripe":return"Stripe";case"paystack":return"Paystack";case"telr":return"Telr";case"adyen":return"Adyen";default:return"Stripe"}}function Nie(t){switch(t){case"stripe":return"US/Europe/Global";case"paystack":return"Nigeria/West Africa";case"telr":return"Middle East";case"adyen":return"Asia";default:return"Global"}}function jie(t){const e=Cie(t);return{gateway:e,name:Eie(e),region:Nie(e)}}function Tie(t,e){switch(e){case"stripe":return!!t.stripeOnboardingComplete;case"paystack":return!!t.paystackOnboardingComplete;case"telr":return!!t.telrOnboardingComplete;case"adyen":return!!t.adyenOnboardingComplete;default:return!1}}function kie({restaurant:t}){const{toast:e}=ot(),[n]=ks(),[r,s]=p.useState(!1),i=et({mutationFn:async()=>(await Re("POST","/api/stripe/connect-account")).json(),onSuccess:()=>{e({title:"Stripe Account Created",description:"Now let's complete the onboarding process."}),o.mutate()},onError:()=>{e({title:"Error",description:"Failed to create Stripe account",variant:"destructive"}),s(!1)}}),o=et({mutationFn:async()=>(await Re("POST","/api/stripe/onboarding-link")).json(),onSuccess:f=>{f.url&&(window.location.href=f.url)},onError:()=>{e({title:"Error",description:"Failed to get onboarding link",variant:"destructive"}),s(!1)}}),l=et({mutationFn:async()=>(await Re("GET","/api/stripe/account-status")).json(),onSuccess:f=>{f.isComplete?(e({title:"Success!",description:"Your Stripe account is now active and ready to accept payments"}),it.invalidateQueries({queryKey:["/api/restaurant"]})):e({title:"Onboarding Incomplete",description:"Please complete the Stripe onboarding process",variant:"destructive"})},onError:()=>{e({title:"Error",description:"Failed to check account status",variant:"destructive"})}});p.useEffect(()=>{n.includes("stripe_refresh=true")&&t.stripeAccountId&&l.mutate()},[n]);const c=()=>{s(!0),t.stripeAccountId?o.mutate():i.mutate()},u=i.isPending||o.isPending||r,d=l.isPending;return a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{onClick:c,disabled:u||d,className:"gap-2","data-testid":"button-setup-stripe",children:u?"Loading...":a.jsxs(a.Fragment,{children:[a.jsx(M$,{className:"h-4 w-4"}),t.stripeAccountId?"Continue Onboarding":"Set Up Stripe Payments"]})}),t.stripeAccountId&&a.jsx(X,{variant:"outline",onClick:()=>l.mutate(),disabled:u||d,className:"gap-2","data-testid":"button-refresh-stripe-status",children:d?"Checking...":a.jsxs(a.Fragment,{children:[a.jsx(Y$,{className:"h-4 w-4"}),"Refresh Status"]})})]})})}function Pie({restaurant:t}){var d;const{toast:e}=ot(),[n,r]=p.useState(t.paystackBankCode||""),[s,i]=p.useState(t.paystackAccountNumber||""),{data:o}=tt({queryKey:["/api/paystack/banks"],queryFn:async()=>{const h=await fetch("http://localhost:3005/dev/api/paystack/banks",{credentials:"include"});if(!h.ok)throw new Error("Failed to fetch banks");return h.json()}}),l=et({mutationFn:async()=>(await Re("POST","/api/paystack/create-subaccount",{bankCode:n,accountNumber:s})).json(),onSuccess:f=>{e({title:"Success!",description:`Paystack subaccount created for ${f.accountName}`}),it.invalidateQueries({queryKey:["/api/restaurant"]})},onError:f=>{e({title:"Error",description:f.message||"Failed to create Paystack subaccount",variant:"destructive"})}}),c=()=>{if(!n||!s){e({title:"Missing Information",description:"Please select a bank and enter your account number",variant:"destructive"});return}if(!/^\d{10}$/.test(s)){e({title:"Invalid Account Number",description:"Nigerian bank account numbers must be exactly 10 digits",variant:"destructive"});return}l.mutate()},u=l.isPending;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"bank","data-testid":"label-paystack-bank",children:"Bank"}),a.jsxs(ym,{value:n,onValueChange:r,disabled:u||!!t.paystackSubaccountCode,children:[a.jsx(Ud,{id:"bank","data-testid":"select-paystack-bank",children:a.jsx(vm,{placeholder:"Select your bank"})}),a.jsx($d,{children:(d=o==null?void 0:o.banks)==null?void 0:d.map(f=>a.jsx(ms,{value:f.code,"data-testid":`option-bank-${f.code}`,children:f.name},f.code))})]})]}),a.jsxs("div",{children:[a.jsx(Je,{htmlFor:"accountNumber","data-testid":"label-paystack-account",children:"Account Number"}),a.jsx(qe,{id:"accountNumber",type:"text",placeholder:"0123456789",maxLength:10,value:s,onChange:f=>i(f.target.value.replace(/\D/g,"")),disabled:u||!!t.paystackSubaccountCode,"data-testid":"input-paystack-account"})]}),t.paystackAccountName&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Account Name: ",a.jsx("span",{className:"font-medium",children:t.paystackAccountName})]})]}),!t.paystackSubaccountCode&&a.jsx(X,{onClick:c,disabled:u||!n||!s,className:"gap-2","data-testid":"button-setup-paystack",children:u?"Creating Subaccount...":"Set Up Paystack Payments"})]})}function bT({gatewayName:t}){return a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx(V$,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"API Keys Required"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t," integration is ready. Add your API keys to enable payments."]})]})]})}function _ie({restaurant:t}){const e=jie(t.country),n=Tie(t,e.gateway);return a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Payment Processing"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Recommended gateway for ",t.country||"your region",": ",a.jsx("span",{className:"font-medium",children:e.name})," (",e.region,")"]})]}),n?a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx(fa,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Connected"}),a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Your ",e.name," account is active and ready to accept payments"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 dark:bg-amber-950 rounded-lg border border-amber-200 dark:border-amber-800",children:[a.jsx(rg,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Action Required"}),a.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:["Complete ",e.name," onboarding to accept online payments"]})]})]}),e.gateway==="stripe"&&a.jsx(kie,{restaurant:t}),e.gateway==="paystack"&&a.jsx(Pie,{restaurant:t}),e.gateway==="telr"&&a.jsx(bT,{gatewayName:"Telr"}),e.gateway==="adyen"&&a.jsx(bT,{gatewayName:"Adyen"})]})]})})}function Aie({restaurant:t}){const{toast:e}=ot(),{formatCurrency:n}=Ft(),[r,s]=p.useState(!1),i=t.subscriptionStatus==="trialing",o=t.subscriptionStatus==="active",l=t.trialEndsAt?new Date(t.trialEndsAt):null,c=t.currentPeriodEnd?new Date(t.currentPeriodEnd):null,{data:u}=tt({queryKey:["/api/subscription/status"],enabled:i||o}),d=(u==null?void 0:u.aiUsageCount)||0,f=(u==null?void 0:u.currentMonthUsage)||0,h=f*1,m=d*1,y=et({mutationFn:async()=>(await Re("POST","/api/subscription/cancel")).json(),onSuccess:async()=>{it.invalidateQueries({queryKey:["/api/restaurant"]}),it.invalidateQueries({queryKey:["/api/subscription/status"]}),e({title:"Subscription Cancelled",description:"Your subscription has been cancelled and your account will be deleted."});try{await Nd()}catch(g){console.error("Error signing out:",g)}setTimeout(()=>{window.location.href="/"},2e3)},onError:g=>{e({title:"Error",description:g.message,variant:"destructive"})}});return a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Subscription"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your current subscription status"})]}),i&&l&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx(So,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Money-Back Guarantee Period"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Full refund available until ",ti(l,"MMMM d, yyyy")]}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"$50/month + AI usage fees"})]})]}),o&&c&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx(fa,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Active Subscription"}),a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["$50/month + AI usage  Renews on ",ti(c,"MMMM d, yyyy")]})]})]}),!i&&!o&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 dark:bg-amber-950 rounded-lg border border-amber-200 dark:border-amber-800",children:[a.jsx(Cl,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Subscription Required"}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Subscribe to continue accepting orders  $50/month + AI usage"})]}),a.jsx(md,{href:"/subscribe",children:a.jsx(X,{size:"sm","data-testid":"button-subscribe",children:"Subscribe"})})]}),(i||o)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ho,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("h4",{className:"text-sm font-medium",children:"AI Waiter Usage"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"This Month"}),a.jsx("p",{className:"text-2xl font-bold","data-testid":"text-usage-month",children:f.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"API calls"}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Px,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("p",{className:"text-sm font-medium","data-testid":"text-cost-month",children:n(h)})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"All Time"}),a.jsx("p",{className:"text-2xl font-bold","data-testid":"text-usage-total",children:d.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"API calls"}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Px,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("p",{className:"text-sm font-medium","data-testid":"text-cost-total",children:n(m)})]})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs(X,{variant:"destructive",size:"sm",onClick:()=>s(!0),disabled:y.isPending,"data-testid":"button-cancel-subscription",children:[a.jsx(e5,{className:"h-4 w-4 mr-2"}),"Cancel Subscription"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Cancelling your subscription will delete your restaurant and all data"})]})]})]}),a.jsx(Xw,{open:r,onOpenChange:s,children:a.jsxs(Sm,{children:[a.jsxs(Cm,{children:[a.jsx(Nm,{children:"Cancel Subscription & Delete Account?"}),a.jsxs(jm,{children:["This action cannot be undone. Cancelling your subscription will:",a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Immediately cancel your Stripe subscription"}),a.jsx("li",{children:"Delete your restaurant and all menu items"}),a.jsx("li",{children:"Delete all orders and customer data"}),a.jsx("li",{children:"Remove all QR codes and analytics"})]}),a.jsx("p",{className:"mt-3 font-semibold",children:"Are you sure you want to proceed?"})]})]}),a.jsxs(Em,{children:[a.jsx(km,{"data-testid":"button-cancel-dialog-no",children:"Keep Subscription"}),a.jsx(Tm,{onClick:()=>y.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-cancel-dialog-yes",children:"Yes, Cancel & Delete Everything"})]})]})})]})}function Rie({restaurantId:t}){const{toast:e}=ot(),[n,r]=p.useState(null),[s,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),{data:d=[],isLoading:f}=tt({queryKey:["/api/faqs"]}),h=et({mutationFn:async({id:x,data:v})=>(await Re("PUT",`/api/faqs/${x}`,v)).json(),onSuccess:()=>{it.invalidateQueries({queryKey:["/api/faqs"]}),r(null),e({title:"Success",description:"FAQ updated successfully"})},onError:x=>{e({title:"Error",description:x.message,variant:"destructive"})}}),m=et({mutationFn:async x=>{await Re("DELETE",`/api/faqs/${x}`)},onSuccess:()=>{it.invalidateQueries({queryKey:["/api/faqs"]}),e({title:"Success",description:"FAQ deleted successfully"})},onError:x=>{e({title:"Error",description:x.message,variant:"destructive"})}}),y=x=>{r(x),i(x.question),l(x.answer),u((x.keywords||[]).join(", "))},g=()=>{if(!n)return;const x=c.split(",").map(v=>v.trim()).filter(v=>v.length>0);h.mutate({id:n.id,data:{question:s,answer:o,keywords:x}})},w=x=>{confirm("Are you sure you want to delete this FAQ? This cannot be undone.")&&m.mutate(x)};return f?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"text-muted-foreground",children:"Loading FAQs..."})}):d.length===0?a.jsxs(ge,{"data-testid":"card-faq-empty",children:[a.jsx(pr,{children:a.jsx(mr,{children:"FAQ Knowledge Base"})}),a.jsx(Fn,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{className:"mb-2",children:"No FAQs yet"}),a.jsx("p",{className:"text-sm",children:"FAQs are automatically created when you answer customer questions. They help the AI Waiter provide faster, more accurate responses."})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold","data-testid":"text-faq-title",children:"FAQ Knowledge Base"}),a.jsxs(Ke,{variant:"secondary","data-testid":"badge-faq-count",children:[d.length," ",d.length===1?"FAQ":"FAQs"]})]}),a.jsx("div",{className:"space-y-3",children:d.map(x=>a.jsx(ge,{className:"hover-elevate","data-testid":`card-faq-${x.id}`,children:a.jsx(Fn,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-muted-foreground",children:"Question"}),a.jsx("p",{className:"font-medium","data-testid":`text-question-${x.id}`,children:x.question})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-muted-foreground",children:"Answer"}),a.jsx("p",{className:"text-sm","data-testid":`text-answer-${x.id}`,children:x.answer})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{size:"icon",variant:"ghost",onClick:()=>y(x),"data-testid":`button-edit-${x.id}`,children:a.jsx(H$,{className:"w-4 h-4"})}),a.jsx(X,{size:"icon",variant:"ghost",onClick:()=>w(x.id),disabled:m.isPending,"data-testid":`button-delete-${x.id}`,children:a.jsx(Cf,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Keywords:"}),(x.keywords||[]).map((v,b)=>a.jsx(Ke,{variant:"outline",className:"text-xs","data-testid":`badge-keyword-${x.id}-${b}`,children:v},b))]}),a.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground",children:a.jsxs("span",{"data-testid":`text-usage-${x.id}`,children:["Used ",x.usageCount||0," times"]})})]})})},x.id))})]}),a.jsx(En,{open:!!n,onOpenChange:x=>!x&&r(null),children:a.jsxs(fn,{className:"max-w-2xl","data-testid":"dialog-edit-faq",children:[a.jsx(Nn,{children:a.jsx(hn,{children:"Edit FAQ"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Question"}),a.jsx(br,{value:s,onChange:x=>i(x.target.value),placeholder:"Enter the question...",className:"min-h-[60px]","data-testid":"input-edit-question"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Answer"}),a.jsx(br,{value:o,onChange:x=>l(x.target.value),placeholder:"Enter the answer...",className:"min-h-[100px]","data-testid":"input-edit-answer"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Keywords (comma-separated)"}),a.jsx(qe,{value:c,onChange:x=>u(x.target.value),placeholder:"e.g., gluten, allergen, vegan, spicy","data-testid":"input-edit-keywords"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keywords help the AI match customer questions to this FAQ"})]})]}),a.jsxs(ma,{children:[a.jsx(X,{variant:"outline",onClick:()=>r(null),"data-testid":"button-cancel-edit",children:"Cancel"}),a.jsx(X,{onClick:g,disabled:h.isPending||!s.trim()||!o.trim(),"data-testid":"button-save-faq",children:h.isPending?"Saving...":"Save Changes"})]})]})})]})}function Iie({restaurantId:t}){const[e,n]=p.useState("all"),{data:r=[],isLoading:s}=tt({queryKey:[`/api/restaurants/${t}/ratings`],enabled:!!t}),{data:i=[],isLoading:o}=tt({queryKey:[`/api/menu-items?restaurantId=${t}`],enabled:!!t}),l=r.filter(b=>b.itemRating!==null&&b.menuItemId),c=r.filter(b=>b.serviceRatings&&!b.menuItemId),u=l.length>0?l.reduce((b,S)=>b+(S.itemRating||0),0)/l.length:0,d=new Map;l.forEach(b=>{if(b.menuItemId&&b.itemRating){const S=i.find(E=>E.id===b.menuItemId);S&&(d.has(b.menuItemId)||d.set(b.menuItemId,{ratings:[],name:S.name}),d.get(b.menuItemId).ratings.push(b.itemRating))}});const f=Array.from(d.entries()).map(([b,S])=>({id:b,name:S.name,averageRating:S.ratings.reduce((E,k)=>E+k,0)/S.ratings.length,totalRatings:S.ratings.length})).sort((b,S)=>S.averageRating-b.averageRating),h=b=>{const S=c.map(E=>{var k;return(k=E.serviceRatings)==null?void 0:k[b]}).filter(E=>E!==void 0);return S.length>0?S.reduce((E,k)=>E+k,0)/S.length:0},m=h("foodQuality"),y=h("serviceSpeed"),g=h("cleanliness"),w=h("staffFriendliness"),x=e==="all"?r:e==="items"?l:c,v=b=>a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(S=>a.jsx(vd,{className:`h-4 w-4 ${S<=b?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},S))});return s||o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-analytics"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(ge,{className:"p-4","data-testid":"card-total-ratings",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(Dp,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Ratings"}),a.jsx("p",{className:"text-2xl font-bold",children:r.length})]})]})}),a.jsx(ge,{className:"p-4","data-testid":"card-avg-item-rating",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:a.jsx(YC,{className:"h-5 w-5 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Item Rating"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-2xl font-bold",children:u.toFixed(1)}),a.jsx(vd,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]})]})]})}),a.jsx(ge,{className:"p-4","data-testid":"card-item-ratings",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:a.jsx(iA,{className:"h-5 w-5 text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Item Ratings"}),a.jsx("p",{className:"text-2xl font-bold",children:l.length})]})]})}),a.jsx(ge,{className:"p-4","data-testid":"card-service-ratings",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:a.jsx(KC,{className:"h-5 w-5 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Ratings"}),a.jsx("p",{className:"text-2xl font-bold",children:c.length})]})]})})]}),f.length>0&&a.jsxs(ge,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Menu Item Ratings"}),a.jsx("div",{className:"space-y-3",children:f.map(b=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium","data-testid":`text-menu-item-${b.id}`,children:b.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.totalRatings," rating",b.totalRatings!==1?"s":""]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-bold","data-testid":`text-avg-rating-${b.id}`,children:b.averageRating.toFixed(1)}),v(Math.round(b.averageRating))]})]},b.id))})]}),c.length>0&&a.jsxs(ge,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Service Quality Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Food Quality"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:m.toFixed(1)}),v(Math.round(m))]})]}),a.jsx(Kt,{})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Service Speed"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:y.toFixed(1)}),v(Math.round(y))]})]}),a.jsx(Kt,{})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Cleanliness"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:g.toFixed(1)}),v(Math.round(g))]})]}),a.jsx(Kt,{})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Staff Friendliness"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:w.toFixed(1)}),v(Math.round(w))]})]}),a.jsx(Kt,{})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium",children:"Filter:"}),a.jsx(X,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),"data-testid":"button-filter-all",children:"All Ratings"}),a.jsxs(X,{variant:e==="items"?"default":"outline",size:"sm",onClick:()=>n("items"),"data-testid":"button-filter-items",children:["Menu Items (",l.length,")"]}),a.jsxs(X,{variant:e==="service"?"default":"outline",size:"sm",onClick:()=>n("service"),"data-testid":"button-filter-service",children:["Service (",c.length,")"]})]}),x.length===0?a.jsxs(ge,{className:"p-12 text-center",children:[a.jsx(Dp,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Ratings Yet"}),a.jsx("p",{className:"text-muted-foreground",children:e==="all"?"No ratings have been submitted yet":e==="items"?"No menu item ratings yet":"No service ratings yet"})]}):a.jsx("div",{className:"space-y-4",children:x.map(b=>a.jsx(ge,{className:"p-4","data-testid":`card-rating-${b.id}`,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[b.menuItemId&&b.itemRating&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ke,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(YC,{className:"h-3 w-3"}),"Menu Item"]}),v(b.itemRating)]}),b.serviceRatings&&a.jsxs(Ke,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(KC,{className:"h-3 w-3"}),"Service Rating"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(So,{className:"h-3 w-3"}),ti(new Date(b.createdAt),"MMM d, yyyy")]})]}),b.serviceRatings&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-muted rounded-md",children:[b.serviceRatings.foodQuality&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Food Quality"}),v(b.serviceRatings.foodQuality)]}),b.serviceRatings.serviceSpeed&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Service Speed"}),v(b.serviceRatings.serviceSpeed)]}),b.serviceRatings.cleanliness&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Cleanliness"}),v(b.serviceRatings.cleanliness)]}),b.serviceRatings.staffFriendliness&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Staff Friendliness"}),v(b.serviceRatings.staffFriendliness)]})]}),b.comment&&a.jsx("div",{className:"p-3 bg-muted rounded-md",children:a.jsxs("p",{className:"text-sm italic","data-testid":`text-comment-${b.id}`,children:['"',b.comment,'"']})})]})},b.id))})]})}function Mie(){const[,t]=ks(),{user:e,isLoading:n}=Cg(),{toast:r}=ot(),[s,i]=p.useState("settings"),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,m]=p.useState(!0),[y,g]=p.useState(!1),[w,x]=p.useState("week"),{data:v,isLoading:b,error:S}=tt({queryKey:["/api/restaurant"],enabled:!!e}),{data:E,isLoading:k}=tt({queryKey:["/api/analytics/stats",w],queryFn:async()=>{const V=await fetch(`http://localhost:3005/dev/api/analytics/stats?period=${w}`);if(!V.ok)throw new Error("Failed to fetch analytics");return V.json()},enabled:!!e&&!!v}),T=et({mutationFn:async M=>(await Re("POST","/api/admin/password/set",M)).json(),onSuccess:()=>{r({title:"Success",description:"Admin password updated successfully"}),l(""),u(""),f("")},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}}),N=et({mutationFn:async M=>(await Re("PUT","/api/admin/settings/ai-waiter",{enabled:M})).json(),onSuccess:(M,V)=>{it.invalidateQueries({queryKey:["/api/restaurant"]}),r({title:"Success",description:`AI Waiter ${V?"enabled":"disabled"} successfully`})},onError:(M,V)=>{r({title:"Error",description:M.message,variant:"destructive"}),m(!V)}}),j=et({mutationFn:async M=>(await Re("PUT","/api/admin/settings/auto-print",{enabled:M})).json(),onSuccess:(M,V)=>{it.invalidateQueries({queryKey:["/api/restaurant"]}),r({title:"Success",description:`Auto-print ${V?"enabled":"disabled"} successfully`})},onError:(M,V)=>{r({title:"Error",description:M.message,variant:"destructive"}),g(!V)}}),P=et({mutationFn:async M=>(await Re("PUT",`/api/restaurant/${v==null?void 0:v.id}`,M)).json(),onSuccess:()=>{it.invalidateQueries({queryKey:["/api/restaurant"]}),r({title:"Success",description:"Restaurant information updated successfully"})},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}});et({mutationFn:async()=>{await Re("DELETE",`/api/restaurant/${v==null?void 0:v.id}`)},onSuccess:async()=>{r({title:"Restaurant Deleted",description:"Your restaurant has been permanently deleted"});try{await Nd()}catch(M){console.error("Error signing out:",M)}window.location.href="/"},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}});const O=et({mutationFn:async()=>{await Re("DELETE","/api/auth/delete-account")},onSuccess:async()=>{r({title:"Account Deleted",description:"Your account has been permanently deleted"});try{await Nd()}catch(M){console.error("Error signing out:",M)}window.location.href="/"},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}});p.useEffect(()=>{v&&(m(v.aiWaiterEnabled??!0),g(v.autoPrintOrders??!1))},[v]);const I=M=>{if(M.preventDefault(),!d){r({title:"Error",description:"Current passcode is required",variant:"destructive"});return}if(o!==c){r({title:"Error",description:"Passcodes do not match",variant:"destructive"});return}if(o.length!==6||!/^\d{6}$/.test(o)){r({title:"Error",description:"New passcode must be exactly 6 digits",variant:"destructive"});return}T.mutate({password:o,currentPassword:d})},B=M=>{m(M),N.mutate(M)},D=M=>{g(M),j.mutate(M)};return S&&KF(S)?(t("/"),null):n||b?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-admin"})}):!e||!v?(t("/"),null):a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx("header",{className:"border-b p-4",children:a.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t("/dashboard"),"data-testid":"button-back-dashboard",title:"Back to Dashboard",children:a.jsx(P$,{className:"h-5 w-5"})}),a.jsx("img",{src:jo,alt:"Waiterix",className:"h-8 w-8","data-testid":"img-waiterix-logo"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold",children:"Admin Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.name})]})]})})}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs(zse,{value:s,onValueChange:i,className:"space-y-6",children:[a.jsxs(oL,{className:"grid w-full max-w-2xl grid-cols-3","data-testid":"tabs-admin",children:[a.jsxs(op,{value:"settings","data-testid":"tab-settings",children:[a.jsx(c0,{className:"h-4 w-4 mr-2"}),"Settings"]}),a.jsxs(op,{value:"knowledge","data-testid":"tab-knowledge",children:[a.jsx(_$,{className:"h-4 w-4 mr-2"}),"Knowledge"]}),a.jsxs(op,{value:"analytics","data-testid":"tab-analytics",children:[a.jsx(kx,{className:"h-4 w-4 mr-2"}),"Analytics"]})]}),a.jsxs(lp,{value:"settings",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(_ie,{restaurant:v}),a.jsx(Aie,{restaurant:v})]}),a.jsx(ge,{className:"p-6",children:a.jsx(xie,{restaurantId:v.id,restaurantName:v.name})}),a.jsxs("div",{className:"max-w-2xl",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Restaurant Information"}),a.jsx(wF,{restaurantId:v.id,initialData:{name:v.name,description:v.description||"",address:v.address||"",city:v.city||"",country:v.country||"",phone:v.phone||"",hours:v.hours||"",coverImageUrl:v.coverImageUrl||"",defaultLanguage:v.defaultLanguage||"en"},onSubmit:M=>P.mutate(M),showSecurityFields:!1})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Change Admin Passcode"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Change the passcode required to access admin settings and analytics."}),a.jsxs("form",{onSubmit:I,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"current-password",children:"Current Passcode *"}),a.jsx(qe,{id:"current-password",type:"password",inputMode:"numeric",placeholder:"Enter current passcode",value:d,onChange:M=>f(M.target.value),required:!0,"data-testid":"input-current-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"new-password",children:"New Passcode (6 digits) *"}),a.jsx(qe,{id:"new-password",type:"password",inputMode:"numeric",placeholder:"Enter new passcode",value:o,onChange:M=>l(M.target.value),required:!0,"data-testid":"input-new-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"confirm-password",children:"Confirm New Passcode *"}),a.jsx(qe,{id:"confirm-password",type:"password",inputMode:"numeric",placeholder:"Confirm new passcode",value:c,onChange:M=>u(M.target.value),required:!0,"data-testid":"input-confirm-password"})]}),a.jsx(X,{type:"submit",disabled:T.isPending||!o||!c||!d,"data-testid":"button-save-password",children:T.isPending?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sA,{className:"h-4 w-4 mr-2"}),"Change Passcode"]})})]})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"AI Waiter"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Enable or disable the AI Waiter feature for your restaurant's customer menu."}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"AI Waiter Status"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:h?"AI assistance is active":"AI assistance is disabled"})]}),a.jsx(Yw,{checked:h,onCheckedChange:B,disabled:N.isPending,"data-testid":"switch-ai-waiter"})]})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Auto-Print Orders"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Automatically print new orders as they arrive. When enabled, your browser will show the print dialog for each new order."}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Auto-Print Status"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y?"Orders will print automatically":"Manual printing only"})]}),a.jsx(Yw,{checked:y,onCheckedChange:D,disabled:j.isPending,"data-testid":"switch-auto-print"})]})]}),a.jsx(ge,{className:"max-w-2xl border-destructive/50",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-destructive",children:"Danger Zone"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Irreversible action that will permanently delete your data."})]}),a.jsx("div",{className:"space-y-3 pt-3 border-t",children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Permanently delete your entire account, including all restaurants, menu items, orders, and personal data. This cannot be undone."}),a.jsxs(X,{variant:"destructive",onClick:()=>{confirm(` FINAL WARNING 

This will permanently delete your ENTIRE ACCOUNT including:
- All restaurants
- All menu items
- All orders and customer data
- All personal information

This action is IRREVERSIBLE and cannot be undone.

Are you absolutely certain you want to proceed?`)&&confirm("Type DELETE in the next prompt to confirm account deletion")&&(prompt("Type DELETE (in capital letters) to confirm:")==="DELETE"?O.mutate():r({title:"Cancelled",description:"Account deletion cancelled."}))},"data-testid":"button-delete-account",children:[a.jsx(Cf,{className:"h-4 w-4 mr-2"}),"Delete Account Permanently"]})]})})]})})]}),a.jsx(lp,{value:"knowledge",className:"space-y-6",children:a.jsx(Rie,{restaurantId:v.id})}),a.jsxs(lp,{value:"analytics",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{variant:w==="week"?"default":"outline",size:"sm",onClick:()=>x("week"),"data-testid":"button-range-week",children:"This Week"}),a.jsx(X,{variant:w==="lifetime"?"default":"outline",size:"sm",onClick:()=>x("lifetime"),"data-testid":"button-range-lifetime",children:"Lifetime"})]})]}),k?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-analytics"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ge,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Table Scans"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold","data-testid":"text-total-scans",children:(E==null?void 0:E.tableScans.totalScans)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total QR scans"})]}),(E==null?void 0:E.tableScans.scansByTable)&&E.tableScans.scansByTable.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"By Table:"}),E.tableScans.scansByTable.map(M=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm","data-testid":`text-table-${M.tableNumber}`,children:["Table ",M.tableNumber]}),a.jsxs("span",{className:"text-sm font-medium","data-testid":`text-table-${M.tableNumber}-scans`,children:[M.count," scans"]})]},M.tableNumber))]})]})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Usage"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold","data-testid":"text-total-api-calls",children:(E==null?void 0:E.aiCalls.totalCalls)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total AI API calls"})]}),(E==null?void 0:E.aiCalls.callsByType)&&E.aiCalls.callsByType.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"By Type:"}),E.aiCalls.callsByType.map(M=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm capitalize","data-testid":`text-api-${M.callType}`,children:M.callType.replace(/_/g," ")}),a.jsxs("span",{className:"text-sm font-medium","data-testid":`text-api-${M.callType}-count`,children:[M.count," calls"]})]},M.callType))]})]})]})]}),!(E!=null&&E.tableScans.totalScans)&&!(E!=null&&E.aiCalls.totalCalls)&&a.jsx(ge,{className:"p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(kx,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-lg font-medium",children:"No analytics data yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Data will appear here once customers start using your menu"})]})})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Customer Ratings & Feedback"}),v&&a.jsx(Iie,{restaurantId:v.id})]})]})]})})})]})}function Oie(){const[,t]=ks(),{toast:e}=ot();p.useEffect(()=>{new URLSearchParams(window.location.search).get("canceled")==="true"&&(e({variant:"destructive",title:"Payment canceled",description:"You can try again when you're ready."}),window.history.replaceState({},"","/subscribe"))},[e]);const{data:n,isLoading:r,error:s}=tt({queryKey:["/api/subscription/create"],queryFn:async()=>{const i=await Re("POST","/api/subscription/create");if(!i.ok){const o=await i.json().catch(()=>({message:"Failed to create checkout session"}));throw new Error(o.message||"Failed to create checkout session")}return i.json()},retry:!1});return p.useEffect(()=>{n!=null&&n.alreadyActive?t("/dashboard"):n!=null&&n.checkoutUrl&&(window.location.href=n.checkoutUrl)},[n,t]),r?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(ge,{className:"w-full",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(Cl,{className:"h-6 w-6"}),"Subscribe to Waiterix"]}),a.jsx(xs,{children:"Setting up your subscription..."})]}),a.jsxs(Fn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(We,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loader-subscription"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Preparing checkout..."})]})]})}):s?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(ge,{className:"w-full",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(Cl,{className:"h-6 w-6"}),"Subscribe to Waiterix"]}),a.jsx(xs,{children:"$50/month + AI usage ($0.10 per request)"})]}),a.jsxs(Fn,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-destructive/10 text-destructive p-4 rounded-md",children:[a.jsx("p",{className:"font-medium",children:"Error creating checkout session"}),a.jsx("p",{className:"text-sm mt-1",children:s instanceof Error?s.message:"An unexpected error occurred"})]}),a.jsx(X,{variant:"outline",onClick:()=>t("/dashboard"),"data-testid":"button-back-dashboard",children:"Back to Dashboard"})]})]})}):a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(ge,{className:"w-full",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(Cl,{className:"h-6 w-6"}),"Subscribe to Waiterix"]}),a.jsx(xs,{children:"Redirecting to secure checkout..."})]}),a.jsxs(Fn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(We,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loader-redirect"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait..."})]})]})})}function ST(){const[,t]=ks(),{toast:e}=ot(),r=new URLSearchParams(window.location.search).get("session_id"),{data:s,isLoading:i,error:o}=tt({queryKey:["/api/subscription/checkout-success",r],queryFn:async()=>{const c=await fetch(`http://localhost:3005/dev/api/subscription/checkout-success?session_id=${r}`,{credentials:"include"});if(!c.ok){const u=await c.json().catch(()=>({message:"Failed to verify payment"}));throw new Error(u.message||"Failed to verify payment")}return c.json()},retry:!1,enabled:!!r});return p.useEffect(()=>{s!=null&&s.success&&(e({title:"Welcome to Waiterix!",description:"Your subscription is now active."}),setTimeout(()=>{t("/dashboard")},2e3))},[s,t,e]),r?i?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(ge,{className:"w-full",children:[a.jsxs(pr,{children:[a.jsx(mr,{children:"Payment Successful!"}),a.jsx(xs,{children:"Activating your subscription..."})]}),a.jsxs(Fn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(We,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loader-activating"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we set up your account..."})]})]})}):o?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(ge,{className:"w-full",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(WC,{className:"h-6 w-6 text-destructive"}),"Activation Failed"]}),a.jsx(xs,{children:"We couldn't activate your subscription"})]}),a.jsxs(Fn,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-destructive/10 text-destructive p-4 rounded-md",children:[a.jsx("p",{className:"font-medium",children:"Error"}),a.jsx("p",{className:"text-sm mt-1",children:o instanceof Error?o.message:"An unexpected error occurred"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment was successful, but we encountered an issue activating your subscription. Please contact support or try logging in again."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{onClick:()=>t("/dashboard"),"data-testid":"button-dashboard",children:"Go to Dashboard"}),a.jsx(X,{variant:"outline",onClick:()=>t("/subscribe"),"data-testid":"button-try-subscribe",children:"Try Again"})]})]})]})}):a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(ge,{className:"w-full",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(fa,{className:"h-6 w-6 text-green-500"}),"Welcome to Waiterix!"]}),a.jsx(xs,{children:"Your subscription is now active"})]}),a.jsxs(Fn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(fa,{className:"h-16 w-16 text-green-500","data-testid":"icon-success"}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"font-medium",children:"Payment successful!"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to your dashboard..."})]})]})]})}):a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(ge,{className:"w-full",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(WC,{className:"h-6 w-6 text-destructive"}),"Invalid Session"]}),a.jsx(xs,{children:"No session ID found in URL"})]}),a.jsxs(Fn,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"This page requires a valid checkout session ID. Please try subscribing again."}),a.jsx(X,{onClick:()=>t("/subscribe"),"data-testid":"button-try-again",children:"Try Again"})]})]})})}function Die(){return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsxs(md,{href:"/",className:"flex items-center gap-3","data-testid":"link-home",children:[a.jsx("img",{src:jo,alt:"Waiterix",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold",children:"Waiterix"})]}),a.jsx(X,{onClick:()=>window.location.href="/",variant:"ghost","data-testid":"button-back-home",children:"Back to Home"})]})}),a.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms and Conditions"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"Last updated: October 19, 2025"}),a.jsx(ge,{className:"p-8 mb-6",children:a.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"mb-4",children:'By accessing and using Waiterix ("Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these Terms and Conditions, please do not use our Service.'}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"2. Description of Service"}),a.jsx("p",{className:"mb-4",children:"Waiterix is a SaaS platform that provides AI-powered restaurant ordering solutions, including but not limited to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"AI Voice Waiter functionality with multi-language support"}),a.jsx("li",{children:"QR code menu generation and management"}),a.jsx("li",{children:"Online ordering and payment processing"}),a.jsx("li",{children:"Real-time order management"}),a.jsx("li",{children:"Customer analytics and reporting"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"3. User Accounts"}),a.jsx("p",{className:"mb-4",children:"To use Waiterix, you must create an account. You are responsible for:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Maintaining the confidentiality of your account credentials"}),a.jsx("li",{children:"All activities that occur under your account"}),a.jsx("li",{children:"Ensuring that your account information is accurate and up-to-date"}),a.jsx("li",{children:"Notifying us immediately of any unauthorized use of your account"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"4. Free Trial and Subscription"}),a.jsx("p",{className:"mb-4",children:"Waiterix offers a 3-month free trial period with no credit card required. After the trial period:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Service continues at $50/month base subscription fee"}),a.jsx("li",{children:"Additional AI usage fees apply based on OpenAI API consumption"}),a.jsx("li",{children:"You may cancel your subscription at any time"}),a.jsx("li",{children:"No refunds for partial months or unused time"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"5. AI Usage and Third-Party Services"}),a.jsx("p",{className:"mb-4",children:"Our AI features are powered by OpenAI's API. By using Waiterix:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"You acknowledge that AI-generated responses may not always be accurate"}),a.jsx("li",{children:"You are responsible for reviewing and monitoring AI interactions with your customers"}),a.jsx("li",{children:"AI usage fees are charged at cost based on actual OpenAI API consumption"}),a.jsx("li",{children:"We are not responsible for OpenAI service interruptions or changes"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"6. Payment Processing"}),a.jsx("p",{className:"mb-4",children:"Waiterix integrates with third-party payment processors (Stripe, Paystack, Adyen). You acknowledge that:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Payment processing is subject to the terms of the payment provider"}),a.jsx("li",{children:"Waiterix is not responsible for payment processing errors or disputes"}),a.jsx("li",{children:"You are responsible for all payment processing fees charged by providers"}),a.jsx("li",{children:"You must comply with all applicable payment card industry regulations"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"7. User Content and Data"}),a.jsx("p",{className:"mb-4",children:"You retain ownership of all content you upload to Waiterix, including:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Menu items, descriptions, and images"}),a.jsx("li",{children:"Restaurant information and branding"}),a.jsx("li",{children:"Customer order data and interactions"}),a.jsx("li",{children:"Voice recordings and AI conversation logs"})]}),a.jsx("p",{className:"mb-4",children:"By using our Service, you grant Waiterix a license to use, store, and process this content to provide the Service."}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"8. Prohibited Uses"}),a.jsx("p",{className:"mb-4",children:"You agree not to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Use the Service for any illegal purpose"}),a.jsx("li",{children:"Violate any laws or regulations"}),a.jsx("li",{children:"Infringe on intellectual property rights of others"}),a.jsx("li",{children:"Upload malicious code or attempt to compromise system security"}),a.jsx("li",{children:"Harass, abuse, or harm other users"}),a.jsx("li",{children:"Attempt to reverse engineer or copy the Service"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"9. Account Termination"}),a.jsx("p",{className:"mb-4",children:"You may permanently delete your account at any time through your account settings. Upon deletion:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"All your data will be permanently removed from our systems"}),a.jsx("li",{children:"Active subscriptions will be cancelled"}),a.jsx("li",{children:"You will lose access to all content and order history"}),a.jsx("li",{children:"This action cannot be undone"})]}),a.jsx("p",{className:"mb-4",children:"We reserve the right to suspend or terminate accounts that violate these Terms."}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"10. Limitation of Liability"}),a.jsx("p",{className:"mb-4",children:'Waiterix is provided "as is" without warranties of any kind. We are not liable for:'}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Service interruptions or downtime"}),a.jsx("li",{children:"Data loss or corruption"}),a.jsx("li",{children:"Errors in AI-generated responses"}),a.jsx("li",{children:"Lost profits or business opportunities"}),a.jsx("li",{children:"Third-party service failures (OpenAI, payment processors)"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"11. Modifications to Terms"}),a.jsx("p",{className:"mb-4",children:"We reserve the right to modify these Terms at any time. We will notify users of significant changes via email. Continued use of the Service after changes constitutes acceptance of the new Terms."}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"12. Contact Information"}),a.jsx("p",{className:"mb-4",children:"For questions about these Terms, please contact us at:"}),a.jsxs("p",{className:"mb-4",children:["Email: support@waiterix.com",a.jsx("br",{}),"Website: https://waiterix.com"]})]})}),a.jsx("div",{className:"text-center",children:a.jsx(X,{onClick:()=>window.location.href="/",size:"lg","data-testid":"button-accept-terms",children:"Back to Home"})})]}),a.jsx("footer",{className:"border-t py-8 mt-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-muted-foreground",children:a.jsx("p",{children:" 2025 Waiterix. All rights reserved."})})})]})}function Fie(){const[,t]=r_("/receipt/:orderId"),e=t==null?void 0:t.orderId,[n,r]=p.useState(!1),[s,i]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(!1),{toast:d}=ot(),{t:f,formatCurrency:h}=Ft();p.useEffect(()=>{const k=document.createElement("style");return k.textContent=`
      @media print {
        body * {
          visibility: hidden;
        }
        .receipt-printable,
        .receipt-printable * {
          visibility: visible;
        }
        .receipt-printable {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
        }
        @page {
          margin: 1cm;
        }
      }
    `,document.head.appendChild(k),()=>{document.head.removeChild(k)}},[]);const{data:m,isLoading:y,error:g}=tt({queryKey:["/api/orders",e,"receipt"],enabled:!!e}),w=async()=>{if(!s||!e)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){d({title:f("invalidEmail"),description:f("pleaseEnterValidEmail"),variant:"destructive"});return}l(!0);try{const T=await Re("POST",`/api/orders/${e}/email-receipt`,{email:s});if(T.ok)d({title:f("receiptSent"),description:`${f("receiptSentTo")} ${s}`}),r(!1),i("");else{const N=await T.json();throw new Error(N.message||"Failed to send email")}}catch(T){console.error("Error sending receipt email:",T),d({title:f("failedToSend"),description:T instanceof Error?T.message:f("couldNotSendEmail"),variant:"destructive"})}finally{l(!1)}},x=()=>{c||(u(!0),window.print(),setTimeout(()=>u(!1),2e3))};if(y)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(We,{className:"h-8 w-8 animate-spin","data-testid":"loader-receipt"})});if(g||!m)return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(ge,{className:"p-8 max-w-md text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:f("receiptNotFound")}),a.jsx("p",{className:"text-muted-foreground",children:"We couldn't find this order receipt. Please check your order ID and try again."})]})});const{order:v,items:b,restaurant:S,table:E}=m;return a.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 print:bg-white print:p-0",children:[a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-6 print:hidden",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full mb-4",children:a.jsx(o0,{className:"h-8 w-8 text-green-600 dark:text-green-400","data-testid":"icon-success"})}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:m.order.paymentMethod==="cash"?f("invoice"):f("receipt")}),a.jsx("p",{className:"text-muted-foreground",children:f("thankYouForYourOrder")})]}),a.jsxs(ge,{className:"p-8 print:shadow-none print:border-0 receipt-printable",children:[a.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[a.jsx("img",{src:jo,alt:"Waiterix",className:"h-12 w-12 mx-auto mb-3","data-testid":"img-logo"}),a.jsx("h2",{className:"text-2xl font-bold mb-1",children:S.name}),S.address&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.address,S.city&&`, ${S.city}`,S.country&&`, ${S.country}`]}),S.phone&&a.jsx("p",{className:"text-sm text-muted-foreground",children:S.phone})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("orderNumber")}),a.jsxs("p",{className:"font-medium","data-testid":"text-order-id",children:["#",v.id.slice(0,8).toUpperCase()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("dateAndTime")}),a.jsx("p",{className:"font-medium","data-testid":"text-order-date",children:ti(new Date(v.createdAt),"MMM d, yyyy 'at' h:mm a")})]}),E&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("table")}),a.jsxs("p",{className:"font-medium","data-testid":"text-table-number",children:[f("table")," ",E.tableNumber]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("paymentMethod")}),a.jsx("p",{className:"font-medium capitalize","data-testid":"text-payment-method",children:v.paymentMethod==="card"?"Card":v.paymentMethod})]})]}),a.jsx(Kt,{className:"my-6"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:f("orderItems")}),a.jsx("div",{className:"space-y-3",children:b.map((k,T)=>a.jsxs("div",{className:"flex justify-between items-start","data-testid":`item-${T}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:k.name}),a.jsxs(Ke,{variant:"secondary",className:"text-xs",children:["",k.quantity]})]}),k.customerNote&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Note: ",k.customerNote]})]}),a.jsx("span",{className:"font-medium ml-4",children:h(parseFloat(k.price)*k.quantity)})]},k.id))})]}),a.jsx(Kt,{className:"my-6"}),a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:f("subtotal")}),a.jsx("span",{"data-testid":"text-subtotal",children:h(parseFloat(v.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:f("tax")}),a.jsx("span",{"data-testid":"text-tax",children:h(parseFloat(v.tax))})]}),parseFloat(v.tip)>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tip"}),a.jsx("span",{"data-testid":"text-tip",children:h(parseFloat(v.tip))})]}),a.jsx(Kt,{className:"my-2"}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:f("total")}),a.jsx("span",{"data-testid":"text-total",children:h(parseFloat(v.total))})]})]}),v.customerNote&&a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-6",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:f("specialInstructions")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.customerNote})]}),a.jsx("div",{className:"text-center py-4 bg-green-50 dark:bg-green-900/10 rounded-lg",children:a.jsx(Ke,{variant:"secondary",className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:v.paymentStatus==="completed"?f("paymentCompleted"):f("paymentPending")})})]}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 print:hidden",children:[a.jsxs(X,{variant:"default",className:"w-full",onClick:()=>{d({title:f("openingOrderTracking"),description:f("orderTrackingWillOpen")}),window.open(`/track/${e}`,"_blank")},"data-testid":"button-track-order",children:[a.jsx(l0,{className:"h-4 w-4 mr-2"}),f("trackOrder")]}),a.jsxs(X,{onClick:()=>r(!0),variant:"outline",className:"flex-1","data-testid":"button-email-receipt",children:[a.jsx(vc,{className:"h-4 w-4 mr-2"}),f("emailReceipt")]}),a.jsxs(X,{onClick:x,variant:"outline",className:"flex-1",disabled:c,"data-testid":"button-print",children:[a.jsx(sg,{className:"h-4 w-4 mr-2"}),f(c?"printing":"printSavePDF")]})]}),a.jsxs("div",{className:"text-center mt-8 text-sm text-muted-foreground print:hidden",children:[a.jsx("p",{children:f("thankYouForDining")}),a.jsxs("p",{className:"mt-2",children:[f("questionsContact")," ",S.name," ",f("directly")]})]}),a.jsx("div",{className:"text-center mt-6 pt-6 border-t print:hidden",children:a.jsx("a",{href:"https://waiterix.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover-elevate inline-block px-3 py-1.5 rounded-md transition-colors","data-testid":"link-waiterix-branding-receipt-page",children:"Powered by Waiterix.com - AI Ordering Made Simple"})})]}),a.jsx(En,{open:n,onOpenChange:r,children:a.jsxs(fn,{children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:f("emailReceipt")}),a.jsx(ts,{children:f("enterEmailToReceiveReceipt")})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"email",children:f("emailAddress")}),a.jsx(qe,{id:"email",type:"email",placeholder:"you@example.com",value:s,onChange:k=>i(k.target.value),onKeyDown:k=>{k.key==="Enter"&&w()},"data-testid":"input-email",autoFocus:!0})]})}),a.jsxs(ma,{children:[a.jsx(X,{variant:"outline",onClick:()=>r(!1),disabled:o,"data-testid":"button-cancel-email",children:f("cancel")}),a.jsx(X,{onClick:w,disabled:o||!s,"data-testid":"button-send-email",children:o?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}),f("sending")]}):a.jsxs(a.Fragment,{children:[a.jsx(vc,{className:"h-4 w-4 mr-2"}),f("sendReceipt")]})})]})]})})]})}function Lie(){var r,s;const[,t]=r_("/receipt/:orderId"),e=t==null?void 0:t.orderId,{data:n}=tt({queryKey:["/api/orders",e,"receipt"],enabled:!!e});return a.jsx(Og,{currencyCode:(r=n==null?void 0:n.restaurant)==null?void 0:r.currencyCode,defaultLanguage:(s=n==null?void 0:n.restaurant)==null?void 0:s.defaultLanguage,children:a.jsx(Fie,{})})}function Vie(){var h,m;const{orderId:t}=wf(),[e,n]=p.useState(!1),{formatCurrency:r}=Ft(),{data:s,isLoading:i}=tt({queryKey:["/api/orders",t,"track"],refetchInterval:5e3});if(p.useEffect(()=>{var x;if(!s||!("restaurant"in s)||!((x=s.restaurant)!=null&&x.id))return;const g=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws?restaurantId=${s.restaurant.id}&customerSessionId=tracking-${t}&role=customer`,w=new WebSocket(g);return w.onmessage=v=>{try{const b=JSON.parse(v.data);b.type==="order-status-changed"&&b.data.orderId===t&&window.location.reload()}catch(b){console.error("WebSocket message error:",b)}},()=>{w.close()}},[(h=s==null?void 0:s.restaurant)==null?void 0:h.id,t]),p.useEffect(()=>{var y;((y=s==null?void 0:s.order)==null?void 0:y.status)==="completed"&&!(s!=null&&s.hasBeenRated)&&n(!0)},[(m=s==null?void 0:s.order)==null?void 0:m.status,s==null?void 0:s.hasBeenRated]),i)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(So,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading order details..."})]})});if(!(s!=null&&s.order))return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(ge,{className:"max-w-md w-full p-8 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Order Not Found"}),a.jsx("p",{className:"text-muted-foreground",children:"We couldn't find an order with this ID."})]})});const{order:o,items:l,restaurant:c,table:u}=s,d=[{key:"new",label:"Order Placed",icon:z$,description:"Your order has been received"},{key:"preparing",label:"Preparing",icon:Q_,description:"Our chefs are preparing your food"},{key:"ready",label:"Ready",icon:aA,description:"Your order is ready!"},{key:"completed",label:"Completed",icon:fa,description:"Enjoy your meal!"}],f=d.findIndex(y=>y.key===o.status);return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-3xl mx-auto p-4 py-8 space-y-6",children:[a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold","data-testid":"text-order-title",children:["Order #",o.id.slice(0,8)]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c==null?void 0:c.name}),u&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Table ",u.tableNumber]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed"}),a.jsx("p",{className:"font-medium",children:$S(new Date(o.createdAt),{addSuffix:!0})})]})]})}),a.jsxs(ge,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Order Status"}),a.jsx("div",{className:"space-y-4",children:d.map((y,g)=>{const w=g===f,x=g<f,v=y.icon;return a.jsxs("div",{className:"flex items-start gap-4","data-testid":`status-step-${y.key}`,children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${x?"bg-green-500 text-white":w?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:a.jsx(v,{className:"h-6 w-6"})}),g<d.length-1&&a.jsx("div",{className:`w-0.5 h-16 ${g<f?"bg-green-500":"bg-muted"}`})]}),a.jsxs("div",{className:"flex-1 pt-2",children:[a.jsx("h3",{className:`font-semibold ${w?"text-primary":""}`,children:y.label}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.description}),w&&a.jsx(Ke,{className:"mt-2","data-testid":"badge-current-status",children:"Current Status"})]})]},y.key)})})]}),a.jsxs(ge,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Items"}),a.jsx("div",{className:"space-y-3",children:l==null?void 0:l.map((y,g)=>a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium",children:[a.jsxs("span",{className:"text-muted-foreground",children:[y.quantity,"x"]})," ",y.name]}),y.customerNote&&a.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["Note: ",y.customerNote]})]}),a.jsx("p",{className:"font-medium",children:r(parseFloat(y.price))})]},g))}),a.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),a.jsx("span",{children:r(parseFloat(o.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tax"}),a.jsx("span",{children:r(parseFloat(o.tax))})]}),parseFloat(o.tip)>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tip"}),a.jsx("span",{children:r(parseFloat(o.tip))})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:r(parseFloat(o.total))})]})]})]}),o.status==="completed"&&!s.hasBeenRated&&e&&a.jsxs(ge,{className:"p-6 bg-primary/5 border-primary",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"How was your experience?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'd love to hear your feedback!"}),a.jsx("button",{onClick:()=>{const y=new CustomEvent("open-rating-dialog",{detail:{orderId:o.id,items:l,restaurantId:c.id}});window.dispatchEvent(y)},className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover-elevate active-elevate-2","data-testid":"button-rate-order",children:"Rate Your Order"})]})]})})}function Uie(){var n,r;const{orderId:t}=wf(),{data:e}=tt({queryKey:["/api/orders",t,"track"],refetchInterval:5e3,enabled:!!t});return a.jsx(Og,{currencyCode:(n=e==null?void 0:e.restaurant)==null?void 0:n.currencyCode,defaultLanguage:(r=e==null?void 0:e.restaurant)==null?void 0:r.defaultLanguage,children:a.jsx(Vie,{})})}function $ie({orderId:t,restaurantId:e,items:n,onClose:r}){const[s,i]=p.useState(!0),[o,l]=p.useState("items"),[c,u]=p.useState(0),[d,f]=p.useState({}),[h,m]=p.useState({foodQuality:0,serviceSpeed:0,cleanliness:0,staffFriendliness:0}),[y,g]=p.useState(""),{toast:w}=ot(),{t:x}=Ft(),v=et({mutationFn:async j=>{const P=await Re("POST","/api/ratings",j);if(!P.ok){const O=await P.json();throw new Error(O.message||"Failed to submit rating")}return P.json()},onSuccess:()=>{w({title:x("thankYou"),description:x("ratingSubmittedSuccessfully")}),b()},onError:j=>{w({title:x("error"),description:j.message,variant:"destructive"})}}),b=()=>{i(!1),setTimeout(r,300)},S=({value:j,onChange:P,label:O})=>a.jsxs("div",{className:"space-y-2",children:[O&&a.jsx("p",{className:"text-sm font-medium",children:O}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(I=>a.jsx("button",{type:"button",onClick:()=>P(I),className:"transition-all hover:scale-110 active:scale-95","data-testid":`star-${I}`,children:a.jsx(vd,{className:`h-8 w-8 ${I<=j?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},I))})]}),E=()=>{c<n.length-1?u(c+1):l("service")},k=async()=>{const j=n.map(async P=>{const O=d[P.menuItemId]||0;return O===0?null:v.mutateAsync({orderId:t,restaurantId:e,menuItemId:P.menuItemId,itemRating:O,serviceRatings:null,comment:null})});await v.mutateAsync({orderId:t,restaurantId:e,menuItemId:null,itemRating:null,serviceRatings:h,comment:y||null}),await Promise.all(j)},T=n[c];n.every(j=>d[j.menuItemId]>0);const N=Object.values(h).every(j=>j>0);return a.jsx(En,{open:s,onOpenChange:i,children:a.jsxs(fn,{className:"sm:max-w-[500px]","data-testid":"dialog-rating",children:[a.jsxs(Nn,{children:[a.jsx(hn,{children:x(o==="items"?"rateYourFood":"rateOurService")}),a.jsx(ts,{children:o==="items"?`${x("rateItem")} ${c+1} ${x("of")} ${n.length}`:x("tellUsAboutYourExperience")})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[o==="items"&&T&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:T.name}),a.jsx(S,{value:d[T.menuItemId]||0,onChange:j=>f({...d,[T.menuItemId]:j})})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[c>0&&a.jsx(X,{variant:"outline",onClick:()=>u(c-1),"data-testid":"button-previous-item",children:x("previous")}),a.jsx(X,{onClick:E,disabled:!d[T.menuItemId],className:"ml-auto","data-testid":"button-next-item",children:c<n.length-1?x("nextItem"):x("rateService")})]})]}),o==="service"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(S,{label:x("foodQuality"),value:h.foodQuality,onChange:j=>m({...h,foodQuality:j})}),a.jsx(S,{label:x("serviceSpeed"),value:h.serviceSpeed,onChange:j=>m({...h,serviceSpeed:j})}),a.jsx(S,{label:x("cleanliness"),value:h.cleanliness,onChange:j=>m({...h,cleanliness:j})}),a.jsx(S,{label:x("staffFriendliness"),value:h.staffFriendliness,onChange:j=>m({...h,staffFriendliness:j})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:x("additionalComments")}),a.jsx(br,{placeholder:x("tellUsMoreAboutYourExperience"),value:y,onChange:j=>g(j.target.value),rows:3,"data-testid":"textarea-comment"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(X,{variant:"outline",onClick:()=>l("items"),"data-testid":"button-back-to-items",children:x("back")}),a.jsxs(X,{onClick:k,disabled:!N||v.isPending,className:"ml-auto","data-testid":"button-submit-rating",children:[v.isPending&&a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),x("submitRating")]})]})]})]})]})})}function Bie(){const[t,e]=p.useState(null);return p.useEffect(()=>{const n=r=>{const{orderId:s,items:i,restaurantId:o}=r.detail;e({orderId:s,restaurantId:o,items:i,onClose:()=>e(null)})};return window.addEventListener("open-rating-dialog",n),()=>window.removeEventListener("open-rating-dialog",n)},[]),t?a.jsx($ie,{...t}):null}function zie(){return a.jsxs(YV,{children:[a.jsx(rr,{path:"/",component:p9}),a.jsx(rr,{path:"/menu/:id",component:YJ}),a.jsx(rr,{path:"/receipt/:orderId",component:Lie}),a.jsx(rr,{path:"/track/:orderId",component:Uie}),a.jsx(rr,{path:"/dashboard",component:xT}),a.jsx(rr,{path:"/dashboard/:tab",component:xT}),a.jsx(rr,{path:"/admin",component:Mie}),a.jsx(rr,{path:"/subscribe",component:Oie}),a.jsx(rr,{path:"/subscribe/success",component:ST}),a.jsx(rr,{path:"/subscribe/success/",component:ST}),a.jsx(rr,{path:"/terms",component:Die}),a.jsx(rr,{component:IB})]})}function Wie(){return a.jsx(xU,{client:it,children:a.jsx(AB,{children:a.jsxs(KA,{children:[a.jsx(D5,{}),a.jsx(Bie,{}),a.jsx(zie,{})]})})})}KP(document.getElementById("root")).render(a.jsx(Wie,{}));
//# sourceMappingURL=index-ZIkM0IEA.js.map
