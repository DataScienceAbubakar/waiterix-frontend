var YO=Object.defineProperty;var a0=e=>{throw TypeError(e)};var GO=(e,t,n)=>t in e?YO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fm=(e,t,n)=>GO(e,typeof t!="symbol"?t+"":t,n),hm=(e,t,n)=>t.has(e)||a0("Cannot "+n);var A=(e,t,n)=>(hm(e,t,"read from private field"),n?n.call(e):t.get(e)),ge=(e,t,n)=>t.has(e)?a0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ae=(e,t,n,r)=>(hm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Te=(e,t,n)=>(hm(e,t,"access private method"),n);var xd=(e,t,n,r)=>({set _(s){ae(e,t,s,n)},get _(){return A(e,t,r)}});function QO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ZO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hj={exports:{}},ep={},pj={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=Symbol.for("react.element"),XO=Symbol.for("react.portal"),JO=Symbol.for("react.fragment"),eD=Symbol.for("react.strict_mode"),tD=Symbol.for("react.profiler"),nD=Symbol.for("react.provider"),rD=Symbol.for("react.context"),sD=Symbol.for("react.forward_ref"),iD=Symbol.for("react.suspense"),aD=Symbol.for("react.memo"),oD=Symbol.for("react.lazy"),o0=Symbol.iterator;function lD(e){return e===null||typeof e!="object"?null:(e=o0&&e[o0]||e["@@iterator"],typeof e=="function"?e:null)}var mj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gj=Object.assign,yj={};function Pl(e,t,n){this.props=e,this.context=t,this.refs=yj,this.updater=n||mj}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vj(){}vj.prototype=Pl.prototype;function Xv(e,t,n){this.props=e,this.context=t,this.refs=yj,this.updater=n||mj}var Jv=Xv.prototype=new vj;Jv.constructor=Xv;gj(Jv,Pl.prototype);Jv.isPureReactComponent=!0;var l0=Array.isArray,xj=Object.prototype.hasOwnProperty,ex={current:null},wj={key:!0,ref:!0,__self:!0,__source:!0};function bj(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)xj.call(t,r)&&!wj.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Bu,type:e,key:i,ref:o,props:s,_owner:ex.current}}function cD(e,t){return{$$typeof:Bu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bu}function uD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var c0=/\/+/g;function pm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uD(""+e.key):t.toString(36)}function nf(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bu:case XO:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+pm(o,0):r,l0(s)?(n="",e!=null&&(n=e.replace(c0,"$&/")+"/"),nf(s,t,n,"",function(u){return u})):s!=null&&(tx(s)&&(s=cD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(c0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",l0(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+pm(i,l);o+=nf(i,t,n,c,s)}else if(c=lD(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+pm(i,l++),o+=nf(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wd(e,t,n){if(e==null)return e;var r=[],s=0;return nf(e,r,"","",function(i){return t.call(n,i,s++)}),r}function dD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sn={current:null},rf={transition:null},fD={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:rf,ReactCurrentOwner:ex};function Sj(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:wd,forEach:function(e,t,n){wd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wd(e,function(){t++}),t},toArray:function(e){return wd(e,function(t){return t})||[]},only:function(e){if(!tx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$e.Component=Pl;$e.Fragment=JO;$e.Profiler=tD;$e.PureComponent=Xv;$e.StrictMode=eD;$e.Suspense=iD;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fD;$e.act=Sj;$e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gj({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ex.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)xj.call(t,c)&&!wj.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Bu,type:e.type,key:s,ref:i,props:r,_owner:o}};$e.createContext=function(e){return e={$$typeof:rD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nD,_context:e},e.Consumer=e};$e.createElement=bj;$e.createFactory=function(e){var t=bj.bind(null,e);return t.type=e,t};$e.createRef=function(){return{current:null}};$e.forwardRef=function(e){return{$$typeof:sD,render:e}};$e.isValidElement=tx;$e.lazy=function(e){return{$$typeof:oD,_payload:{_status:-1,_result:e},_init:dD}};$e.memo=function(e,t){return{$$typeof:aD,type:e,compare:t===void 0?null:t}};$e.startTransition=function(e){var t=rf.transition;rf.transition={};try{e()}finally{rf.transition=t}};$e.unstable_act=Sj;$e.useCallback=function(e,t){return Sn.current.useCallback(e,t)};$e.useContext=function(e){return Sn.current.useContext(e)};$e.useDebugValue=function(){};$e.useDeferredValue=function(e){return Sn.current.useDeferredValue(e)};$e.useEffect=function(e,t){return Sn.current.useEffect(e,t)};$e.useId=function(){return Sn.current.useId()};$e.useImperativeHandle=function(e,t,n){return Sn.current.useImperativeHandle(e,t,n)};$e.useInsertionEffect=function(e,t){return Sn.current.useInsertionEffect(e,t)};$e.useLayoutEffect=function(e,t){return Sn.current.useLayoutEffect(e,t)};$e.useMemo=function(e,t){return Sn.current.useMemo(e,t)};$e.useReducer=function(e,t,n){return Sn.current.useReducer(e,t,n)};$e.useRef=function(e){return Sn.current.useRef(e)};$e.useState=function(e){return Sn.current.useState(e)};$e.useSyncExternalStore=function(e,t,n){return Sn.current.useSyncExternalStore(e,t,n)};$e.useTransition=function(){return Sn.current.useTransition()};$e.version="18.3.1";pj.exports=$e;var p=pj.exports;const ee=Jh(p),tp=QO({__proto__:null,default:ee},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD=p,pD=Symbol.for("react.element"),mD=Symbol.for("react.fragment"),gD=Object.prototype.hasOwnProperty,yD=hD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vD={key:!0,ref:!0,__self:!0,__source:!0};function Cj(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gD.call(t,r)&&!vD.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:pD,type:e,key:i,ref:o,props:s,_owner:yD.current}}ep.Fragment=mD;ep.jsx=Cj;ep.jsxs=Cj;hj.exports=ep;var a=hj.exports,Nj={exports:{}},Gn={},jj={exports:{}},Ej={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,R){var H=_.length;_.push(R);e:for(;0<H;){var q=H-1>>>1,te=_[q];if(0<s(te,R))_[q]=R,_[H]=te,H=q;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var R=_[0],H=_.pop();if(H!==R){_[0]=H;e:for(var q=0,te=_.length,Q=te>>>1;q<Q;){var oe=2*(q+1)-1,be=_[oe],z=oe+1,K=_[z];if(0>s(be,H))z<te&&0>s(K,be)?(_[q]=K,_[z]=H,q=z):(_[q]=be,_[oe]=H,q=oe);else if(z<te&&0>s(K,H))_[q]=K,_[z]=H,q=z;else break e}}return R}function s(_,R){var H=_.sortIndex-R.sortIndex;return H!==0?H:_.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=_)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function S(_){if(g=!1,b(_),!y)if(n(c)!==null)y=!0,U(C);else{var R=n(u);R!==null&&$(S,R.startTime-_)}}function C(_,R){y=!1,g&&(g=!1,x(N),N=-1),m=!0;var H=h;try{for(b(R),f=n(c);f!==null&&(!(f.expirationTime>R)||_&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var te=q(f.expirationTime<=R);R=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),b(R)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var oe=n(u);oe!==null&&$(S,oe.startTime-R),Q=!1}return Q}finally{f=null,h=H,m=!1}}var k=!1,E=null,N=-1,j=5,T=-1;function O(){return!(e.unstable_now()-T<j)}function I(){if(E!==null){var _=e.unstable_now();T=_;var R=!0;try{R=E(!0,_)}finally{R?B():(k=!1,E=null)}}else k=!1}var B;if(typeof v=="function")B=function(){v(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=I,B=function(){M.postMessage(null)}}else B=function(){w(I,0)};function U(_){E=_,k||(k=!0,B())}function $(_,R){N=w(function(){_(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,U(C))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var H=h;h=R;try{return _()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,R){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var H=h;h=_;try{return R()}finally{h=H}},e.unstable_scheduleCallback=function(_,R,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,_){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=H+te,_={id:d++,callback:R,priorityLevel:_,startTime:H,expirationTime:te,sortIndex:-1},H>q?(_.sortIndex=H,t(u,_),n(c)===null&&_===n(u)&&(g?(x(N),N=-1):g=!0,$(S,H-q))):(_.sortIndex=te,t(c,_),y||m||(y=!0,U(C))),_},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(_){var R=h;return function(){var H=h;h=R;try{return _.apply(this,arguments)}finally{h=H}}}})(Ej);jj.exports=Ej;var xD=jj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD=p,qn=xD;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kj=new Set,zc={};function Ga(e,t){ll(e,t),ll(e+"Capture",t)}function ll(e,t){for(zc[e]=t,e=0;e<t.length;e++)kj.add(t[e])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,bD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u0={},d0={};function SD(e){return kg.call(d0,e)?!0:kg.call(u0,e)?!1:bD.test(e)?d0[e]=!0:(u0[e]=!0,!1)}function CD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ND(e,t,n,r){if(t===null||typeof t>"u"||CD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var nx=/[\-:]([a-z])/g;function rx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nx,rx);Xt[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nx,rx);Xt[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nx,rx);Xt[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function sx(e,t,n,r){var s=Xt.hasOwnProperty(t)?Xt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ND(t,n,s,r)&&(n=null),r||s===null?SD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ws=wD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bd=Symbol.for("react.element"),ho=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),Tj=Symbol.for("react.provider"),_j=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),_g=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),ox=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),Aj=Symbol.for("react.offscreen"),f0=Symbol.iterator;function Yl(e){return e===null||typeof e!="object"?null:(e=f0&&e[f0]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,mm;function dc(e){if(mm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mm=t&&t[1]||""}return`
`+mm+e}var gm=!1;function ym(e,t){if(!e||gm)return"";gm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{gm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dc(e):""}function jD(e){switch(e.tag){case 5:return dc(e.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return e=ym(e.type,!1),e;case 11:return e=ym(e.type.render,!1),e;case 1:return e=ym(e.type,!0),e;default:return""}}function Pg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case po:return"Fragment";case ho:return"Portal";case Tg:return"Profiler";case ix:return"StrictMode";case _g:return"Suspense";case Ag:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _j:return(e.displayName||"Context")+".Consumer";case Tj:return(e._context.displayName||"Context")+".Provider";case ax:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ox:return t=e.displayName||null,t!==null?t:Pg(e.type)||"Memo";case ri:t=e._payload,e=e._init;try{return Pg(e(t))}catch{}}return null}function ED(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pg(t);case 8:return t===ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kD(e){var t=Pj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sd(e){e._valueTracker||(e._valueTracker=kD(e))}function Rj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pj(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function If(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rg(e,t){var n=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function h0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Li(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ij(e,t){t=t.checked,t!=null&&sx(e,"checked",t,!1)}function Ig(e,t){Ij(e,t);var n=Li(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mg(e,t.type,Li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function p0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mg(e,t,n){(t!=="number"||If(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fc=Array.isArray;function Ro(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Li(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Og(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(fc(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Li(n)}}function Mj(e,t){var n=Li(t.value),r=Li(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function g0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cd,Dj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cd=Cd||document.createElement("div"),Cd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TD=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(e){TD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nc[t]=Nc[e]})});function Lj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nc.hasOwnProperty(e)&&Nc[e]?(""+t).trim():t+"px"}function Fj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lj(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _D=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lg(e,t){if(t){if(_D[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Fg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=null;function lx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ug=null,Io=null,Mo=null;function y0(e){if(e=Hu(e)){if(typeof Ug!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=ap(t),Ug(e.stateNode,e.type,t))}}function Vj(e){Io?Mo?Mo.push(e):Mo=[e]:Io=e}function Uj(){if(Io){var e=Io,t=Mo;if(Mo=Io=null,y0(e),t)for(e=0;e<t.length;e++)y0(t[e])}}function $j(e,t){return e(t)}function Bj(){}var vm=!1;function Wj(e,t,n){if(vm)return e(t,n);vm=!0;try{return $j(e,t,n)}finally{vm=!1,(Io!==null||Mo!==null)&&(Bj(),Uj())}}function qc(e,t){var n=e.stateNode;if(n===null)return null;var r=ap(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var $g=!1;if(Is)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){$g=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{$g=!1}function AD(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var jc=!1,Mf=null,Of=!1,Bg=null,PD={onError:function(e){jc=!0,Mf=e}};function RD(e,t,n,r,s,i,o,l,c){jc=!1,Mf=null,AD.apply(PD,arguments)}function ID(e,t,n,r,s,i,o,l,c){if(RD.apply(this,arguments),jc){if(jc){var u=Mf;jc=!1,Mf=null}else throw Error(ne(198));Of||(Of=!0,Bg=u)}}function Qa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v0(e){if(Qa(e)!==e)throw Error(ne(188))}function MD(e){var t=e.alternate;if(!t){if(t=Qa(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return v0(s),e;if(i===r)return v0(s),t;i=i.sibling}throw Error(ne(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function Hj(e){return e=MD(e),e!==null?qj(e):null}function qj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qj(e);if(t!==null)return t;e=e.sibling}return null}var Kj=qn.unstable_scheduleCallback,x0=qn.unstable_cancelCallback,OD=qn.unstable_shouldYield,DD=qn.unstable_requestPaint,It=qn.unstable_now,LD=qn.unstable_getCurrentPriorityLevel,cx=qn.unstable_ImmediatePriority,Yj=qn.unstable_UserBlockingPriority,Df=qn.unstable_NormalPriority,FD=qn.unstable_LowPriority,Gj=qn.unstable_IdlePriority,np=null,es=null;function VD(e){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(np,e,void 0,(e.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:BD,UD=Math.log,$D=Math.LN2;function BD(e){return e>>>=0,e===0?32:31-(UD(e)/$D|0)|0}var Nd=64,jd=4194304;function hc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=hc(l):(i&=o,i!==0&&(r=hc(i)))}else o=n&~s,o!==0?r=hc(o):i!==0&&(r=hc(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ir(t),s=1<<n,r|=e[n],t&=~s;return r}function WD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ir(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=WD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Wg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qj(){var e=Nd;return Nd<<=1,!(Nd&4194240)&&(Nd=64),e}function xm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ir(t),e[t]=n}function HD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ir(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ux(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ir(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var st=0;function Zj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xj,dx,Jj,eE,tE,zg=!1,Ed=[],Ni=null,ji=null,Ei=null,Kc=new Map,Yc=new Map,ai=[],qD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w0(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Kc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(t.pointerId)}}function Ql(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hu(t),t!==null&&dx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function KD(e,t,n,r,s){switch(t){case"focusin":return Ni=Ql(Ni,e,t,n,r,s),!0;case"dragenter":return ji=Ql(ji,e,t,n,r,s),!0;case"mouseover":return Ei=Ql(Ei,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kc.set(i,Ql(Kc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Yc.set(i,Ql(Yc.get(i)||null,e,t,n,r,s)),!0}return!1}function nE(e){var t=da(e.target);if(t!==null){var n=Qa(t);if(n!==null){if(t=n.tag,t===13){if(t=zj(n),t!==null){e.blockedOn=t,tE(e.priority,function(){Jj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vg=r,n.target.dispatchEvent(r),Vg=null}else return t=Hu(n),t!==null&&dx(t),e.blockedOn=n,!1;t.shift()}return!0}function b0(e,t,n){sf(e)&&n.delete(t)}function YD(){zg=!1,Ni!==null&&sf(Ni)&&(Ni=null),ji!==null&&sf(ji)&&(ji=null),Ei!==null&&sf(Ei)&&(Ei=null),Kc.forEach(b0),Yc.forEach(b0)}function Zl(e,t){e.blockedOn===t&&(e.blockedOn=null,zg||(zg=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,YD)))}function Gc(e){function t(s){return Zl(s,e)}if(0<Ed.length){Zl(Ed[0],e);for(var n=1;n<Ed.length;n++){var r=Ed[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ni!==null&&Zl(Ni,e),ji!==null&&Zl(ji,e),Ei!==null&&Zl(Ei,e),Kc.forEach(t),Yc.forEach(t),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)nE(n),n.blockedOn===null&&ai.shift()}var Oo=Ws.ReactCurrentBatchConfig,Ff=!0;function GD(e,t,n,r){var s=st,i=Oo.transition;Oo.transition=null;try{st=1,fx(e,t,n,r)}finally{st=s,Oo.transition=i}}function QD(e,t,n,r){var s=st,i=Oo.transition;Oo.transition=null;try{st=4,fx(e,t,n,r)}finally{st=s,Oo.transition=i}}function fx(e,t,n,r){if(Ff){var s=Hg(e,t,n,r);if(s===null)_m(e,t,r,Vf,n),w0(e,r);else if(KD(s,e,t,n,r))r.stopPropagation();else if(w0(e,r),t&4&&-1<qD.indexOf(e)){for(;s!==null;){var i=Hu(s);if(i!==null&&Xj(i),i=Hg(e,t,n,r),i===null&&_m(e,t,r,Vf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _m(e,t,r,null,n)}}var Vf=null;function Hg(e,t,n,r){if(Vf=null,e=lx(r),e=da(e),e!==null)if(t=Qa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vf=e,null}function rE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LD()){case cx:return 1;case Yj:return 4;case Df:case FD:return 16;case Gj:return 536870912;default:return 16}default:return 16}}var bi=null,hx=null,af=null;function sE(){if(af)return af;var e,t=hx,n=t.length,r,s="value"in bi?bi.value:bi.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return af=s.slice(e,1<r?1-r:void 0)}function of(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kd(){return!0}function S0(){return!1}function Qn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kd:S0,this.isPropagationStopped=S0,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),t}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Qn(Rl),zu=Ct({},Rl,{view:0,detail:0}),ZD=Qn(zu),wm,bm,Xl,rp=Ct({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xl&&(Xl&&e.type==="mousemove"?(wm=e.screenX-Xl.screenX,bm=e.screenY-Xl.screenY):bm=wm=0,Xl=e),wm)},movementY:function(e){return"movementY"in e?e.movementY:bm}}),C0=Qn(rp),XD=Ct({},rp,{dataTransfer:0}),JD=Qn(XD),eL=Ct({},zu,{relatedTarget:0}),Sm=Qn(eL),tL=Ct({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),nL=Qn(tL),rL=Ct({},Rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sL=Qn(rL),iL=Ct({},Rl,{data:0}),N0=Qn(iL),aL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lL[e])?!!t[e]:!1}function mx(){return cL}var uL=Ct({},zu,{key:function(e){if(e.key){var t=aL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=of(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(e){return e.type==="keypress"?of(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?of(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dL=Qn(uL),fL=Ct({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=Qn(fL),hL=Ct({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),pL=Qn(hL),mL=Ct({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gL=Qn(mL),yL=Ct({},rp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vL=Qn(yL),xL=[9,13,27,32],gx=Is&&"CompositionEvent"in window,Ec=null;Is&&"documentMode"in document&&(Ec=document.documentMode);var wL=Is&&"TextEvent"in window&&!Ec,iE=Is&&(!gx||Ec&&8<Ec&&11>=Ec),E0=" ",k0=!1;function aE(e,t){switch(e){case"keyup":return xL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mo=!1;function bL(e,t){switch(e){case"compositionend":return oE(t);case"keypress":return t.which!==32?null:(k0=!0,E0);case"textInput":return e=t.data,e===E0&&k0?null:e;default:return null}}function SL(e,t){if(mo)return e==="compositionend"||!gx&&aE(e,t)?(e=sE(),af=hx=bi=null,mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iE&&t.locale!=="ko"?null:t.data;default:return null}}var CL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CL[e.type]:t==="textarea"}function lE(e,t,n,r){Vj(r),t=Uf(t,"onChange"),0<t.length&&(n=new px("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kc=null,Qc=null;function NL(e){xE(e,0)}function sp(e){var t=vo(e);if(Rj(t))return e}function jL(e,t){if(e==="change")return t}var cE=!1;if(Is){var Cm;if(Is){var Nm="oninput"in document;if(!Nm){var _0=document.createElement("div");_0.setAttribute("oninput","return;"),Nm=typeof _0.oninput=="function"}Cm=Nm}else Cm=!1;cE=Cm&&(!document.documentMode||9<document.documentMode)}function A0(){kc&&(kc.detachEvent("onpropertychange",uE),Qc=kc=null)}function uE(e){if(e.propertyName==="value"&&sp(Qc)){var t=[];lE(t,Qc,e,lx(e)),Wj(NL,t)}}function EL(e,t,n){e==="focusin"?(A0(),kc=t,Qc=n,kc.attachEvent("onpropertychange",uE)):e==="focusout"&&A0()}function kL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sp(Qc)}function TL(e,t){if(e==="click")return sp(t)}function _L(e,t){if(e==="input"||e==="change")return sp(t)}function AL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lr=typeof Object.is=="function"?Object.is:AL;function Zc(e,t){if(Lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kg.call(t,s)||!Lr(e[s],t[s]))return!1}return!0}function P0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function R0(e,t){var n=P0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P0(n)}}function dE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fE(){for(var e=window,t=If();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=If(e.document)}return t}function yx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PL(e){var t=fE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dE(n.ownerDocument.documentElement,n)){if(r!==null&&yx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=R0(n,i);var o=R0(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var RL=Is&&"documentMode"in document&&11>=document.documentMode,go=null,qg=null,Tc=null,Kg=!1;function I0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kg||go==null||go!==If(r)||(r=go,"selectionStart"in r&&yx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&Zc(Tc,r)||(Tc=r,r=Uf(qg,"onSelect"),0<r.length&&(t=new px("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=go)))}function Td(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yo={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},jm={},hE={};Is&&(hE=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function ip(e){if(jm[e])return jm[e];if(!yo[e])return e;var t=yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hE)return jm[e]=t[n];return e}var pE=ip("animationend"),mE=ip("animationiteration"),gE=ip("animationstart"),yE=ip("transitionend"),vE=new Map,M0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(e,t){vE.set(e,t),Ga(t,[e])}for(var Em=0;Em<M0.length;Em++){var km=M0[Em],IL=km.toLowerCase(),ML=km[0].toUpperCase()+km.slice(1);Yi(IL,"on"+ML)}Yi(pE,"onAnimationEnd");Yi(mE,"onAnimationIteration");Yi(gE,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(yE,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OL=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function O0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ID(r,t,void 0,e),e.currentTarget=null}function xE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;O0(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;O0(s,l,u),i=c}}}if(Of)throw e=Bg,Of=!1,Bg=null,e}function ht(e,t){var n=t[Xg];n===void 0&&(n=t[Xg]=new Set);var r=e+"__bubble";n.has(r)||(wE(t,e,2,!1),n.add(r))}function Tm(e,t,n){var r=0;t&&(r|=4),wE(n,e,r,t)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Xc(e){if(!e[_d]){e[_d]=!0,kj.forEach(function(n){n!=="selectionchange"&&(OL.has(n)||Tm(n,!1,e),Tm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_d]||(t[_d]=!0,Tm("selectionchange",!1,t))}}function wE(e,t,n,r){switch(rE(t)){case 1:var s=GD;break;case 4:s=QD;break;default:s=fx}n=s.bind(null,t,n,e),s=void 0,!$g||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _m(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=da(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Wj(function(){var u=i,d=lx(n),f=[];e:{var h=vE.get(e);if(h!==void 0){var m=px,y=e;switch(e){case"keypress":if(of(n)===0)break e;case"keydown":case"keyup":m=dL;break;case"focusin":y="focus",m=Sm;break;case"focusout":y="blur",m=Sm;break;case"beforeblur":case"afterblur":m=Sm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=JD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pL;break;case pE:case mE:case gE:m=nL;break;case yE:m=gL;break;case"scroll":m=ZD;break;case"wheel":m=vL;break;case"copy":case"cut":case"paste":m=sL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=j0}var g=(t&4)!==0,w=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,b;v!==null;){b=v;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=qc(v,x),S!=null&&g.push(Jc(v,S,b)))),w)break;v=v.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Vg&&(y=n.relatedTarget||n.fromElement)&&(da(y)||y[Ms]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?da(y):null,y!==null&&(w=Qa(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=C0,S="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=j0,S="onPointerLeave",x="onPointerEnter",v="pointer"),w=m==null?h:vo(m),b=y==null?h:vo(y),h=new g(S,v+"leave",m,n,d),h.target=w,h.relatedTarget=b,S=null,da(d)===u&&(g=new g(x,v+"enter",y,n,d),g.target=b,g.relatedTarget=w,S=g),w=S,m&&y)t:{for(g=m,x=y,v=0,b=g;b;b=ro(b))v++;for(b=0,S=x;S;S=ro(S))b++;for(;0<v-b;)g=ro(g),v--;for(;0<b-v;)x=ro(x),b--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=ro(g),x=ro(x)}g=null}else g=null;m!==null&&D0(f,h,m,g,!1),y!==null&&w!==null&&D0(f,w,y,g,!0)}}e:{if(h=u?vo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=jL;else if(T0(h))if(cE)C=_L;else{C=kL;var k=EL}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=TL);if(C&&(C=C(e,u))){lE(f,C,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Mg(h,"number",h.value)}switch(k=u?vo(u):window,e){case"focusin":(T0(k)||k.contentEditable==="true")&&(go=k,qg=u,Tc=null);break;case"focusout":Tc=qg=go=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,I0(f,n,d);break;case"selectionchange":if(RL)break;case"keydown":case"keyup":I0(f,n,d)}var E;if(gx)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else mo?aE(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(iE&&n.locale!=="ko"&&(mo||N!=="onCompositionStart"?N==="onCompositionEnd"&&mo&&(E=sE()):(bi=d,hx="value"in bi?bi.value:bi.textContent,mo=!0)),k=Uf(u,N),0<k.length&&(N=new N0(N,e,null,n,d),f.push({event:N,listeners:k}),E?N.data=E:(E=oE(n),E!==null&&(N.data=E)))),(E=wL?bL(e,n):SL(e,n))&&(u=Uf(u,"onBeforeInput"),0<u.length&&(d=new N0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}xE(f,t)})}function Jc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uf(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qc(e,n),i!=null&&r.unshift(Jc(e,i,s)),i=qc(e,t),i!=null&&r.push(Jc(e,i,s))),e=e.return}return r}function ro(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function D0(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=qc(n,i),c!=null&&o.unshift(Jc(n,c,l))):s||(c=qc(n,i),c!=null&&o.push(Jc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var DL=/\r\n?/g,LL=/\u0000|\uFFFD/g;function L0(e){return(typeof e=="string"?e:""+e).replace(DL,`
`).replace(LL,"")}function Ad(e,t,n){if(t=L0(t),L0(e)!==t&&n)throw Error(ne(425))}function $f(){}var Yg=null,Gg=null;function Qg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zg=typeof setTimeout=="function"?setTimeout:void 0,FL=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,VL=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(e){return F0.resolve(null).then(e).catch(UL)}:Zg;function UL(e){setTimeout(function(){throw e})}function Am(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Gc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gc(t)}function ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function V0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Il=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Il,eu="__reactProps$"+Il,Ms="__reactContainer$"+Il,Xg="__reactEvents$"+Il,$L="__reactListeners$"+Il,BL="__reactHandles$"+Il;function da(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ms]||n[Qr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=V0(e);e!==null;){if(n=e[Qr])return n;e=V0(e)}return t}e=n,n=e.parentNode}return null}function Hu(e){return e=e[Qr]||e[Ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function ap(e){return e[eu]||null}var Jg=[],xo=-1;function Gi(e){return{current:e}}function mt(e){0>xo||(e.current=Jg[xo],Jg[xo]=null,xo--)}function dt(e,t){xo++,Jg[xo]=e.current,e.current=t}var Fi={},dn=Gi(Fi),Rn=Gi(!1),Pa=Fi;function cl(e,t){var n=e.type.contextTypes;if(!n)return Fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function In(e){return e=e.childContextTypes,e!=null}function Bf(){mt(Rn),mt(dn)}function U0(e,t,n){if(dn.current!==Fi)throw Error(ne(168));dt(dn,t),dt(Rn,n)}function bE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ne(108,ED(e)||"Unknown",s));return Ct({},n,r)}function Wf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,Pa=dn.current,dt(dn,e),dt(Rn,Rn.current),!0}function $0(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=bE(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,mt(Rn),mt(dn),dt(dn,e)):mt(Rn),dt(Rn,n)}var gs=null,op=!1,Pm=!1;function SE(e){gs===null?gs=[e]:gs.push(e)}function WL(e){op=!0,SE(e)}function Qi(){if(!Pm&&gs!==null){Pm=!0;var e=0,t=st;try{var n=gs;for(st=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gs=null,op=!1}catch(s){throw gs!==null&&(gs=gs.slice(e+1)),Kj(cx,Qi),s}finally{st=t,Pm=!1}}return null}var wo=[],bo=0,zf=null,Hf=0,rr=[],sr=0,Ra=null,Cs=1,Ns="";function sa(e,t){wo[bo++]=Hf,wo[bo++]=zf,zf=e,Hf=t}function CE(e,t,n){rr[sr++]=Cs,rr[sr++]=Ns,rr[sr++]=Ra,Ra=e;var r=Cs;e=Ns;var s=32-Ir(r)-1;r&=~(1<<s),n+=1;var i=32-Ir(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cs=1<<32-Ir(t)+s|n<<s|r,Ns=i+e}else Cs=1<<i|n<<s|r,Ns=e}function vx(e){e.return!==null&&(sa(e,1),CE(e,1,0))}function xx(e){for(;e===zf;)zf=wo[--bo],wo[bo]=null,Hf=wo[--bo],wo[bo]=null;for(;e===Ra;)Ra=rr[--sr],rr[sr]=null,Ns=rr[--sr],rr[sr]=null,Cs=rr[--sr],rr[sr]=null}var Wn=null,Bn=null,vt=!1,Tr=null;function NE(e,t){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function B0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Bn=ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ra!==null?{id:Cs,overflow:Ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wn=e,Bn=null,!0):!1;default:return!1}}function ey(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ty(e){if(vt){var t=Bn;if(t){var n=t;if(!B0(e,t)){if(ey(e))throw Error(ne(418));t=ki(n.nextSibling);var r=Wn;t&&B0(e,t)?NE(r,n):(e.flags=e.flags&-4097|2,vt=!1,Wn=e)}}else{if(ey(e))throw Error(ne(418));e.flags=e.flags&-4097|2,vt=!1,Wn=e}}}function W0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function Pd(e){if(e!==Wn)return!1;if(!vt)return W0(e),vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qg(e.type,e.memoizedProps)),t&&(t=Bn)){if(ey(e))throw jE(),Error(ne(418));for(;t;)NE(e,t),t=ki(t.nextSibling)}if(W0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bn=ki(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bn=null}}else Bn=Wn?ki(e.stateNode.nextSibling):null;return!0}function jE(){for(var e=Bn;e;)e=ki(e.nextSibling)}function ul(){Bn=Wn=null,vt=!1}function wx(e){Tr===null?Tr=[e]:Tr.push(e)}var zL=Ws.ReactCurrentBatchConfig;function Jl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function Rd(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z0(e){var t=e._init;return t(e._payload)}function EE(e){function t(x,v){if(e){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Pi(x,v),x.index=0,x.sibling=null,x}function i(x,v,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,b,S){return v===null||v.tag!==6?(v=Fm(b,x.mode,S),v.return=x,v):(v=s(v,b),v.return=x,v)}function c(x,v,b,S){var C=b.type;return C===po?d(x,v,b.props.children,S,b.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ri&&z0(C)===v.type)?(S=s(v,b.props),S.ref=Jl(x,v,b),S.return=x,S):(S=pf(b.type,b.key,b.props,null,x.mode,S),S.ref=Jl(x,v,b),S.return=x,S)}function u(x,v,b,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Vm(b,x.mode,S),v.return=x,v):(v=s(v,b.children||[]),v.return=x,v)}function d(x,v,b,S,C){return v===null||v.tag!==7?(v=Ta(b,x.mode,S,C),v.return=x,v):(v=s(v,b),v.return=x,v)}function f(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Fm(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bd:return b=pf(v.type,v.key,v.props,null,x.mode,b),b.ref=Jl(x,null,v),b.return=x,b;case ho:return v=Vm(v,x.mode,b),v.return=x,v;case ri:var S=v._init;return f(x,S(v._payload),b)}if(fc(v)||Yl(v))return v=Ta(v,x.mode,b,null),v.return=x,v;Rd(x,v)}return null}function h(x,v,b,S){var C=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:l(x,v,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bd:return b.key===C?c(x,v,b,S):null;case ho:return b.key===C?u(x,v,b,S):null;case ri:return C=b._init,h(x,v,C(b._payload),S)}if(fc(b)||Yl(b))return C!==null?null:d(x,v,b,S,null);Rd(x,b)}return null}function m(x,v,b,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,l(v,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bd:return x=x.get(S.key===null?b:S.key)||null,c(v,x,S,C);case ho:return x=x.get(S.key===null?b:S.key)||null,u(v,x,S,C);case ri:var k=S._init;return m(x,v,b,k(S._payload),C)}if(fc(S)||Yl(S))return x=x.get(b)||null,d(v,x,S,C,null);Rd(v,S)}return null}function y(x,v,b,S){for(var C=null,k=null,E=v,N=v=0,j=null;E!==null&&N<b.length;N++){E.index>N?(j=E,E=null):j=E.sibling;var T=h(x,E,b[N],S);if(T===null){E===null&&(E=j);break}e&&E&&T.alternate===null&&t(x,E),v=i(T,v,N),k===null?C=T:k.sibling=T,k=T,E=j}if(N===b.length)return n(x,E),vt&&sa(x,N),C;if(E===null){for(;N<b.length;N++)E=f(x,b[N],S),E!==null&&(v=i(E,v,N),k===null?C=E:k.sibling=E,k=E);return vt&&sa(x,N),C}for(E=r(x,E);N<b.length;N++)j=m(E,x,N,b[N],S),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?N:j.key),v=i(j,v,N),k===null?C=j:k.sibling=j,k=j);return e&&E.forEach(function(O){return t(x,O)}),vt&&sa(x,N),C}function g(x,v,b,S){var C=Yl(b);if(typeof C!="function")throw Error(ne(150));if(b=C.call(b),b==null)throw Error(ne(151));for(var k=C=null,E=v,N=v=0,j=null,T=b.next();E!==null&&!T.done;N++,T=b.next()){E.index>N?(j=E,E=null):j=E.sibling;var O=h(x,E,T.value,S);if(O===null){E===null&&(E=j);break}e&&E&&O.alternate===null&&t(x,E),v=i(O,v,N),k===null?C=O:k.sibling=O,k=O,E=j}if(T.done)return n(x,E),vt&&sa(x,N),C;if(E===null){for(;!T.done;N++,T=b.next())T=f(x,T.value,S),T!==null&&(v=i(T,v,N),k===null?C=T:k.sibling=T,k=T);return vt&&sa(x,N),C}for(E=r(x,E);!T.done;N++,T=b.next())T=m(E,x,N,T.value,S),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?N:T.key),v=i(T,v,N),k===null?C=T:k.sibling=T,k=T);return e&&E.forEach(function(I){return t(x,I)}),vt&&sa(x,N),C}function w(x,v,b,S){if(typeof b=="object"&&b!==null&&b.type===po&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bd:e:{for(var C=b.key,k=v;k!==null;){if(k.key===C){if(C=b.type,C===po){if(k.tag===7){n(x,k.sibling),v=s(k,b.props.children),v.return=x,x=v;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ri&&z0(C)===k.type){n(x,k.sibling),v=s(k,b.props),v.ref=Jl(x,k,b),v.return=x,x=v;break e}n(x,k);break}else t(x,k);k=k.sibling}b.type===po?(v=Ta(b.props.children,x.mode,S,b.key),v.return=x,x=v):(S=pf(b.type,b.key,b.props,null,x.mode,S),S.ref=Jl(x,v,b),S.return=x,x=S)}return o(x);case ho:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(x,v.sibling),v=s(v,b.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Vm(b,x.mode,S),v.return=x,x=v}return o(x);case ri:return k=b._init,w(x,v,k(b._payload),S)}if(fc(b))return y(x,v,b,S);if(Yl(b))return g(x,v,b,S);Rd(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,b),v.return=x,x=v):(n(x,v),v=Fm(b,x.mode,S),v.return=x,x=v),o(x)):n(x,v)}return w}var dl=EE(!0),kE=EE(!1),qf=Gi(null),Kf=null,So=null,bx=null;function Sx(){bx=So=Kf=null}function Cx(e){var t=qf.current;mt(qf),e._currentValue=t}function ny(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Do(e,t){Kf=e,bx=So=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function dr(e){var t=e._currentValue;if(bx!==e)if(e={context:e,memoizedValue:t,next:null},So===null){if(Kf===null)throw Error(ne(308));So=e,Kf.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var fa=null;function Nx(e){fa===null?fa=[e]:fa.push(e)}function TE(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Nx(t)):(n.next=s.next,s.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var si=!1;function jx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _E(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Os(e,n)}return s=r.interleaved,s===null?(t.next=t,Nx(r)):(t.next=s.next,s.next=t),r.interleaved=t,Os(e,n)}function lf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ux(e,n)}}function H0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yf(e,t,n,r){var s=e.updateQueue;si=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(h=t,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Ct({},f,h);break e;case 2:si=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ma|=o,e.lanes=o,e.memoizedState=f}}function q0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ne(191,s));s.call(r)}}}var qu={},ts=Gi(qu),tu=Gi(qu),nu=Gi(qu);function ha(e){if(e===qu)throw Error(ne(174));return e}function Ex(e,t){switch(dt(nu,t),dt(tu,e),dt(ts,qu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dg(t,e)}mt(ts),dt(ts,t)}function fl(){mt(ts),mt(tu),mt(nu)}function AE(e){ha(nu.current);var t=ha(ts.current),n=Dg(t,e.type);t!==n&&(dt(tu,e),dt(ts,n))}function kx(e){tu.current===e&&(mt(ts),mt(tu))}var wt=Gi(0);function Gf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rm=[];function Tx(){for(var e=0;e<Rm.length;e++)Rm[e]._workInProgressVersionPrimary=null;Rm.length=0}var cf=Ws.ReactCurrentDispatcher,Im=Ws.ReactCurrentBatchConfig,Ia=0,St=null,Bt=null,qt=null,Qf=!1,_c=!1,ru=0,HL=0;function tn(){throw Error(ne(321))}function _x(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function Ax(e,t,n,r,s,i){if(Ia=i,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cf.current=e===null||e.memoizedState===null?GL:QL,e=n(r,s),_c){i=0;do{if(_c=!1,ru=0,25<=i)throw Error(ne(301));i+=1,qt=Bt=null,t.updateQueue=null,cf.current=ZL,e=n(r,s)}while(_c)}if(cf.current=Zf,t=Bt!==null&&Bt.next!==null,Ia=0,qt=Bt=St=null,Qf=!1,t)throw Error(ne(300));return e}function Px(){var e=ru!==0;return ru=0,e}function zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?St.memoizedState=qt=e:qt=qt.next=e,qt}function fr(){if(Bt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=qt===null?St.memoizedState:qt.next;if(t!==null)qt=t,Bt=e;else{if(e===null)throw Error(ne(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},qt===null?St.memoizedState=qt=e:qt=qt.next=e}return qt}function su(e,t){return typeof t=="function"?t(e):t}function Mm(e){var t=fr(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=Bt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ia&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,St.lanes|=d,Ma|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Lr(r,t.memoizedState)||(An=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,St.lanes|=i,Ma|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Om(e){var t=fr(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Lr(i,t.memoizedState)||(An=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function PE(){}function RE(e,t){var n=St,r=fr(),s=t(),i=!Lr(r.memoizedState,s);if(i&&(r.memoizedState=s,An=!0),r=r.queue,Rx(OE.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,iu(9,ME.bind(null,n,r,s,t),void 0,null),Kt===null)throw Error(ne(349));Ia&30||IE(n,t,s)}return s}function IE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ME(e,t,n,r){t.value=n,t.getSnapshot=r,DE(t)&&LE(e)}function OE(e,t,n){return n(function(){DE(t)&&LE(e)})}function DE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lr(e,n)}catch{return!0}}function LE(e){var t=Os(e,1);t!==null&&Mr(t,e,1,-1)}function K0(e){var t=zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:e},t.queue=e,e=e.dispatch=YL.bind(null,St,e),[t.memoizedState,e]}function iu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function FE(){return fr().memoizedState}function uf(e,t,n,r){var s=zr();St.flags|=e,s.memoizedState=iu(1|t,n,void 0,r===void 0?null:r)}function lp(e,t,n,r){var s=fr();r=r===void 0?null:r;var i=void 0;if(Bt!==null){var o=Bt.memoizedState;if(i=o.destroy,r!==null&&_x(r,o.deps)){s.memoizedState=iu(t,n,i,r);return}}St.flags|=e,s.memoizedState=iu(1|t,n,i,r)}function Y0(e,t){return uf(8390656,8,e,t)}function Rx(e,t){return lp(2048,8,e,t)}function VE(e,t){return lp(4,2,e,t)}function UE(e,t){return lp(4,4,e,t)}function $E(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BE(e,t,n){return n=n!=null?n.concat([e]):null,lp(4,4,$E.bind(null,t,e),n)}function Ix(){}function WE(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_x(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zE(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_x(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HE(e,t,n){return Ia&21?(Lr(n,t)||(n=Qj(),St.lanes|=n,Ma|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=n)}function qL(e,t){var n=st;st=n!==0&&4>n?n:4,e(!0);var r=Im.transition;Im.transition={};try{e(!1),t()}finally{st=n,Im.transition=r}}function qE(){return fr().memoizedState}function KL(e,t,n){var r=Ai(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KE(e))YE(t,n);else if(n=TE(e,t,n,r),n!==null){var s=wn();Mr(n,e,r,s),GE(n,t,r)}}function YL(e,t,n){var r=Ai(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KE(e))YE(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Lr(l,o)){var c=t.interleaved;c===null?(s.next=s,Nx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=TE(e,t,s,r),n!==null&&(s=wn(),Mr(n,e,r,s),GE(n,t,r))}}function KE(e){var t=e.alternate;return e===St||t!==null&&t===St}function YE(e,t){_c=Qf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function GE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ux(e,n)}}var Zf={readContext:dr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},GL={readContext:dr,useCallback:function(e,t){return zr().memoizedState=[e,t===void 0?null:t],e},useContext:dr,useEffect:Y0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uf(4194308,4,$E.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uf(4194308,4,e,t)},useInsertionEffect:function(e,t){return uf(4,2,e,t)},useMemo:function(e,t){var n=zr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KL.bind(null,St,e),[r.memoizedState,e]},useRef:function(e){var t=zr();return e={current:e},t.memoizedState=e},useState:K0,useDebugValue:Ix,useDeferredValue:function(e){return zr().memoizedState=e},useTransition:function(){var e=K0(!1),t=e[0];return e=qL.bind(null,e[1]),zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=St,s=zr();if(vt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Kt===null)throw Error(ne(349));Ia&30||IE(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Y0(OE.bind(null,r,i,e),[e]),r.flags|=2048,iu(9,ME.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=zr(),t=Kt.identifierPrefix;if(vt){var n=Ns,r=Cs;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ru++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=HL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QL={readContext:dr,useCallback:WE,useContext:dr,useEffect:Rx,useImperativeHandle:BE,useInsertionEffect:VE,useLayoutEffect:UE,useMemo:zE,useReducer:Mm,useRef:FE,useState:function(){return Mm(su)},useDebugValue:Ix,useDeferredValue:function(e){var t=fr();return HE(t,Bt.memoizedState,e)},useTransition:function(){var e=Mm(su)[0],t=fr().memoizedState;return[e,t]},useMutableSource:PE,useSyncExternalStore:RE,useId:qE,unstable_isNewReconciler:!1},ZL={readContext:dr,useCallback:WE,useContext:dr,useEffect:Rx,useImperativeHandle:BE,useInsertionEffect:VE,useLayoutEffect:UE,useMemo:zE,useReducer:Om,useRef:FE,useState:function(){return Om(su)},useDebugValue:Ix,useDeferredValue:function(e){var t=fr();return Bt===null?t.memoizedState=e:HE(t,Bt.memoizedState,e)},useTransition:function(){var e=Om(su)[0],t=fr().memoizedState;return[e,t]},useMutableSource:PE,useSyncExternalStore:RE,useId:qE,unstable_isNewReconciler:!1};function Nr(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ry(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cp={isMounted:function(e){return(e=e._reactInternals)?Qa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wn(),s=Ai(e),i=ks(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ti(e,i,s),t!==null&&(Mr(t,e,s,r),lf(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wn(),s=Ai(e),i=ks(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ti(e,i,s),t!==null&&(Mr(t,e,s,r),lf(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),r=Ai(e),s=ks(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ti(e,s,r),t!==null&&(Mr(t,e,r,n),lf(t,e,r))}};function G0(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zc(n,r)||!Zc(s,i):!0}function QE(e,t,n){var r=!1,s=Fi,i=t.contextType;return typeof i=="object"&&i!==null?i=dr(i):(s=In(t)?Pa:dn.current,r=t.contextTypes,i=(r=r!=null)?cl(e,s):Fi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Q0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cp.enqueueReplaceState(t,t.state,null)}function sy(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},jx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=dr(i):(i=In(t)?Pa:dn.current,s.context=cl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ry(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cp.enqueueReplaceState(s,s.state,null),Yf(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hl(e,t){try{var n="",r=t;do n+=jD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Dm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function iy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var XL=typeof WeakMap=="function"?WeakMap:Map;function ZE(e,t,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jf||(Jf=!0,my=r),iy(e,t)},n}function XE(e,t,n){n=ks(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){iy(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){iy(e,t),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Z0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XL;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=fF.bind(null,e,t,n),t.then(e,e))}function X0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function J0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ks(-1,1),t.tag=2,Ti(n,t,1))),n.lanes|=1),e)}var JL=Ws.ReactCurrentOwner,An=!1;function yn(e,t,n,r){t.child=e===null?kE(t,null,n,r):dl(t,e.child,n,r)}function eS(e,t,n,r,s){n=n.render;var i=t.ref;return Do(t,s),r=Ax(e,t,n,r,i,s),n=Px(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(vt&&n&&vx(t),t.flags|=1,yn(e,t,r,s),t.child)}function tS(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!$x(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,JE(e,t,i,r,s)):(e=pf(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(o,r)&&e.ref===t.ref)return Ds(e,t,s)}return t.flags|=1,e=Pi(i,r),e.ref=t.ref,e.return=t,t.child=e}function JE(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Zc(i,r)&&e.ref===t.ref)if(An=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,Ds(e,t,s)}return ay(e,t,n,r,s)}function ek(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(No,Fn),Fn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(No,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,dt(No,Fn),Fn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,dt(No,Fn),Fn|=r;return yn(e,t,s,n),t.child}function tk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ay(e,t,n,r,s){var i=In(n)?Pa:dn.current;return i=cl(t,i),Do(t,s),n=Ax(e,t,n,r,i,s),r=Px(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ds(e,t,s)):(vt&&r&&vx(t),t.flags|=1,yn(e,t,n,s),t.child)}function nS(e,t,n,r,s){if(In(n)){var i=!0;Wf(t)}else i=!1;if(Do(t,s),t.stateNode===null)df(e,t),QE(t,n,r),sy(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dr(u):(u=In(n)?Pa:dn.current,u=cl(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Q0(t,o,r,u),si=!1;var h=t.memoizedState;o.state=h,Yf(t,r,o,s),c=t.memoizedState,l!==r||h!==c||Rn.current||si?(typeof d=="function"&&(ry(t,n,d,r),c=t.memoizedState),(l=si||G0(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_E(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dr(c):(c=In(n)?Pa:dn.current,c=cl(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Q0(t,o,r,c),si=!1,h=t.memoizedState,o.state=h,Yf(t,r,o,s);var y=t.memoizedState;l!==f||h!==y||Rn.current||si?(typeof m=="function"&&(ry(t,n,m,r),y=t.memoizedState),(u=si||G0(t,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return oy(e,t,n,r,i,s)}function oy(e,t,n,r,s,i){tk(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&$0(t,n,!1),Ds(e,t,i);r=t.stateNode,JL.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=dl(t,e.child,null,i),t.child=dl(t,null,l,i)):yn(e,t,l,i),t.memoizedState=r.state,s&&$0(t,n,!0),t.child}function nk(e){var t=e.stateNode;t.pendingContext?U0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&U0(e,t.context,!1),Ex(e,t.containerInfo)}function rS(e,t,n,r,s){return ul(),wx(s),t.flags|=256,yn(e,t,n,r),t.child}var ly={dehydrated:null,treeContext:null,retryLane:0};function cy(e){return{baseLanes:e,cachePool:null,transitions:null}}function rk(e,t,n){var r=t.pendingProps,s=wt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),dt(wt,s&1),e===null)return ty(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fp(o,r,0,null),e=Ta(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cy(n),t.memoizedState=ly,e):Mx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return eF(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Pi(l,i):(i=Ta(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?cy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ly,r}return i=e.child,e=i.sibling,r=Pi(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mx(e,t){return t=fp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Id(e,t,n,r){return r!==null&&wx(r),dl(t,e.child,null,n),e=Mx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eF(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Dm(Error(ne(422))),Id(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=fp({mode:"visible",children:r.children},s,0,null),i=Ta(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&dl(t,e.child,null,o),t.child.memoizedState=cy(o),t.memoizedState=ly,i);if(!(t.mode&1))return Id(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ne(419)),r=Dm(i,r,void 0),Id(e,t,o,r)}if(l=(o&e.childLanes)!==0,An||l){if(r=Kt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(e,s),Mr(r,e,s,-1))}return Ux(),r=Dm(Error(ne(421))),Id(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hF.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Bn=ki(s.nextSibling),Wn=t,vt=!0,Tr=null,e!==null&&(rr[sr++]=Cs,rr[sr++]=Ns,rr[sr++]=Ra,Cs=e.id,Ns=e.overflow,Ra=t),t=Mx(t,r.children),t.flags|=4096,t)}function sS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ny(e.return,t,n)}function Lm(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sk(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(yn(e,t,r.children,n),r=wt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sS(e,n,t);else if(e.tag===19)sS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dt(wt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Lm(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Lm(t,!0,n,null,i);break;case"together":Lm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function df(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ma|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tF(e,t,n){switch(t.tag){case 3:nk(t),ul();break;case 5:AE(t);break;case 1:In(t.type)&&Wf(t);break;case 4:Ex(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;dt(qf,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dt(wt,wt.current&1),t.flags|=128,null):n&t.child.childLanes?rk(e,t,n):(dt(wt,wt.current&1),e=Ds(e,t,n),e!==null?e.sibling:null);dt(wt,wt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sk(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dt(wt,wt.current),r)break;return null;case 22:case 23:return t.lanes=0,ek(e,t,n)}return Ds(e,t,n)}var ik,uy,ak,ok;ik=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uy=function(){};ak=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ha(ts.current);var i=null;switch(n){case"input":s=Rg(e,s),r=Rg(e,r),i=[];break;case"select":s=Ct({},s,{value:void 0}),r=Ct({},r,{value:void 0}),i=[];break;case"textarea":s=Og(e,s),r=Og(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$f)}Lg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ht("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};ok=function(e,t,n,r){n!==r&&(t.flags|=4)};function ec(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nF(e,t,n){var r=t.pendingProps;switch(xx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return In(t.type)&&Bf(),nn(t),null;case 3:return r=t.stateNode,fl(),mt(Rn),mt(dn),Tx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tr!==null&&(vy(Tr),Tr=null))),uy(e,t),nn(t),null;case 5:kx(t);var s=ha(nu.current);if(n=t.type,e!==null&&t.stateNode!=null)ak(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return nn(t),null}if(e=ha(ts.current),Pd(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Qr]=t,r[eu]=i,e=(t.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(s=0;s<pc.length;s++)ht(pc[s],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":h0(r,i),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ht("invalid",r);break;case"textarea":m0(r,i),ht("invalid",r)}Lg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ad(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ad(r.textContent,l,e),s=["children",""+l]):zc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ht("scroll",r)}switch(n){case"input":Sd(r),p0(r,i,!0);break;case"textarea":Sd(r),g0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$f)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qr]=t,e[eu]=r,ik(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fg(n,r),n){case"dialog":ht("cancel",e),ht("close",e),s=r;break;case"iframe":case"object":case"embed":ht("load",e),s=r;break;case"video":case"audio":for(s=0;s<pc.length;s++)ht(pc[s],e);s=r;break;case"source":ht("error",e),s=r;break;case"img":case"image":case"link":ht("error",e),ht("load",e),s=r;break;case"details":ht("toggle",e),s=r;break;case"input":h0(e,r),s=Rg(e,r),ht("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ct({},r,{value:void 0}),ht("invalid",e);break;case"textarea":m0(e,r),s=Og(e,r),ht("invalid",e);break;default:s=r}Lg(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Fj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Dj(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Hc(e,c):typeof c=="number"&&Hc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ht("scroll",e):c!=null&&sx(e,i,c,o))}switch(n){case"input":Sd(e),p0(e,r,!1);break;case"textarea":Sd(e),g0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Li(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ro(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ro(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$f)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)ok(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=ha(nu.current),ha(ts.current),Pd(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,(i=r.nodeValue!==n)&&(e=Wn,e!==null))switch(e.tag){case 3:Ad(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ad(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qr]=t,t.stateNode=r}return nn(t),null;case 13:if(mt(wt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vt&&Bn!==null&&t.mode&1&&!(t.flags&128))jE(),ul(),t.flags|=98560,i=!1;else if(i=Pd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[Qr]=t}else ul(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),i=!1}else Tr!==null&&(vy(Tr),Tr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?Wt===0&&(Wt=3):Ux())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return fl(),uy(e,t),e===null&&Xc(t.stateNode.containerInfo),nn(t),null;case 10:return Cx(t.type._context),nn(t),null;case 17:return In(t.type)&&Bf(),nn(t),null;case 19:if(mt(wt),i=t.memoizedState,i===null)return nn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ec(i,!1);else{if(Wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gf(e),o!==null){for(t.flags|=128,ec(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dt(wt,wt.current&1|2),t.child}e=e.sibling}i.tail!==null&&It()>pl&&(t.flags|=128,r=!0,ec(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ec(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return nn(t),null}else 2*It()-i.renderingStartTime>pl&&n!==1073741824&&(t.flags|=128,r=!0,ec(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=It(),t.sibling=null,n=wt.current,dt(wt,r?n&1|2:n&1),t):(nn(t),null);case 22:case 23:return Vx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function rF(e,t){switch(xx(t),t.tag){case 1:return In(t.type)&&Bf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fl(),mt(Rn),mt(dn),Tx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kx(t),null;case 13:if(mt(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(wt),null;case 4:return fl(),null;case 10:return Cx(t.type._context),null;case 22:case 23:return Vx(),null;case 24:return null;default:return null}}var Md=!1,on=!1,sF=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Co(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(e,t,r)}else n.current=null}function dy(e,t,n){try{n()}catch(r){Tt(e,t,r)}}var iS=!1;function iF(e,t){if(Yg=Ff,e=fE(),yx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gg={focusedElem:e,selectionRange:n},Ff=!1,ye=t;ye!==null;)if(t=ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ye=e;else for(;ye!==null;){t=ye;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Nr(t.type,g),w);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){Tt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ye=e;break}ye=t.return}return y=iS,iS=!1,y}function Ac(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&dy(t,n,i)}s=s.next}while(s!==r)}}function up(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lk(e){var t=e.alternate;t!==null&&(e.alternate=null,lk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qr],delete t[eu],delete t[Xg],delete t[$L],delete t[BL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ck(e){return e.tag===5||e.tag===3||e.tag===4}function aS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ck(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$f));else if(r!==4&&(e=e.child,e!==null))for(hy(e,t,n),e=e.sibling;e!==null;)hy(e,t,n),e=e.sibling}function py(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(py(e,t,n),e=e.sibling;e!==null;)py(e,t,n),e=e.sibling}var Gt=null,kr=!1;function Ys(e,t,n){for(n=n.child;n!==null;)uk(e,t,n),n=n.sibling}function uk(e,t,n){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(np,n)}catch{}switch(n.tag){case 5:on||Co(n,t);case 6:var r=Gt,s=kr;Gt=null,Ys(e,t,n),Gt=r,kr=s,Gt!==null&&(kr?(e=Gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(kr?(e=Gt,n=n.stateNode,e.nodeType===8?Am(e.parentNode,n):e.nodeType===1&&Am(e,n),Gc(e)):Am(Gt,n.stateNode));break;case 4:r=Gt,s=kr,Gt=n.stateNode.containerInfo,kr=!0,Ys(e,t,n),Gt=r,kr=s;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dy(n,t,o),s=s.next}while(s!==r)}Ys(e,t,n);break;case 1:if(!on&&(Co(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tt(n,t,l)}Ys(e,t,n);break;case 21:Ys(e,t,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Ys(e,t,n),on=r):Ys(e,t,n);break;default:Ys(e,t,n)}}function oS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sF),t.forEach(function(r){var s=pF.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function br(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gt=l.stateNode,kr=!1;break e;case 3:Gt=l.stateNode.containerInfo,kr=!0;break e;case 4:Gt=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(Gt===null)throw Error(ne(160));uk(i,o,s),Gt=null,kr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Tt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dk(t,e),t=t.sibling}function dk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),Wr(e),r&4){try{Ac(3,e,e.return),up(3,e)}catch(g){Tt(e,e.return,g)}try{Ac(5,e,e.return)}catch(g){Tt(e,e.return,g)}}break;case 1:br(t,e),Wr(e),r&512&&n!==null&&Co(n,n.return);break;case 5:if(br(t,e),Wr(e),r&512&&n!==null&&Co(n,n.return),e.flags&32){var s=e.stateNode;try{Hc(s,"")}catch(g){Tt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ij(s,i),Fg(l,o);var u=Fg(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Fj(s,f):d==="dangerouslySetInnerHTML"?Dj(s,f):d==="children"?Hc(s,f):sx(s,d,f,u)}switch(l){case"input":Ig(s,i);break;case"textarea":Mj(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ro(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ro(s,!!i.multiple,i.defaultValue,!0):Ro(s,!!i.multiple,i.multiple?[]:"",!1))}s[eu]=i}catch(g){Tt(e,e.return,g)}}break;case 6:if(br(t,e),Wr(e),r&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Tt(e,e.return,g)}}break;case 3:if(br(t,e),Wr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gc(t.containerInfo)}catch(g){Tt(e,e.return,g)}break;case 4:br(t,e),Wr(e);break;case 13:br(t,e),Wr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lx=It())),r&4&&oS(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(on=(u=on)||d,br(t,e),on=u):br(t,e),Wr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ye=e,d=e.child;d!==null;){for(f=ye=d;ye!==null;){switch(h=ye,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ac(4,h,h.return);break;case 1:Co(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Tt(r,n,g)}}break;case 5:Co(h,h.return);break;case 22:if(h.memoizedState!==null){cS(f);continue}}m!==null?(m.return=h,ye=m):cS(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Lj("display",o))}catch(g){Tt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Tt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(t,e),Wr(e),r&4&&oS(e);break;case 21:break;default:br(t,e),Wr(e)}}function Wr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ck(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hc(s,""),r.flags&=-33);var i=aS(e);py(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=aS(e);hy(e,l,o);break;default:throw Error(ne(161))}}catch(c){Tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aF(e,t,n){ye=e,fk(e)}function fk(e,t,n){for(var r=(e.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Md;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||on;l=Md;var u=on;if(Md=o,(on=c)&&!u)for(ye=s;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?uS(s):c!==null?(c.return=o,ye=c):uS(s);for(;i!==null;)ye=i,fk(i),i=i.sibling;ye=s,Md=l,on=u}lS(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):lS(e)}}function lS(e){for(;ye!==null;){var t=ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:on||up(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!on)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Nr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&q0(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q0(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}on||t.flags&512&&fy(t)}catch(h){Tt(t,t.return,h)}}if(t===e){ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,ye=n;break}ye=t.return}}function cS(e){for(;ye!==null;){var t=ye;if(t===e){ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ye=n;break}ye=t.return}}function uS(e){for(;ye!==null;){var t=ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{up(4,t)}catch(c){Tt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Tt(t,s,c)}}var i=t.return;try{fy(t)}catch(c){Tt(t,i,c)}break;case 5:var o=t.return;try{fy(t)}catch(c){Tt(t,o,c)}}}catch(c){Tt(t,t.return,c)}if(t===e){ye=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ye=l;break}ye=t.return}}var oF=Math.ceil,Xf=Ws.ReactCurrentDispatcher,Ox=Ws.ReactCurrentOwner,cr=Ws.ReactCurrentBatchConfig,qe=0,Kt=null,Vt=null,Zt=0,Fn=0,No=Gi(0),Wt=0,au=null,Ma=0,dp=0,Dx=0,Pc=null,_n=null,Lx=0,pl=1/0,ms=null,Jf=!1,my=null,_i=null,Od=!1,Si=null,eh=0,Rc=0,gy=null,ff=-1,hf=0;function wn(){return qe&6?It():ff!==-1?ff:ff=It()}function Ai(e){return e.mode&1?qe&2&&Zt!==0?Zt&-Zt:zL.transition!==null?(hf===0&&(hf=Qj()),hf):(e=st,e!==0||(e=window.event,e=e===void 0?16:rE(e.type)),e):1}function Mr(e,t,n,r){if(50<Rc)throw Rc=0,gy=null,Error(ne(185));Wu(e,n,r),(!(qe&2)||e!==Kt)&&(e===Kt&&(!(qe&2)&&(dp|=n),Wt===4&&oi(e,Zt)),Mn(e,r),n===1&&qe===0&&!(t.mode&1)&&(pl=It()+500,op&&Qi()))}function Mn(e,t){var n=e.callbackNode;zD(e,t);var r=Lf(e,e===Kt?Zt:0);if(r===0)n!==null&&x0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&x0(n),t===1)e.tag===0?WL(dS.bind(null,e)):SE(dS.bind(null,e)),VL(function(){!(qe&6)&&Qi()}),n=null;else{switch(Zj(r)){case 1:n=cx;break;case 4:n=Yj;break;case 16:n=Df;break;case 536870912:n=Gj;break;default:n=Df}n=wk(n,hk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hk(e,t){if(ff=-1,hf=0,qe&6)throw Error(ne(327));var n=e.callbackNode;if(Lo()&&e.callbackNode!==n)return null;var r=Lf(e,e===Kt?Zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=th(e,r);else{t=r;var s=qe;qe|=2;var i=mk();(Kt!==e||Zt!==t)&&(ms=null,pl=It()+500,ka(e,t));do try{uF();break}catch(l){pk(e,l)}while(!0);Sx(),Xf.current=i,qe=s,Vt!==null?t=0:(Kt=null,Zt=0,t=Wt)}if(t!==0){if(t===2&&(s=Wg(e),s!==0&&(r=s,t=yy(e,s))),t===1)throw n=au,ka(e,0),oi(e,r),Mn(e,It()),n;if(t===6)oi(e,r);else{if(s=e.current.alternate,!(r&30)&&!lF(s)&&(t=th(e,r),t===2&&(i=Wg(e),i!==0&&(r=i,t=yy(e,i))),t===1))throw n=au,ka(e,0),oi(e,r),Mn(e,It()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:ia(e,_n,ms);break;case 3:if(oi(e,r),(r&130023424)===r&&(t=Lx+500-It(),10<t)){if(Lf(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){wn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zg(ia.bind(null,e,_n,ms),t);break}ia(e,_n,ms);break;case 4:if(oi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ir(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oF(r/1960))-r,10<r){e.timeoutHandle=Zg(ia.bind(null,e,_n,ms),r);break}ia(e,_n,ms);break;case 5:ia(e,_n,ms);break;default:throw Error(ne(329))}}}return Mn(e,It()),e.callbackNode===n?hk.bind(null,e):null}function yy(e,t){var n=Pc;return e.current.memoizedState.isDehydrated&&(ka(e,t).flags|=256),e=th(e,t),e!==2&&(t=_n,_n=n,t!==null&&vy(t)),e}function vy(e){_n===null?_n=e:_n.push.apply(_n,e)}function lF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Lr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t){for(t&=~Dx,t&=~dp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ir(t),r=1<<n;e[n]=-1,t&=~r}}function dS(e){if(qe&6)throw Error(ne(327));Lo();var t=Lf(e,0);if(!(t&1))return Mn(e,It()),null;var n=th(e,t);if(e.tag!==0&&n===2){var r=Wg(e);r!==0&&(t=r,n=yy(e,r))}if(n===1)throw n=au,ka(e,0),oi(e,t),Mn(e,It()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ia(e,_n,ms),Mn(e,It()),null}function Fx(e,t){var n=qe;qe|=1;try{return e(t)}finally{qe=n,qe===0&&(pl=It()+500,op&&Qi())}}function Oa(e){Si!==null&&Si.tag===0&&!(qe&6)&&Lo();var t=qe;qe|=1;var n=cr.transition,r=st;try{if(cr.transition=null,st=1,e)return e()}finally{st=r,cr.transition=n,qe=t,!(qe&6)&&Qi()}}function Vx(){Fn=No.current,mt(No)}function ka(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,FL(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(xx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bf();break;case 3:fl(),mt(Rn),mt(dn),Tx();break;case 5:kx(r);break;case 4:fl();break;case 13:mt(wt);break;case 19:mt(wt);break;case 10:Cx(r.type._context);break;case 22:case 23:Vx()}n=n.return}if(Kt=e,Vt=e=Pi(e.current,null),Zt=Fn=t,Wt=0,au=null,Dx=dp=Ma=0,_n=Pc=null,fa!==null){for(t=0;t<fa.length;t++)if(n=fa[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fa=null}return e}function pk(e,t){do{var n=Vt;try{if(Sx(),cf.current=Zf,Qf){for(var r=St.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qf=!1}if(Ia=0,qt=Bt=St=null,_c=!1,ru=0,Ox.current=null,n===null||n.return===null){Wt=1,au=t,Vt=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=X0(o);if(m!==null){m.flags&=-257,J0(m,o,l,i,t),m.mode&1&&Z0(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){Z0(i,u,t),Ux();break e}c=Error(ne(426))}}else if(vt&&l.mode&1){var w=X0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),J0(w,o,l,i,t),wx(hl(c,l));break e}}i=c=hl(c,l),Wt!==4&&(Wt=2),Pc===null?Pc=[i]:Pc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=ZE(i,c,t);H0(i,x);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_i===null||!_i.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=XE(i,l,t);H0(i,S);break e}}i=i.return}while(i!==null)}yk(n)}catch(C){t=C,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(!0)}function mk(){var e=Xf.current;return Xf.current=Zf,e===null?Zf:e}function Ux(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Kt===null||!(Ma&268435455)&&!(dp&268435455)||oi(Kt,Zt)}function th(e,t){var n=qe;qe|=2;var r=mk();(Kt!==e||Zt!==t)&&(ms=null,ka(e,t));do try{cF();break}catch(s){pk(e,s)}while(!0);if(Sx(),qe=n,Xf.current=r,Vt!==null)throw Error(ne(261));return Kt=null,Zt=0,Wt}function cF(){for(;Vt!==null;)gk(Vt)}function uF(){for(;Vt!==null&&!OD();)gk(Vt)}function gk(e){var t=xk(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?yk(e):Vt=t,Ox.current=null}function yk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rF(n,t),n!==null){n.flags&=32767,Vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wt=6,Vt=null;return}}else if(n=nF(n,t,Fn),n!==null){Vt=n;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);Wt===0&&(Wt=5)}function ia(e,t,n){var r=st,s=cr.transition;try{cr.transition=null,st=1,dF(e,t,n,r)}finally{cr.transition=s,st=r}return null}function dF(e,t,n,r){do Lo();while(Si!==null);if(qe&6)throw Error(ne(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(HD(e,i),e===Kt&&(Vt=Kt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Od||(Od=!0,wk(Df,function(){return Lo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cr.transition,cr.transition=null;var o=st;st=1;var l=qe;qe|=4,Ox.current=null,iF(e,n),dk(n,e),PL(Gg),Ff=!!Yg,Gg=Yg=null,e.current=n,aF(n),DD(),qe=l,st=o,cr.transition=i}else e.current=n;if(Od&&(Od=!1,Si=e,eh=s),i=e.pendingLanes,i===0&&(_i=null),VD(n.stateNode),Mn(e,It()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jf)throw Jf=!1,e=my,my=null,e;return eh&1&&e.tag!==0&&Lo(),i=e.pendingLanes,i&1?e===gy?Rc++:(Rc=0,gy=e):Rc=0,Qi(),null}function Lo(){if(Si!==null){var e=Zj(eh),t=cr.transition,n=st;try{if(cr.transition=null,st=16>e?16:e,Si===null)var r=!1;else{if(e=Si,Si=null,eh=0,qe&6)throw Error(ne(331));var s=qe;for(qe|=4,ye=e.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ye=u;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Ac(8,d,i)}var f=d.child;if(f!==null)f.return=d,ye=f;else for(;ye!==null;){d=ye;var h=d.sibling,m=d.return;if(lk(d),d===u){ye=null;break}if(h!==null){h.return=m,ye=h;break}ye=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ac(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ye=x;break e}ye=i.return}}var v=e.current;for(ye=v;ye!==null;){o=ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ye=b;else e:for(o=v;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:up(9,l)}}catch(C){Tt(l,l.return,C)}if(l===o){ye=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ye=S;break e}ye=l.return}}if(qe=s,Qi(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(np,e)}catch{}r=!0}return r}finally{st=n,cr.transition=t}}return!1}function fS(e,t,n){t=hl(n,t),t=ZE(e,t,1),e=Ti(e,t,1),t=wn(),e!==null&&(Wu(e,1,t),Mn(e,t))}function Tt(e,t,n){if(e.tag===3)fS(e,e,n);else for(;t!==null;){if(t.tag===3){fS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){e=hl(n,e),e=XE(t,e,1),t=Ti(t,e,1),e=wn(),t!==null&&(Wu(t,1,e),Mn(t,e));break}}t=t.return}}function fF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wn(),e.pingedLanes|=e.suspendedLanes&n,Kt===e&&(Zt&n)===n&&(Wt===4||Wt===3&&(Zt&130023424)===Zt&&500>It()-Lx?ka(e,0):Dx|=n),Mn(e,t)}function vk(e,t){t===0&&(e.mode&1?(t=jd,jd<<=1,!(jd&130023424)&&(jd=4194304)):t=1);var n=wn();e=Os(e,t),e!==null&&(Wu(e,t,n),Mn(e,n))}function hF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vk(e,n)}function pF(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),vk(e,n)}var xk;xk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rn.current)An=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return An=!1,tF(e,t,n);An=!!(e.flags&131072)}else An=!1,vt&&t.flags&1048576&&CE(t,Hf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;df(e,t),e=t.pendingProps;var s=cl(t,dn.current);Do(t,n),s=Ax(null,t,r,e,s,n);var i=Px();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(r)?(i=!0,Wf(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jx(t),s.updater=cp,t.stateNode=s,s._reactInternals=t,sy(t,r,e,n),t=oy(null,t,r,!0,i,n)):(t.tag=0,vt&&i&&vx(t),yn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(df(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=gF(r),e=Nr(r,e),s){case 0:t=ay(null,t,r,e,n);break e;case 1:t=nS(null,t,r,e,n);break e;case 11:t=eS(null,t,r,e,n);break e;case 14:t=tS(null,t,r,Nr(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),ay(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),nS(e,t,r,s,n);case 3:e:{if(nk(t),e===null)throw Error(ne(387));r=t.pendingProps,i=t.memoizedState,s=i.element,_E(e,t),Yf(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hl(Error(ne(423)),t),t=rS(e,t,r,n,s);break e}else if(r!==s){s=hl(Error(ne(424)),t),t=rS(e,t,r,n,s);break e}else for(Bn=ki(t.stateNode.containerInfo.firstChild),Wn=t,vt=!0,Tr=null,n=kE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===s){t=Ds(e,t,n);break e}yn(e,t,r,n)}t=t.child}return t;case 5:return AE(t),e===null&&ty(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Qg(r,s)?o=null:i!==null&&Qg(r,i)&&(t.flags|=32),tk(e,t),yn(e,t,o,n),t.child;case 6:return e===null&&ty(t),null;case 13:return rk(e,t,n);case 4:return Ex(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dl(t,null,r,n):yn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),eS(e,t,r,s,n);case 7:return yn(e,t,t.pendingProps,n),t.child;case 8:return yn(e,t,t.pendingProps.children,n),t.child;case 12:return yn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,dt(qf,r._currentValue),r._currentValue=o,i!==null)if(Lr(i.value,o)){if(i.children===s.children&&!Rn.current){t=Ds(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ks(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ny(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ny(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Do(t,n),s=dr(s),r=r(s),t.flags|=1,yn(e,t,r,n),t.child;case 14:return r=t.type,s=Nr(r,t.pendingProps),s=Nr(r.type,s),tS(e,t,r,s,n);case 15:return JE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nr(r,s),df(e,t),t.tag=1,In(r)?(e=!0,Wf(t)):e=!1,Do(t,n),QE(t,r,s),sy(t,r,s,n),oy(null,t,r,!0,e,n);case 19:return sk(e,t,n);case 22:return ek(e,t,n)}throw Error(ne(156,t.tag))};function wk(e,t){return Kj(e,t)}function mF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,n,r){return new mF(e,t,n,r)}function $x(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gF(e){if(typeof e=="function")return $x(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ax)return 11;if(e===ox)return 14}return 2}function Pi(e,t){var n=e.alternate;return n===null?(n=ar(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pf(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")$x(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case po:return Ta(n.children,s,i,t);case ix:o=8,s|=8;break;case Tg:return e=ar(12,n,t,s|2),e.elementType=Tg,e.lanes=i,e;case _g:return e=ar(13,n,t,s),e.elementType=_g,e.lanes=i,e;case Ag:return e=ar(19,n,t,s),e.elementType=Ag,e.lanes=i,e;case Aj:return fp(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tj:o=10;break e;case _j:o=9;break e;case ax:o=11;break e;case ox:o=14;break e;case ri:o=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=ar(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ta(e,t,n,r){return e=ar(7,e,r,t),e.lanes=n,e}function fp(e,t,n,r){return e=ar(22,e,r,t),e.elementType=Aj,e.lanes=n,e.stateNode={isHidden:!1},e}function Fm(e,t,n){return e=ar(6,e,null,t),e.lanes=n,e}function Vm(e,t,n){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yF(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xm(0),this.expirationTimes=xm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bx(e,t,n,r,s,i,o,l,c){return e=new yF(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ar(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jx(i),e}function vF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bk(e){if(!e)return Fi;e=e._reactInternals;e:{if(Qa(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(In(n))return bE(e,n,t)}return t}function Sk(e,t,n,r,s,i,o,l,c){return e=Bx(n,r,!0,e,s,i,o,l,c),e.context=bk(null),n=e.current,r=wn(),s=Ai(n),i=ks(r,s),i.callback=t??null,Ti(n,i,s),e.current.lanes=s,Wu(e,s,r),Mn(e,r),e}function hp(e,t,n,r){var s=t.current,i=wn(),o=Ai(s);return n=bk(n),t.context===null?t.context=n:t.pendingContext=n,t=ks(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ti(s,t,o),e!==null&&(Mr(e,s,o,i),lf(e,s,o)),o}function nh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wx(e,t){hS(e,t),(e=e.alternate)&&hS(e,t)}function xF(){return null}var Ck=typeof reportError=="function"?reportError:function(e){console.error(e)};function zx(e){this._internalRoot=e}pp.prototype.render=zx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));hp(e,t,null,null)};pp.prototype.unmount=zx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oa(function(){hp(null,e,null,null)}),t[Ms]=null}};function pp(e){this._internalRoot=e}pp.prototype.unstable_scheduleHydration=function(e){if(e){var t=eE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ai.length&&t!==0&&t<ai[n].priority;n++);ai.splice(n,0,e),n===0&&nE(e)}};function Hx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pS(){}function wF(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=nh(o);i.call(u)}}var o=Sk(t,r,e,0,null,!1,!1,"",pS);return e._reactRootContainer=o,e[Ms]=o.current,Xc(e.nodeType===8?e.parentNode:e),Oa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=nh(c);l.call(u)}}var c=Bx(e,0,!1,null,null,!1,!1,"",pS);return e._reactRootContainer=c,e[Ms]=c.current,Xc(e.nodeType===8?e.parentNode:e),Oa(function(){hp(t,c,n,r)}),c}function gp(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=nh(o);l.call(c)}}hp(t,o,e,s)}else o=wF(n,t,e,s,r);return nh(o)}Xj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hc(t.pendingLanes);n!==0&&(ux(t,n|1),Mn(t,It()),!(qe&6)&&(pl=It()+500,Qi()))}break;case 13:Oa(function(){var r=Os(e,1);if(r!==null){var s=wn();Mr(r,e,1,s)}}),Wx(e,1)}};dx=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var n=wn();Mr(t,e,134217728,n)}Wx(e,134217728)}};Jj=function(e){if(e.tag===13){var t=Ai(e),n=Os(e,t);if(n!==null){var r=wn();Mr(n,e,t,r)}Wx(e,t)}};eE=function(){return st};tE=function(e,t){var n=st;try{return st=e,t()}finally{st=n}};Ug=function(e,t,n){switch(t){case"input":if(Ig(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ap(r);if(!s)throw Error(ne(90));Rj(r),Ig(r,s)}}}break;case"textarea":Mj(e,n);break;case"select":t=n.value,t!=null&&Ro(e,!!n.multiple,t,!1)}};$j=Fx;Bj=Oa;var bF={usingClientEntryPoint:!1,Events:[Hu,vo,ap,Vj,Uj,Fx]},tc={findFiberByHostInstance:da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SF={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hj(e),e===null?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||xF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{np=Dd.inject(SF),es=Dd}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bF;Gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hx(t))throw Error(ne(200));return vF(e,t,null,n)};Gn.createRoot=function(e,t){if(!Hx(e))throw Error(ne(299));var n=!1,r="",s=Ck;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bx(e,1,!1,null,null,n,!1,r,s),e[Ms]=t.current,Xc(e.nodeType===8?e.parentNode:e),new zx(t)};Gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Hj(t),e=e===null?null:e.stateNode,e};Gn.flushSync=function(e){return Oa(e)};Gn.hydrate=function(e,t,n){if(!mp(t))throw Error(ne(200));return gp(null,e,t,!0,n)};Gn.hydrateRoot=function(e,t,n){if(!Hx(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ck;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Sk(t,null,e,1,n??null,s,!1,i,o),e[Ms]=t.current,Xc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new pp(t)};Gn.render=function(e,t,n){if(!mp(t))throw Error(ne(200));return gp(null,e,t,!1,n)};Gn.unmountComponentAtNode=function(e){if(!mp(e))throw Error(ne(40));return e._reactRootContainer?(Oa(function(){gp(null,null,e,!1,function(){e._reactRootContainer=null,e[Ms]=null})}),!0):!1};Gn.unstable_batchedUpdates=Fx;Gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mp(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return gp(e,t,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function Nk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nk)}catch(e){console.error(e)}}Nk(),Nj.exports=Gn;var Za=Nj.exports;const CF=Jh(Za);var jk,mS=Za;jk=mS.createRoot,mS.hydrateRoot;function NF(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var Ek={exports:{}},kk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=p;function jF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EF=typeof Object.is=="function"?Object.is:jF,kF=ml.useState,TF=ml.useEffect,_F=ml.useLayoutEffect,AF=ml.useDebugValue;function PF(e,t){var n=t(),r=kF({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return _F(function(){s.value=n,s.getSnapshot=t,Um(s)&&i({inst:s})},[e,n,t]),TF(function(){return Um(s)&&i({inst:s}),e(function(){Um(s)&&i({inst:s})})},[e]),AF(n),n}function Um(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!EF(e,n)}catch{return!0}}function RF(e,t){return t()}var IF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RF:PF;kk.useSyncExternalStore=ml.useSyncExternalStore!==void 0?ml.useSyncExternalStore:IF;Ek.exports=kk;var MF=Ek.exports;const OF=tp.useInsertionEffect,DF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LF=DF?p.useLayoutEffect:p.useEffect,FF=OF||LF,Tk=e=>{const t=p.useRef([e,(...n)=>t[0](...n)]).current;return FF(()=>{t[0]=e}),t[1]},VF="popstate",qx="pushState",Kx="replaceState",UF="hashchange",gS=[VF,qx,Kx,UF],$F=e=>{for(const t of gS)addEventListener(t,e);return()=>{for(const t of gS)removeEventListener(t,e)}},_k=(e,t)=>MF.useSyncExternalStore($F,e,t),BF=()=>location.search,WF=({ssrSearch:e=""}={})=>_k(BF,()=>e),yS=()=>location.pathname,zF=({ssrPath:e}={})=>_k(yS,e?()=>e:yS),HF=(e,{replace:t=!1,state:n=null}={})=>history[t?Kx:qx](n,"",e),qF=(e={})=>[zF(e),HF],vS=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vS]>"u"){for(const e of[qx,Kx]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,vS,{value:!0})}const KF=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Ak=(e="")=>e==="/"?"":e,YF=(e,t)=>e[0]==="~"?e.slice(1):Ak(t)+e,GF=(e="",t)=>KF(xS(Ak(e)),xS(t)),xS=e=>{try{return decodeURI(e)}catch{return e}},Pk={hook:qF,searchHook:WF,parser:NF,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},Rk=p.createContext(Pk),Ml=()=>p.useContext(Rk),Ik={},Mk=p.createContext(Ik),Ku=()=>p.useContext(Mk),yp=e=>{const[t,n]=e.hook(e);return[GF(e.base,t),Tk((r,s)=>n(YF(r,e.base),s))]},ls=()=>yp(Ml()),Yx=(e,t,n,r)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},Ok=e=>Yx(Ml().parser,e,ls()[0]),QF=({children:e,...t})=>{var d,f;const n=Ml(),r=t.hook?Pk:n;let s=r;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=p.useRef({}),c=l.current,u=c;for(let h in r){const m=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,(m!==r[h]||m!==s[h])&&(s=u)}return p.createElement(Rk.Provider,{value:s,children:e})},wS=({children:e,component:t},n)=>t?p.createElement(t,{params:n}):typeof e=="function"?e(n):e,ZF=e=>{let t=p.useRef(Ik);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n},Zn=({path:e,nest:t,match:n,...r})=>{const s=Ml(),[i]=yp(s),[o,l,c]=n??Yx(s.parser,e,i,t),u=ZF({...Ku(),...l});if(!o)return null;const d=c?p.createElement(QF,{base:c},wS(r,u)):wS(r,u);return p.createElement(Mk.Provider,{value:u,children:d})},ou=p.forwardRef((e,t)=>{const n=Ml(),[r,s]=yp(n),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,y=Tk(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l==null||l(w),w.defaultPrevented||(w.preventDefault(),s(o,e)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(u)?p.cloneElement(u,{onClick:y,href:g}):p.createElement("a",{...m,onClick:y,href:g,className:d!=null&&d.call?d(r===o):d,children:u,ref:t})}),Dk=e=>Array.isArray(e)?e.flatMap(t=>Dk(t&&t.type===p.Fragment?t.props.children:t)):[e],XF=({children:e,location:t})=>{const n=Ml(),[r]=yp(n);for(const s of Dk(e)){let i=0;if(p.isValidElement(s)&&(i=Yx(n.parser,s.props.path,t||r,s.props.nest))[0])return p.cloneElement(s,{match:i})}return null};var Xa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JF={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},di,Zv,tj,e4=(tj=class{constructor(){ge(this,di,JF);ge(this,Zv,!1)}setTimeoutProvider(e){ae(this,di,e)}setTimeout(e,t){return A(this,di).setTimeout(e,t)}clearTimeout(e){A(this,di).clearTimeout(e)}setInterval(e,t){return A(this,di).setInterval(e,t)}clearInterval(e){A(this,di).clearInterval(e)}},di=new WeakMap,Zv=new WeakMap,tj),pa=new e4;function t4(e){setTimeout(e,0)}var Da=typeof window>"u"||"Deno"in globalThis;function an(){}function n4(e,t){return typeof e=="function"?e(t):e}function xy(e){return typeof e=="number"&&e>=0&&e!==1/0}function Lk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ri(e,t){return typeof e=="function"?e(t):e}function nr(e,t){return typeof e=="function"?e(t):e}function bS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Gx(o,t.options))return!1}else if(!lu(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function SS(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(La(t.options.mutationKey)!==La(i))return!1}else if(!lu(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Gx(e,t){return((t==null?void 0:t.queryKeyHashFn)||La)(e)}function La(e){return JSON.stringify(e,(t,n)=>wy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function lu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>lu(e[n],t[n])):!1}var r4=Object.prototype.hasOwnProperty;function Qx(e,t){if(e===t)return e;const n=CS(e)&&CS(t);if(!n&&!(wy(e)&&wy(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(n?u<s:r4.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=Qx(f,h);l[d]=m,m===f&&c++}return s===o&&c===s?e:l}function cu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function CS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wy(e){if(!NS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!NS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NS(e){return Object.prototype.toString.call(e)==="[object Object]"}function s4(e){return new Promise(t=>{pa.setTimeout(t,e)})}function by(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Qx(e,t):t}function i4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function a4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Zx=Symbol();function Fk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Zx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Vk(e,t){return typeof e=="function"?e(...t):!!e}var va,fi,Ko,nj,o4=(nj=class extends Xa{constructor(){super();ge(this,va);ge(this,fi);ge(this,Ko);ae(this,Ko,t=>{if(!Da&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,fi)||this.setEventListener(A(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,fi))==null||t.call(this),ae(this,fi,void 0))}setEventListener(t){var n;ae(this,Ko,t),(n=A(this,fi))==null||n.call(this),ae(this,fi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){A(this,va)!==t&&(ae(this,va,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof A(this,va)=="boolean"?A(this,va):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},va=new WeakMap,fi=new WeakMap,Ko=new WeakMap,nj),Xx=new o4;function Sy(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var l4=t4;function c4(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l4;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var At=c4(),Yo,hi,Go,rj,u4=(rj=class extends Xa{constructor(){super();ge(this,Yo,!0);ge(this,hi);ge(this,Go);ae(this,Go,t=>{if(!Da&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,hi)||this.setEventListener(A(this,Go))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,hi))==null||t.call(this),ae(this,hi,void 0))}setEventListener(t){var n;ae(this,Go,t),(n=A(this,hi))==null||n.call(this),ae(this,hi,t(this.setOnline.bind(this)))}setOnline(t){A(this,Yo)!==t&&(ae(this,Yo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return A(this,Yo)}},Yo=new WeakMap,hi=new WeakMap,Go=new WeakMap,rj),rh=new u4;function d4(e){return Math.min(1e3*2**e,3e4)}function Uk(e){return(e??"online")==="online"?rh.isOnline():!0}var Cy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $k(e){let t=!1,n=0,r;const s=Sy(),i=()=>s.status!=="pending",o=g=>{var w;if(!i()){const x=new Cy(g);h(x),(w=e.onCancel)==null||w.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Xx.isFocused()&&(e.networkMode==="always"||rh.isOnline())&&e.canRun(),d=()=>Uk(e.networkMode)&&e.canRun(),f=g=>{i()||(r==null||r(),s.resolve(g))},h=g=>{i()||(r==null||r(),s.reject(g))},m=()=>new Promise(g=>{var w;r=x=>{(i()||u())&&g(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;r=void 0,i()||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(i())return;let g;const w=n===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(f).catch(x=>{var k;if(i())return;const v=e.retry??(Da?0:3),b=e.retryDelay??d4,S=typeof b=="function"?b(n,x):b,C=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(t||!C){h(x);return}n++,(k=e.onFail)==null||k.call(e,n,x),s4(S).then(()=>u()?void 0:m()).then(()=>{t?h(x):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),s)}}var xa,sj,Bk=(sj=class{constructor(){ge(this,xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xy(this.gcTime)&&ae(this,xa,pa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Da?1/0:5*60*1e3))}clearGcTimeout(){A(this,xa)&&(pa.clearTimeout(A(this,xa)),ae(this,xa,void 0))}},xa=new WeakMap,sj),wa,Qo,er,ba,Ht,Mu,Sa,jr,ps,ij,f4=(ij=class extends Bk{constructor(t){super();ge(this,jr);ge(this,wa);ge(this,Qo);ge(this,er);ge(this,ba);ge(this,Ht);ge(this,Mu);ge(this,Sa);ae(this,Sa,!1),ae(this,Mu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,ba,t.client),ae(this,er,A(this,ba).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,wa,ES(this.options)),this.state=t.state??A(this,wa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,Ht))==null?void 0:t.promise}setOptions(t){if(this.options={...A(this,Mu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=ES(this.options);n.data!==void 0&&(this.setState(jS(n.data,n.dataUpdatedAt)),ae(this,wa,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,er).remove(this)}setData(t,n){const r=by(this.state.data,t,this.options);return Te(this,jr,ps).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Te(this,jr,ps).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=A(this,Ht))==null?void 0:r.promise;return(s=A(this,Ht))==null||s.cancel(t),n?n.then(an).catch(an):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,wa))}isActive(){return this.observers.some(t=>nr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ri(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Lk(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,Ht))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,Ht))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(A(this,Ht)&&(A(this,Sa)?A(this,Ht).cancel({revert:!0}):A(this,Ht).cancelRetry()),this.scheduleGc()),A(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,jr,ps).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,h,m,y,g,w,x,v,b;if(this.state.fetchStatus!=="idle"&&((c=A(this,Ht))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,Ht))return A(this,Ht).continueRetry(),A(this,Ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(C=>C.options.queryFn);S&&this.setOptions(S.options)}const r=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(ae(this,Sa,!0),r.signal)})},i=()=>{const S=Fk(this.options,n),k=(()=>{const E={client:A(this,ba),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return ae(this,Sa,!1),this.options.persister?this.options.persister(S,k,this):S(k)},l=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,ba),state:this.state,fetchFn:i};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),ae(this,Qo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Te(this,jr,ps).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ae(this,Ht,$k({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof Cy&&S.revert&&this.setState({...A(this,Qo),fetchStatus:"idle"}),r.abort()},onFail:(S,C)=>{Te(this,jr,ps).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{Te(this,jr,ps).call(this,{type:"pause"})},onContinue:()=>{Te(this,jr,ps).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await A(this,Ht).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(m=(h=A(this,er).config).onSuccess)==null||m.call(h,S,this),(g=(y=A(this,er).config).onSettled)==null||g.call(y,S,this.state.error,this),S}catch(S){if(S instanceof Cy){if(S.silent)return A(this,Ht).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw Te(this,jr,ps).call(this,{type:"error",error:S}),(x=(w=A(this,er).config).onError)==null||x.call(w,S,this),(b=(v=A(this,er).config).onSettled)==null||b.call(v,this.state.data,S,this),S}finally{this.scheduleGc()}}},wa=new WeakMap,Qo=new WeakMap,er=new WeakMap,ba=new WeakMap,Ht=new WeakMap,Mu=new WeakMap,Sa=new WeakMap,jr=new WeakSet,ps=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Wk(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...jS(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,Qo,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),At.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,er).notify({query:this,type:"updated",action:t})})},ij);function Wk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jS(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ES(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var En,We,Ou,pn,Ca,Zo,ys,pi,Du,Xo,Jo,Na,ja,mi,el,et,mc,Ny,jy,Ey,ky,Ty,_y,Ay,zk,aj,Jx=(aj=class extends Xa{constructor(t,n){super();ge(this,et);ge(this,En);ge(this,We);ge(this,Ou);ge(this,pn);ge(this,Ca);ge(this,Zo);ge(this,ys);ge(this,pi);ge(this,Du);ge(this,Xo);ge(this,Jo);ge(this,Na);ge(this,ja);ge(this,mi);ge(this,el,new Set);this.options=n,ae(this,En,t),ae(this,pi,null),ae(this,ys,Sy()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,We).addObserver(this),kS(A(this,We),this.options)?Te(this,et,mc).call(this):this.updateResult(),Te(this,et,ky).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Py(A(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Py(A(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,et,Ty).call(this),Te(this,et,_y).call(this),A(this,We).removeObserver(this)}setOptions(t){const n=this.options,r=A(this,We);if(this.options=A(this,En).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nr(this.options.enabled,A(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,et,Ay).call(this),A(this,We).setOptions(this.options),n._defaulted&&!cu(this.options,n)&&A(this,En).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,We),observer:this});const s=this.hasListeners();s&&TS(A(this,We),r,this.options,n)&&Te(this,et,mc).call(this),this.updateResult(),s&&(A(this,We)!==r||nr(this.options.enabled,A(this,We))!==nr(n.enabled,A(this,We))||Ri(this.options.staleTime,A(this,We))!==Ri(n.staleTime,A(this,We)))&&Te(this,et,Ny).call(this);const i=Te(this,et,jy).call(this);s&&(A(this,We)!==r||nr(this.options.enabled,A(this,We))!==nr(n.enabled,A(this,We))||i!==A(this,mi))&&Te(this,et,Ey).call(this,i)}getOptimisticResult(t){const n=A(this,En).getQueryCache().build(A(this,En),t),r=this.createResult(n,t);return p4(this,r)&&(ae(this,pn,r),ae(this,Zo,this.options),ae(this,Ca,A(this,We).state)),r}getCurrentResult(){return A(this,pn)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&A(this,ys).status==="pending"&&A(this,ys).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){A(this,el).add(t)}getCurrentQuery(){return A(this,We)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=A(this,En).defaultQueryOptions(t),r=A(this,En).getQueryCache().build(A(this,En),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Te(this,et,mc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,pn)))}createResult(t,n){var j;const r=A(this,We),s=this.options,i=A(this,pn),o=A(this,Ca),l=A(this,Zo),u=t!==r?t.state:A(this,Ou),{state:d}=t;let f={...d},h=!1,m;if(n._optimisticResults){const T=this.hasListeners(),O=!T&&kS(t,n),I=T&&TS(t,r,n,s);(O||I)&&(f={...f,...Wk(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:w}=f;m=f.data;let x=!1;if(n.placeholderData!==void 0&&m===void 0&&w==="pending"){let T;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,x=!0):T=typeof n.placeholderData=="function"?n.placeholderData((j=A(this,Jo))==null?void 0:j.state.data,A(this,Jo)):n.placeholderData,T!==void 0&&(w="success",m=by(i==null?void 0:i.data,T,n),h=!0)}if(n.select&&m!==void 0&&!x)if(i&&m===(o==null?void 0:o.data)&&n.select===A(this,Du))m=A(this,Xo);else try{ae(this,Du,n.select),m=n.select(m),m=by(i==null?void 0:i.data,m,n),ae(this,Xo,m),ae(this,pi,null)}catch(T){ae(this,pi,T)}A(this,pi)&&(y=A(this,pi),m=A(this,Xo),g=Date.now(),w="error");const v=f.fetchStatus==="fetching",b=w==="pending",S=w==="error",C=b&&v,k=m!==void 0,N={status:w,fetchStatus:f.fetchStatus,isPending:b,isSuccess:w==="success",isError:S,isInitialLoading:C,isLoading:C,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:S&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&k,isStale:ew(t,n),refetch:this.refetch,promise:A(this,ys),isEnabled:nr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=B=>{N.status==="error"?B.reject(N.error):N.data!==void 0&&B.resolve(N.data)},O=()=>{const B=ae(this,ys,N.promise=Sy());T(B)},I=A(this,ys);switch(I.status){case"pending":t.queryHash===r.queryHash&&T(I);break;case"fulfilled":(N.status==="error"||N.data!==I.value)&&O();break;case"rejected":(N.status!=="error"||N.error!==I.reason)&&O();break}}return N}updateResult(){const t=A(this,pn),n=this.createResult(A(this,We),this.options);if(ae(this,Ca,A(this,We).state),ae(this,Zo,this.options),A(this,Ca).data!==void 0&&ae(this,Jo,A(this,We)),cu(n,t))return;ae(this,pn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!A(this,el).size)return!0;const o=new Set(i??A(this,el));return this.options.throwOnError&&o.add("error"),Object.keys(A(this,pn)).some(l=>{const c=l;return A(this,pn)[c]!==t[c]&&o.has(c)})};Te(this,et,zk).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,et,ky).call(this)}},En=new WeakMap,We=new WeakMap,Ou=new WeakMap,pn=new WeakMap,Ca=new WeakMap,Zo=new WeakMap,ys=new WeakMap,pi=new WeakMap,Du=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,Na=new WeakMap,ja=new WeakMap,mi=new WeakMap,el=new WeakMap,et=new WeakSet,mc=function(t){Te(this,et,Ay).call(this);let n=A(this,We).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(an)),n},Ny=function(){Te(this,et,Ty).call(this);const t=Ri(this.options.staleTime,A(this,We));if(Da||A(this,pn).isStale||!xy(t))return;const r=Lk(A(this,pn).dataUpdatedAt,t)+1;ae(this,Na,pa.setTimeout(()=>{A(this,pn).isStale||this.updateResult()},r))},jy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,We)):this.options.refetchInterval)??!1},Ey=function(t){Te(this,et,_y).call(this),ae(this,mi,t),!(Da||nr(this.options.enabled,A(this,We))===!1||!xy(A(this,mi))||A(this,mi)===0)&&ae(this,ja,pa.setInterval(()=>{(this.options.refetchIntervalInBackground||Xx.isFocused())&&Te(this,et,mc).call(this)},A(this,mi)))},ky=function(){Te(this,et,Ny).call(this),Te(this,et,Ey).call(this,Te(this,et,jy).call(this))},Ty=function(){A(this,Na)&&(pa.clearTimeout(A(this,Na)),ae(this,Na,void 0))},_y=function(){A(this,ja)&&(pa.clearInterval(A(this,ja)),ae(this,ja,void 0))},Ay=function(){const t=A(this,En).getQueryCache().build(A(this,En),this.options);if(t===A(this,We))return;const n=A(this,We);ae(this,We,t),ae(this,Ou,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},zk=function(t){At.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(A(this,pn))}),A(this,En).getQueryCache().notify({query:A(this,We),type:"observerResultsUpdated"})})},aj);function h4(e,t){return nr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kS(e,t){return h4(e,t)||e.state.data!==void 0&&Py(e,t,t.refetchOnMount)}function Py(e,t,n){if(nr(t.enabled,e)!==!1&&Ri(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ew(e,t)}return!1}function TS(e,t,n,r){return(e!==t||nr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ew(e,n)}function ew(e,t){return nr(t.enabled,e)!==!1&&e.isStaleByTime(Ri(t.staleTime,e))}function p4(e,t){return!cu(e.getCurrentResult(),t)}function _S(e){return{onFetch:(t,n)=>{var d,f,h,m,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=Fk(t.options,t.fetchOptions),v=async(b,S,C)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};return w(O),O})(),N=await x(E),{maxPages:j}=t.options,T=C?a4:i4;return{pages:T(b.pages,N,j),pageParams:T(b.pageParams,S,j)}};if(s&&i.length){const b=s==="backward",S=b?m4:AS,C={pages:i,pageParams:o},k=S(r,C);l=await v(C,k,b)}else{const b=e??i.length;do{const S=c===0?o[0]??r.initialPageParam:AS(r,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function AS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function m4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Lu,qr,mn,Ea,Kr,ei,oj,g4=(oj=class extends Bk{constructor(t){super();ge(this,Kr);ge(this,Lu);ge(this,qr);ge(this,mn);ge(this,Ea);ae(this,Lu,t.client),this.mutationId=t.mutationId,ae(this,mn,t.mutationCache),ae(this,qr,[]),this.state=t.state||Hk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,qr).includes(t)||(A(this,qr).push(t),this.clearGcTimeout(),A(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,qr,A(this,qr).filter(n=>n!==t)),this.scheduleGc(),A(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,qr).length||(this.state.status==="pending"?this.scheduleGc():A(this,mn).remove(this))}continue(){var t;return((t=A(this,Ea))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,y,g,w,x,v,b,S,C,k,E,N,j;const n=()=>{Te(this,Kr,ei).call(this,{type:"continue"})},r={client:A(this,Lu),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,Ea,$k({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(T,O)=>{Te(this,Kr,ei).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{Te(this,Kr,ei).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,mn).canRun(this)}));const s=this.state.status==="pending",i=!A(this,Ea).canStart();try{if(s)n();else{Te(this,Kr,ei).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=A(this,mn).config).onMutate)==null?void 0:l.call(o,t,this,r));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));O!==this.state.context&&Te(this,Kr,ei).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const T=await A(this,Ea).start();return await((f=(d=A(this,mn).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,r)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,T,t,this.state.context,r)),await((g=(y=A(this,mn).config).onSettled)==null?void 0:g.call(y,T,null,this.state.variables,this.state.context,this,r)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,T,null,t,this.state.context,r)),Te(this,Kr,ei).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(v=A(this,mn).config).onError)==null?void 0:b.call(v,T,t,this.state.context,this,r)),await((C=(S=this.options).onError)==null?void 0:C.call(S,T,t,this.state.context,r)),await((E=(k=A(this,mn).config).onSettled)==null?void 0:E.call(k,void 0,T,this.state.variables,this.state.context,this,r)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,void 0,T,t,this.state.context,r)),T}finally{Te(this,Kr,ei).call(this,{type:"error",error:T})}}finally{A(this,mn).runNext(this)}}},Lu=new WeakMap,qr=new WeakMap,mn=new WeakMap,Ea=new WeakMap,Kr=new WeakSet,ei=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),At.batch(()=>{A(this,qr).forEach(r=>{r.onMutationUpdate(t)}),A(this,mn).notify({mutation:this,type:"updated",action:t})})},oj);function Hk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vs,Er,Fu,lj,y4=(lj=class extends Xa{constructor(t={}){super();ge(this,vs);ge(this,Er);ge(this,Fu);this.config=t,ae(this,vs,new Set),ae(this,Er,new Map),ae(this,Fu,0)}build(t,n,r){const s=new g4({client:t,mutationCache:this,mutationId:++xd(this,Fu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){A(this,vs).add(t);const n=Ld(t);if(typeof n=="string"){const r=A(this,Er).get(n);r?r.push(t):A(this,Er).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(A(this,vs).delete(t)){const n=Ld(t);if(typeof n=="string"){const r=A(this,Er).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&A(this,Er).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ld(t);if(typeof n=="string"){const r=A(this,Er).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Ld(t);if(typeof n=="string"){const s=(r=A(this,Er).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{A(this,vs).forEach(t=>{this.notify({type:"removed",mutation:t})}),A(this,vs).clear(),A(this,Er).clear()})}getAll(){return Array.from(A(this,vs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>SS(n,r))}findAll(t={}){return this.getAll().filter(n=>SS(t,n))}notify(t){At.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(t.map(n=>n.continue().catch(an))))}},vs=new WeakMap,Er=new WeakMap,Fu=new WeakMap,lj);function Ld(e){var t;return(t=e.options.scope)==null?void 0:t.id}var xs,gi,kn,ws,Rs,mf,Ry,cj,v4=(cj=class extends Xa{constructor(n,r){super();ge(this,Rs);ge(this,xs);ge(this,gi);ge(this,kn);ge(this,ws);ae(this,xs,n),this.setOptions(r),this.bindMethods(),Te(this,Rs,mf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=A(this,xs).defaultMutationOptions(n),cu(this.options,r)||A(this,xs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,kn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&La(r.mutationKey)!==La(this.options.mutationKey)?this.reset():((s=A(this,kn))==null?void 0:s.state.status)==="pending"&&A(this,kn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=A(this,kn))==null||n.removeObserver(this)}onMutationUpdate(n){Te(this,Rs,mf).call(this),Te(this,Rs,Ry).call(this,n)}getCurrentResult(){return A(this,gi)}reset(){var n;(n=A(this,kn))==null||n.removeObserver(this),ae(this,kn,void 0),Te(this,Rs,mf).call(this),Te(this,Rs,Ry).call(this)}mutate(n,r){var s;return ae(this,ws,r),(s=A(this,kn))==null||s.removeObserver(this),ae(this,kn,A(this,xs).getMutationCache().build(A(this,xs),this.options)),A(this,kn).addObserver(this),A(this,kn).execute(n)}},xs=new WeakMap,gi=new WeakMap,kn=new WeakMap,ws=new WeakMap,Rs=new WeakSet,mf=function(){var r;const n=((r=A(this,kn))==null?void 0:r.state)??Hk();ae(this,gi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ry=function(n){At.batch(()=>{var r,s,i,o,l,c,u,d;if(A(this,ws)&&this.hasListeners()){const f=A(this,gi).variables,h=A(this,gi).context,m={client:A(this,xs),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=A(this,ws)).onSuccess)==null||s.call(r,n.data,f,h,m),(o=(i=A(this,ws)).onSettled)==null||o.call(i,n.data,null,f,h,m)):(n==null?void 0:n.type)==="error"&&((c=(l=A(this,ws)).onError)==null||c.call(l,n.error,f,h,m),(d=(u=A(this,ws)).onSettled)==null||d.call(u,void 0,n.error,f,h,m))}this.listeners.forEach(f=>{f(A(this,gi))})})},cj);function PS(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function x4(e,t,n){const r=e.slice(0);return r[t]=n,r}var tl,Ln,nl,rl,tr,yi,Vu,Uu,$u,Jt,Iy,My,Oy,Dy,Ly,uj,w4=(uj=class extends Xa{constructor(t,n,r){super();ge(this,Jt);ge(this,tl);ge(this,Ln);ge(this,nl);ge(this,rl);ge(this,tr);ge(this,yi);ge(this,Vu);ge(this,Uu);ge(this,$u,[]);ae(this,tl,t),ae(this,rl,r),ae(this,nl,[]),ae(this,tr,[]),ae(this,Ln,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&A(this,tr).forEach(t=>{t.subscribe(n=>{Te(this,Jt,Dy).call(this,t,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,A(this,tr).forEach(t=>{t.destroy()})}setQueries(t,n){ae(this,nl,t),ae(this,rl,n),At.batch(()=>{const r=A(this,tr),s=Te(this,Jt,Oy).call(this,A(this,nl));ae(this,$u,s),s.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions));const i=s.map(f=>f.observer),o=i.map(f=>f.getCurrentResult()),l=r.length!==i.length,c=i.some((f,h)=>f!==r[h]),u=l||c,d=u?!0:o.some((f,h)=>{const m=A(this,Ln)[h];return!m||!cu(f,m)});!u&&!d||(u&&ae(this,tr,i),ae(this,Ln,o),this.hasListeners()&&(u&&(PS(r,i).forEach(f=>{f.destroy()}),PS(i,r).forEach(f=>{f.subscribe(h=>{Te(this,Jt,Dy).call(this,f,h)})})),Te(this,Jt,Ly).call(this)))})}getCurrentResult(){return A(this,Ln)}getQueries(){return A(this,tr).map(t=>t.getCurrentQuery())}getObservers(){return A(this,tr)}getOptimisticResult(t,n){const r=Te(this,Jt,Oy).call(this,t),s=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>Te(this,Jt,My).call(this,i??s,n),()=>Te(this,Jt,Iy).call(this,s,r)]}},tl=new WeakMap,Ln=new WeakMap,nl=new WeakMap,rl=new WeakMap,tr=new WeakMap,yi=new WeakMap,Vu=new WeakMap,Uu=new WeakMap,$u=new WeakMap,Jt=new WeakSet,Iy=function(t,n){return n.map((r,s)=>{const i=t[s];return r.defaultedQueryOptions.notifyOnChangeProps?i:r.observer.trackResult(i,o=>{n.forEach(l=>{l.observer.trackProp(o)})})})},My=function(t,n){return n?((!A(this,yi)||A(this,Ln)!==A(this,Uu)||n!==A(this,Vu))&&(ae(this,Vu,n),ae(this,Uu,A(this,Ln)),ae(this,yi,Qx(A(this,yi),n(t)))),A(this,yi)):t},Oy=function(t){const n=new Map(A(this,tr).map(s=>[s.options.queryHash,s])),r=[];return t.forEach(s=>{const i=A(this,tl).defaultQueryOptions(s),o=n.get(i.queryHash);o?r.push({defaultedQueryOptions:i,observer:o}):r.push({defaultedQueryOptions:i,observer:new Jx(A(this,tl),i)})}),r},Dy=function(t,n){const r=A(this,tr).indexOf(t);r!==-1&&(ae(this,Ln,x4(A(this,Ln),r,n)),Te(this,Jt,Ly).call(this))},Ly=function(){var t;if(this.hasListeners()){const n=A(this,yi),r=Te(this,Jt,Iy).call(this,A(this,Ln),A(this,$u)),s=Te(this,Jt,My).call(this,r,(t=A(this,rl))==null?void 0:t.combine);n!==s&&At.batch(()=>{this.listeners.forEach(i=>{i(A(this,Ln))})})}},uj),Yr,dj,b4=(dj=class extends Xa{constructor(t={}){super();ge(this,Yr);this.config=t,ae(this,Yr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Gx(s,n);let o=this.get(i);return o||(o=new f4({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){A(this,Yr).has(t.queryHash)||(A(this,Yr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=A(this,Yr).get(t.queryHash);n&&(t.destroy(),n===t&&A(this,Yr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Yr).get(t)}getAll(){return[...A(this,Yr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>bS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>bS(t,r)):n}notify(t){At.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){At.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yr=new WeakMap,dj),Et,vi,xi,sl,il,wi,al,ol,fj,S4=(fj=class{constructor(e={}){ge(this,Et);ge(this,vi);ge(this,xi);ge(this,sl);ge(this,il);ge(this,wi);ge(this,al);ge(this,ol);ae(this,Et,e.queryCache||new b4),ae(this,vi,e.mutationCache||new y4),ae(this,xi,e.defaultOptions||{}),ae(this,sl,new Map),ae(this,il,new Map),ae(this,wi,0)}mount(){xd(this,wi)._++,A(this,wi)===1&&(ae(this,al,Xx.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Et).onFocus())})),ae(this,ol,rh.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Et).onOnline())})))}unmount(){var e,t;xd(this,wi)._--,A(this,wi)===0&&((e=A(this,al))==null||e.call(this),ae(this,al,void 0),(t=A(this,ol))==null||t.call(this),ae(this,ol,void 0))}isFetching(e){return A(this,Et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,vi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Et).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=A(this,Et).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ri(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return A(this,Et).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=A(this,Et).get(r.queryHash),i=s==null?void 0:s.state.data,o=n4(t,i);if(o!==void 0)return A(this,Et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return At.batch(()=>A(this,Et).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,Et).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=A(this,Et);At.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=A(this,Et);return At.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=At.batch(()=>A(this,Et).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(an).catch(an)}invalidateQueries(e,t={}){return At.batch(()=>(A(this,Et).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=At.batch(()=>A(this,Et).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(an)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(an)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=A(this,Et).build(this,t);return n.isStaleByTime(Ri(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(an).catch(an)}fetchInfiniteQuery(e){return e.behavior=_S(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(an).catch(an)}ensureInfiniteQueryData(e){return e.behavior=_S(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rh.isOnline()?A(this,vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Et)}getMutationCache(){return A(this,vi)}getDefaultOptions(){return A(this,xi)}setDefaultOptions(e){ae(this,xi,e)}setQueryDefaults(e,t){A(this,sl).set(La(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,sl).values()],n={};return t.forEach(r=>{lu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){A(this,il).set(La(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,il).values()],n={};return t.forEach(r=>{lu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,xi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Gx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Zx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,xi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,Et).clear(),A(this,vi).clear()}},Et=new WeakMap,vi=new WeakMap,xi=new WeakMap,sl=new WeakMap,il=new WeakMap,wi=new WeakMap,al=new WeakMap,ol=new WeakMap,fj),qk=p.createContext(void 0),tw=e=>{const t=p.useContext(qk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},C4=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(qk.Provider,{value:e,children:t})),Kk=p.createContext(!1),Yk=()=>p.useContext(Kk);Kk.Provider;function N4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var j4=p.createContext(N4()),Gk=()=>p.useContext(j4),Qk=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Zk=e=>{p.useEffect(()=>{e.clearReset()},[e])},Xk=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Vk(n,[e.error,r])),Jk=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},eT=(e,t)=>e.isLoading&&e.isFetching&&!t,Fy=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,sh=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function E4({queries:e,...t},n){const r=tw(),s=Yk(),i=Gk(),o=p.useMemo(()=>e.map(g=>{const w=r.defaultQueryOptions(g);return w._optimisticResults=s?"isRestoring":"optimistic",w}),[e,r,s]);o.forEach(g=>{Jk(g),Qk(g,i)}),Zk(i);const[l]=p.useState(()=>new w4(r,o,t)),[c,u,d]=l.getOptimisticResult(o,t.combine),f=!s&&t.subscribed!==!1;p.useSyncExternalStore(p.useCallback(g=>f?l.subscribe(At.batchCalls(g)):an,[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setQueries(o,t)},[o,t,l]);const m=c.some((g,w)=>Fy(o[w],g))?c.flatMap((g,w)=>{const x=o[w];if(x){const v=new Jx(r,x);if(Fy(x,g))return sh(x,v,i);eT(g,s)&&sh(x,v,i)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=c.find((g,w)=>{const x=o[w];return x&&Xk({result:g,errorResetBoundary:i,throwOnError:x.throwOnError,query:r.getQueryCache().get(x.queryHash),suspense:x.suspense})});if(y!=null&&y.error)throw y.error;return u(d())}function k4(e,t,n){var f,h,m,y,g;const r=Yk(),s=Gk(),i=tw(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",Jk(o),Qk(o,s),Zk(s);const l=!i.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(w=>{const x=d?c.subscribe(At.batchCalls(w)):an;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),Fy(o,u))throw sh(o,c,s);if(Xk({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!Da&&eT(u,r)){const w=l?sh(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;w==null||w.catch(an).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Je(e,t){return k4(e,Jx)}function Xe(e,t){const n=tw(),[r]=p.useState(()=>new v4(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const s=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(At.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((o,l)=>{r.mutate(o,l).catch(an)},[r]);if(s.error&&Vk(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function tT(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Pe(e,t,n){const s=t.startsWith("http")?t:`http://localhost:3005/dev${t}`,i=await fetch(s,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await tT(i),i}const T4=({on401:e})=>async({queryKey:t})=>{const n="http://localhost:3005/dev",r=t.join("/"),s=r.startsWith("http")?r:`${n}${r}`,i=await fetch(s,{credentials:"include"});return await tT(i),await i.json()},rt=new S4({defaultOptions:{queries:{queryFn:T4({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),_4=1,A4=1e6;let $m=0;function P4(){return $m=($m+1)%Number.MAX_SAFE_INTEGER,$m.toString()}const Bm=new Map,RS=e=>{if(Bm.has(e))return;const t=setTimeout(()=>{Bm.delete(e),Ic({type:"REMOVE_TOAST",toastId:e})},A4);Bm.set(e,t)},R4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?RS(n):e.toasts.forEach(r=>{RS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},gf=[];let yf={toasts:[]};function Ic(e){yf=R4(yf,e),gf.forEach(t=>{t(yf)})}function I4({...e}){const t=P4(),n=s=>Ic({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ic({type:"DISMISS_TOAST",toastId:t});return Ic({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function it(){const[e,t]=p.useState(yf);return p.useEffect(()=>(gf.push(t),()=>{const n=gf.indexOf(t);n>-1&&gf.splice(n,1)}),[e]),{...e,toast:I4,dismiss:n=>Ic({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function IS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zs(...e){return t=>{let n=!1;const r=e.map(s=>{const i=IS(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():IS(e[s],null)}}}}function Oe(...e){return p.useCallback(zs(...e),e)}function M4(e,t){const n=p.createContext(t),r=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function fn(e,t=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:m,...y}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,O4(s,...t)]}function O4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function MS(e){const t=D4(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(F4);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function D4(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=U4(s),l=V4(i,s.props);return s.type!==p.Fragment&&(l.ref=r?zs(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L4=Symbol("radix.slottable");function F4(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L4}function V4(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function U4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function vp(e){const t=e+"CollectionProvider",[n,r]=fn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:x}=g,v=ee.useRef(null),b=ee.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:b,collectionRef:v,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=MS(l),u=ee.forwardRef((g,w)=>{const{scope:x,children:v}=g,b=i(l,x),S=Oe(w,b.collectionRef);return a.jsx(c,{ref:S,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=MS(d),m=ee.forwardRef((g,w)=>{const{scope:x,children:v,...b}=g,S=ee.useRef(null),C=Oe(w,S),k=i(d,x);return ee.useEffect(()=>(k.itemMap.set(S,{ref:S,...b}),()=>void k.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:C,children:v})});m.displayName=d;function y(g){const w=i(e+"CollectionConsumer",g);return ee.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((k,E)=>b.indexOf(k.ref.current)-b.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,r]}function $4(e){const t=B4(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(z4);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function B4(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=q4(s),l=H4(i,s.props);return s.type!==p.Fragment&&(l.ref=r?zs(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W4=Symbol("radix.slottable");function z4(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W4}function H4(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function q4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var K4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ne=K4.reduce((e,t)=>{const n=$4(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function nw(e,t){e&&Za.flushSync(()=>e.dispatchEvent(t))}function Mt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Y4(e,t=globalThis==null?void 0:globalThis.document){const n=Mt(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var G4="DismissableLayer",Vy="dismissableLayer.update",Q4="dismissableLayer.pointerDownOutside",Z4="dismissableLayer.focusOutside",OS,nT=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ol=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(nT),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=Oe(t,E=>f(E)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(w),v=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=x,C=J4(E=>{const N=E.target,j=[...u.branches].some(T=>T.contains(N));!S||j||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},h),k=e3(E=>{const N=E.target;[...u.branches].some(T=>T.contains(N))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},h);return Y4(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(OS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),DS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=OS)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),DS())},[d,u]),p.useEffect(()=>{const E=()=>m({});return document.addEventListener(Vy,E),()=>document.removeEventListener(Vy,E)},[]),a.jsx(Ne.div,{...c,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,k.onFocusCapture),onBlurCapture:se(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,C.onPointerDownCapture)})});Ol.displayName=G4;var X4="DismissableLayerBranch",rT=p.forwardRef((e,t)=>{const n=p.useContext(nT),r=p.useRef(null),s=Oe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Ne.div,{...e,ref:s})});rT.displayName=X4;function J4(e,t=globalThis==null?void 0:globalThis.document){const n=Mt(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){sT(Q4,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function e3(e,t=globalThis==null?void 0:globalThis.document){const n=Mt(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&sT(Z4,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DS(){const e=new CustomEvent(Vy);document.dispatchEvent(e)}function sT(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nw(s,i):s.dispatchEvent(i)}var t3=Ol,n3=rT,Yt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},r3="Portal",Yu=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=p.useState(!1);Yt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?CF.createPortal(a.jsx(Ne.div,{...r,ref:t}),o):null});Yu.displayName=r3;function s3(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var en=e=>{const{present:t,children:n}=e,r=i3(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Oe(r.ref,a3(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};en.displayName="Presence";function i3(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=s3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Fd(r.current);i.current=l==="mounted"?u:"none"},[l]),Yt(()=>{const u=r.current,d=s.current;if(d!==e){const h=i.current,m=Fd(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Yt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Fd(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(i.current=Fd(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Fd(e){return(e==null?void 0:e.animationName)||"none"}function a3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var o3=tp[" useInsertionEffect ".trim().toString()]||Yt;function Fr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=l3({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const h=c3(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function l3({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return o3(()=>{i.current=t},[t]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function c3(e){return typeof e=="function"}var iT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),u3="VisuallyHidden",xp=p.forwardRef((e,t)=>a.jsx(Ne.span,{...e,ref:t,style:{...iT,...e.style}}));xp.displayName=u3;var d3=xp,rw="ToastProvider",[sw,f3,h3]=vp("Toast"),[aT]=fn("Toast",[h3]),[p3,wp]=aT(rw),oT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rw}\`. Expected non-empty \`string\`.`),a.jsx(sw.Provider,{scope:t,children:a.jsx(p3,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};oT.displayName=rw;var lT="ToastViewport",m3=["F8"],Uy="toast.viewportPause",$y="toast.viewportResume",cT=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=m3,label:s="Notifications ({hotkey})",...i}=e,o=wp(lT,n),l=f3(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Oe(t,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const w=x=>{var b;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),p.useEffect(()=>{const w=c.current,x=f.current;if(y&&w&&x){const v=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Uy);x.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent($y);x.dispatchEvent(k),o.isClosePausedRef.current=!1}},S=k=>{!w.contains(k.relatedTarget)&&b()},C=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",v),w.addEventListener("focusout",S),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",C),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:w})=>{const v=l().map(b=>{const S=b.ref.current,C=[S,...T3(S)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const w=f.current;if(w){const x=v=>{var C,k,E;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const N=document.activeElement,j=v.shiftKey;if(v.target===w&&j){(C=u.current)==null||C.focus();return}const I=g({tabbingDirection:j?"backwards":"forwards"}),B=I.findIndex(D=>D===N);Wm(I.slice(B+1))?v.preventDefault():j?(k=u.current)==null||k.focus():(E=d.current)==null||E.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,g]),a.jsxs(n3,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(By,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Wm(w)}}),a.jsx(sw.Slot,{scope:n,children:a.jsx(Ne.ol,{tabIndex:-1,...i,ref:h})}),y&&a.jsx(By,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Wm(w)}})]})});cT.displayName=lT;var uT="ToastFocusProxy",By=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=wp(uT,n);return a.jsx(xp,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});By.displayName=uT;var Gu="Toast",g3="toast.swipeStart",y3="toast.swipeMove",v3="toast.swipeCancel",x3="toast.swipeEnd",dT=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=Fr({prop:r,defaultProp:s??!0,onChange:i,caller:Gu});return a.jsx(en,{present:n||l,children:a.jsx(S3,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Mt(e.onPause),onResume:Mt(e.onResume),onSwipeStart:se(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});dT.displayName=Gu;var[w3,b3]=aT(Gu,{onClose(){}}),S3=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,g=wp(Gu,n),[w,x]=p.useState(null),v=Oe(t,D=>x(D)),b=p.useRef(null),S=p.useRef(null),C=s||g.duration,k=p.useRef(0),E=p.useRef(C),N=p.useRef(0),{onToastAdd:j,onToastRemove:T}=g,O=Mt(()=>{var M;(w==null?void 0:w.contains(document.activeElement))&&((M=g.viewport)==null||M.focus()),o()}),I=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),k.current=new Date().getTime(),N.current=window.setTimeout(O,D))},[O]);p.useEffect(()=>{const D=g.viewport;if(D){const M=()=>{I(E.current),u==null||u()},U=()=>{const $=new Date().getTime()-k.current;E.current=E.current-$,window.clearTimeout(N.current),c==null||c()};return D.addEventListener(Uy,U),D.addEventListener($y,M),()=>{D.removeEventListener(Uy,U),D.removeEventListener($y,M)}}},[g.viewport,C,c,u,I]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(C)},[i,C,g.isClosePausedRef,I]),p.useEffect(()=>(j(),()=>T()),[j,T]);const B=p.useMemo(()=>w?vT(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[B&&a.jsx(C3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),a.jsx(w3,{scope:n,onClose:O,children:Za.createPortal(a.jsx(sw.ItemSlot,{scope:n,children:a.jsx(t3,{asChild:!0,onEscapeKeyDown:se(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ne.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:se(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:se(e.onPointerMove,D=>{if(!b.current)return;const M=D.clientX-b.current.x,U=D.clientY-b.current.y,$=!!S.current,_=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=_?R(0,M):0,q=_?0:R(0,U),te=D.pointerType==="touch"?10:2,Q={x:H,y:q},oe={originalEvent:D,delta:Q};$?(S.current=Q,Vd(y3,f,oe,{discrete:!1})):LS(Q,g.swipeDirection,te)?(S.current=Q,Vd(g3,d,oe,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(M)>te||Math.abs(U)>te)&&(b.current=null)}),onPointerUp:se(e.onPointerUp,D=>{const M=S.current,U=D.target;if(U.hasPointerCapture(D.pointerId)&&U.releasePointerCapture(D.pointerId),S.current=null,b.current=null,M){const $=D.currentTarget,_={originalEvent:D,delta:M};LS(M,g.swipeDirection,g.swipeThreshold)?Vd(x3,m,_,{discrete:!0}):Vd(v3,h,_,{discrete:!0}),$.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),C3=e=>{const{__scopeToast:t,children:n,...r}=e,s=wp(Gu,t),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return E3(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Yu,{asChild:!0,children:a.jsx(xp,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},N3="ToastTitle",fT=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Ne.div,{...r,ref:t})});fT.displayName=N3;var j3="ToastDescription",hT=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Ne.div,{...r,ref:t})});hT.displayName=j3;var pT="ToastAction",mT=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(yT,{altText:n,asChild:!0,children:a.jsx(iw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pT}\`. Expected non-empty \`string\`.`),null)});mT.displayName=pT;var gT="ToastClose",iw=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=b3(gT,n);return a.jsx(yT,{asChild:!0,children:a.jsx(Ne.button,{type:"button",...r,ref:t,onClick:se(e.onClick,s.onClose)})})});iw.displayName=gT;var yT=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function vT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),k3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...vT(r))}}),t}function Vd(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nw(s,i):s.dispatchEvent(i)}var LS=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function E3(e=()=>{}){const t=Mt(e);Yt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function k3(e){return e.nodeType===e.ELEMENT_NODE}function T3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Wm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var _3=oT,xT=cT,wT=dT,bT=fT,ST=hT,CT=mT,NT=iw;function jT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=jT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ET(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=jT(e))&&(r&&(r+=" "),r+=t);return r}const FS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,VS=ET,Ja=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return VS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=FS(d)||FS(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...u,f,h]:u},[]);return VS(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kT=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...P3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:kT("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(R3,{ref:i,iconNode:t,className:kT(`lucide-${A3(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=me("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=me("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=me("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=me("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=me("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=me("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=me("MessageCircleQuestion",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=me("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=me("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=me("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=me("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=me("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=me("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=me("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=me("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),dw="-",iV=e=>{const t=oV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(dw);return l[0]===""&&l.length!==1&&l.shift(),UT(l,t)||aV(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},UT=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?UT(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(dw);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},HS=/^\[(.+)\]$/,aV=e=>{if(HS.test(e)){const t=HS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},oV=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return cV(Object.entries(e.classGroups),n).forEach(([i,o])=>{Ky(o,r,i,t)}),r},Ky=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:qS(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(lV(s)){Ky(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ky(o,qS(t,i),n,r)})})},qS=(e,t)=>{let n=e;return t.split(dw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lV=e=>e.isThemeGetter,cV=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,uV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},$T="!",dV=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let x=l[w];if(u===0){if(x===s&&(r||l.slice(w,w+i)===t)){c.push(l.slice(d,w)),d=w+i;continue}if(x==="/"){f=w;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith($T),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},fV=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},hV=e=>({cache:uV(e.cacheSize),parseClassName:dV(e),...iV(e)}),pV=/\s+/,mV=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(pV);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=fV(d).join(":"),x=f?w+$T:w,v=x+g;if(i.includes(v))continue;i.push(v);const b=s(g,y);for(let S=0;S<b.length;++S){const C=b[S];i.push(x+C)}l=u+(l.length>0?" "+l:l)}return l};function gV(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=BT(t))&&(r&&(r+=" "),r+=n);return r}const BT=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=BT(e[r]))&&(n&&(n+=" "),n+=t);return n};function yV(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=hV(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=mV(c,n);return s(c,d),d}return function(){return i(gV.apply(null,arguments))}}const ft=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},WT=/^\[(?:([a-z-]+):)?(.+)\]$/i,vV=/^\d+\/\d+$/,xV=new Set(["px","full","screen"]),wV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fs=e=>Vo(e)||xV.has(e)||vV.test(e),Gs=e=>Dl(e,"length",RV),Vo=e=>!!e&&!Number.isNaN(Number(e)),Hm=e=>Dl(e,"number",Vo),nc=e=>!!e&&Number.isInteger(Number(e)),jV=e=>e.endsWith("%")&&Vo(e.slice(0,-1)),Fe=e=>WT.test(e),Qs=e=>wV.test(e),EV=new Set(["length","size","percentage"]),kV=e=>Dl(e,EV,zT),TV=e=>Dl(e,"position",zT),_V=new Set(["image","url"]),AV=e=>Dl(e,_V,MV),PV=e=>Dl(e,"",IV),rc=()=>!0,Dl=(e,t,n)=>{const r=WT.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},RV=e=>bV.test(e)&&!SV.test(e),zT=()=>!1,IV=e=>CV.test(e),MV=e=>NV.test(e),OV=()=>{const e=ft("colors"),t=ft("spacing"),n=ft("blur"),r=ft("brightness"),s=ft("borderColor"),i=ft("borderRadius"),o=ft("borderSpacing"),l=ft("borderWidth"),c=ft("contrast"),u=ft("grayscale"),d=ft("hueRotate"),f=ft("invert"),h=ft("gap"),m=ft("gradientColorStops"),y=ft("gradientColorStopPositions"),g=ft("inset"),w=ft("margin"),x=ft("opacity"),v=ft("padding"),b=ft("saturate"),S=ft("scale"),C=ft("sepia"),k=ft("skew"),E=ft("space"),N=ft("translate"),j=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Fe,t],I=()=>[Fe,t],B=()=>["",fs,Gs],D=()=>["auto",Vo,Fe],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Fe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Vo,Fe];return{cacheSize:500,separator:":",theme:{colors:[rc],spacing:[fs,Gs],blur:["none","",Qs,Fe],brightness:q(),borderColor:[e],borderRadius:["none","","full",Qs,Fe],borderSpacing:I(),borderWidth:B(),contrast:q(),grayscale:R(),hueRotate:q(),invert:R(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[jV,Gs],inset:O(),margin:O(),opacity:q(),padding:I(),saturate:q(),scale:q(),sepia:R(),skew:q(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[Qs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Fe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nc,Fe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",nc,Fe]}],"grid-cols":[{"grid-cols":[rc]}],"col-start-end":[{col:["auto",{span:["full",nc,Fe]},Fe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[rc]}],"row-start-end":[{row:["auto",{span:[nc,Fe]},Fe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,t]}],"min-w":[{"min-w":[Fe,t,"min","max","fit"]}],"max-w":[{"max-w":[Fe,t,"none","full","min","max","fit","prose",{screen:[Qs]},Qs]}],h:[{h:[Fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qs,Gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hm]}],"font-family":[{font:[rc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",Vo,Hm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fs,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fs,Gs]}],"underline-offset":[{"underline-offset":["auto",fs,Fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),TV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[fs,Fe]}],"outline-w":[{outline:[fs,Gs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[fs,Gs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qs,PV]}],"shadow-color":[{shadow:[rc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qs,Fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[nc,Fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fs,Gs,Hm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DV=yV(OV);function re(...e){return DV(ET(e))}const LV=_3,HT=p.forwardRef(({className:e,...t},n)=>a.jsx(xT,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));HT.displayName=xT.displayName;const FV=Ja("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qT=p.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(wT,{ref:r,className:re(FV({variant:t}),e),...n}));qT.displayName=wT.displayName;const VV=p.forwardRef(({className:e,...t},n)=>a.jsx(CT,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));VV.displayName=CT.displayName;const KT=p.forwardRef(({className:e,...t},n)=>a.jsx(NT,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(uw,{className:"h-4 w-4"})}));KT.displayName=NT.displayName;const YT=p.forwardRef(({className:e,...t},n)=>a.jsx(bT,{ref:n,className:re("text-sm font-semibold",e),...t}));YT.displayName=bT.displayName;const GT=p.forwardRef(({className:e,...t},n)=>a.jsx(ST,{ref:n,className:re("text-sm opacity-90",e),...t}));GT.displayName=ST.displayName;function UV(){const{toasts:e}=it();return a.jsxs(LV,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(qT,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(YT,{children:n}),r&&a.jsx(GT,{children:r})]}),s,a.jsx(KT,{})]},t)}),a.jsx(HT,{})]})}var $V=tp[" useId ".trim().toString()]||(()=>{}),BV=0;function Or(e){const[t,n]=p.useState($V());return Yt(()=>{n(r=>r??String(BV++))},[e]),t?`radix-${t}`:""}const WV=["top","right","bottom","left"],Ui=Math.min,Un=Math.max,lh=Math.round,Ud=Math.floor,ns=e=>({x:e,y:e}),zV={left:"right",right:"left",bottom:"top",top:"bottom"},HV={start:"end",end:"start"};function Yy(e,t,n){return Un(e,Ui(t,n))}function Ls(e,t){return typeof e=="function"?e(t):e}function Fs(e){return e.split("-")[0]}function Ll(e){return e.split("-")[1]}function fw(e){return e==="x"?"y":"x"}function hw(e){return e==="y"?"height":"width"}const qV=new Set(["top","bottom"]);function Xr(e){return qV.has(Fs(e))?"y":"x"}function pw(e){return fw(Xr(e))}function KV(e,t,n){n===void 0&&(n=!1);const r=Ll(e),s=pw(e),i=hw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ch(o)),[o,ch(o)]}function YV(e){const t=ch(e);return[Gy(e),t,Gy(t)]}function Gy(e){return e.replace(/start|end/g,t=>HV[t])}const KS=["left","right"],YS=["right","left"],GV=["top","bottom"],QV=["bottom","top"];function ZV(e,t,n){switch(e){case"top":case"bottom":return n?t?YS:KS:t?KS:YS;case"left":case"right":return t?GV:QV;default:return[]}}function XV(e,t,n,r){const s=Ll(e);let i=ZV(Fs(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Gy)))),i}function ch(e){return e.replace(/left|right|bottom|top/g,t=>zV[t])}function JV(e){return{top:0,right:0,bottom:0,left:0,...e}}function QT(e){return typeof e!="number"?JV(e):{top:e,right:e,bottom:e,left:e}}function uh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function GS(e,t,n){let{reference:r,floating:s}=e;const i=Xr(t),o=pw(t),l=hw(o),c=Fs(t),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ll(t)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const e5=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=GS(u,r,c),h=r,m={},y=0;for(let g=0;g<l.length;g++){const{name:w,fn:x}=l[g],{x:v,y:b,data:S,reset:C}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=b??f,m={...m,[w]:{...m[w],...S}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:f}=GS(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function du(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ls(t,e),y=QT(m),w=l[h?f==="floating"?"reference":"floating":f],x=uh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},C=uh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(x.top-C.top+y.top)/S.y,bottom:(C.bottom-x.bottom+y.bottom)/S.y,left:(x.left-C.left+y.left)/S.x,right:(C.right-x.right+y.right)/S.x}}const t5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ls(e,t)||{};if(u==null)return{};const f=QT(d),h={x:n,y:r},m=pw(s),y=hw(m),g=await o.getDimensions(u),w=m==="y",x=w?"top":"left",v=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[m]-h[m]-i.floating[y],C=h[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=k?k[b]:0;(!E||!await(o.isElement==null?void 0:o.isElement(k)))&&(E=l.floating[b]||i.floating[y]);const N=S/2-C/2,j=E/2-g[y]/2-1,T=Ui(f[x],j),O=Ui(f[v],j),I=T,B=E-g[y]-O,D=E/2-g[y]/2+N,M=Yy(I,D,B),U=!c.arrow&&Ll(s)!=null&&D!==M&&i.reference[y]/2-(D<I?T:O)-g[y]/2<0,$=U?D<I?D-I:D-B:0;return{[m]:h[m]+$,data:{[m]:M,centerOffset:D-M-$,...U&&{alignmentOffset:$}},reset:U}}}),n5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=Ls(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Fs(s),v=Xr(l),b=Fs(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(b||!g?[ch(l)]:YV(l)),k=y!=="none";!h&&k&&C.push(...XV(l,g,y,S));const E=[l,...C],N=await du(t,w),j=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&j.push(N[x]),f){const D=KV(s,o,S);j.push(N[D[0]],N[D[1]])}if(T=[...T,{placement:s,overflows:j}],!j.every(D=>D<=0)){var O,I;const D=(((O=i.flip)==null?void 0:O.index)||0)+1,M=E[D];if(M&&(!(f==="alignment"?v!==Xr(M):!1)||T.every(_=>Xr(_.placement)===v?_.overflows[0]>0:!0)))return{data:{index:D,overflows:T},reset:{placement:M}};let U=(I=T.filter($=>$.overflows[0]<=0).sort(($,_)=>$.overflows[1]-_.overflows[1])[0])==null?void 0:I.placement;if(!U)switch(m){case"bestFit":{var B;const $=(B=T.filter(_=>{if(k){const R=Xr(_.placement);return R===v||R==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(R=>R>0).reduce((R,H)=>R+H,0)]).sort((_,R)=>_[1]-R[1])[0])==null?void 0:B[0];$&&(U=$);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function QS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ZS(e){return WV.some(t=>e[t]>=0)}const r5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ls(e,t);switch(r){case"referenceHidden":{const i=await du(t,{...s,elementContext:"reference"}),o=QS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ZS(o)}}}case"escaped":{const i=await du(t,{...s,altBoundary:!0}),o=QS(i,n.floating);return{data:{escapedOffsets:o,escaped:ZS(o)}}}default:return{}}}}},ZT=new Set(["left","top"]);async function s5(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fs(n),l=Ll(n),c=Xr(n)==="y",u=ZT.has(o)?-1:1,d=i&&c?-1:1,f=Ls(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const i5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await s5(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},a5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x,y:v}=w;return{x,y:v}}},...c}=Ls(e,t),u={x:n,y:r},d=await du(t,c),f=Xr(Fs(s)),h=fw(f);let m=u[h],y=u[f];if(i){const w=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=m+d[w],b=m-d[x];m=Yy(v,m,b)}if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=y+d[w],b=y-d[x];y=Yy(v,y,b)}const g=l.fn({...t,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},o5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ls(e,t),d={x:n,y:r},f=Xr(s),h=fw(f);let m=d[h],y=d[f];const g=Ls(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",S=i.reference[h]-i.floating[b]+w.mainAxis,C=i.reference[h]+i.reference[b]-w.mainAxis;m<S?m=S:m>C&&(m=C)}if(u){var x,v;const b=h==="y"?"width":"height",S=ZT.has(Fs(s)),C=i.reference[f]-i.floating[b]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:w.crossAxis),k=i.reference[f]+i.reference[b]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?w.crossAxis:0);y<C?y=C:y>k&&(y=k)}return{[h]:m,[f]:y}}}},l5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ls(e,t),d=await du(t,u),f=Fs(s),h=Ll(s),m=Xr(s)==="y",{width:y,height:g}=i.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,w=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=y-d.left-d.right,S=Ui(g-d[w],v),C=Ui(y-d[x],b),k=!t.middlewareData.shift;let E=S,N=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=v),k&&!h){const T=Un(d.left,0),O=Un(d.right,0),I=Un(d.top,0),B=Un(d.bottom,0);m?N=y-2*(T!==0||O!==0?T+O:Un(d.left,d.right)):E=g-2*(I!==0||B!==0?I+B:Un(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:E});const j=await o.getDimensions(l.floating);return y!==j.width||g!==j.height?{reset:{rects:!0}}:{}}}};function Cp(){return typeof window<"u"}function Fl(e){return XT(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cs(e){var t;return(t=(XT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function XT(e){return Cp()?e instanceof Node||e instanceof zn(e).Node:!1}function Vr(e){return Cp()?e instanceof Element||e instanceof zn(e).Element:!1}function os(e){return Cp()?e instanceof HTMLElement||e instanceof zn(e).HTMLElement:!1}function XS(e){return!Cp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}const c5=new Set(["inline","contents"]);function Zu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ur(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!c5.has(s)}const u5=new Set(["table","td","th"]);function d5(e){return u5.has(Fl(e))}const f5=[":popover-open",":modal"];function Np(e){return f5.some(t=>{try{return e.matches(t)}catch{return!1}})}const h5=["transform","translate","scale","rotate","perspective"],p5=["transform","translate","scale","rotate","perspective","filter"],m5=["paint","layout","strict","content"];function mw(e){const t=gw(),n=Vr(e)?Ur(e):e;return h5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||p5.some(r=>(n.willChange||"").includes(r))||m5.some(r=>(n.contain||"").includes(r))}function g5(e){let t=$i(e);for(;os(t)&&!yl(t);){if(mw(t))return t;if(Np(t))return null;t=$i(t)}return null}function gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const y5=new Set(["html","body","#document"]);function yl(e){return y5.has(Fl(e))}function Ur(e){return zn(e).getComputedStyle(e)}function jp(e){return Vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $i(e){if(Fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XS(e)&&e.host||cs(e);return XS(t)?t.host:t}function JT(e){const t=$i(e);return yl(t)?e.ownerDocument?e.ownerDocument.body:e.body:os(t)&&Zu(t)?t:JT(t)}function fu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=JT(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=zn(s);if(i){const l=Qy(o);return t.concat(o,o.visualViewport||[],Zu(s)?s:[],l&&n?fu(l):[])}return t.concat(s,fu(s,[],n))}function Qy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e_(e){const t=Ur(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=os(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=lh(n)!==i||lh(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function yw(e){return Vr(e)?e:e.contextElement}function Uo(e){const t=yw(e);if(!os(t))return ns(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=e_(t);let o=(i?lh(n.width):n.width)/r,l=(i?lh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const v5=ns(0);function t_(e){const t=zn(e);return!gw()||!t.visualViewport?v5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function x5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zn(e)?!1:t}function Ua(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=yw(e);let o=ns(1);t&&(r?Vr(r)&&(o=Uo(r)):o=Uo(e));const l=x5(i,n,r)?t_(i):ns(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=zn(i),m=r&&Vr(r)?zn(r):r;let y=h,g=Qy(y);for(;g&&r&&m!==y;){const w=Uo(g),x=g.getBoundingClientRect(),v=Ur(g),b=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,S=x.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=S,y=zn(g),g=Qy(y)}}return uh({width:d,height:f,x:c,y:u})}function Ep(e,t){const n=jp(e).scrollLeft;return t?t.left+n:Ua(cs(e)).left+n}function n_(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ep(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function w5(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=cs(r),l=t?Np(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=ns(1);const d=ns(0),f=os(r);if((f||!f&&!i)&&((Fl(r)!=="body"||Zu(o))&&(c=jp(r)),os(r))){const m=Ua(r);u=Uo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?n_(o,c):ns(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function b5(e){return Array.from(e.getClientRects())}function S5(e){const t=cs(e),n=jp(e),r=e.ownerDocument.body,s=Un(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Un(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ep(e);const l=-n.scrollTop;return Ur(r).direction==="rtl"&&(o+=Un(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const JS=25;function C5(e,t){const n=zn(e),r=cs(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=gw();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Ep(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-m);y<=JS&&(i-=y)}else u<=JS&&(i+=u);return{width:i,height:o,x:l,y:c}}const N5=new Set(["absolute","fixed"]);function j5(e,t){const n=Ua(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=os(e)?Uo(e):ns(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function e1(e,t,n){let r;if(t==="viewport")r=C5(e,n);else if(t==="document")r=S5(cs(e));else if(Vr(t))r=j5(t,n);else{const s=t_(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return uh(r)}function r_(e,t){const n=$i(e);return n===t||!Vr(n)||yl(n)?!1:Ur(n).position==="fixed"||r_(n,t)}function E5(e,t){const n=t.get(e);if(n)return n;let r=fu(e,[],!1).filter(l=>Vr(l)&&Fl(l)!=="body"),s=null;const i=Ur(e).position==="fixed";let o=i?$i(e):e;for(;Vr(o)&&!yl(o);){const l=Ur(o),c=mw(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&N5.has(s.position)||Zu(o)&&!c&&r_(e,o))?r=r.filter(d=>d!==o):s=l,o=$i(o)}return t.set(e,r),r}function k5(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Np(t)?[]:E5(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=e1(t,d,s);return u.top=Un(f.top,u.top),u.right=Ui(f.right,u.right),u.bottom=Ui(f.bottom,u.bottom),u.left=Un(f.left,u.left),u},e1(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function T5(e){const{width:t,height:n}=e_(e);return{width:t,height:n}}function _5(e,t,n){const r=os(t),s=cs(t),i=n==="fixed",o=Ua(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ns(0);function u(){c.x=Ep(s)}if(r||!r&&!i)if((Fl(t)!=="body"||Zu(s))&&(l=jp(t)),r){const m=Ua(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?n_(s,l):ns(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function qm(e){return Ur(e).position==="static"}function t1(e,t){if(!os(e)||Ur(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return cs(e)===n&&(n=n.ownerDocument.body),n}function s_(e,t){const n=zn(e);if(Np(e))return n;if(!os(e)){let s=$i(e);for(;s&&!yl(s);){if(Vr(s)&&!qm(s))return s;s=$i(s)}return n}let r=t1(e,t);for(;r&&d5(r)&&qm(r);)r=t1(r,t);return r&&yl(r)&&qm(r)&&!mw(r)?n:r||g5(e)||n}const A5=async function(e){const t=this.getOffsetParent||s_,n=this.getDimensions,r=await n(e.floating);return{reference:_5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function P5(e){return Ur(e).direction==="rtl"}const R5={convertOffsetParentRelativeRectToViewportRelativeRect:w5,getDocumentElement:cs,getClippingRect:k5,getOffsetParent:s_,getElementRects:A5,getClientRects:b5,getDimensions:T5,getScale:Uo,isElement:Vr,isRTL:P5};function i_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function I5(e,t){let n=null,r;const s=cs(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=Ud(f),g=Ud(s.clientWidth-(d+h)),w=Ud(s.clientHeight-(f+m)),x=Ud(d),b={rootMargin:-y+"px "+-g+"px "+-w+"px "+-x+"px",threshold:Un(0,Ui(1,c))||1};let S=!0;function C(k){const E=k[0].intersectionRatio;if(E!==c){if(!S)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!i_(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(C,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return o(!0),i}function M5(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yw(e),d=s||i?[...u?fu(u):[],...fu(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&l?I5(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let y,g=c?Ua(e):null;c&&w();function w(){const x=Ua(e);g&&!i_(g,x)&&n(),g=x,y=requestAnimationFrame(w)}return n(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const O5=i5,D5=a5,L5=n5,F5=l5,V5=r5,n1=t5,U5=o5,$5=(e,t,n)=>{const r=new Map,s={platform:R5,...n},i={...s.platform,_c:r};return e5(e,t,{...s,platform:i})};var B5=typeof document<"u",W5=function(){},vf=B5?p.useLayoutEffect:W5;function dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!dh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function a_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function r1(e,t){const n=a_(e);return Math.round(t*n)/n}function Km(e){const t=p.useRef(e);return vf(()=>{t.current=e}),t}function z5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);dh(h,r)||m(r);const[y,g]=p.useState(null),[w,x]=p.useState(null),v=p.useCallback(_=>{_!==k.current&&(k.current=_,g(_))},[]),b=p.useCallback(_=>{_!==E.current&&(E.current=_,x(_))},[]),S=i||y,C=o||w,k=p.useRef(null),E=p.useRef(null),N=p.useRef(d),j=c!=null,T=Km(c),O=Km(s),I=Km(u),B=p.useCallback(()=>{if(!k.current||!E.current)return;const _={placement:t,strategy:n,middleware:h};O.current&&(_.platform=O.current),$5(k.current,E.current,_).then(R=>{const H={...R,isPositioned:I.current!==!1};D.current&&!dh(N.current,H)&&(N.current=H,Za.flushSync(()=>{f(H)}))})},[h,t,n,O,I]);vf(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(_=>({..._,isPositioned:!1})))},[u]);const D=p.useRef(!1);vf(()=>(D.current=!0,()=>{D.current=!1}),[]),vf(()=>{if(S&&(k.current=S),C&&(E.current=C),S&&C){if(T.current)return T.current(S,C,B);B()}},[S,C,B,T,j]);const M=p.useMemo(()=>({reference:k,floating:E,setReference:v,setFloating:b}),[v,b]),U=p.useMemo(()=>({reference:S,floating:C}),[S,C]),$=p.useMemo(()=>{const _={position:n,left:0,top:0};if(!U.floating)return _;const R=r1(U.floating,d.x),H=r1(U.floating,d.y);return l?{..._,transform:"translate("+R+"px, "+H+"px)",...a_(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:H}},[n,l,U.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:B,refs:M,elements:U,floatingStyles:$}),[d,B,M,U,$])}const H5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?n1({element:r.current,padding:s}).fn(n):{}:r?n1({element:r,padding:s}).fn(n):{}}}},q5=(e,t)=>({...O5(e),options:[e,t]}),K5=(e,t)=>({...D5(e),options:[e,t]}),Y5=(e,t)=>({...U5(e),options:[e,t]}),G5=(e,t)=>({...L5(e),options:[e,t]}),Q5=(e,t)=>({...F5(e),options:[e,t]}),Z5=(e,t)=>({...V5(e),options:[e,t]}),X5=(e,t)=>({...H5(e),options:[e,t]});var J5="Arrow",o_=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(Ne.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});o_.displayName=J5;var eU=o_;function kp(e){const[t,n]=p.useState(void 0);return Yt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var vw="Popper",[l_,Vl]=fn(vw),[tU,c_]=l_(vw),u_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return a.jsx(tU,{scope:t,anchor:r,onAnchorChange:s,children:n})};u_.displayName=vw;var d_="PopperAnchor",f_=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=c_(d_,n),o=p.useRef(null),l=Oe(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:a.jsx(Ne.div,{...s,ref:l})});f_.displayName=d_;var xw="PopperContent",[nU,rU]=l_(xw),h_=p.forwardRef((e,t)=>{var K,F,de,J,X,fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,w=c_(xw,n),[x,v]=p.useState(null),b=Oe(t,ve=>v(ve)),[S,C]=p.useState(null),k=kp(S),E=(k==null?void 0:k.width)??0,N=(k==null?void 0:k.height)??0,j=r+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],I=O.length>0,B={padding:T,boundary:O.filter(iU),altBoundary:I},{refs:D,floatingStyles:M,placement:U,isPositioned:$,middlewareData:_}=z5({strategy:"fixed",placement:j,whileElementsMounted:(...ve)=>M5(...ve,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[q5({mainAxis:s+N,alignmentAxis:o}),c&&K5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Y5():void 0,...B}),c&&G5({...B}),Q5({...B,apply:({elements:ve,rects:Se,availableWidth:je,availableHeight:xe})=>{const{width:Ye,height:Me}=Se.reference,Ie=ve.floating.style;Ie.setProperty("--radix-popper-available-width",`${je}px`),Ie.setProperty("--radix-popper-available-height",`${xe}px`),Ie.setProperty("--radix-popper-anchor-width",`${Ye}px`),Ie.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),S&&X5({element:S,padding:l}),aU({arrowWidth:E,arrowHeight:N}),h&&Z5({strategy:"referenceHidden",...B})]}),[R,H]=g_(U),q=Mt(y);Yt(()=>{$&&(q==null||q())},[$,q]);const te=(K=_.arrow)==null?void 0:K.x,Q=(F=_.arrow)==null?void 0:F.y,oe=((de=_.arrow)==null?void 0:de.centerOffset)!==0,[be,z]=p.useState();return Yt(()=>{x&&z(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:$?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(J=_.transformOrigin)==null?void 0:J.x,(X=_.transformOrigin)==null?void 0:X.y].join(" "),...((fe=_.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(nU,{scope:n,placedSide:R,onArrowChange:C,arrowX:te,arrowY:Q,shouldHideArrow:oe,children:a.jsx(Ne.div,{"data-side":R,"data-align":H,...g,ref:b,style:{...g.style,animation:$?void 0:"none"}})})})});h_.displayName=xw;var p_="PopperArrow",sU={top:"bottom",right:"left",bottom:"top",left:"right"},m_=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=rU(p_,r),o=sU[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(eU,{...s,ref:n,style:{...s.style,display:"block"}})})});m_.displayName=p_;function iU(e){return e!==null}var aU=e=>({name:"transformOrigin",options:e,fn(t){var w,x,v;const{placement:n,rects:r,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=g_(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):u==="top"?(y=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:y,y:g}}}});function g_(e){const[t,n="center"]=e.split("-");return[t,n]}var ww=u_,bw=f_,Sw=h_,Cw=m_,oU=Symbol("radix.slottable");function lU(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=oU,t}var[Tp]=fn("Tooltip",[Vl]),_p=Vl(),y_="TooltipProvider",cU=700,Zy="tooltip.open",[uU,Nw]=Tp(y_),v_=e=>{const{__scopeTooltip:t,delayDuration:n=cU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(uU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};v_.displayName=y_;var hu="Tooltip",[dU,Ap]=Tp(hu),x_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Nw(hu,e.__scopeTooltip),u=_p(t),[d,f]=p.useState(null),h=Or(),m=p.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,w=p.useRef(!1),[x,v]=Fr({prop:r,defaultProp:s??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(Zy))):c.onClose(),i==null||i(E)},caller:hu}),b=p.useMemo(()=>x?w.current?"delayed-open":"instant-open":"closed",[x]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,v(!0)},[v]),C=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),k=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,v(!0),m.current=0},g)},[g,v]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),a.jsx(ww,{...u,children:a.jsx(dU,{scope:t,contentId:h,open:x,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?k():S()},[c.isOpenDelayedRef,k,S]),onTriggerLeave:p.useCallback(()=>{y?C():(window.clearTimeout(m.current),m.current=0)},[C,y]),onOpen:S,onClose:C,disableHoverableContent:y,children:n})})};x_.displayName=hu;var Xy="TooltipTrigger",w_=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ap(Xy,n),i=Nw(Xy,n),o=_p(n),l=p.useRef(null),c=Oe(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(bw,{asChild:!0,...o,children:a.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:se(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(e.onBlur,s.onClose),onClick:se(e.onClick,s.onClose)})})});w_.displayName=Xy;var fU="TooltipPortal",[Mee,hU]=Tp(fU,{forceMount:void 0}),vl="TooltipContent",b_=p.forwardRef((e,t)=>{const n=hU(vl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Ap(vl,e.__scopeTooltip);return a.jsx(en,{present:r||o.open,children:o.disableHoverableContent?a.jsx(S_,{side:s,...i,ref:t}):a.jsx(pU,{side:s,...i,ref:t})})}),pU=p.forwardRef((e,t)=>{const n=Ap(vl,e.__scopeTooltip),r=Nw(vl,e.__scopeTooltip),s=p.useRef(null),i=Oe(t,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((y,g)=>{const w=y.currentTarget,x={x:y.clientX,y:y.clientY},v=xU(x,w.getBoundingClientRect()),b=wU(x,v),S=bU(g.getBoundingClientRect()),C=CU([...b,...S]);l(C),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const y=w=>m(w,d),g=w=>m(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const y=g=>{const w=g.target,x={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!SU(x,o);v?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),a.jsx(S_,{...e,ref:i})}),[mU,gU]=Tp(hu,{isInside:!1}),yU=lU("TooltipContent"),S_=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ap(vl,n),u=_p(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Zy,d),()=>document.removeEventListener(Zy,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Ol,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Sw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(yU,{children:r}),a.jsx(mU,{scope:n,isInside:!0,children:a.jsx(d3,{id:c.contentId,role:"tooltip",children:s||r})})]})})});b_.displayName=vl;var C_="TooltipArrow",vU=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=_p(n);return gU(C_,n).isInside?null:a.jsx(Cw,{...s,...r,ref:t})});vU.displayName=C_;function xU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function wU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function bU(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function SU(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function CU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),NU(t)}function NU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var jU=v_,EU=x_,kU=w_,N_=b_;const j_=jU,TU=EU,_U=kU,E_=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(N_,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));E_.displayName=N_.displayName;const Jy=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"es",name:"Spanish",nativeName:"Espaol",flag:""},{code:"fr",name:"French",nativeName:"Franais",flag:""},{code:"de",name:"German",nativeName:"Deutsch",flag:""},{code:"it",name:"Italian",nativeName:"Italiano",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ja",name:"Japanese",nativeName:"",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:""},{code:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{code:"ru",name:"Russian",nativeName:"",flag:""}],s1={en:{menu:"Menu",cart:"Cart",orders:"Orders",settings:"Settings",allCategories:"All Categories",appetizers:"Appetizers",mainCourse:"Main Course",desserts:"Desserts",beverages:"Beverages",spiceLevel:"Spice Level",vegan:"Vegan",vegetarian:"Vegetarian",halal:"Halal",allergens:"Allergens",addToCart:"Add to Cart",yourCart:"Your Cart",emptyCart:"Your cart is empty",subtotal:"Subtotal",tax:"Tax",total:"Total",checkout:"Checkout",remove:"Remove",paymentMethod:"Payment Method",payOnline:"Pay Online",payWithCash:"Pay at the Register (Cash or Card)",customerNotes:"Customer Notes",optional:"Optional",placeOrder:"Place Order",processing:"Processing...",orderSuccess:"Order placed successfully!",orderError:"Failed to place order",aiWaiter:"AI Waiter",aiWaiterWelcome:"Welcome! I'm your AI Waiter. I can help you with menu recommendations, dietary restrictions, allergens, and answer any questions about our dishes. How can I help you today?",typeMessage:"Type your message...",send:"Send",voiceToggle:"Toggle voice responses",voiceInput:"Voice input",close:"Close",tapToTalk:"Tap to talk",listening:"Listening...",aiProcessing:"Processing...",speaking:"Speaking...",address:"Address",phone:"Phone",hours:"Hours",available:"Available",unavailable:"Unavailable",loading:"Loading...",error:"Error",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",confirm:"Confirm",yes:"Yes",no:"No",callForAssistance:"Call for Assistance",callWaiter:"Call Waiter",requestSent:"Request Sent!",someoneWillBeWithYouSoon:"Someone will be with you soon",assistanceQuestion:"Is there anything specific we can help you with? (Optional)",assistancePlaceholder:"E.g., Need extra napkins, have a question about the menu, etc.",staffNotified:"A staff member will be notified and come to your table shortly.",waiterCalled:"Waiter Called",staffMemberWillBeWithYouShortly:"A staff member will be with you shortly!",unableToContactRestaurant:"Unable to contact restaurant. Please refresh the page.",emailReceipt:"Email Receipt",receipt:"Receipt",invoice:"Invoice",thankYouForYourOrder:"Thank you for your order",orderNumber:"Order Number",dateAndTime:"Date & Time",table:"Table",orderItems:"Order Items",receiptSent:"Receipt Sent!",receiptSentTo:"Your receipt has been sent to",failedToSend:"Failed to Send",couldNotSendEmail:"Could not send email receipt. Please try again.",invalidEmail:"Invalid Email",pleaseEnterValidEmail:"Please enter a valid email address.",emailAddress:"Email Address",sendReceipt:"Send Receipt",sending:"Sending...",printSavePDF:"Print / Save PDF",printing:"Printing...",trackYourOrder:"Track Your Order",trackOrder:"Track Order",continueBrowsingMenu:"Continue Browsing Menu",specialInstructions:"Special Instructions",paid:"Paid",pending:"Pending",paymentCompleted:"Payment Completed",paymentPending:"Payment Pending",receiptNotFound:"Receipt not found",openingOrderTracking:"Opening Order Tracking",orderTrackingWillOpen:"Your order tracking page will open in a new tab",enterEmailToReceiveReceipt:"Enter your email address to receive a copy of this receipt",submitRating:"Submit Rating",foodQuality:"Food Quality",serviceSpeed:"Service Speed",cleanliness:"Cleanliness",staffFriendliness:"Staff Friendliness",howWasThisDish:"How was this dish?",overallExperience:"Overall Experience",additionalFeedback:"Any additional feedback?",rateYourFood:"Rate Your Food",rateOurService:"Rate Our Service",rateItem:"Rate item",of:"of",tellUsAboutYourExperience:"Tell us about your overall experience",additionalComments:"Additional Comments (Optional)",tellUsMoreAboutYourExperience:"Tell us more about your experience...",previous:"Previous",nextItem:"Next Item",rateService:"Rate Service",back:"Back",thankYou:"Thank you!",ratingSubmittedSuccessfully:"Your rating has been submitted successfully.",welcome:"Welcome!",meetYourAIWaiter:"Meet your AI waiter - ready to help you explore our menu and place your order",tapToStart:"Tap to Start",tapAnywhereToContinue:"Tap anywhere to continue",contactSupport:"Contact Support",questionsContact:"Questions? Contact",directly:"directly.",thankYouForDining:"Thank you for dining with us!"},es:{menu:"Men",cart:"Carrito",orders:"Pedidos",settings:"Configuracin",allCategories:"Todas las Categoras",appetizers:"Aperitivos",mainCourse:"Plato Principal",desserts:"Postres",beverages:"Bebidas",spiceLevel:"Nivel de Picante",vegan:"Vegano",vegetarian:"Vegetariano",halal:"Halal",allergens:"Alrgenos",addToCart:"Aadir al Carrito",yourCart:"Tu Carrito",emptyCart:"Tu carrito est vaco",subtotal:"Subtotal",tax:"Impuesto",total:"Total",checkout:"Pagar",remove:"Eliminar",paymentMethod:"Mtodo de Pago",payOnline:"Pagar en Lnea",payWithCash:"Pagar en la Caja (Efectivo o Tarjeta)",customerNotes:"Notas del Cliente",optional:"Opcional",placeOrder:"Realizar Pedido",processing:"Procesando...",orderSuccess:"Pedido realizado con xito!",orderError:"Error al realizar el pedido",aiWaiter:"Mesero IA",aiWaiterWelcome:"Bienvenido! Soy tu Mesero IA. Puedo ayudarte con recomendaciones del men, restricciones dietticas, alrgenos y responder cualquier pregunta sobre nuestros platos. Cmo puedo ayudarte hoy?",typeMessage:"Escribe tu mensaje...",send:"Enviar",voiceToggle:"Alternar respuestas de voz",voiceInput:"Entrada de voz",close:"Cerrar",tapToTalk:"Toca para hablar",listening:"Escuchando...",aiProcessing:"Procesando...",speaking:"Hablando...",address:"Direccin",phone:"Telfono",hours:"Horario",available:"Disponible",unavailable:"No Disponible",loading:"Cargando...",error:"Error",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",confirm:"Confirmar",yes:"S",no:"No",callForAssistance:"Llamar para Asistencia",callWaiter:"Llamar al Mesero",requestSent:"Solicitud Enviada!",someoneWillBeWithYouSoon:"Alguien estar contigo pronto",assistanceQuestion:"Hay algo especfico en lo que podamos ayudarte? (Opcional)",assistancePlaceholder:"Ej., Necesito servilletas extra, tengo una pregunta sobre el men, etc.",staffNotified:"Un miembro del personal ser notificado y vendr a tu mesa en breve.",waiterCalled:"Mesero Llamado",staffMemberWillBeWithYouShortly:"Un miembro del personal estar contigo en breve!",unableToContactRestaurant:"No se puede contactar con el restaurante. Por favor, actualice la pgina.",emailReceipt:"Enviar Recibo por Email",receipt:"Recibo",invoice:"Factura",thankYouForYourOrder:"Gracias por tu pedido",orderNumber:"Nmero de Pedido",dateAndTime:"Fecha y Hora",table:"Mesa",orderItems:"Artculos del Pedido",receiptSent:"Recibo Enviado!",receiptSentTo:"Tu recibo ha sido enviado a",failedToSend:"Error al Enviar",couldNotSendEmail:"No se pudo enviar el recibo por email. Por favor, intntalo de nuevo.",invalidEmail:"Email Invlido",pleaseEnterValidEmail:"Por favor, introduce una direccin de email vlida.",emailAddress:"Direccin de Email",sendReceipt:"Enviar Recibo",sending:"Enviando...",printSavePDF:"Imprimir / Guardar PDF",printing:"Imprimiendo...",trackYourOrder:"Seguir Tu Pedido",trackOrder:"Seguir Pedido",continueBrowsingMenu:"Continuar Explorando el Men",specialInstructions:"Instrucciones Especiales",paid:"Pagado",pending:"Pendiente",paymentCompleted:"Pago Completado",paymentPending:"Pago Pendiente",receiptNotFound:"Recibo no encontrado",openingOrderTracking:"Abriendo Seguimiento del Pedido",orderTrackingWillOpen:"Tu pgina de seguimiento del pedido se abrir en una nueva pestaa",enterEmailToReceiveReceipt:"Introduce tu direccin de email para recibir una copia de este recibo",submitRating:"Enviar Calificacin",foodQuality:"Calidad de la Comida",serviceSpeed:"Rapidez del Servicio",cleanliness:"Limpieza",staffFriendliness:"Amabilidad del Personal",howWasThisDish:"Cmo estuvo este plato?",overallExperience:"Experiencia General",additionalFeedback:"Algn comentario adicional?",rateYourFood:"Califica Tu Comida",rateOurService:"Califica Nuestro Servicio",rateItem:"Calificar artculo",of:"de",tellUsAboutYourExperience:"Cuntanos sobre tu experiencia general",additionalComments:"Comentarios Adicionales (Opcional)",tellUsMoreAboutYourExperience:"Cuntanos ms sobre tu experiencia...",previous:"Anterior",nextItem:"Siguiente Artculo",rateService:"Calificar Servicio",back:"Atrs",thankYou:"Gracias!",ratingSubmittedSuccessfully:"Tu calificacin ha sido enviada exitosamente.",welcome:"Bienvenido!",meetYourAIWaiter:"Conoce a tu mesero IA - listo para ayudarte a explorar nuestro men y realizar tu pedido",tapToStart:"Toca para Comenzar",tapAnywhereToContinue:"Toca en cualquier lugar para continuar",contactSupport:"Contactar Soporte",questionsContact:"Preguntas? Contacta a",directly:"directamente.",thankYouForDining:"Gracias por cenar con nosotros!"},fr:{menu:"Menu",cart:"Panier",orders:"Commandes",settings:"Paramtres",allCategories:"Toutes les Catgories",appetizers:"Entres",mainCourse:"Plat Principal",desserts:"Desserts",beverages:"Boissons",spiceLevel:"Niveau de Piquant",vegan:"Vgtalien",vegetarian:"Vgtarien",halal:"Halal",allergens:"Allergnes",addToCart:"Ajouter au Panier",yourCart:"Votre Panier",emptyCart:"Votre panier est vide",subtotal:"Sous-total",tax:"Taxe",total:"Total",checkout:"Commander",remove:"Supprimer",paymentMethod:"Mthode de Paiement",payOnline:"Payer en Ligne",payWithCash:"Payer  la Caisse (Espces ou Carte)",customerNotes:"Notes du Client",optional:"Optionnel",placeOrder:"Passer la Commande",processing:"Traitement...",orderSuccess:"Commande passe avec succs!",orderError:"chec de la commande",aiWaiter:"Serveur IA",aiWaiterWelcome:"Bienvenue! Je suis votre Serveur IA. Je peux vous aider avec des recommandations de menu, des restrictions alimentaires, des allergnes et rpondre  toutes vos questions sur nos plats. Comment puis-je vous aider aujourd'hui?",typeMessage:"Tapez votre message...",send:"Envoyer",voiceToggle:"Basculer les rponses vocales",voiceInput:"Entre vocale",close:"Fermer",tapToTalk:"Appuyer pour parler",listening:"coute...",aiProcessing:"Traitement...",speaking:"Parle...",address:"Adresse",phone:"Tlphone",hours:"Horaires",available:"Disponible",unavailable:"Indisponible",loading:"Chargement...",error:"Erreur",cancel:"Annuler",save:"Enregistrer",delete:"Supprimer",edit:"Modifier",confirm:"Confirmer",yes:"Oui",no:"Non",callForAssistance:"Appeler pour Assistance",callWaiter:"Appeler le Serveur",requestSent:"Demande Envoye!",someoneWillBeWithYouSoon:"Quelqu'un sera avec vous bientt",assistanceQuestion:"Y a-t-il quelque chose de spcifique pour lequel nous pouvons vous aider? (Facultatif)",assistancePlaceholder:"Ex., Besoin de serviettes supplmentaires, une question sur le menu, etc.",staffNotified:"Un membre du personnel sera notifi et viendra  votre table sous peu.",waiterCalled:"Serveur Appel",staffMemberWillBeWithYouShortly:"Un membre du personnel sera avec vous sous peu!",unableToContactRestaurant:"Impossible de contacter le restaurant. Veuillez actualiser la page.",emailReceipt:"Envoyer le Reu par Email",receipt:"Reu",invoice:"Facture",thankYouForYourOrder:"Merci pour votre commande",orderNumber:"Numro de Commande",dateAndTime:"Date et Heure",table:"Table",orderItems:"Articles de la Commande",receiptSent:"Reu Envoy!",receiptSentTo:"Votre reu a t envoy ",failedToSend:"chec de l'Envoi",couldNotSendEmail:"Impossible d'envoyer le reu par email. Veuillez ressayer.",invalidEmail:"Email Invalide",pleaseEnterValidEmail:"Veuillez entrer une adresse email valide.",emailAddress:"Adresse Email",sendReceipt:"Envoyer le Reu",sending:"Envoi...",printSavePDF:"Imprimer / Sauvegarder PDF",printing:"Impression...",trackYourOrder:"Suivre Votre Commande",trackOrder:"Suivre la Commande",continueBrowsingMenu:"Continuer  Parcourir le Menu",specialInstructions:"Instructions Spciales",paid:"Pay",pending:"En Attente",paymentCompleted:"Paiement Complt",paymentPending:"Paiement en Attente",receiptNotFound:"Reu non trouv",openingOrderTracking:"Ouverture du Suivi de Commande",orderTrackingWillOpen:"Votre page de suivi de commande s'ouvrira dans un nouvel onglet",enterEmailToReceiveReceipt:"Entrez votre adresse email pour recevoir une copie de ce reu",submitRating:"Soumettre l'valuation",foodQuality:"Qualit de la Nourriture",serviceSpeed:"Rapidit du Service",cleanliness:"Propret",staffFriendliness:"Amabilit du Personnel",howWasThisDish:"Comment tait ce plat?",overallExperience:"Exprience Globale",additionalFeedback:"Des commentaires supplmentaires?",rateYourFood:"valuez Votre Nourriture",rateOurService:"valuez Notre Service",rateItem:"valuer l'article",of:"de",tellUsAboutYourExperience:"Parlez-nous de votre exprience globale",additionalComments:"Commentaires Supplmentaires (Facultatif)",tellUsMoreAboutYourExperience:"Parlez-nous davantage de votre exprience...",previous:"Prcdent",nextItem:"Article Suivant",rateService:"valuer le Service",back:"Retour",thankYou:"Merci!",ratingSubmittedSuccessfully:"Votre valuation a t soumise avec succs.",welcome:"Bienvenue!",meetYourAIWaiter:"Rencontrez votre serveur IA - prt  vous aider  explorer notre menu et passer votre commande",tapToStart:"Appuyez pour Commencer",tapAnywhereToContinue:"Appuyez n'importe o pour continuer",contactSupport:"Contacter le Support",questionsContact:"Questions? Contactez",directly:"directement.",thankYouForDining:"Merci d'avoir dn avec nous!"},de:{menu:"Men",cart:"Warenkorb",orders:"Bestellungen",settings:"Einstellungen",allCategories:"Alle Kategorien",appetizers:"Vorspeisen",mainCourse:"Hauptgericht",desserts:"Desserts",beverages:"Getrnke",spiceLevel:"Schrfegrad",vegan:"Vegan",vegetarian:"Vegetarisch",halal:"Halal",allergens:"Allergene",addToCart:"In den Warenkorb",yourCart:"Ihr Warenkorb",emptyCart:"Ihr Warenkorb ist leer",subtotal:"Zwischensumme",tax:"Steuer",total:"Gesamt",checkout:"Zur Kasse",remove:"Entfernen",paymentMethod:"Zahlungsmethode",payOnline:"Online Bezahlen",payWithCash:"An der Kasse Bezahlen (Bar oder Karte)",customerNotes:"Kundennotizen",optional:"Optional",placeOrder:"Bestellung Aufgeben",processing:"Verarbeitung...",orderSuccess:"Bestellung erfolgreich aufgegeben!",orderError:"Bestellung fehlgeschlagen",aiWaiter:"KI Kellner",aiWaiterWelcome:"Willkommen! Ich bin Ihr KI-Kellner. Ich kann Ihnen bei Menempfehlungen, Ernhrungseinschrnkungen, Allergenen helfen und alle Fragen zu unseren Gerichten beantworten. Wie kann ich Ihnen heute helfen?",typeMessage:"Geben Sie Ihre Nachricht ein...",send:"Senden",voiceToggle:"Sprachantworten umschalten",voiceInput:"Spracheingabe",close:"Schlieen",tapToTalk:"Tippen zum Sprechen",listening:"Hrt zu...",aiProcessing:"Verarbeitung...",speaking:"Spricht...",address:"Adresse",phone:"Telefon",hours:"ffnungszeiten",available:"Verfgbar",unavailable:"Nicht Verfgbar",loading:"Laden...",error:"Fehler",cancel:"Abbrechen",save:"Speichern",delete:"Lschen",edit:"Bearbeiten",confirm:"Besttigen",yes:"Ja",no:"Nein",callForAssistance:"Rufen Sie um Hilfe",callWaiter:"Kellner Rufen",requestSent:"Anfrage Gesendet!",someoneWillBeWithYouSoon:"Jemand wird bald bei Ihnen sein",assistanceQuestion:"Gibt es etwas Bestimmtes, bei dem wir Ihnen helfen knnen? (Optional)",assistancePlaceholder:"Z.B., Brauche extra Servietten, habe eine Frage zum Men, etc.",staffNotified:"Ein Mitarbeiter wird benachrichtigt und kommt in Krze zu Ihrem Tisch.",waiterCalled:"Kellner Gerufen",staffMemberWillBeWithYouShortly:"Ein Mitarbeiter wird in Krze bei Ihnen sein!",unableToContactRestaurant:"Restaurant kann nicht erreicht werden. Bitte aktualisieren Sie die Seite.",emailReceipt:"Quittung per E-Mail Senden",receipt:"Quittung",invoice:"Rechnung",thankYouForYourOrder:"Vielen Dank fr Ihre Bestellung",orderNumber:"Bestellnummer",dateAndTime:"Datum und Uhrzeit",table:"Tisch",orderItems:"Bestellartikel",receiptSent:"Quittung Gesendet!",receiptSentTo:"Ihre Quittung wurde gesendet an",failedToSend:"Senden Fehlgeschlagen",couldNotSendEmail:"Quittung konnte nicht per E-Mail gesendet werden. Bitte versuchen Sie es erneut.",invalidEmail:"Ungltige E-Mail",pleaseEnterValidEmail:"Bitte geben Sie eine gltige E-Mail-Adresse ein.",emailAddress:"E-Mail-Adresse",sendReceipt:"Quittung Senden",sending:"Senden...",printSavePDF:"Drucken / PDF Speichern",printing:"Drucken...",trackYourOrder:"Ihre Bestellung Verfolgen",trackOrder:"Bestellung Verfolgen",continueBrowsingMenu:"Weiter Men Durchsuchen",specialInstructions:"Besondere Anweisungen",paid:"Bezahlt",pending:"Ausstehend",paymentCompleted:"Zahlung Abgeschlossen",paymentPending:"Zahlung Ausstehend",receiptNotFound:"Quittung nicht gefunden",openingOrderTracking:"Bestellverfolgung ffnen",orderTrackingWillOpen:"Ihre Bestellverfolgungsseite wird in einem neuen Tab geffnet",enterEmailToReceiveReceipt:"Geben Sie Ihre E-Mail-Adresse ein, um eine Kopie dieser Quittung zu erhalten",submitRating:"Bewertung Absenden",foodQuality:"Qualitt des Essens",serviceSpeed:"Servicegeschwindigkeit",cleanliness:"Sauberkeit",staffFriendliness:"Freundlichkeit des Personals",howWasThisDish:"Wie war dieses Gericht?",overallExperience:"Gesamterlebnis",additionalFeedback:"Zustzliches Feedback?",rateYourFood:"Bewerten Sie Ihr Essen",rateOurService:"Bewerten Sie Unseren Service",rateItem:"Artikel bewerten",of:"von",tellUsAboutYourExperience:"Erzhlen Sie uns von Ihrem Gesamterlebnis",additionalComments:"Zustzliche Kommentare (Optional)",tellUsMoreAboutYourExperience:"Erzhlen Sie uns mehr ber Ihr Erlebnis...",previous:"Vorherige",nextItem:"Nchster Artikel",rateService:"Service Bewerten",back:"Zurck",thankYou:"Vielen Dank!",ratingSubmittedSuccessfully:"Ihre Bewertung wurde erfolgreich eingereicht.",welcome:"Willkommen!",meetYourAIWaiter:"Treffen Sie Ihren KI-Kellner - bereit, Ihnen bei der Erkundung unserer Speisekarte und Bestellung zu helfen",tapToStart:"Tippen zum Starten",tapAnywhereToContinue:"Tippen Sie berall, um fortzufahren",contactSupport:"Support Kontaktieren",questionsContact:"Fragen? Kontaktieren Sie",directly:"direkt.",thankYouForDining:"Vielen Dank frs Speisen bei uns!"},it:{menu:"Menu",cart:"Carrello",orders:"Ordini",settings:"Impostazioni",allCategories:"Tutte le Categorie",appetizers:"Antipasti",mainCourse:"Piatto Principale",desserts:"Dolci",beverages:"Bevande",spiceLevel:"Livello di Piccante",vegan:"Vegano",vegetarian:"Vegetariano",halal:"Halal",allergens:"Allergeni",addToCart:"Aggiungi al Carrello",yourCart:"Il Tuo Carrello",emptyCart:"Il tuo carrello  vuoto",subtotal:"Subtotale",tax:"Tassa",total:"Totale",checkout:"Procedi al Pagamento",remove:"Rimuovi",paymentMethod:"Metodo di Pagamento",payOnline:"Paga Online",payWithCash:"Paga alla Cassa (Contanti o Carta)",customerNotes:"Note del Cliente",optional:"Opzionale",placeOrder:"Effettua Ordine",processing:"Elaborazione...",orderSuccess:"Ordine effettuato con successo!",orderError:"Errore nell'effettuare l'ordine",aiWaiter:"Cameriere IA",aiWaiterWelcome:"Benvenuto! Sono il tuo Cameriere IA. Posso aiutarti con raccomandazioni del menu, restrizioni dietetiche, allergeni e rispondere a qualsiasi domanda sui nostri piatti. Come posso aiutarti oggi?",typeMessage:"Scrivi il tuo messaggio...",send:"Invia",voiceToggle:"Attiva/disattiva risposte vocali",voiceInput:"Input vocale",close:"Chiudi",tapToTalk:"Tocca per parlare",listening:"In ascolto...",aiProcessing:"Elaborazione...",speaking:"Parlando...",address:"Indirizzo",phone:"Telefono",hours:"Orari",available:"Disponibile",unavailable:"Non Disponibile",loading:"Caricamento...",error:"Errore",cancel:"Annulla",save:"Salva",delete:"Elimina",edit:"Modifica",confirm:"Conferma",yes:"S",no:"No",callForAssistance:"Chiama per Assistenza",callWaiter:"Chiama il Cameriere",requestSent:"Richiesta Inviata!",someoneWillBeWithYouSoon:"Qualcuno sar con te presto",assistanceQuestion:"C' qualcosa di specifico per cui possiamo aiutarti? (Facoltativo)",assistancePlaceholder:"Es., Ho bisogno di tovaglioli extra, ho una domanda sul menu, ecc.",staffNotified:"Un membro dello staff sar notificato e verr al tuo tavolo a breve.",waiterCalled:"Cameriere Chiamato",staffMemberWillBeWithYouShortly:"Un membro dello staff sar con te a breve!",unableToContactRestaurant:"Impossibile contattare il ristorante. Si prega di aggiornare la pagina.",emailReceipt:"Invia Ricevuta via Email",receipt:"Ricevuta",invoice:"Fattura",thankYouForYourOrder:"Grazie per il tuo ordine",orderNumber:"Numero Ordine",dateAndTime:"Data e Ora",table:"Tavolo",orderItems:"Articoli dell'Ordine",receiptSent:"Ricevuta Inviata!",receiptSentTo:"La tua ricevuta  stata inviata a",failedToSend:"Invio Fallito",couldNotSendEmail:"Impossibile inviare la ricevuta via email. Riprova.",invalidEmail:"Email Non Valida",pleaseEnterValidEmail:"Inserisci un indirizzo email valido.",emailAddress:"Indirizzo Email",sendReceipt:"Invia Ricevuta",sending:"Invio...",printSavePDF:"Stampa / Salva PDF",printing:"Stampa...",trackYourOrder:"Traccia il Tuo Ordine",trackOrder:"Traccia Ordine",continueBrowsingMenu:"Continua a Sfogliare il Menu",specialInstructions:"Istruzioni Speciali",paid:"Pagato",pending:"In Attesa",paymentCompleted:"Pagamento Completato",paymentPending:"Pagamento in Attesa",receiptNotFound:"Ricevuta non trovata",openingOrderTracking:"Apertura Tracciamento Ordine",orderTrackingWillOpen:"La tua pagina di tracciamento ordine si aprir in una nuova scheda",enterEmailToReceiveReceipt:"Inserisci il tuo indirizzo email per ricevere una copia di questa ricevuta",submitRating:"Invia Valutazione",foodQuality:"Qualit del Cibo",serviceSpeed:"Velocit del Servizio",cleanliness:"Pulizia",staffFriendliness:"Cordialit del Personale",howWasThisDish:"Come era questo piatto?",overallExperience:"Esperienza Complessiva",additionalFeedback:"Feedback aggiuntivo?",rateYourFood:"Valuta il Tuo Cibo",rateOurService:"Valuta il Nostro Servizio",rateItem:"Valuta articolo",of:"di",tellUsAboutYourExperience:"Raccontaci della tua esperienza complessiva",additionalComments:"Commenti Aggiuntivi (Facoltativo)",tellUsMoreAboutYourExperience:"Raccontaci di pi sulla tua esperienza...",previous:"Precedente",nextItem:"Articolo Successivo",rateService:"Valuta il Servizio",back:"Indietro",thankYou:"Grazie!",ratingSubmittedSuccessfully:"La tua valutazione  stata inviata con successo.",welcome:"Benvenuto!",meetYourAIWaiter:"Incontra il tuo cameriere IA - pronto ad aiutarti a esplorare il nostro menu e effettuare il tuo ordine",tapToStart:"Tocca per Iniziare",tapAnywhereToContinue:"Tocca ovunque per continuare",contactSupport:"Contatta il Supporto",questionsContact:"Domande? Contatta",directly:"direttamente.",thankYouForDining:"Grazie per aver cenato con noi!"},zh:{menu:"",cart:"",orders:"",settings:"",allCategories:"",appetizers:"",mainCourse:"",desserts:"",beverages:"",spiceLevel:"",vegan:"",vegetarian:"",halal:"",allergens:"",addToCart:"",yourCart:"",emptyCart:"",subtotal:"",tax:"",total:"",checkout:"",remove:"",paymentMethod:"",payOnline:"",payWithCash:"",customerNotes:"",optional:"",placeOrder:"",processing:"...",orderSuccess:"",orderError:"",aiWaiter:"AI ",aiWaiterWelcome:"AI",typeMessage:"...",send:"",voiceToggle:"",voiceInput:"",close:"",tapToTalk:"",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:"",available:"",unavailable:"",loading:"...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:"",callWaiter:"",requestSent:"",someoneWillBeWithYouSoon:"",assistanceQuestion:"",assistancePlaceholder:"",staffNotified:"",waiterCalled:"",staffMemberWillBeWithYouShortly:"",unableToContactRestaurant:"",emailReceipt:"",receipt:"",invoice:"",thankYouForYourOrder:"",orderNumber:"",dateAndTime:"",table:"",orderItems:"",receiptSent:"",receiptSentTo:"",failedToSend:"",couldNotSendEmail:"",invalidEmail:"",pleaseEnterValidEmail:"",emailAddress:"",sendReceipt:"",sending:"...",printSavePDF:" /  PDF",printing:"...",trackYourOrder:"",trackOrder:"",continueBrowsingMenu:"",specialInstructions:"",paid:"",pending:"",paymentCompleted:"",paymentPending:"",receiptNotFound:"",openingOrderTracking:"",orderTrackingWillOpen:"",enterEmailToReceiveReceipt:"",submitRating:"",foodQuality:"",serviceSpeed:"",cleanliness:"",staffFriendliness:"",howWasThisDish:"",overallExperience:"",additionalFeedback:"",rateYourFood:"",rateOurService:"",rateItem:"",of:"",tellUsAboutYourExperience:"",additionalComments:"",tellUsMoreAboutYourExperience:"...",previous:"",nextItem:"",rateService:"",back:"",thankYou:"",ratingSubmittedSuccessfully:"",welcome:"",meetYourAIWaiter:"AI - ",tapToStart:"",tapAnywhereToContinue:"",contactSupport:"",questionsContact:"",directly:"",thankYouForDining:""},ja:{menu:"",cart:"",orders:"",settings:"",allCategories:"",appetizers:"",mainCourse:"",desserts:"",beverages:"",spiceLevel:"",vegan:"",vegetarian:"",halal:"",allergens:"",addToCart:"",yourCart:"",emptyCart:"",subtotal:"",tax:"",total:"",checkout:"",remove:"",paymentMethod:"",payOnline:"",payWithCash:"",customerNotes:"",optional:"",placeOrder:"",processing:"...",orderSuccess:"",orderError:"",aiWaiter:"AI",aiWaiterWelcome:"AI",typeMessage:"...",send:"",voiceToggle:"",voiceInput:"",close:"",tapToTalk:"",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:"",available:"",unavailable:"",loading:"...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:"",callWaiter:"",requestSent:"",someoneWillBeWithYouSoon:"",assistanceQuestion:"",assistancePlaceholder:"",staffNotified:"",waiterCalled:"",staffMemberWillBeWithYouShortly:"",unableToContactRestaurant:"",emailReceipt:"",receipt:"",invoice:"",thankYouForYourOrder:"",orderNumber:"",dateAndTime:"",table:"",orderItems:"",receiptSent:"",receiptSentTo:"",failedToSend:"",couldNotSendEmail:"",invalidEmail:"",pleaseEnterValidEmail:"",emailAddress:"",sendReceipt:"",sending:"...",printSavePDF:" / PDF",printing:"...",trackYourOrder:"",trackOrder:"",continueBrowsingMenu:"",specialInstructions:"",paid:"",pending:"",paymentCompleted:"",paymentPending:"",receiptNotFound:"",openingOrderTracking:"",orderTrackingWillOpen:"",enterEmailToReceiveReceipt:"",submitRating:"",foodQuality:"",serviceSpeed:"",cleanliness:"",staffFriendliness:"",howWasThisDish:"",overallExperience:"",additionalFeedback:"",rateYourFood:"",rateOurService:"",rateItem:"",of:"",tellUsAboutYourExperience:"",additionalComments:"",tellUsMoreAboutYourExperience:"...",previous:"",nextItem:"",rateService:"",back:"",thankYou:"",ratingSubmittedSuccessfully:"",welcome:"",meetYourAIWaiter:"AI - ",tapToStart:"",tapAnywhereToContinue:"",contactSupport:"",questionsContact:"",directly:"",thankYouForDining:""},ar:{menu:"",cart:"",orders:"",settings:"",allCategories:" ",appetizers:"",mainCourse:" ",desserts:"",beverages:"",spiceLevel:" ",vegan:"",vegetarian:"",halal:"",allergens:" ",addToCart:"  ",yourCart:"",emptyCart:" ",subtotal:" ",tax:"",total:"",checkout:"",remove:"",paymentMethod:" ",payOnline:"  ",payWithCash:"   (  )",customerNotes:" ",optional:"",placeOrder:" ",processing:" ...",orderSuccess:"   !",orderError:"  ",aiWaiter:" ",aiWaiterWelcome:"!     .               .    ",typeMessage:" ...",send:"",voiceToggle:"  ",voiceInput:" ",close:"",tapToTalk:" ",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:" ",available:"",unavailable:" ",loading:" ...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:" ",callWaiter:" ",requestSent:"  !",someoneWillBeWithYouSoon:"    ",assistanceQuestion:"       ()",assistancePlaceholder:"        .",staffNotified:"       .",waiterCalled:"  ",staffMemberWillBeWithYouShortly:"    !",unableToContactRestaurant:"    .   .",emailReceipt:"    ",receipt:"",invoice:"",thankYouForYourOrder:" ",orderNumber:" ",dateAndTime:" ",table:"",orderItems:" ",receiptSent:"  !",receiptSentTo:"   ",failedToSend:" ",couldNotSendEmail:"     .    .",invalidEmail:"   ",pleaseEnterValidEmail:"     .",emailAddress:"  ",sendReceipt:" ",sending:" ...",printSavePDF:" /  PDF",printing:" ...",trackYourOrder:" ",trackOrder:" ",continueBrowsingMenu:"  ",specialInstructions:" ",paid:"",pending:" ",paymentCompleted:" ",paymentPending:"  ",receiptNotFound:"    ",openingOrderTracking:"  ",orderTrackingWillOpen:"       ",enterEmailToReceiveReceipt:"        ",submitRating:" ",foodQuality:" ",serviceSpeed:" ",cleanliness:"",staffFriendliness:" ",howWasThisDish:"   ",overallExperience:" ",additionalFeedback:"  ",rateYourFood:" ",rateOurService:" ",rateItem:" ",of:"",tellUsAboutYourExperience:"   ",additionalComments:"  ()",tellUsMoreAboutYourExperience:"   ...",previous:"",nextItem:" ",rateService:" ",back:"",thankYou:" !",ratingSubmittedSuccessfully:"   .",welcome:"!",meetYourAIWaiter:"     -       ",tapToStart:" ",tapAnywhereToContinue:"    ",contactSupport:" ",questionsContact:"  ",directly:".",thankYouForDining:"   !"},pt:{menu:"Menu",cart:"Carrinho",orders:"Pedidos",settings:"Configuraes",allCategories:"Todas as Categorias",appetizers:"Entradas",mainCourse:"Prato Principal",desserts:"Sobremesas",beverages:"Bebidas",spiceLevel:"Nvel de Picante",vegan:"Vegano",vegetarian:"Vegetariano",halal:"Halal",allergens:"Alrgenos",addToCart:"Adicionar ao Carrinho",yourCart:"Seu Carrinho",emptyCart:"Seu carrinho est vazio",subtotal:"Subtotal",tax:"Taxa",total:"Total",checkout:"Finalizar Compra",remove:"Remover",paymentMethod:"Mtodo de Pagamento",payOnline:"Pagar Online",payWithCash:"Pagar na Caixa (Dinheiro ou Carto)",customerNotes:"Notas do Cliente",optional:"Opcional",placeOrder:"Fazer Pedido",processing:"Processando...",orderSuccess:"Pedido realizado com sucesso!",orderError:"Falha ao realizar pedido",aiWaiter:"Garom IA",aiWaiterWelcome:"Bem-vindo! Sou seu Garom IA. Posso ajud-lo com recomendaes do menu, restries alimentares, alrgenos e responder a qualquer pergunta sobre nossos pratos. Como posso ajud-lo hoje?",typeMessage:"Digite sua mensagem...",send:"Enviar",voiceToggle:"Alternar respostas de voz",voiceInput:"Entrada de voz",close:"Fechar",tapToTalk:"Toque para falar",listening:"Ouvindo...",aiProcessing:"Processando...",speaking:"Falando...",address:"Endereo",phone:"Telefone",hours:"Horrio",available:"Disponvel",unavailable:"Indisponvel",loading:"Carregando...",error:"Erro",cancel:"Cancelar",save:"Salvar",delete:"Excluir",edit:"Editar",confirm:"Confirmar",yes:"Sim",no:"No",callForAssistance:"Chamar por Assistncia",callWaiter:"Chamar Garom",requestSent:"Pedido Enviado!",someoneWillBeWithYouSoon:"Algum estar com voc em breve",assistanceQuestion:"H algo especfico em que possamos ajud-lo? (Opcional)",assistancePlaceholder:"Ex., Preciso de guardanapos extras, tenho uma pergunta sobre o menu, etc.",staffNotified:"Um membro da equipe ser notificado e vir  sua mesa em breve.",waiterCalled:"Garom Chamado",staffMemberWillBeWithYouShortly:"Um membro da equipe estar com voc em breve!",unableToContactRestaurant:"No  possvel contatar o restaurante. Por favor, atualize a pgina.",emailReceipt:"Enviar Recibo por Email",receipt:"Recibo",invoice:"Fatura",thankYouForYourOrder:"Obrigado pelo seu pedido",orderNumber:"Nmero do Pedido",dateAndTime:"Data e Hora",table:"Mesa",orderItems:"Itens do Pedido",receiptSent:"Recibo Enviado!",receiptSentTo:"Seu recibo foi enviado para",failedToSend:"Falha ao Enviar",couldNotSendEmail:"No foi possvel enviar o recibo por email. Por favor, tente novamente.",invalidEmail:"Email Invlido",pleaseEnterValidEmail:"Por favor, insira um endereo de email vlido.",emailAddress:"Endereo de Email",sendReceipt:"Enviar Recibo",sending:"Enviando...",printSavePDF:"Imprimir / Salvar PDF",printing:"Imprimindo...",trackYourOrder:"Rastrear Seu Pedido",trackOrder:"Rastrear Pedido",continueBrowsingMenu:"Continuar Navegando no Menu",specialInstructions:"Instrues Especiais",paid:"Pago",pending:"Pendente",paymentCompleted:"Pagamento Concludo",paymentPending:"Pagamento Pendente",receiptNotFound:"Recibo no encontrado",openingOrderTracking:"Abrindo Rastreamento do Pedido",orderTrackingWillOpen:"Sua pgina de rastreamento do pedido abrir em uma nova aba",enterEmailToReceiveReceipt:"Digite seu endereo de email para receber uma cpia deste recibo",submitRating:"Enviar Avaliao",foodQuality:"Qualidade da Comida",serviceSpeed:"Velocidade do Servio",cleanliness:"Limpeza",staffFriendliness:"Simpatia da Equipe",howWasThisDish:"Como foi este prato?",overallExperience:"Experincia Geral",additionalFeedback:"Algum feedback adicional?",rateYourFood:"Avalie Sua Comida",rateOurService:"Avalie Nosso Servio",rateItem:"Avaliar item",of:"de",tellUsAboutYourExperience:"Conte-nos sobre sua experincia geral",additionalComments:"Comentrios Adicionais (Opcional)",tellUsMoreAboutYourExperience:"Conte-nos mais sobre sua experincia...",previous:"Anterior",nextItem:"Prximo Item",rateService:"Avaliar Servio",back:"Voltar",thankYou:"Obrigado!",ratingSubmittedSuccessfully:"Sua avaliao foi enviada com sucesso.",welcome:"Bem-vindo!",meetYourAIWaiter:"Conhea seu garom IA - pronto para ajud-lo a explorar nosso menu e fazer seu pedido",tapToStart:"Toque para Comear",tapAnywhereToContinue:"Toque em qualquer lugar para continuar",contactSupport:"Contactar Suporte",questionsContact:"Perguntas? Contacte",directly:"diretamente.",thankYouForDining:"Obrigado por jantar conosco!"},ru:{menu:"",cart:"",orders:"",settings:"",allCategories:" ",appetizers:"",mainCourse:" ",desserts:"",beverages:"",spiceLevel:" ",vegan:"",vegetarian:"",halal:"",allergens:"",addToCart:"  ",yourCart:" ",emptyCart:"  ",subtotal:" ",tax:"",total:"",checkout:" ",remove:"",paymentMethod:" ",payOnline:" ",payWithCash:"   (  )",customerNotes:" ",optional:"",placeOrder:" ",processing:"...",orderSuccess:"  !",orderError:"   ",aiWaiter:" ",aiWaiterWelcome:" !   -.       ,  ,         .      ?",typeMessage:"  ...",send:"",voiceToggle:"  ",voiceInput:" ",close:"",tapToTalk:",  ",listening:"...",aiProcessing:"...",speaking:"...",address:"",phone:"",hours:" ",available:"",unavailable:"",loading:"...",error:"",cancel:"",save:"",delete:"",edit:"",confirm:"",yes:"",no:"",callForAssistance:" ",callWaiter:" ",requestSent:" !",someoneWillBeWithYouSoon:"-    ",assistanceQuestion:"  - ,      ? ()",assistancePlaceholder:",   ,      ..",staffNotified:"        .",waiterCalled:" ",staffMemberWillBeWithYouShortly:"    !",unableToContactRestaurant:"   . ,  .",emailReceipt:"   Email",receipt:"",invoice:"",thankYouForYourOrder:"   ",orderNumber:" ",dateAndTime:"  ",table:"",orderItems:" ",receiptSent:" !",receiptSentTo:"    ",failedToSend:"  ",couldNotSendEmail:"      . ,   .",invalidEmail:" Email",pleaseEnterValidEmail:",     .",emailAddress:"  ",sendReceipt:" ",sending:"...",printSavePDF:" /  PDF",printing:"...",trackYourOrder:"  ",trackOrder:" ",continueBrowsingMenu:"  ",specialInstructions:" ",paid:"",pending:" ",paymentCompleted:" ",paymentPending:"  ",receiptNotFound:"  ",openingOrderTracking:"  ",orderTrackingWillOpen:"       ",enterEmailToReceiveReceipt:"    ,     ",submitRating:" ",foodQuality:" ",serviceSpeed:" ",cleanliness:"",staffFriendliness:" ",howWasThisDish:"   ?",overallExperience:" ",additionalFeedback:" ?",rateYourFood:"  ",rateOurService:"  ",rateItem:" ",of:"",tellUsAboutYourExperience:"     ",additionalComments:"  ()",tellUsMoreAboutYourExperience:"     ...",previous:"",nextItem:" ",rateService:" ",back:"",thankYou:"!",ratingSubmittedSuccessfully:"   .",welcome:" !",meetYourAIWaiter:"   - -         ",tapToStart:",  ",tapAnywhereToContinue:"   ,  ",contactSupport:"  ",questionsContact:"?  ",directly:".",thankYouForDining:",    !"}};function AU(e,t){return s1[e][t]||s1.en[t]}const i1={USD:"$",EUR:"",GBP:"",JPY:"",CNY:"",NGN:"",ZAR:"R",INR:"",AUD:"A$",CAD:"C$",CHF:"Fr",BRL:"R$",AED:".",SAR:"."},PU={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",CNY:"zh-CN",NGN:"en-NG",ZAR:"en-ZA",INR:"en-IN",AUD:"en-AU",CAD:"en-CA",MXN:"es-MX",BRL:"pt-BR",ARS:"es-AR",AED:"ar-AE",SAR:"ar-SA",KRW:"ko-KR",SGD:"en-SG",HKD:"zh-HK",THB:"th-TH",MYR:"ms-MY",IDR:"id-ID",PHP:"en-PH",VND:"vi-VN"},RU={en:"USD",es:"EUR",fr:"EUR",de:"EUR",it:"EUR",zh:"CNY",ja:"JPY",ar:"SAR",pt:"EUR",ru:"RUB"},k_={en:"en-US",es:"es-ES",fr:"fr-FR",de:"de-DE",it:"it-IT",zh:"zh-CN",ja:"ja-JP",ar:"ar-SA",pt:"pt-PT",ru:"ru-RU"};function IU(e,t={}){const n=typeof e=="string"?parseFloat(e):e;if(isNaN(n))return"0";const{currency:r,language:s,locale:i}=t;let o=r;!o&&s&&(o=RU[s]),o||(o="USD");let l=i;!l&&o&&(l=PU[o]),!l&&s&&(l=k_[s]),l||(l="en-US");try{return new Intl.NumberFormat(l,{style:"currency",currency:o,minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}catch(c){return console.error("Currency formatting error:",c),`${o} ${n.toFixed(2)}`}}function MU(e,t={}){const n=typeof e=="string"?parseFloat(e):e;if(isNaN(n))return"0";const{language:r,locale:s,decimals:i=2}=t;let o=s;!o&&r&&(o=k_[r]),o||(o="en-US");try{return new Intl.NumberFormat(o,{minimumFractionDigits:i,maximumFractionDigits:i}).format(n)}catch(l){return console.error("Number formatting error:",l),n.toFixed(i)}}const T_=p.createContext(void 0);function OU({children:e,defaultLanguage:t="en"}){const[n,r]=p.useState(void 0),[s,i]=p.useState(()=>localStorage.getItem("language")||t);p.useEffect(()=>{localStorage.setItem("language",s),document.documentElement.lang=s,s==="ar"?document.documentElement.dir="rtl":document.documentElement.dir="ltr"},[s]);const o=d=>{i(d)},l=d=>AU(s,d),c=(d,f)=>IU(d,{language:s,currency:f||n}),u=(d,f=2)=>MU(d,{language:s,decimals:f});return a.jsx(T_.Provider,{value:{language:s,setLanguage:o,t:l,formatCurrency:c,formatNumber:u,setCurrencyCode:r,currencyCode:n},children:e})}function Ot(){const e=p.useContext(T_);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const pe=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));pe.displayName="Card";const or=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));or.displayName="CardHeader";const lr=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));lr.displayName="CardTitle";const Jr=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Jr.displayName="CardDescription";const Pn=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));Pn.displayName="CardContent";const DU=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));DU.displayName="CardFooter";function LU(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(pe,{className:"w-full max-w-md mx-4",children:a.jsxs(Pn,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(bp,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var FU=Symbol.for("react.lazy"),fh=tp[" use ".trim().toString()];function VU(e){return typeof e=="object"&&e!==null&&"then"in e}function __(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===FU&&"_payload"in e&&VU(e._payload)}function jw(e){const t=UU(e),n=p.forwardRef((r,s)=>{let{children:i,...o}=r;__(i)&&typeof fh=="function"&&(i=fh(i._payload));const l=p.Children.toArray(i),c=l.find(BU);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Pp=jw("Slot");function UU(e){const t=p.forwardRef((n,r)=>{let{children:s,...i}=n;if(__(s)&&typeof fh=="function"&&(s=fh(s._payload)),p.isValidElement(s)){const o=zU(s),l=WU(i,s.props);return s.type!==p.Fragment&&(l.ref=r?zs(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $U=Symbol("radix.slottable");function BU(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$U}function WU(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function zU(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Ew=Ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Y=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?Pp:"button";return a.jsx(o,{className:re(Ew({variant:t,size:n,className:e})),ref:i,...s})});Y.displayName="Button";function ev(){const[e,t]=p.useState("light");p.useEffect(()=>{const s=localStorage.getItem("theme")||"light";t(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const n=()=>{const r=e==="light"?"dark":"light";t(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark",r==="dark")};return a.jsx(Y,{variant:"ghost",size:"icon",onClick:n,"data-testid":"button-theme-toggle",children:e==="light"?a.jsx(q3,{className:"h-5 w-5"}):a.jsx(rV,{className:"h-5 w-5"})})}var Ym="focusScope.autoFocusOnMount",Gm="focusScope.autoFocusOnUnmount",a1={bubbles:!1,cancelable:!0},HU="FocusScope",Rp=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=p.useState(null),u=Mt(s),d=Mt(i),f=p.useRef(null),h=Oe(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:ti(f.current,{select:!0})},w=function(b){if(m.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||ti(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const C of b)C.removedNodes.length>0&&ti(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){l1.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Ym,a1);l.addEventListener(Ym,u),l.dispatchEvent(x),x.defaultPrevented||(qU(ZU(A_(l)),{select:!0}),document.activeElement===g&&ti(l))}return()=>{l.removeEventListener(Ym,u),setTimeout(()=>{const x=new CustomEvent(Gm,a1);l.addEventListener(Gm,d),l.dispatchEvent(x),x.defaultPrevented||ti(g??document.body,{select:!0}),l.removeEventListener(Gm,d),l1.remove(m)},0)}}},[l,u,d,m]);const y=p.useCallback(g=>{if(!n&&!r||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(w&&x){const v=g.currentTarget,[b,S]=KU(v);b&&S?!g.shiftKey&&x===S?(g.preventDefault(),n&&ti(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),n&&ti(S,{select:!0})):x===v&&g.preventDefault()}},[n,r,m.paused]);return a.jsx(Ne.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Rp.displayName=HU;function qU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ti(r,{select:t}),document.activeElement!==n)return}function KU(e){const t=A_(e),n=o1(t,e),r=o1(t.reverse(),e);return[n,r]}function A_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function o1(e,t){for(const n of e)if(!YU(n,{upTo:t}))return n}function YU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GU(e){return e instanceof HTMLInputElement&&"select"in e}function ti(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&GU(e)&&t&&e.select()}}var l1=QU();function QU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=c1(e,t),e.unshift(t)},remove(t){var n;e=c1(e,t),(n=e[0])==null||n.resume()}}}function c1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZU(e){return e.filter(t=>t.tagName!=="A")}var Qm=0;function kw(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??u1()),document.body.insertAdjacentElement("beforeend",e[1]??u1()),Qm++,()=>{Qm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qm--}},[])}function u1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zr=function(){return Zr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Zr.apply(this,arguments)};function P_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function XU(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var xf="right-scroll-bar-position",wf="width-before-scroll-bar",JU="with-scroll-bars-hidden",e6="--removed-body-scroll-bar-size";function Zm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function t6(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var n6=typeof window<"u"?p.useLayoutEffect:p.useEffect,d1=new WeakMap;function r6(e,t){var n=t6(null,function(r){return e.forEach(function(s){return Zm(s,r)})});return n6(function(){var r=d1.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||Zm(l,null)}),i.forEach(function(l){s.has(l)||Zm(l,o)})}d1.set(n,e)},[e]),n}function s6(e){return e}function i6(e,t){t===void 0&&(t=s6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function a6(e){e===void 0&&(e={});var t=i6(null);return t.options=Zr({async:!0,ssr:!1},e),t}var R_=function(e){var t=e.sideCar,n=P_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Zr({},n))};R_.isSideCarExport=!0;function o6(e,t){return e.useMedium(t),R_}var I_=a6(),Xm=function(){},Ip=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Xm,onWheelCapture:Xm,onTouchMoveCapture:Xm}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,g=e.inert,w=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,b=e.gapMode,S=P_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,k=r6([n,t]),E=Zr(Zr({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(C,{sideCar:I_,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:b}),o?p.cloneElement(p.Children.only(l),Zr(Zr({},E),{ref:k})):p.createElement(v,Zr({},E,{className:c,ref:k}),l))});Ip.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ip.classNames={fullWidth:wf,zeroRight:xf};var l6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=l6();return t&&e.setAttribute("nonce",t),e}function u6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function d6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var f6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=c6())&&(u6(t,n),d6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},h6=function(){var e=f6();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},M_=function(){var e=h6(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},p6={left:0,top:0,right:0,gap:0},Jm=function(e){return parseInt(e||"",10)||0},m6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Jm(n),Jm(r),Jm(s)]},g6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return p6;var t=m6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},y6=M_(),$o="data-scroll-locked",v6=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(JU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat($o,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(wf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($o,`] {
    `).concat(e6,": ").concat(l,`px;
  }
`)},f1=function(){var e=parseInt(document.body.getAttribute($o)||"0",10);return isFinite(e)?e:0},x6=function(){p.useEffect(function(){return document.body.setAttribute($o,(f1()+1).toString()),function(){var e=f1()-1;e<=0?document.body.removeAttribute($o):document.body.setAttribute($o,e.toString())}},[])},w6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;x6();var i=p.useMemo(function(){return g6(s)},[s]);return p.createElement(y6,{styles:v6(i,!t,s,n?"":"!important")})},tv=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return tv=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{tv=!1}var so=tv?{passive:!1}:!1,b6=function(e){return e.tagName==="TEXTAREA"},O_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!b6(e)&&n[t]==="visible")},S6=function(e){return O_(e,"overflowY")},C6=function(e){return O_(e,"overflowX")},h1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=D_(e,r);if(s){var i=L_(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},N6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},j6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},D_=function(e,t){return e==="v"?S6(t):C6(t)},L_=function(e,t){return e==="v"?N6(t):j6(t)},E6=function(e,t){return e==="h"&&t==="rtl"?-1:1},k6=function(e,t,n,r,s){var i=E6(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=L_(e,l),y=m[0],g=m[1],w=m[2],x=g-w-i*y;(y||x)&&D_(e,l)&&(f+=x,h+=y);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Bd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p1=function(e){return[e.deltaX,e.deltaY]},m1=function(e){return e&&"current"in e?e.current:e},T6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},A6=0,io=[];function P6(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(A6++)[0],i=p.useState(M_)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=XU([e.lockRef.current],(e.shards||[]).map(m1),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Bd(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-x[0],S="deltaY"in g?g.deltaY:v[1]-x[1],C,k=g.target,E=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&E==="h"&&k.type==="range")return!1;var N=h1(E,k);if(!N)return!0;if(N?C=E:(C=E==="v"?"h":"v",N=h1(E,k)),!N)return!1;if(!r.current&&"changedTouches"in g&&(b||S)&&(r.current=C),!C)return!0;var j=r.current||C;return k6(j,w,g,j==="h"?b:S)},[]),c=p.useCallback(function(g){var w=g;if(!(!io.length||io[io.length-1]!==i)){var x="deltaY"in w?p1(w):Bd(w),v=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&T6(C.delta,x)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(m1).filter(Boolean).filter(function(C){return C.contains(w.target)}),S=b.length>0?l(w,b[0]):!o.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(g,w,x,v){var b={name:g,delta:w,target:x,should:v,shadowParent:R6(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(g){n.current=Bd(g),r.current=void 0},[]),f=p.useCallback(function(g){u(g.type,p1(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,Bd(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return io.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,so),document.addEventListener("touchmove",c,so),document.addEventListener("touchstart",d,so),function(){io=io.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,so),document.removeEventListener("touchmove",c,so),document.removeEventListener("touchstart",d,so)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:_6(s)}):null,m?p.createElement(w6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function R6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const I6=o6(I_,P6);var Mp=p.forwardRef(function(e,t){return p.createElement(Ip,Zr({},e,{ref:t,sideCar:I6}))});Mp.classNames=Ip.classNames;var M6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ao=new WeakMap,Wd=new WeakMap,zd={},eg=0,F_=function(e){return e&&(e.host||F_(e.parentNode))},O6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=F_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},D6=function(e,t,n,r){var s=O6(t,Array.isArray(e)?e:[e]);zd[n]||(zd[n]=new WeakMap);var i=zd[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(ao.get(h)||0)+1,w=(i.get(h)||0)+1;ao.set(h,g),i.set(h,w),o.push(h),g===1&&y&&Wd.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),eg++,function(){o.forEach(function(f){var h=ao.get(f)-1,m=i.get(f)-1;ao.set(f,h),i.set(f,m),h||(Wd.has(f)||f.removeAttribute(r),Wd.delete(f)),m||f.removeAttribute(n)}),eg--,eg||(ao=new WeakMap,ao=new WeakMap,Wd=new WeakMap,zd={})}},Tw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=M6(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),D6(r,s,n,"aria-hidden")):function(){return null}};function L6(e){const t=F6(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(U6);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function F6(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=B6(s),l=$6(i,s.props);return s.type!==p.Fragment&&(l.ref=r?zs(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V6=Symbol("radix.slottable");function U6(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V6}function $6(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function B6(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Op="Dialog",[V_,U_]=fn(Op),[W6,$r]=V_(Op),$_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Fr({prop:r,defaultProp:s??!1,onChange:i,caller:Op});return a.jsx(W6,{scope:t,triggerRef:l,contentRef:c,contentId:Or(),titleId:Or(),descriptionId:Or(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};$_.displayName=Op;var B_="DialogTrigger",W_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$r(B_,n),i=Oe(t,s.triggerRef);return a.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Pw(s.open),...r,ref:i,onClick:se(e.onClick,s.onOpenToggle)})});W_.displayName=B_;var _w="DialogPortal",[z6,z_]=V_(_w,{forceMount:void 0}),H_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=$r(_w,t);return a.jsx(z6,{scope:t,forceMount:n,children:p.Children.map(r,o=>a.jsx(en,{present:n||i.open,children:a.jsx(Yu,{asChild:!0,container:s,children:o})}))})};H_.displayName=_w;var hh="DialogOverlay",q_=p.forwardRef((e,t)=>{const n=z_(hh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=$r(hh,e.__scopeDialog);return i.modal?a.jsx(en,{present:r||i.open,children:a.jsx(q6,{...s,ref:t})}):null});q_.displayName=hh;var H6=L6("DialogOverlay.RemoveScroll"),q6=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$r(hh,n);return a.jsx(Mp,{as:H6,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ne.div,{"data-state":Pw(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),$a="DialogContent",K_=p.forwardRef((e,t)=>{const n=z_($a,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=$r($a,e.__scopeDialog);return a.jsx(en,{present:r||i.open,children:i.modal?a.jsx(K6,{...s,ref:t}):a.jsx(Y6,{...s,ref:t})})});K_.displayName=$a;var K6=p.forwardRef((e,t)=>{const n=$r($a,e.__scopeDialog),r=p.useRef(null),s=Oe(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return Tw(i)},[]),a.jsx(Y_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault())})}),Y6=p.forwardRef((e,t)=>{const n=$r($a,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(Y_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Y_=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=$r($a,n),c=p.useRef(null),u=Oe(t,c);return kw(),a.jsxs(a.Fragment,{children:[a.jsx(Rp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Ol,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Pw(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Q6,{titleId:l.titleId}),a.jsx(X6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Aw="DialogTitle",G_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$r(Aw,n);return a.jsx(Ne.h2,{id:s.titleId,...r,ref:t})});G_.displayName=Aw;var Q_="DialogDescription",Z_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$r(Q_,n);return a.jsx(Ne.p,{id:s.descriptionId,...r,ref:t})});Z_.displayName=Q_;var X_="DialogClose",J_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$r(X_,n);return a.jsx(Ne.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>s.onOpenChange(!1))})});J_.displayName=X_;function Pw(e){return e?"open":"closed"}var eA="DialogTitleWarning",[G6,tA]=M4(eA,{contentName:$a,titleName:Aw,docsSlug:"dialog"}),Q6=({titleId:e})=>{const t=tA(eA),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Z6="DialogDescriptionWarning",X6=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tA(Z6).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Rw=$_,nA=W_,Iw=H_,Xu=q_,Ju=K_,ed=G_,td=Z_,Dp=J_;const vn=Rw,J6=Iw,rA=p.forwardRef(({className:e,...t},n)=>a.jsx(Xu,{ref:n,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));rA.displayName=Xu.displayName;const ln=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(J6,{children:[a.jsx(rA,{}),a.jsxs(Ju,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(Dp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(uw,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ln.displayName=Ju.displayName;const xn=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xn.displayName="DialogHeader";const Bi=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bi.displayName="DialogFooter";const cn=p.forwardRef(({className:e,...t},n)=>a.jsx(ed,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));cn.displayName=ed.displayName;const hr=p.forwardRef(({className:e,...t},n)=>a.jsx(td,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));hr.displayName=td.displayName;const ze=p.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:re("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ze.displayName="Input";var e$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],t$=e$.reduce((e,t)=>{const n=jw(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),n$="Label",sA=p.forwardRef((e,t)=>a.jsx(t$.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sA.displayName=n$;var iA=sA;const r$=Ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ze=p.forwardRef(({className:e,...t},n)=>a.jsx(iA,{ref:n,className:re(r$(),e),...t}));Ze.displayName=iA.displayName;var s$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],i$=s$.reduce((e,t)=>{const n=jw(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),a$="Separator",g1="horizontal",o$=["horizontal","vertical"],aA=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=g1,...s}=e,i=l$(r)?r:g1,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(i$.div,{"data-orientation":i,...l,...s,ref:t})});aA.displayName=a$;function l$(e){return o$.includes(e)}var oA=aA;const zt=p.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(oA,{ref:s,decorative:n,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));zt.displayName=oA.displayName;const Ba="/assets/waiterix-logo-BxGYabsT.png";function Hd({value:e,maxValue:t=100,label:n,suffix:r="%",color:s="hsl(var(--primary))"}){const[i,o]=p.useState(0),[l,c]=p.useState(!1),u=p.useRef(null);p.useEffect(()=>{const h=new IntersectionObserver(m=>{m.forEach(y=>{y.isIntersecting&&!l&&c(!0)})},{threshold:.3});return u.current&&h.observe(u.current),()=>{u.current&&h.unobserve(u.current)}},[l]),p.useEffect(()=>{if(!l)return;const h=2e3,m=60,y=e/m,g=h/m;let w=0;const x=setInterval(()=>{w++,w<=m?o(Math.min(y*w,e)):clearInterval(x)},g);return()=>clearInterval(x)},[l,e]);const f=i/t*100/100*180;return a.jsxs("div",{ref:u,className:"flex flex-col items-center gap-4",children:[a.jsxs("div",{className:"relative w-48 h-24",children:[a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 200 100",children:[a.jsx("path",{d:"M 20 90 A 80 80 0 0 1 180 90",fill:"none",stroke:"hsl(var(--muted))",strokeWidth:"12",strokeLinecap:"round"}),a.jsx("path",{d:"M 20 90 A 80 80 0 0 1 180 90",fill:"none",stroke:s,strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${f/180*251.2} 251.2`,className:"transition-all duration-300 ease-out",style:{filter:`drop-shadow(0 0 8px ${s})`}})]}),a.jsx("div",{className:"absolute inset-0 flex items-end justify-center pb-2",children:a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-4xl font-bold gradient-text",children:[Math.round(i),r]})})})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:n})})]})}const c$=()=>{};var y1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},u$=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},cA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const f=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new d$;const h=i<<2|l>>4;if(r.push(h),u!==64){const m=l<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f$=function(e){const t=lA(e);return cA.encodeByteArray(t,!0)},uA=function(e){return f$(e).replace(/\./g,"")},dA=function(e){try{return cA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=()=>h$().__FIREBASE_DEFAULTS__,m$=()=>{if(typeof process>"u"||typeof y1>"u")return;const e=y1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},g$=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&dA(e[1]);return t&&JSON.parse(t)},Mw=()=>{try{return c$()||p$()||m$()||g$()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},y$=e=>{var t,n;return(n=(t=Mw())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},fA=()=>{var e;return(e=Mw())==null?void 0:e.config},hA=e=>{var t;return(t=Mw())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x$(e){return(await fetch(e,{credentials:"include"})).ok}const Mc={};function w$(){const e={prod:[],emulator:[]};for(const t of Object.keys(Mc))Mc[t]?e.emulator.push(t):e.prod.push(t);return e}function b$(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let v1=!1;function S$(e,t){if(typeof window>"u"||typeof document>"u"||!Lp(window.location.host)||Mc[e]===t||Mc[e]||v1)return;Mc[e]=t;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=w$().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{v1=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=b$(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),w=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;l(b),d(w,g);const S=u();c(v,x),b.append(v,y,w,S),document.body.appendChild(b)}i?(y.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function N$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j$(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function E$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k$(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T$(){try{return typeof indexedDB=="object"}catch{return!1}}function _$(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="FirebaseError";class Zi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=A$,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nd.prototype.create)}}class nd{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?P$(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Zi(s,l,r)}}function P$(e,t){return e.replace(R$,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const R$=/\{\$([^}]+)}/g;function I$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(x1(i)&&x1(o)){if(!xl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function x1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function gc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function yc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function M$(e,t){const n=new O$(e,t);return n.subscribe.bind(n)}class O${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D$(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=tg),s.error===void 0&&(s.error=tg),s.complete===void 0&&(s.complete=tg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e){return e&&e._delegate?e._delegate:e}class wl{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new v$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V$(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F$(e){return e===aa?void 0:e}function V$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new L$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ct||(ct={}));const $$={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},B$=ct.INFO,W$={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},z$=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=W$[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pA{constructor(t){this.name=t,this._logLevel=B$,this._logHandler=z$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...t),this._logHandler(this,ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...t),this._logHandler(this,ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...t),this._logHandler(this,ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...t),this._logHandler(this,ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...t),this._logHandler(this,ct.ERROR,...t)}}const H$=(e,t)=>t.some(n=>e instanceof n);let w1,b1;function q$(){return w1||(w1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K$(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mA=new WeakMap,nv=new WeakMap,gA=new WeakMap,ng=new WeakMap,Ow=new WeakMap;function Y$(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(Ii(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&mA.set(n,e)}).catch(()=>{}),Ow.set(t,e),t}function G$(e){if(nv.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});nv.set(e,t)}let rv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Q$(e){rv=e(rv)}function Z$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(rg(this),t,...n);return gA.set(r,t.sort?t.sort():[t]),Ii(r)}:K$().includes(e)?function(...t){return e.apply(rg(this),t),Ii(mA.get(this))}:function(...t){return Ii(e.apply(rg(this),t))}}function X$(e){return typeof e=="function"?Z$(e):(e instanceof IDBTransaction&&G$(e),H$(e,q$())?new Proxy(e,rv):e)}function Ii(e){if(e instanceof IDBRequest)return Y$(e);if(ng.has(e))return ng.get(e);const t=X$(e);return t!==e&&(ng.set(e,t),Ow.set(t,e)),t}const rg=e=>Ow.get(e);function J$(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),l=Ii(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ii(o.result),c.oldVersion,c.newVersion,Ii(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const eB=["get","getKey","getAll","getAllKeys","count"],tB=["put","add","delete","clear"],sg=new Map;function S1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sg.get(t))return sg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=tB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eB.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return sg.set(t,i),i}Q$(e=>({...e,get:(t,n,r)=>S1(t,n)||e.get(t,n,r),has:(t,n)=>!!S1(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rB(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sv="@firebase/app",C1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new pA("@firebase/app"),sB="@firebase/app-compat",iB="@firebase/analytics-compat",aB="@firebase/analytics",oB="@firebase/app-check-compat",lB="@firebase/app-check",cB="@firebase/auth",uB="@firebase/auth-compat",dB="@firebase/database",fB="@firebase/data-connect",hB="@firebase/database-compat",pB="@firebase/functions",mB="@firebase/functions-compat",gB="@firebase/installations",yB="@firebase/installations-compat",vB="@firebase/messaging",xB="@firebase/messaging-compat",wB="@firebase/performance",bB="@firebase/performance-compat",SB="@firebase/remote-config",CB="@firebase/remote-config-compat",NB="@firebase/storage",jB="@firebase/storage-compat",EB="@firebase/firestore",kB="@firebase/ai",TB="@firebase/firestore-compat",_B="firebase",AB="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="[DEFAULT]",PB={[sv]:"fire-core",[sB]:"fire-core-compat",[aB]:"fire-analytics",[iB]:"fire-analytics-compat",[lB]:"fire-app-check",[oB]:"fire-app-check-compat",[cB]:"fire-auth",[uB]:"fire-auth-compat",[dB]:"fire-rtdb",[fB]:"fire-data-connect",[hB]:"fire-rtdb-compat",[pB]:"fire-fn",[mB]:"fire-fn-compat",[gB]:"fire-iid",[yB]:"fire-iid-compat",[vB]:"fire-fcm",[xB]:"fire-fcm-compat",[wB]:"fire-perf",[bB]:"fire-perf-compat",[SB]:"fire-rc",[CB]:"fire-rc-compat",[NB]:"fire-gcs",[jB]:"fire-gcs-compat",[EB]:"fire-fst",[TB]:"fire-fst-compat",[kB]:"fire-vertex","fire-js":"fire-js",[_B]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,RB=new Map,av=new Map;function N1(e,t){try{e.container.addComponent(t)}catch(n){Vs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function pu(e){const t=e.name;if(av.has(t))return Vs.debug(`There were multiple attempts to register component ${t}.`),!1;av.set(t,e);for(const n of ph.values())N1(n,e);for(const n of RB.values())N1(n,e);return!0}function yA(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ir(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new nd("app","Firebase",IB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=AB;function vA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:iv,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(n||(n=fA()),!n)throw Mi.create("no-options");const i=ph.get(s);if(i){if(xl(n,i.options)&&xl(r,i.config))return i;throw Mi.create("duplicate-app",{appName:s})}const o=new U$(s);for(const c of av.values())o.addComponent(c);const l=new MB(n,r,o);return ph.set(s,l),l}function OB(e=iv){const t=ph.get(e);if(!t&&e===iv&&fA())return vA();if(!t)throw Mi.create("no-app",{appName:e});return t}function Bo(e,t,n){let r=PB[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vs.warn(o.join(" "));return}pu(new wl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="firebase-heartbeat-database",LB=1,mu="firebase-heartbeat-store";let ig=null;function xA(){return ig||(ig=J$(DB,LB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Mi.create("idb-open",{originalErrorMessage:e.message})})),ig}async function FB(e){try{const n=(await xA()).transaction(mu),r=await n.objectStore(mu).get(wA(e));return await n.done,r}catch(t){if(t instanceof Zi)Vs.warn(t.message);else{const n=Mi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vs.warn(n.message)}}}async function j1(e,t){try{const r=(await xA()).transaction(mu,"readwrite");await r.objectStore(mu).put(t,wA(e)),await r.done}catch(n){if(n instanceof Zi)Vs.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vs.warn(r.message)}}}function wA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=1024,UB=30;class $B{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=E1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>UB){const o=zB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E1(),{heartbeatsToSend:r,unsentEntries:s}=BB(this._heartbeatsCache.heartbeats),i=uA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vs.warn(n),""}}}function E1(){return new Date().toISOString().substring(0,10)}function BB(e,t=VB){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),k1(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),k1(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T$()?_$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return j1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return j1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function k1(e){return uA(JSON.stringify({version:2,heartbeats:e})).length}function zB(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(e){pu(new wl("platform-logger",t=>new nB(t),"PRIVATE")),pu(new wl("heartbeat",t=>new $B(t),"PRIVATE")),Bo(sv,C1,e),Bo(sv,C1,"esm2020"),Bo("fire-js","")}HB("");var qB="firebase",KB="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bo(qB,KB,"app");function bA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YB=bA,SA=new nd("auth","Firebase",bA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new pA("@firebase/auth");function GB(e,...t){mh.logLevel<=ct.WARN&&mh.warn(`Auth (${sd}): ${e}`,...t)}function bf(e,...t){mh.logLevel<=ct.ERROR&&mh.error(`Auth (${sd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(e,...t){throw Lw(e,...t)}function Dr(e,...t){return Lw(e,...t)}function Dw(e,t,n){const r={...YB(),[t]:n};return new nd("auth","Firebase",r).create(t,{appName:e.name})}function Ts(e){return Dw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QB(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&pr(e,"argument-error"),Dw(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return SA.create(e,...t)}function Re(e,t,...n){if(!e)throw Lw(t,...n)}function js(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bf(t),new Error(t)}function Us(e,t){e||js(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function ZB(){return T1()==="http:"||T1()==="https:"}function T1(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZB()||j$()||"connection"in navigator)?navigator.onLine:!0}function JB(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,n){this.shortDelay=t,this.longDelay=n,Us(n>t,"Short delay should be less than long delay!"),this.isMobile=C$()||E$()}get(){return XB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e,t){Us(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nW=new id(3e4,6e4);function Xi(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Hs(e,t,n,r,s={}){return NA(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const l=rd({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...i};return N$()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Lp(e.emulatorConfig.host)&&(u.credentials="include"),CA.fetch()(await jA(e,e.config.apiHost,n,l),u)})}async function NA(e,t,n){e._canInitEmulator=!1;const r={...eW,...t};try{const s=new sW(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw qd(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw qd(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw qd(e,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dw(e,d,u);pr(e,d)}}catch(s){if(s instanceof Zi)throw s;pr(e,"network-request-failed",{message:String(s)})}}async function ad(e,t,n,r,s={}){const i=await Hs(e,t,n,r,s);return"mfaPendingCredential"in i&&pr(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function jA(e,t,n,r){const s=`${t}${n}?${r}`,i=e,o=i.config.emulator?Fw(e.config,s):`${e.config.apiScheme}://${s}`;return tW.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function rW(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),nW.get())})}}function qd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dr(e,t,r);return s.customData._tokenResponse=n,s}function _1(e){return e!==void 0&&e.enterprise!==void 0}class iW{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return rW(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aW(e,t){return Hs(e,"GET","/v2/recaptchaConfig",Xi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oW(e,t){return Hs(e,"POST","/v1/accounts:delete",t)}async function gh(e,t){return Hs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lW(e,t=!1){const n=Br(e),r=await n.getIdToken(t),s=Vw(r);Re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Oc(ag(s.auth_time)),issuedAtTime:Oc(ag(s.iat)),expirationTime:Oc(ag(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ag(e){return Number(e)*1e3}function Vw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const s=dA(n);return s?JSON.parse(s):(bf("Failed to decode base64 JWT payload"),null)}catch(s){return bf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function A1(e){const t=Vw(e);return Re(t,"internal-error"),Re(typeof t.exp<"u","internal-error"),Re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Zi&&cW(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function cW({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(e){var f;const t=e.auth,n=await e.getIdToken(),r=await bl(e,gh(t,{idToken:n}));Re(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?EA(s.providerUserInfo):[],o=fW(e.providerData,i),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new lv(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function dW(e){const t=Br(e);await yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fW(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function EA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(e,t){const n=await NA(e,{},async()=>{const r=rd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=await jA(e,s,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return e.emulatorConfig&&Lp(e.emulatorConfig.host)&&(c.credentials="include"),CA.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pW(e,t){return Hs(e,"POST","/v2/accounts:revokeToken",Xi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Re(t.idToken,"internal-error"),Re(typeof t.idToken<"u","internal-error"),Re(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):A1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Re(t.length!==0,"internal-error");const n=A1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await hW(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Wo;return r&&(Re(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(Re(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(Re(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e,t){Re(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Rr{constructor({uid:t,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new uW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await bl(this,this.stsTokenManager.getToken(this.auth,t));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lW(this,t)}reload(){return dW(this)}_assign(t){this!==t&&(Re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Rr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await bl(this,oW(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:y,stsTokenManager:g}=n;Re(f&&g,t,"internal-error");const w=Wo.fromJSON(this.name,g);Re(typeof f=="string",t,"internal-error"),Zs(r,t.name),Zs(s,t.name),Re(typeof h=="boolean",t,"internal-error"),Re(typeof m=="boolean",t,"internal-error"),Zs(i,t.name),Zs(o,t.name),Zs(l,t.name),Zs(c,t.name),Zs(u,t.name),Zs(d,t.name);const x=new Rr({uid:f,auth:t,email:s,emailVerified:h,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(x.providerData=y.map(v=>({...v}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(t,n,r=!1){const s=new Wo;s.updateFromServerResponse(n);const i=new Rr({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await yh(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];Re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?EA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Wo;l.updateFromIdToken(r);const c=new Rr({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new lv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function Es(e){Us(e instanceof Function,"Expected a class definition");let t=P1.get(e);return t?(Us(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,P1.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}kA.type="NONE";const R1=kA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(e,t,n){return`firebase:${e}:${t}:${n}`}class zo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Sf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Sf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await gh(this.auth,{idToken:t}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,t):null}return Rr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new zo(Es(R1),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Es(R1);const o=Sf(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await gh(t,{idToken:d}).catch(()=>{});if(!h)break;f=await Rr._fromGetAccountInfoResponse(t,h,d)}else f=Rr._fromJSON(t,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new zo(i,t,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new zo(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IA(t))return"Blackberry";if(MA(t))return"Webos";if(_A(t))return"Safari";if((t.includes("chrome/")||AA(t))&&!t.includes("edge/"))return"Chrome";if(RA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TA(e=bn()){return/firefox\//i.test(e)}function _A(e=bn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AA(e=bn()){return/crios\//i.test(e)}function PA(e=bn()){return/iemobile/i.test(e)}function RA(e=bn()){return/android/i.test(e)}function IA(e=bn()){return/blackberry/i.test(e)}function MA(e=bn()){return/webos/i.test(e)}function Uw(e=bn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mW(e=bn()){var t;return Uw(e)&&!!((t=window.navigator)!=null&&t.standalone)}function gW(){return k$()&&document.documentMode===10}function OA(e=bn()){return Uw(e)||RA(e)||MA(e)||IA(e)||/windows phone/i.test(e)||PA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(e,t=[]){let n;switch(e){case"Browser":n=I1(bn());break;case"Worker":n=`${I1(bn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${sd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,l)=>{try{const c=t(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(e,t={}){return Hs(e,"GET","/v2/passwordPolicy",Xi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=6;class wW{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M1(this),this.idTokenSubscription=new M1(this),this.beforeStateQueue=new yW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await zo.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await gh(this,{idToken:t}),r=await Rr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await yh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ir(this.app))return Promise.reject(Ts(this));const n=t?Br(t):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Re(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ir(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vW(this),n=new wW(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nd("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pW(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Es(t)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=t.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&GB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ji(e){return Br(e)}class M1{constructor(t){this.auth=t,this.observer=null,this.addObserver=M$(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SW(e){Fp=e}function LA(e){return Fp.loadJS(e)}function CW(){return Fp.recaptchaEnterpriseScript}function NW(){return Fp.gapiScript}function jW(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class EW{constructor(){this.enterprise=new kW}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class kW{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const TW="recaptcha-enterprise",FA="NO_RECAPTCHA";class _W{constructor(t){this.type=TW,this.auth=Ji(t)}async verify(t="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{aW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new iW(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;_1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:t}).then(u=>{o(u)}).catch(()=>{o(FA)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EW().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&_1(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=CW();c.length!==0&&(c+=l),LA(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function O1(e,t,n,r=!1,s=!1){const i=new _W(e);let o;if(s)o=FA;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function cv(e,t,n,r,s){var i;if((i=e._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await O1(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await O1(e,t,n,n==="getOobCode");return r(e,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(e,t){const n=yA(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(xl(i,t??{}))return s;pr(s,"already-initialized")}return n.initialize({options:t})}function PW(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Es);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function RW(e,t,n){const r=Ji(e);Re(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,i=VA(t),{host:o,port:l}=IW(t),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(xl(u,r.config.emulator)&&xl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Lp(o)?(x$(`${i}//${o}${c}`),S$("Auth",!0)):MW()}function VA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function IW(e){const t=VA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:D1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:D1(o)}}}function D1(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function MW(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(t){return js("not implemented")}_linkToIdToken(t,n){return js("not implemented")}_getReauthenticationResolver(t){return js("not implemented")}}async function OW(e,t){return Hs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DW(e,t){return ad(e,"POST","/v1/accounts:signInWithPassword",Xi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LW(e,t){return ad(e,"POST","/v1/accounts:signInWithEmailLink",Xi(e,t))}async function FW(e,t){return ad(e,"POST","/v1/accounts:signInWithEmailLink",Xi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends $w{constructor(t,n,r,s=null){super("password",r),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new gu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new gu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cv(t,n,"signInWithPassword",DW);case"emailLink":return LW(t,{email:this._email,oobCode:this._password});default:pr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cv(t,r,"signUpPassword",OW);case"emailLink":return FW(t,{idToken:n,email:this._email,oobCode:this._password});default:pr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(e,t){return ad(e,"POST","/v1/accounts:signInWithIdp",Xi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW="http://localhost";class Wa extends $w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Wa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ho(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ho(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ho(t,n)}buildRequest(){const t={requestUri:VW,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=rd(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $W(e){const t=gc(yc(e)).link,n=t?gc(yc(t)).deep_link_id:null,r=gc(yc(e)).deep_link_id;return(r?gc(yc(r)).link:null)||r||n||t||e}class Bw{constructor(t){const n=gc(yc(t)),r=n.apiKey??null,s=n.oobCode??null,i=UW(n.mode??null);Re(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=$W(t);try{return new Bw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.providerId=Ul.PROVIDER_ID}static credential(t,n){return gu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Bw.parseLink(n);return Re(r,"argument-error"),gu._fromEmailAndCode(t,r.code,r.tenantId)}}Ul.PROVIDER_ID="password";Ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Ww{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends od{constructor(){super("facebook.com")}static credential(t){return Wa._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return li.credentialFromTaggedObject(t)}static credentialFromError(t){return li.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return li.credential(t.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends od{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Wa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends od{constructor(){super("github.com")}static credential(t){return Wa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends od{constructor(){super("twitter.com")}static credential(t,n){return Wa._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ui.credentialFromTaggedObject(t)}static credentialFromError(t){return ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BW(e,t){return ad(e,"POST","/v1/accounts:signUp",Xi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Rr._fromIdTokenResponse(t,r,s),o=L1(r);return new za({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=L1(r);return new za({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function L1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Zi{constructor(t,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new vh(t,n,r,s)}}function UA(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(e,i,t,r):i})}async function WW(e,t,n=!1){const r=await bl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return za._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(e,t,n=!1){const{auth:r}=e;if(ir(r.app))return Promise.reject(Ts(r));const s="reauthenticate";try{const i=await bl(e,UA(r,s,t,e),n);Re(i.idToken,r,"internal-error");const o=Vw(i.idToken);Re(o,r,"internal-error");const{sub:l}=o;return Re(e.uid===l,r,"user-mismatch"),za._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(e,t,n=!1){if(ir(e.app))return Promise.reject(Ts(e));const r="signIn",s=await UA(e,r,t),i=await za._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function HW(e,t){return $A(Ji(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(e){const t=Ji(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function qW(e,t,n){if(ir(e.app))return Promise.reject(Ts(e));const r=Ji(e),o=await cv(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BW).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&BA(e),c}),l=await za._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function KW(e,t,n){return ir(e.app)?Promise.reject(Ts(e)):HW(Br(e),Ul.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BA(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(e,t){return Hs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Br(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await bl(r,YW(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(e,t){return Br(e).setPersistence(t)}function ZW(e,t,n,r){return Br(e).onIdTokenChanged(t,n,r)}function XW(e,t,n){return Br(e).beforeAuthStateChanged(t,n)}function JW(e,t,n,r){return Br(e).onAuthStateChanged(t,n,r)}function ez(e){return Br(e).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=1e3,nz=10;class zA extends WA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);gW()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,nz):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}zA.type="LOCAL";const rz=zA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends WA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}HA.type="SESSION";const zw=HA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Vp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await sz(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=Hw("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return window}function az(e){rs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function oz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lz(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function cz(){return qA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebaseLocalStorageDb",uz=1,wh="firebaseLocalStorage",YA="fbase_key";class ld{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Up(e,t){return e.transaction([wh],t?"readwrite":"readonly").objectStore(wh)}function dz(){const e=indexedDB.deleteDatabase(KA);return new ld(e).toPromise()}function uv(){const e=indexedDB.open(KA,uz);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(wh,{keyPath:YA})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(wh)?t(r):(r.close(),await dz(),t(await uv()))})})}async function F1(e,t,n){const r=Up(e,!0).put({[YA]:t,value:n});return new ld(r).toPromise()}async function fz(e,t){const n=Up(e,!1).get(t),r=await new ld(n).toPromise();return r===void 0?null:r.value}function V1(e,t){const n=Up(e,!0).delete(t);return new ld(n).toPromise()}const hz=800,pz=3;class GA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>pz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vp._getInstance(cz()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await oz(),!this.activeServiceWorker)return;this.sender=new iz(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await uv();return await F1(t,xh,"1"),await V1(t,xh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F1(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>fz(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>V1(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Up(s,!1).getAll();return new ld(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GA.type="LOCAL";const mz=GA;new id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e,t){return t?Es(t):(Re(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends $w{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ho(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ho(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function gz(e){return $A(e.auth,new qw(e),e.bypassAuthState)}function yz(e){const{auth:t,user:n}=e;return Re(n,t,"internal-error"),zW(n,new qw(e),e.bypassAuthState)}async function vz(e){const{auth:t,user:n}=e;return Re(n,t,"internal-error"),WW(n,new qw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gz;case"linkViaPopup":case"linkViaRedirect":return vz;case"reauthViaPopup":case"reauthViaRedirect":return yz;default:pr(this.auth,"internal-error")}}resolve(t){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new id(2e3,1e4);async function wz(e,t,n){if(ir(e.app))return Promise.reject(Dr(e,"operation-not-supported-in-this-environment"));const r=Ji(e);QB(e,t,Ww);const s=QA(r,n);return new ma(r,"signInViaPopup",t,s).executeNotNull()}class ma extends ZA{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Re(t,this.auth,"internal-error"),t}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const t=Hw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xz.get())};t()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="pendingRedirect",Cf=new Map;class Sz extends ZA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Cf.get(this.auth._key());if(!t){try{const r=await Cz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Cf.set(this.auth._key(),t)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cz(e,t){const n=Ez(t),r=jz(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Nz(e,t){Cf.set(e._key(),t)}function jz(e){return Es(e._redirectPersistence)}function Ez(e){return Sf(bz,e.config.apiKey,e.name)}async function kz(e,t,n=!1){if(ir(e.app))return Promise.reject(Ts(e));const r=Ji(e),s=QA(r,t),o=await new Sz(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=10*60*1e3;class _z{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Az(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!XA(t)){const s=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Tz&&this.cachedEventUids.clear(),this.cachedEventUids.has(U1(t))}saveEventToCache(t){this.cachedEventUids.add(U1(t)),this.lastProcessedEventTime=Date.now()}}function U1(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function XA({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Az(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(e,t={}){return Hs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iz=/^https?/;async function Mz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Pz(e);for(const n of t)try{if(Oz(n))return}catch{}pr(e,"unauthorized-domain")}function Oz(e){const t=ov(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Iz.test(n))return!1;if(Rz.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=new id(3e4,6e4);function $1(){const e=rs().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Lz(e){return new Promise((t,n)=>{var s,i,o;function r(){$1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$1(),n(Dr(e,"network-request-failed"))},timeout:Dz.get()})}if((i=(s=rs().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((o=rs().gapi)!=null&&o.load)r();else{const l=jW("iframefcb");return rs()[l]=()=>{gapi.load?r():n(Dr(e,"network-request-failed"))},LA(`${NW()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Nf=null,t})}let Nf=null;function Fz(e){return Nf=Nf||Lz(e),Nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=new id(5e3,15e3),Uz="__/auth/iframe",$z="emulator/auth/iframe",Bz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zz(e){const t=e.config;Re(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fw(t,$z):`https://${e.config.authDomain}/${Uz}`,r={apiKey:t.apiKey,appName:e.name,v:sd},s=Wz.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${rd(r).slice(1)}`}async function Hz(e){const t=await Fz(e),n=rs().gapi;return Re(n,e,"internal-error"),t.open({where:document.body,url:zz(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dr(e,"network-request-failed"),l=rs().setTimeout(()=>{i(o)},Vz.get());function c(){rs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kz=500,Yz=600,Gz="_blank",Qz="http://localhost";class B1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zz(e,t,n,r=Kz,s=Yz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...qz,width:r.toString(),height:s.toString(),top:i,left:o},u=bn().toLowerCase();n&&(l=AA(u)?Gz:n),TA(u)&&(t=t||Qz,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(mW(u)&&l!=="_self")return Xz(t||"",l),new B1(null);const f=window.open(t||"",l,d);Re(f,e,"popup-blocked");try{f.focus()}catch{}return new B1(f)}function Xz(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz="__/auth/handler",e8="emulator/auth/handler",t8=encodeURIComponent("fac");async function W1(e,t,n,r,s,i){Re(e.config.authDomain,e,"auth-domain-config-required"),Re(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:sd,eventId:s};if(t instanceof Ww){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",I$(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(t instanceof od){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await e._getAppCheckToken(),u=c?`#${t8}=${encodeURIComponent(c)}`:"";return`${n8(e)}?${rd(l).slice(1)}${u}`}function n8({config:e}){return e.emulator?Fw(e,e8):`https://${e.authDomain}/${Jz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class r8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=kz,this._overrideRedirectResult=Nz}async _openPopup(t,n,r,s){var o;Us((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await W1(t,n,r,ov(),s);return Zz(t,i,Hw())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await W1(t,n,r,ov(),s);return az(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Us(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Hz(t),r=new _z(t);return n.register("authEvent",s=>(Re(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(og,{type:og},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[og];i!==void 0&&n(!!i),pr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Mz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return OA()||_A()||Uw()}}const s8=r8;var z1="@firebase/auth",H1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o8(e){pu(new wl("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DA(e)},u=new bW(r,s,i,c);return PW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),pu(new wl("auth-internal",t=>{const n=Ji(t.getProvider("auth").getImmediate());return(r=>new i8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bo(z1,H1,a8(e)),Bo(z1,H1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=5*60,c8=hA("authIdTokenMaxAge")||l8;let q1=null;const u8=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c8)return;const s=n==null?void 0:n.token;q1!==s&&(q1=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function d8(e=OB()){const t=yA(e,"auth");if(t.isInitialized())return t.getImmediate();const n=AW(e,{popupRedirectResolver:s8,persistence:[mz,rz,zw]}),r=hA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=u8(i.toString());XW(n,o,()=>o(n.currentUser)),ZW(n,l=>o(l))}}const s=y$("auth");return s&&RW(n,`http://${s}`),n}function f8(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}SW({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=Dr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",f8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o8("Browser");const h8={apiKey:"AIzaSyDDTIMeSQewCWup3sQxq1040Tl_JQ8Ti8c",authDomain:"waiterix-bff96.firebaseapp.com",projectId:"waiterix-bff96",storageBucket:"waiterix-bff96.firebasestorage.app",appId:"1:705025299236:web:26e212edfd6e7b627099b1"},p8=vA(h8),$l=d8(p8);QW($l,zw).catch(e=>{console.error("Error setting persistence:",e)});const JA=new bs;JA.setCustomParameters({prompt:"select_account"});async function m8(){try{console.log("Starting Google sign-in with popup...");const e=await wz($l,JA);return console.log("Sign-in successful:",e.user.uid),e}catch(e){throw console.error("Sign-in error:",e),e}}async function g8(e,t,n){try{console.log("Starting email/password sign-up...");const r=await qW($l,e,t);return n&&r.user&&await GW(r.user,{displayName:n}),console.log("Sign-up successful:",r.user.uid),r}catch(r){throw console.error("Sign-up error:",r),r}}async function y8(e,t){try{console.log("Starting email/password sign-in...");const n=await KW($l,e,t);return console.log("Sign-in successful:",n.user.uid),n}catch(n){throw console.error("Sign-in error:",n),n}}async function yu(){console.log("Signing out from Firebase..."),await ez($l),console.log("Firebase sign-out complete")}function $p(){const[e,t]=p.useState(!1);p.useEffect(()=>{const s=JW($l,async i=>{if(console.log("Auth state changed:",i?"User logged in":"No user"),i)try{const o=await i.getIdToken();console.log("Sending token to backend...");const c=await(await Pe("POST","/api/auth/verify",{idToken:o})).json();console.log("Backend verification successful:",c),c.user&&(rt.setQueryData(["/api/auth/user"],c.user),console.log("User data set in cache:",c.user.id))}catch(o){console.error("Backend verification failed:",o),rt.setQueryData(["/api/auth/user"],null)}else console.log("User signed out, clearing cache"),rt.setQueryData(["/api/auth/user"],null);t(!0)});return()=>s()},[]);const{data:n,isLoading:r}=Je({queryKey:["/api/auth/user"],retry:!1,enabled:e,queryFn:async()=>{try{const i=await fetch("http://localhost:3005/dev/api/auth/user",{credentials:"include"});if(i.status===401)return console.log("User not authenticated (401), returning null"),null;if(!i.ok){const o=await i.text();throw new Error(`${i.status}: ${o}`)}return await i.json()}catch(s){return console.error("Error fetching user:",s),null}}});return{user:n??void 0,isLoading:r||!e,isAuthenticated:!!n}}function v8(){const{user:e,isLoading:t}=$p(),[,n]=ls(),{toast:r}=it(),[s,i]=p.useState(!1),[o,l]=p.useState("signin"),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,m]=p.useState(""),[y,g]=p.useState(!1);p.useEffect(()=>{e&&!t&&(console.log("User authenticated, redirecting to dashboard"),n("/dashboard"))},[e,t,n]);const w=async()=>{try{g(!0),await m8(),i(!1)}catch(v){r({title:"Sign-in failed",description:v.message||"Failed to sign in with Google",variant:"destructive"})}finally{g(!1)}},x=async v=>{if(v.preventDefault(),!c||!d){r({title:"Missing information",description:"Please enter email and password",variant:"destructive"});return}if(o==="signup"&&d.length<6){r({title:"Weak password",description:"Password must be at least 6 characters",variant:"destructive"});return}try{g(!0),o==="signup"?(await g8(c,d,h||void 0),r({title:"Account created",description:"Welcome to Waiterix! Redirecting to dashboard..."})):(await y8(c,d),r({title:"Signed in",description:"Welcome back! Redirecting to dashboard..."})),i(!1),u(""),f(""),m("")}catch(b){let S="Authentication failed";b.code==="auth/email-already-in-use"?S="Email already in use. Try signing in instead.":b.code==="auth/invalid-email"?S="Invalid email address":b.code==="auth/weak-password"?S="Password is too weak":(b.code==="auth/user-not-found"||b.code==="auth/wrong-password"||b.code==="auth/invalid-credential")&&(S="Invalid email or password"),r({title:"Authentication failed",description:S,variant:"destructive"})}finally{g(!1)}};return t?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-auth-home"})}):e?null:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b glass backdrop-blur-sm sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("img",{src:Ba,alt:"Waiterix",className:"h-12 hover-lift smooth-transition"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ev,{}),a.jsx(Y,{variant:"ghost",onClick:()=>{l("signin"),i(!0)},"data-testid":"button-sign-in",children:"Sign In"}),a.jsx(Y,{onClick:()=>{l("signup"),i(!0)},"data-testid":"button-get-started",className:"btn-glow shadow-glow hover-lift",children:"Get Started"})]})]})}),a.jsxs("section",{className:"py-20 md:py-32 particles-bg animated-bg relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-chart-2/5"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center relative z-10",children:[a.jsx("div",{className:"bounce-in",children:a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 text-shadow",children:["AI-powered systems built for ",a.jsx("span",{className:"gradient-text",children:"modern restaurants"})]})}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto smooth-transition hover:text-foreground/80",children:"Reduce operations cost, increase efficiency and improve customer satisfaction"}),a.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[a.jsxs(Y,{size:"lg",onClick:()=>i(!0),"data-testid":"button-hero-start",className:"btn-glow shadow-glow hover-lift text-lg px-8 py-6",children:[a.jsx(zm,{className:"mr-2 h-5 w-5"}),"Try Waiterix"]}),a.jsxs(Y,{size:"lg",variant:"outline",onClick:()=>window.location.href="/menu/demo","data-testid":"button-hero-demo",className:"hover-lift glass-card text-lg px-8 py-6",children:[a.jsx(_a,{className:"mr-2 h-5 w-5"}),"View Demo Menu"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-6 pulse-enhanced",children:" 90-days risk-free trial  Plus, Complimentary QR-Code Display Tags"})]}),a.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-primary/10 rounded-full blur-xl float"}),a.jsx("div",{className:"absolute top-40 right-20 w-32 h-32 bg-chart-2/10 rounded-full blur-xl float-delayed"}),a.jsx("div",{className:"absolute bottom-20 left-1/4 w-16 h-16 bg-chart-3/10 rounded-full blur-xl float"})]}),a.jsxs("section",{className:"py-20 bg-gradient-to-br from-muted/30 via-background to-muted/50 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,hsl(var(--primary)/0.1),transparent_50%)]"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[a.jsx("div",{className:"text-center mb-16",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"Why Waiterix?"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(Hd,{value:40,label:"",color:"hsl(var(--primary))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Reduction in Labor Cost"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"Waiterix automates core waiter tasks, helping restaurants cut nearly half of their front-of-house labor expenses."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-2/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(Hd,{value:100,label:"",color:"hsl(var(--chart-2))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Ensure Accuracy"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"Our end-to-end AI ordering system eliminates order errors and reduces bottlenecks for smoother operations."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-3/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(Hd,{value:25,label:"",color:"hsl(var(--chart-3))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Increases Check Sizes"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"The AI waiter excels at upselling and cross-selling, boosting average check sizes and overall revenue."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-4/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[a.jsx(Hd,{value:5,maxValue:5,label:"",suffix:"",color:"hsl(var(--chart-4))"}),a.jsx("h3",{className:"font-bold text-xl mb-3 mt-4 text-center",children:"Boost Customer Satisfaction"}),a.jsx("p",{className:"text-muted-foreground text-center leading-relaxed",children:"Fast, accurate, and personalized service ensures customers enjoy a smoother and more satisfying dining experience."})]})]})]})]})]}),a.jsx("section",{className:"py-20 bg-background relative",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[a.jsx("div",{className:"text-center mb-16",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"Features"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(_a,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-primary transition-colors",children:"AI Voice Waiter"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Natural voice conversations powered by GPT-5. Customers speak their orders, get instant recommendations, and ask questionsall in their preferred language."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-2/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(MT,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-2 transition-colors",children:"10 Languages"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Serve global customers effortlessly. Full support for English, Spanish, French, German, Italian, Chinese, Japanese, Arabic, Portuguese, and Russian."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-3/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(zm,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-3 transition-colors",children:"Smart Knowledge System"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"AI learns from chef responses. Questions get automatically added to the knowledge base, making the system smarter over time."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-4/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(Z3,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-4 transition-colors",children:"QR Code Menus"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Generate unique QR codes for your restaurant. Customers scan and order instantly from their phones."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(Fo,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-primary transition-colors",children:"Global Payments"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Accept payments via Stripe, Paystack, or Adyen. Support for multiple currencies and payment methods worldwide."})]})]}),a.jsxs(pe,{className:"p-8 shadow-card-hover glass-card group relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-chart-5/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center mb-6 shadow-glow group-hover:scale-110 transition-transform duration-300",children:a.jsx(zy,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("h3",{className:"font-bold text-xl mb-3 group-hover:text-chart-5 transition-colors",children:"Real-Time Management"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Track all orders in real-time. Answer customer questions via voice, manage menus, and monitor sales instantly."})]})]})]})]})}),a.jsxs("section",{className:"py-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-transparent to-chart-2/5"}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 gradient-text",children:"Simple, Transparent Pricing"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Full refund if you're not satisfied within 90 days"})]}),a.jsx("div",{className:"grid grid-cols-1 max-w-lg mx-auto",children:a.jsxs(pe,{className:"p-10 shadow-card-hover glass-card relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-chart-2/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("div",{className:"inline-block p-3 bg-gradient-to-r from-primary to-chart-2 rounded-2xl mb-4 shadow-glow",children:a.jsx(nV,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"text-3xl font-bold mb-4 text-glow",children:"Waiterix Pro"}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-6 justify-center",children:[a.jsx("span",{className:"text-6xl font-bold gradient-text",children:"$50"}),a.jsx("span",{className:"text-muted-foreground text-xl",children:"/month"})]}),a.jsx("div",{className:"inline-block bg-gradient-to-r from-primary/20 to-chart-2/20 text-primary px-4 py-2 rounded-full text-sm font-medium border border-primary/30 shimmer",children:" 90-Day Money-Back Guarantee"})]}),a.jsxs("ul",{className:"space-y-4 mb-10",children:[a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"AI Voice Waiter in 10 languages"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Unlimited menu items"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"QR code generation"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Real-time order management"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Multi-gateway payments (Stripe, Paystack, Adyen)"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"group-hover/item:text-foreground transition-colors",children:"Priority support"})]}),a.jsxs("li",{className:"flex items-start gap-4 group/item",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 group-hover/item:bg-primary/30 transition-colors",children:a.jsx(Hr,{className:"h-4 w-4 text-primary"})}),a.jsx("span",{className:"text-sm group-hover/item:text-foreground transition-colors",children:"+ AI usage fees (OpenAI API costs)"})]})]}),a.jsxs(Y,{className:"w-full btn-glow shadow-glow hover-lift text-lg py-6",size:"lg",onClick:()=>i(!0),"data-testid":"button-pricing-trial",children:[a.jsx(zm,{className:"mr-2 h-5 w-5"}),"Start Your Journey Now"]})]})]})}),a.jsx("p",{className:"text-center text-sm text-muted-foreground mt-10 max-w-2xl mx-auto leading-relaxed",children:" AI usage fees are based on actual OpenAI API consumption (text-to-speech, speech-to-text, and chat completions). Typical restaurant usage averages $15-20/month in AI costs."})]})]}),a.jsxs("section",{className:"py-24 bg-gradient-to-br from-primary/10 via-background to-chart-2/10 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 particles-bg"}),a.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-primary/20 rounded-full blur-3xl float"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-32 h-32 bg-chart-2/20 rounded-full blur-3xl float-delayed"}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center relative z-10",children:[a.jsx("div",{className:"bounce-in",children:a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-8 gradient-text text-glow",children:"Ready to Transform Your Restaurant?"})}),a.jsxs("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 leading-relaxed",children:["Join restaurants worldwide using AI-powered voice ordering to serve customers better.",a.jsx("br",{className:"hidden md:block"}),"Try risk-free with our 90-day money-back guarantee."]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[a.jsxs(Y,{size:"lg",onClick:()=>i(!0),"data-testid":"button-cta-start",className:"btn-glow shadow-glow hover-lift text-xl px-12 py-8 bg-gradient-to-r from-primary to-chart-2",children:[a.jsx(_a,{className:"mr-3 h-6 w-6"}),"Start Your AI Journey"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(lw,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:"90-day guarantee  No setup fees  Cancel anytime"})]})]})]})]}),a.jsx("footer",{className:"border-t py-12 bg-muted/30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:a.jsx("p",{className:"text-xs text-muted-foreground text-center leading-relaxed",children:"All information, services, products, and content on this website are provided for general informational purposes only and should not be considered professional advice. No rights or guarantees can be derived from the content on this site, and use of the website is governed by our Terms of Use. Reported results are based on either extrapolation or feedback from individual clients and may vary from one restaurant to another."})}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex justify-center gap-6 mb-4 text-sm",children:[a.jsx(ou,{href:"/terms",className:"text-muted-foreground hover:text-foreground","data-testid":"link-terms",children:"Terms & Conditions"}),a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx(ou,{href:"/privacy",className:"text-muted-foreground hover:text-foreground","data-testid":"link-privacy",children:"Privacy Policy"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 Waiterix. All rights reserved."})]})]})}),a.jsx(vn,{open:s,onOpenChange:i,children:a.jsxs(ln,{className:"sm:max-w-md","data-testid":"dialog-auth",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:o==="signin"?"Sign In":"Create Account"}),a.jsx(hr,{children:o==="signin"?"Welcome back! Sign in to access your restaurant dashboard.":"Join Waiterix to start serving customers with AI-powered voice ordering."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Y,{variant:"outline",className:"w-full",onClick:w,disabled:y,"data-testid":"button-google-auth",children:[y?a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}):a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),a.jsxs("div",{className:"relative",children:[a.jsx(zt,{}),a.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs text-muted-foreground",children:"or"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o==="signup"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"displayName",children:"Restaurant Name (optional)"}),a.jsx(ze,{id:"displayName",placeholder:"Your Restaurant",value:h,onChange:v=>m(v.target.value),disabled:y,"data-testid":"input-display-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"email",children:"Email"}),a.jsx(ze,{id:"email",type:"email",placeholder:"you@example.com",value:c,onChange:v=>u(v.target.value),disabled:y,required:!0,"data-testid":"input-email"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"password",children:"Password"}),a.jsx(ze,{id:"password",type:"password",placeholder:"",value:d,onChange:v=>f(v.target.value),disabled:y,required:!0,"data-testid":"input-password"}),o==="signup"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"At least 6 characters"})]}),a.jsx(Y,{type:"submit",className:"w-full",disabled:y,"data-testid":"button-email-auth",children:y?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}),o==="signin"?"Signing in...":"Creating account..."]}):o==="signin"?"Sign In":"Create Account"})]}),a.jsx("div",{className:"text-center text-sm",children:o==="signin"?a.jsxs(a.Fragment,{children:["Don't have an account?"," ",a.jsx("button",{type:"button",onClick:()=>l("signup"),className:"text-primary hover:underline",disabled:y,"data-testid":"button-switch-signup",children:"Sign up"})]}):a.jsxs(a.Fragment,{children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:()=>l("signin"),className:"text-primary hover:underline",disabled:y,"data-testid":"button-switch-signin",children:"Sign in"})]})})]})]})})]})}const Kw=p.createContext({});function Yw(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bp=p.createContext(null),Gw=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class x8 extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function w8({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(Gw);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(x8,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const b8=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Yw(S8),c=p.useId(),u=p.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),d=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[n,u]);return p.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(w8,{isPresent:n,children:e})),a.jsx(Bp.Provider,{value:d,children:e})};function S8(){return new Map}function eP(e=!0){const t=p.useContext(Bp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{e&&s(i)},[e]);const o=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Kd=e=>e.key||"";function K1(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Qw=typeof window<"u",tP=Qw?p.useLayoutEffect:p.useEffect,C8=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=eP(o),u=p.useMemo(()=>K1(e),[e]),d=o&&!l?[]:u.map(Kd),f=p.useRef(!0),h=p.useRef(u),m=Yw(()=>new Map),[y,g]=p.useState(u),[w,x]=p.useState(u);tP(()=>{f.current=!1,h.current=u;for(let S=0;S<w.length;S++){const C=Kd(w[S]);d.includes(C)?m.delete(C):m.get(C)!==!0&&m.set(C,!1)}},[w,d.length,d.join("-")]);const v=[];if(u!==y){let S=[...u];for(let C=0;C<w.length;C++){const k=w[C],E=Kd(k);d.includes(E)||(S.splice(C,0,k),v.push(k))}i==="wait"&&v.length&&(S=v),x(K1(S)),g(u);return}const{forceRender:b}=p.useContext(Kw);return a.jsx(a.Fragment,{children:w.map(S=>{const C=Kd(S),k=o&&!l?!1:u===w||d.includes(C),E=()=>{if(m.has(C))m.set(C,!0);else return;let N=!0;m.forEach(j=>{j||(N=!1)}),N&&(b==null||b(),x(h.current),o&&(c==null||c()),r&&r())};return a.jsx(b8,{isPresent:k,initial:!f.current||n?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:E,children:S},C)})})},Hn=e=>e;let nP=Hn;function Zw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Sl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},_s=e=>e*1e3,As=e=>e/1e3,N8={useManualTiming:!1};function j8(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const m=f&&r?t:n;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Yd=["read","resolveKeyframes","update","preRender","render","postRender"],E8=40;function rP(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Yd.reduce((x,v)=>(x[v]=j8(i),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,m=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,E8),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},y=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Yd.reduce((x,v)=>{const b=o[v];return x[v]=(S,C=!1,k=!1)=>(n||y(),b.schedule(S,C,k)),x},{}),cancel:x=>{for(let v=0;v<Yd.length;v++)o[Yd[v]].cancel(x)},state:s,steps:o}}const{schedule:gt,cancel:Wi,state:Qt,steps:lg}=rP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hn,!0),sP=p.createContext({strict:!1}),Y1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cl={};for(const e in Y1)Cl[e]={isEnabled:t=>Y1[e].some(n=>!!t[n])};function k8(e){for(const t in e)Cl[t]={...Cl[t],...e[t]}}const T8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||T8.has(e)}let iP=e=>!bh(e);function _8(e){e&&(iP=t=>t.startsWith("on")?!bh(t):e(t))}try{_8(require("@emotion/is-prop-valid").default)}catch{}function A8(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(iP(s)||n===!0&&bh(s)||!t&&!bh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function P8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Wp=p.createContext({});function vu(e){return typeof e=="string"||Array.isArray(e)}function zp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Xw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jw=["initial",...Xw];function Hp(e){return zp(e.animate)||Jw.some(t=>vu(e[t]))}function aP(e){return!!(Hp(e)||e.variants)}function R8(e,t){if(Hp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||vu(n)?n:void 0,animate:vu(r)?r:void 0}}return e.inherit!==!1?t:{}}function I8(e){const{initial:t,animate:n}=R8(e,p.useContext(Wp));return p.useMemo(()=>({initial:t,animate:n}),[G1(t),G1(n)])}function G1(e){return Array.isArray(e)?e.join(" "):e}const M8=Symbol.for("motionComponentSymbol");function jo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O8(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):jo(n)&&(n.current=r))},[t])}const eb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D8="framerAppearId",oP="data-"+eb(D8),{schedule:tb}=rP(queueMicrotask,!1),lP=p.createContext({});function L8(e,t,n,r,s){var i,o;const{visualElement:l}=p.useContext(Wp),c=p.useContext(sP),u=p.useContext(Bp),d=p.useContext(Gw).reducedMotion,f=p.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,m=p.useContext(lP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&F8(f.current,n,s,m);const y=p.useRef(!1);p.useInsertionEffect(()=>{h&&y.current&&h.update(n,u)});const g=n[oP],w=p.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return tP(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),tb.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,g)}),w.current=!1))}),h}function F8(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:cP(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&jo(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function cP(e){if(e)return e.options.allowProjection!==!1?e.projection:cP(e.parent)}function V8({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&k8(e);function l(u,d){let f;const h={...p.useContext(Gw),...u,layoutId:U8(u)},{isStatic:m}=h,y=I8(u),g=r(u,m);if(!m&&Qw){$8();const w=B8(h);f=w.MeasureLayout,y.visualElement=L8(s,g,h,t,w.ProjectionNode)}return a.jsxs(Wp.Provider,{value:y,children:[f&&y.visualElement?a.jsx(f,{visualElement:y.visualElement,...h}):null,n(s,u,O8(g,y.visualElement,d),g,m,y.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[M8]=s,c}function U8({layoutId:e}){const t=p.useContext(Kw).id;return t&&e!==void 0?t+"-"+e:e}function $8(e,t){p.useContext(sP).strict}function B8(e){const{drag:t,layout:n}=Cl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const W8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nb(e){return typeof e!="string"||e.includes("-")?!1:!!(W8.indexOf(e)>-1||/[A-Z]/u.test(e))}function Q1(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function rb(e,t,n,r){if(typeof t=="function"){const[s,i]=Q1(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Q1(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const dv=e=>Array.isArray(e),z8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),H8=e=>dv(e)?e[e.length-1]||0:e,un=e=>!!(e&&e.getVelocity);function jf(e){const t=un(e)?e.get():e;return z8(t)?t.toValue():t}function q8({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:K8(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const uP=e=>(t,n)=>{const r=p.useContext(Wp),s=p.useContext(Bp),i=()=>q8(e,t,r,s);return n?i():Yw(i)};function K8(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=jf(i[h]);let{initial:o,animate:l}=e;const c=Hp(e),u=aP(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!zp(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const y=rb(e,h[m]);if(y){const{transitionEnd:g,transition:w,...x}=y;for(const v in x){let b=x[v];if(Array.isArray(b)){const S=d?b.length-1:0;b=b[S]}b!==null&&(s[v]=b)}for(const v in g)s[v]=g[v]}}}return s}const Bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eo=new Set(Bl),dP=e=>t=>typeof t=="string"&&t.startsWith(e),fP=dP("--"),Y8=dP("var(--"),sb=e=>Y8(e)?G8.test(e.split("/*")[0].trim()):!1,G8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$s=(e,t,n)=>n>t?t:n<e?e:n,Wl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xu={...Wl,transform:e=>$s(0,1,e)},Gd={...Wl,default:1},cd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ni=cd("deg"),ss=cd("%"),_e=cd("px"),Q8=cd("vh"),Z8=cd("vw"),Z1={...ss,parse:e=>ss.parse(e)/100,transform:e=>ss.transform(e*100)},X8={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},J8={rotate:ni,rotateX:ni,rotateY:ni,rotateZ:ni,scale:Gd,scaleX:Gd,scaleY:Gd,scaleZ:Gd,skew:ni,skewX:ni,skewY:ni,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:xu,originX:Z1,originY:Z1,originZ:_e},X1={...Wl,transform:Math.round},ib={...X8,...J8,zIndex:X1,size:_e,fillOpacity:xu,strokeOpacity:xu,numOctaves:X1},e7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t7=Bl.length;function n7(e,t,n){let r="",s=!0;for(let i=0;i<t7;i++){const o=Bl[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=hP(l,ib[o]);if(!c){s=!1;const d=e7[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ab(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(eo.has(c)){o=!0;continue}else if(fP(c)){s[c]=u;continue}else{const d=hP(u,ib[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=n7(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const r7={offset:"stroke-dashoffset",array:"stroke-dasharray"},s7={offset:"strokeDashoffset",array:"strokeDasharray"};function i7(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?r7:s7;e[i.offset]=_e.transform(-r);const o=_e.transform(t),l=_e.transform(n);e[i.array]=`${o} ${l}`}function J1(e,t,n){return typeof e=="string"?e:_e.transform(t+n*e)}function a7(e,t,n){const r=J1(t,e.x,e.width),s=J1(n,e.y,e.height);return`${r} ${s}`}function ob(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(ab(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:y}=e;h.transform&&(y&&(m.transform=h.transform),delete h.transform),y&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=a7(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&i7(h,o,l,c,!1)}const lb=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),pP=()=>({...lb(),attrs:{}}),cb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mP(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const gP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yP(e,t,n,r){mP(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(gP.has(s)?s:eb(s),t.attrs[s])}const Sh={};function o7(e){Object.assign(Sh,e)}function vP(e,{layout:t,layoutId:n}){return eo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sh[e]||e==="opacity")}function ub(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(un(s[o])||t.style&&un(t.style[o])||vP(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function xP(e,t,n){const r=ub(e,t,n);for(const s in e)if(un(e[s])||un(t[s])){const i=Bl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function l7(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const eC=["x","y","width","height","cx","cy","r"],c7={useVisualState:uP({scrapeMotionValuesFromProps:xP,createRenderState:pP,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(eo.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<eC.length;l++){const c=eC[l];e[c]!==t[c]&&(o=!0)}o&&gt.read(()=>{l7(n,r),gt.render(()=>{ob(r,s,cb(n.tagName),e.transformTemplate),yP(n,r)})})}})},u7={useVisualState:uP({scrapeMotionValuesFromProps:ub,createRenderState:lb})};function wP(e,t,n){for(const r in t)!un(t[r])&&!vP(r,n)&&(e[r]=t[r])}function d7({transformTemplate:e},t){return p.useMemo(()=>{const n=lb();return ab(n,t,e),Object.assign({},n.vars,n.style)},[t])}function f7(e,t){const n=e.style||{},r={};return wP(r,n,e),Object.assign(r,d7(e,t)),r}function h7(e,t){const n={},r=f7(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function p7(e,t,n,r){const s=p.useMemo(()=>{const i=pP();return ob(i,t,cb(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};wP(i,e.style,e),s.style={...i,...s.style}}return s}function m7(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(nb(n)?p7:h7)(r,i,o,n),u=A8(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...c,ref:s}:{},{children:f}=r,h=p.useMemo(()=>un(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function g7(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...nb(r)?c7:u7,preloadedFeatures:e,useRender:m7(s),createVisualElement:t,Component:r};return V8(o)}}function bP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qp(e,t,n){const r=e.getProps();return rb(r,t,n!==void 0?n:r.custom,e)}const y7=Zw(()=>window.ScrollTimeline!==void 0);class v7{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(y7()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class x7 extends v7{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function db(e,t){return e?e[t]||e.default||e:void 0}const fv=2e4;function SP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fv;)t+=n,r=e.next(t);return t>=fv?1/0:t}function fb(e){return typeof e=="function"}function tC(e,t){e.timeline=t,e.onfinish=null}const hb=e=>Array.isArray(e)&&typeof e[0]=="number",w7={linearEasing:void 0};function b7(e,t){const n=Zw(e);return()=>{var r;return(r=w7[t])!==null&&r!==void 0?r:n()}}const Ch=b7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),CP=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Sl(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function NP(e){return!!(typeof e=="function"&&Ch()||!e||typeof e=="string"&&(e in hv||Ch())||hb(e)||Array.isArray(e)&&e.every(NP))}const vc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,hv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function jP(e,t){if(e)return typeof e=="function"&&Ch()?CP(e,t):hb(e)?vc(e):Array.isArray(e)?e.map(n=>jP(n,t)||hv.easeOut):hv[e]}const Sr={x:!1,y:!1};function EP(){return Sr.x||Sr.y}function S7(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function kP(e,t){const n=S7(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function nC(e){return t=>{t.pointerType==="touch"||EP()||e(t)}}function C7(e,t,n={}){const[r,s,i]=kP(e,n),o=nC(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=nC(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const TP=(e,t)=>t?e===t?!0:TP(e,t.parentElement):!1,pb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,N7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j7(e){return N7.has(e.tagName)||e.tabIndex!==-1}const xc=new WeakSet;function rC(e){return t=>{t.key==="Enter"&&e(t)}}function cg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const E7=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=rC(()=>{if(xc.has(n))return;cg(n,"down");const s=rC(()=>{cg(n,"up")}),i=()=>cg(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sC(e){return pb(e)&&!EP()}function k7(e,t,n={}){const[r,s,i]=kP(e,n),o=l=>{const c=l.currentTarget;if(!sC(l)||xc.has(c))return;xc.add(c);const u=t(l),d=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!sC(m)||!xc.has(c))&&(xc.delete(c),typeof u=="function"&&u(m,{success:y}))},f=m=>{d(m,n.useGlobalTarget||TP(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{!j7(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>E7(u,s),s)}),i}function T7(e){return e==="x"||e==="y"?Sr[e]?null:(Sr[e]=!0,()=>{Sr[e]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}const _P=new Set(["width","height","top","left","right","bottom",...Bl]);let Ef;function _7(){Ef=void 0}const is={now:()=>(Ef===void 0&&is.set(Qt.isProcessing||N8.useManualTiming?Qt.timestamp:performance.now()),Ef),set:e=>{Ef=e,queueMicrotask(_7)}};function mb(e,t){e.indexOf(t)===-1&&e.push(t)}function gb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yb{constructor(){this.subscriptions=[]}add(t){return mb(this.subscriptions,t),()=>gb(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function AP(e,t){return t?e*(1e3/t):0}const iC=30,A7=e=>!isNaN(parseFloat(e));class P7{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=is.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=is.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=A7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yb);const r=this.events[t].add(n);return t==="change"?()=>{r(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=is.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iC);return AP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wu(e,t){return new P7(e,t)}function R7(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wu(n))}function I7(e,t){const n=qp(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=H8(i[o]);R7(e,o,l)}}function M7(e){return!!(un(e)&&e.add)}function pv(e,t){const n=e.getValue("willChange");if(M7(n))return n.add(t)}function PP(e){return e.props[oP]}const RP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,O7=1e-7,D7=12;function L7(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=RP(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>O7&&++l<D7);return o}function ud(e,t,n,r){if(e===t&&n===r)return Hn;const s=i=>L7(i,0,1,e,n);return i=>i===0||i===1?i:RP(s(i),t,r)}const IP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,MP=e=>t=>1-e(1-t),OP=ud(.33,1.53,.69,.99),vb=MP(OP),DP=IP(vb),LP=e=>(e*=2)<1?.5*vb(e):.5*(2-Math.pow(2,-10*(e-1))),xb=e=>1-Math.sin(Math.acos(e)),FP=MP(xb),VP=IP(xb),UP=e=>/^0[^.\s]+$/u.test(e);function F7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||UP(e):!0}const Dc=e=>Math.round(e*1e5)/1e5,wb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V7(e){return e==null}const U7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bb=(e,t)=>n=>!!(typeof n=="string"&&U7.test(n)&&n.startsWith(e)||t&&!V7(n)&&Object.prototype.hasOwnProperty.call(n,t)),$P=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(wb);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},$7=e=>$s(0,255,e),ug={...Wl,transform:e=>Math.round($7(e))},ga={test:bb("rgb","red"),parse:$P("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ug.transform(e)+", "+ug.transform(t)+", "+ug.transform(n)+", "+Dc(xu.transform(r))+")"};function B7(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const mv={test:bb("#"),parse:B7,transform:ga.transform},Eo={test:bb("hsl","hue"),parse:$P("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ss.transform(Dc(t))+", "+ss.transform(Dc(n))+", "+Dc(xu.transform(r))+")"},sn={test:e=>ga.test(e)||mv.test(e)||Eo.test(e),parse:e=>ga.test(e)?ga.parse(e):Eo.test(e)?Eo.parse(e):mv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ga.transform(e):Eo.transform(e)},W7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z7(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(wb))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(W7))===null||n===void 0?void 0:n.length)||0)>0}const BP="number",WP="color",H7="var",q7="var(",aC="${}",K7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(K7,c=>(sn.test(c)?(r.color.push(i),s.push(WP),n.push(sn.parse(c))):c.startsWith(q7)?(r.var.push(i),s.push(H7),n.push(c)):(r.number.push(i),s.push(BP),n.push(parseFloat(c))),++i,aC)).split(aC);return{values:n,split:l,indexes:r,types:s}}function zP(e){return bu(e).values}function HP(e){const{split:t,types:n}=bu(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===BP?i+=Dc(s[o]):l===WP?i+=sn.transform(s[o]):i+=s[o]}return i}}const Y7=e=>typeof e=="number"?0:e;function G7(e){const t=zP(e);return HP(e)(t.map(Y7))}const zi={test:z7,parse:zP,createTransformer:HP,getAnimatableNone:G7},Q7=new Set(["brightness","contrast","saturate","opacity"]);function Z7(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(wb)||[];if(!r)return e;const s=n.replace(r,"");let i=Q7.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const X7=/\b([a-z-]*)\(.*?\)/gu,gv={...zi,getAnimatableNone:e=>{const t=e.match(X7);return t?t.map(Z7).join(" "):e}},J7={...ib,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:gv,WebkitFilter:gv},Sb=e=>J7[e];function qP(e,t){let n=Sb(e);return n!==gv&&(n=zi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const eH=new Set(["auto","none","0"]);function tH(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!eH.has(i)&&bu(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=qP(n,s)}const oC=e=>e===Wl||e===_e,lC=(e,t)=>parseFloat(e.split(", ")[t]),cC=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return lC(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?lC(i[1],e):0}},nH=new Set(["x","y","z"]),rH=Bl.filter(e=>!nH.has(e));function sH(e){const t=[];return rH.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Nl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cC(4,13),y:cC(5,14)};Nl.translateX=Nl.x;Nl.translateY=Nl.y;const Aa=new Set;let yv=!1,vv=!1;function KP(){if(vv){const e=Array.from(Aa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=sH(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vv=!1,yv=!1,Aa.forEach(e=>e.complete()),Aa.clear()}function YP(){Aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vv=!0)})}function iH(){YP(),KP()}class Cb{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Aa.add(this),yv||(yv=!0,gt.read(YP),gt.resolveKeyframes(KP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Aa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Aa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const GP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),aH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oH(e){const t=aH.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function QP(e,t,n=1){const[r,s]=oH(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return GP(o)?parseFloat(o):o}return sb(s)?QP(s,t,n+1):s}const ZP=e=>t=>t.test(e),lH={test:e=>e==="auto",parse:e=>e},XP=[Wl,_e,ss,ni,Z8,Q8,lH],uC=e=>XP.find(ZP(e));class JP extends Cb{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),sb(u))){const d=QP(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_P.has(r)||t.length!==2)return;const[s,i]=t,o=uC(s),l=uC(i);if(o!==l)if(oC(o)&&oC(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)F7(t[s])&&r.push(s);r.length&&tH(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Nl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const dC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zi.test(e)||e==="0")&&!e.startsWith("url("));function cH(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function uH(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=dC(s,t),l=dC(i,t);return!o||!l?!1:cH(e)||(n==="spring"||fb(n))&&r}const dH=e=>e!==null;function Kp(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(dH),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const fH=40;class eR{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=is.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fH?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&iH(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=is.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!uH(t,r,s,i))if(o)this.options.duration=0;else{c&&c(Kp(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const bt=(e,t,n)=>e+(t-e)*n;function dg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hH({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=dg(c,l,e+1/3),i=dg(c,l,e),o=dg(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Nh(e,t){return n=>n>0?t:e}const fg=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},pH=[mv,ga,Eo],mH=e=>pH.find(t=>t.test(e));function fC(e){const t=mH(e);if(!t)return!1;let n=t.parse(e);return t===Eo&&(n=hH(n)),n}const hC=(e,t)=>{const n=fC(e),r=fC(t);if(!n||!r)return Nh(e,t);const s={...n};return i=>(s.red=fg(n.red,r.red,i),s.green=fg(n.green,r.green,i),s.blue=fg(n.blue,r.blue,i),s.alpha=bt(n.alpha,r.alpha,i),ga.transform(s))},gH=(e,t)=>n=>t(e(n)),dd=(...e)=>e.reduce(gH),xv=new Set(["none","hidden"]);function yH(e,t){return xv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vH(e,t){return n=>bt(e,t,n)}function Nb(e){return typeof e=="number"?vH:typeof e=="string"?sb(e)?Nh:sn.test(e)?hC:bH:Array.isArray(e)?tR:typeof e=="object"?sn.test(e)?hC:xH:Nh}function tR(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Nb(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function xH(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Nb(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function wH(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const bH=(e,t)=>{const n=zi.createTransformer(t),r=bu(e),s=bu(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?xv.has(e)&&!s.values.length||xv.has(t)&&!r.values.length?yH(e,t):dd(tR(wH(r,s),s.values),n):Nh(e,t)};function nR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?bt(e,t,n):Nb(e)(e,t)}const SH=5;function rR(e,t,n){const r=Math.max(t-SH,0);return AP(n-e(r),t-r)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hg=.001;function CH({duration:e=kt.duration,bounce:t=kt.bounce,velocity:n=kt.velocity,mass:r=kt.mass}){let s,i,o=1-t;o=$s(kt.minDamping,kt.maxDamping,o),e=$s(kt.minDuration,kt.maxDuration,As(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,m=wv(u,o),y=Math.exp(-f);return hg-h/m*y},i=u=>{const f=u*o*e,h=f*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-f),g=wv(Math.pow(u,2),o);return(-s(u)+hg>0?-1:1)*((h-m)*y)/g}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-hg+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=jH(s,i,l);if(e=_s(e),isNaN(c))return{stiffness:kt.stiffness,damping:kt.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const NH=12;function jH(e,t,n){let r=n;for(let s=1;s<NH;s++)r=r-e(r)/t(r);return r}function wv(e,t){return e*Math.sqrt(1-t*t)}const EH=["duration","bounce"],kH=["stiffness","damping","mass"];function pC(e,t){return t.some(n=>e[n]!==void 0)}function TH(e){let t={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...e};if(!pC(e,kH)&&pC(e,EH))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$s(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:kt.mass,stiffness:s,damping:i}}else{const n=CH(e);t={...t,...n,mass:kt.mass},t.isResolvedFromDuration=!0}return t}function sR(e=kt.visualDuration,t=kt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=TH({...n,velocity:-As(n.velocity||0)}),y=h||0,g=u/(2*Math.sqrt(c*d)),w=o-i,x=As(Math.sqrt(c/d)),v=Math.abs(w)<5;r||(r=v?kt.restSpeed.granular:kt.restSpeed.default),s||(s=v?kt.restDelta.granular:kt.restDelta.default);let b;if(g<1){const C=wv(x,g);b=k=>{const E=Math.exp(-g*x*k);return o-E*((y+g*x*w)/C*Math.sin(C*k)+w*Math.cos(C*k))}}else if(g===1)b=C=>o-Math.exp(-x*C)*(w+(y+x*w)*C);else{const C=x*Math.sqrt(g*g-1);b=k=>{const E=Math.exp(-g*x*k),N=Math.min(C*k,300);return o-E*((y+g*x*w)*Math.sinh(N)+C*w*Math.cosh(N))/C}}const S={calculatedDuration:m&&f||null,next:C=>{const k=b(C);if(m)l.done=C>=f;else{let E=0;g<1&&(E=C===0?_s(y):rR(b,C,k));const N=Math.abs(E)<=r,j=Math.abs(o-k)<=s;l.done=N&&j}return l.value=l.done?o:k,l},toString:()=>{const C=Math.min(SP(S),fv),k=CP(E=>S.next(C*E).value,C,30);return C+"ms "+k}};return S}function mC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,y=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let g=n*t;const w=f+g,x=o===void 0?w:o(w);x!==w&&(g=x-f);const v=N=>-g*Math.exp(-N/r),b=N=>x+v(N),S=N=>{const j=v(N),T=b(N);h.done=Math.abs(j)<=u,h.value=h.done?x:T};let C,k;const E=N=>{m(h.value)&&(C=N,k=sR({keyframes:[h.value,y(h.value)],velocity:rR(b,N,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:N=>{let j=!1;return!k&&C===void 0&&(j=!0,S(N),E(N)),C!==void 0&&N>=C?k.next(N-C):(!j&&S(N),h)}}}const _H=ud(.42,0,1,1),AH=ud(0,0,.58,1),iR=ud(.42,0,.58,1),PH=e=>Array.isArray(e)&&typeof e[0]!="number",RH={linear:Hn,easeIn:_H,easeInOut:iR,easeOut:AH,circIn:xb,circInOut:VP,circOut:FP,backIn:vb,backInOut:DP,backOut:OP,anticipate:LP},gC=e=>{if(hb(e)){nP(e.length===4);const[t,n,r,s]=e;return ud(t,n,r,s)}else if(typeof e=="string")return RH[e];return e};function IH(e,t,n){const r=[],s=n||nR,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Hn:t;l=dd(c,l)}r.push(l)}return r}function MH(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(nP(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=IH(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Sl(e[f],e[f+1],d);return l[f](h)};return n?d=>u($s(e[0],e[i-1],d)):u}function OH(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Sl(0,t,r);e.push(bt(n,1,s))}}function DH(e){const t=[0];return OH(t,e.length-1),t}function LH(e,t){return e.map(n=>n*t)}function FH(e,t){return e.map(()=>t||iR).splice(0,e.length-1)}function jh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=PH(r)?r.map(gC):gC(r),i={done:!1,value:t[0]},o=LH(n&&n.length===t.length?n:DH(t),e),l=MH(o,t,{ease:Array.isArray(s)?s:FH(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const VH=e=>{const t=({timestamp:n})=>e(n);return{start:()=>gt.update(t,!0),stop:()=>Wi(t),now:()=>Qt.isProcessing?Qt.timestamp:is.now()}},UH={decay:mC,inertia:mC,tween:jh,keyframes:jh,spring:sR},$H=e=>e/100;class jb extends eR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Cb,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=fb(n)?n:UH[n]||jh;let c,u;l!==jh&&typeof t[0]!="number"&&(c=dd($H,nR(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=SP(d));const{calculatedDuration:f}=d,h=f+s,m=h*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:m,repeatType:y,repeatDelay:g,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,S=i;if(m){const N=Math.min(this.currentTime,d)/f;let j=Math.floor(N),T=N%1;!T&&N>=1&&(T=1),T===1&&j--,j=Math.min(j,m+1),!!(j%2)&&(y==="reverse"?(T=1-T,g&&(T-=g/f)):y==="mirror"&&(S=o)),b=$s(0,1,T)*f}const C=v?{done:!1,value:c[0]}:S.next(b);l&&(C.value=l(C.value));let{done:k}=C;!v&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&s!==void 0&&(C.value=Kp(c,this.options,s)),w&&w(C.value),E&&this.finish(),C}get duration(){const{resolved:t}=this;return t?As(t.calculatedDuration):0}get time(){return As(this.currentTime)}set time(t){t=_s(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=As(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=VH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const BH=new Set(["opacity","clipPath","filter","transform"]);function WH(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=jP(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const zH=Zw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Eh=10,HH=2e4;function qH(e){return fb(e.type)||e.type==="spring"||!NP(e.ease)}function KH(e,t){const n=new jb({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<HH;)r=n.sample(i),s.push(r.value),i+=Eh;return{times:void 0,keyframes:s,duration:i-Eh,ease:"linear"}}const aR={anticipate:LP,backInOut:DP,circInOut:VP};function YH(e){return e in aR}class yC extends eR{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new JP(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Ch()&&YH(i)&&(i=aR[i]),qH(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:y,...g}=this.options,w=KH(t,g);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,s=w.times,i=w.ease,o="keyframes"}const d=WH(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(tC(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Kp(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return As(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return As(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=_s(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Hn;const{animation:r}=n;tC(r,t)}return Hn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...m}=this.options,y=new jb({...m,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),g=_s(this.time);u.setWithVelocity(y.sample(g-Eh).value,y.sample(g).value,Eh)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return zH()&&r&&BH.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const GH={type:"spring",stiffness:500,damping:25,restSpeed:10},QH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZH={type:"keyframes",duration:.8},XH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JH=(e,{keyframes:t})=>t.length>2?ZH:eo.has(e)?e.startsWith("scale")?QH(t[1]):GH:XH;function e9({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Eb=(e,t,n,r={},s,i)=>o=>{const l=db(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-_s(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};e9(l)||(d={...d,...JH(e,d)}),d.duration&&(d.duration=_s(d.duration)),d.repeatDelay&&(d.repeatDelay=_s(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=Kp(d.keyframes,l);if(h!==void 0)return gt.update(()=>{d.onUpdate(h),d.onComplete()}),new x7([])}return!i&&yC.supports(d)?new yC(d):new jb(d)};function t9({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function oR(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in c){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),m=c[f];if(m===void 0||d&&t9(d,f))continue;const y={delay:n,...db(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const x=PP(e);if(x){const v=window.MotionHandoffAnimation(x,f,gt);v!==null&&(y.startTime=v,g=!0)}}pv(e,f),h.start(Eb(f,h,m,e.shouldReduceMotion&&_P.has(f)?{type:!1}:y,e,g));const w=h.animation;w&&u.push(w)}return l&&Promise.all(u).then(()=>{gt.update(()=>{l&&I7(e,l)})}),u}function bv(e,t,n={}){var r;const s=qp(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(oR(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return n9(e,t,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function n9(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(r9).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(bv(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function r9(e,t){return e.sortNodePosition(t)}function s9(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>bv(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=bv(e,t,n);else{const s=typeof t=="function"?qp(e,t,n.custom):t;r=Promise.all(oR(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const i9=Jw.length;function lR(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?lR(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<i9;n++){const r=Jw[n],s=e.props[r];(vu(s)||s===!1)&&(t[r]=s)}return t}const a9=[...Xw].reverse(),o9=Xw.length;function l9(e){return t=>Promise.all(t.map(({animation:n,options:r})=>s9(e,n,r)))}function c9(e){let t=l9(e),n=vC(),r=!0;const s=c=>(u,d)=>{var f;const h=qp(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:y,...g}=h;u={...u,...g,...y}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=lR(e.parent)||{},f=[],h=new Set;let m={},y=1/0;for(let w=0;w<o9;w++){const x=a9[w],v=n[x],b=u[x]!==void 0?u[x]:d[x],S=vu(b),C=x===c?v.isActive:null;C===!1&&(y=w);let k=b===d[x]&&b!==u[x]&&S;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...m},!v.isActive&&C===null||!b&&!v.prevProp||zp(b)||typeof b=="boolean")continue;const E=u9(v.prevProp,b);let N=E||x===c&&v.isActive&&!k&&S||w>y&&S,j=!1;const T=Array.isArray(b)?b:[b];let O=T.reduce(s(x),{});C===!1&&(O={});const{prevResolvedValues:I={}}=v,B={...I,...O},D=$=>{N=!0,h.has($)&&(j=!0,h.delete($)),v.needsAnimating[$]=!0;const _=e.getValue($);_&&(_.liveStyle=!1)};for(const $ in B){const _=O[$],R=I[$];if(m.hasOwnProperty($))continue;let H=!1;dv(_)&&dv(R)?H=!bP(_,R):H=_!==R,H?_!=null?D($):h.add($):_!==void 0&&h.has($)?D($):v.protectedKeys[$]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(N=!1),N&&(!(k&&E)||j)&&f.push(...T.map($=>({animation:$,options:{type:x}})))}if(h.size){const w={};h.forEach(x=>{const v=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),w[x]=v??null}),f.push({animation:w})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vC(),r=!0}}}function u9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bP(t,e):!1}function ra(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vC(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}class d9 extends ea{constructor(t){super(t),t.animationState||(t.animationState=c9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let f9=0;class h9 extends ea{constructor(){super(...arguments),this.id=f9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const p9={animation:{Feature:d9},exit:{Feature:h9}};function Su(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function fd(e){return{point:{x:e.pageX,y:e.pageY}}}const m9=e=>t=>pb(t)&&e(t,fd(t));function Lc(e,t,n,r){return Su(e,t,m9(n),r)}const xC=(e,t)=>Math.abs(e-t);function g9(e,t){const n=xC(e.x,t.x),r=xC(e.y,t.y);return Math.sqrt(n**2+r**2)}class cR{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=mg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=g9(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:g}=Qt;this.history.push({...y,timestamp:g});const{onStart:w,onMove:x}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=pg(h,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=mg(f.type==="pointercancel"?this.lastMoveEventInfo:pg(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),y&&y(f,w)},!pb(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=fd(t),l=pg(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Qt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,mg(l,this.history)),this.removeListeners=dd(Lc(this.contextWindow,"pointermove",this.handlePointerMove),Lc(this.contextWindow,"pointerup",this.handlePointerUp),Lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wi(this.updatePoint)}}function pg(e,t){return t?{point:t(e.point)}:e}function wC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mg({point:e},t){return{point:e,delta:wC(e,uR(t)),offset:wC(e,y9(t)),velocity:v9(t,.1)}}function y9(e){return e[0]}function uR(e){return e[e.length-1]}function v9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=uR(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>_s(t)));)n--;if(!r)return{x:0,y:0};const i=As(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const dR=1e-4,x9=1-dR,w9=1+dR,fR=.01,b9=0-fR,S9=0+fR;function Kn(e){return e.max-e.min}function C9(e,t,n){return Math.abs(e-t)<=n}function bC(e,t,n,r=.5){e.origin=r,e.originPoint=bt(t.min,t.max,e.origin),e.scale=Kn(n)/Kn(t),e.translate=bt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=x9&&e.scale<=w9||isNaN(e.scale))&&(e.scale=1),(e.translate>=b9&&e.translate<=S9||isNaN(e.translate))&&(e.translate=0)}function Fc(e,t,n,r){bC(e.x,t.x,n.x,r?r.originX:void 0),bC(e.y,t.y,n.y,r?r.originY:void 0)}function SC(e,t,n){e.min=n.min+t.min,e.max=e.min+Kn(t)}function N9(e,t,n){SC(e.x,t.x,n.x),SC(e.y,t.y,n.y)}function CC(e,t,n){e.min=t.min-n.min,e.max=e.min+Kn(t)}function Vc(e,t,n){CC(e.x,t.x,n.x),CC(e.y,t.y,n.y)}function j9(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?bt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?bt(n,e,r.max):Math.min(e,n)),e}function NC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function E9(e,{top:t,left:n,bottom:r,right:s}){return{x:NC(e.x,n,s),y:NC(e.y,t,r)}}function jC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function k9(e,t){return{x:jC(e.x,t.x),y:jC(e.y,t.y)}}function T9(e,t){let n=.5;const r=Kn(e),s=Kn(t);return s>r?n=Sl(t.min,t.max-r,e.min):r>s&&(n=Sl(e.min,e.max-s,t.min)),$s(0,1,n)}function _9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sv=.35;function A9(e=Sv){return e===!1?e=0:e===!0&&(e=Sv),{x:EC(e,"left","right"),y:EC(e,"top","bottom")}}function EC(e,t,n){return{min:kC(e,t),max:kC(e,n)}}function kC(e,t){return typeof e=="number"?e:e[t]||0}const TC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:TC(),y:TC()}),_C=()=>({min:0,max:0}),Pt=()=>({x:_C(),y:_C()});function Jn(e){return[e("x"),e("y")]}function hR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function P9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function R9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gg(e){return e===void 0||e===1}function Cv({scale:e,scaleX:t,scaleY:n}){return!gg(e)||!gg(t)||!gg(n)}function oa(e){return Cv(e)||pR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pR(e){return AC(e.x)||AC(e.y)}function AC(e){return e&&e!=="0%"}function kh(e,t,n){const r=e-n,s=t*r;return n+s}function PC(e,t,n,r,s){return s!==void 0&&(e=kh(e,s,r)),kh(e,n,r)+t}function Nv(e,t=0,n=1,r,s){e.min=PC(e.min,t,n,r,s),e.max=PC(e.max,t,n,r,s)}function mR(e,{x:t,y:n}){Nv(e.x,t.translate,t.scale,t.originPoint),Nv(e.y,n.translate,n.scale,n.originPoint)}const RC=.999999999999,IC=1.0000000000001;function I9(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_o(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,mR(e,o)),r&&oa(i.latestValues)&&_o(e,i.latestValues))}t.x<IC&&t.x>RC&&(t.x=1),t.y<IC&&t.y>RC&&(t.y=1)}function To(e,t){e.min=e.min+t,e.max=e.max+t}function MC(e,t,n,r,s=.5){const i=bt(e.min,e.max,s);Nv(e,t,n,i,r)}function _o(e,t){MC(e.x,t.x,t.scaleX,t.scale,t.originX),MC(e.y,t.y,t.scaleY,t.scale,t.originY)}function gR(e,t){return hR(R9(e.getBoundingClientRect(),t))}function M9(e,t,n){const r=gR(e,n),{scroll:s}=t;return s&&(To(r.x,s.offset.x),To(r.y,s.offset.y)),r}const yR=({current:e})=>e?e.ownerDocument.defaultView:null,O9=new WeakMap;class D9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fd(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=T7(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(w=>{let x=this.getAxisMotionValue(w).get()||0;if(ss.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[w];b&&(x=Kn(b)*(parseFloat(x)/100))}}this.originPoint[w]=x}),y&&gt.postRender(()=>y(d,f)),pv(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=L9(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Jn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new cR(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:yR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&gt.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Qd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=j9(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&jo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=E9(s.layoutBox,n):this.constraints=!1,this.elastic=A9(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_9(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!jo(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=M9(r,s.root,this.visualElement.getTransformPagePoint());let o=k9(s.layout.layoutBox,i);if(n){const l=n(P9(o));this.hasMutatedConstraints=!!l,l&&(o=hR(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Jn(d=>{if(!Qd(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return pv(this.visualElement,t),r.start(Eb(t,r,0,n,this.visualElement,!1))}stopAnimation(){Jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Jn(n=>{const{drag:r}=this.getProps();if(!Qd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-bt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!jo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=T9({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(o=>{if(!Qd(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(bt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;O9.set(this.visualElement,this);const t=this.visualElement.current,n=Lc(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();jo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gt.read(r);const o=Su(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Sv,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Qd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function L9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class F9 extends ea{constructor(t){super(t),this.removeGroupControls=Hn,this.removeListeners=Hn,this.controls=new D9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const OC=e=>(t,n)=>{e&&gt.postRender(()=>e(t,n))};class V9 extends ea{constructor(){super(...arguments),this.removePointerDownListener=Hn}onPointerDown(t){this.session=new cR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:OC(t),onStart:OC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&gt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Lc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_e.test(e))e=parseFloat(e);else return e;const n=DC(e,t.target.x),r=DC(e,t.target.y);return`${n}% ${r}%`}},U9={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=zi.parse(e);if(s.length>5)return r;const i=zi.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=bt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class $9 extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;o7(B9),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||gt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vR(e){const[t,n]=eP(),r=p.useContext(Kw);return a.jsx($9,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(lP),isPresent:t,safeToRemove:n})}const B9={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:U9};function W9(e,t,n){const r=un(e)?e:wu(e);return r.start(Eb("",r,t,n)),r.animation}function z9(e){return e instanceof SVGElement&&e.tagName!=="svg"}const H9=(e,t)=>e.depth-t.depth;class q9{constructor(){this.children=[],this.isDirty=!1}add(t){mb(this.children,t),this.isDirty=!0}remove(t){gb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(H9),this.isDirty=!1,this.children.forEach(t)}}function K9(e,t){const n=is.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Wi(r),e(i-t))};return gt.read(r,!0),()=>Wi(r)}const xR=["TopLeft","TopRight","BottomLeft","BottomRight"],Y9=xR.length,LC=e=>typeof e=="string"?parseFloat(e):e,FC=e=>typeof e=="number"||_e.test(e);function G9(e,t,n,r,s,i){s?(e.opacity=bt(0,n.opacity!==void 0?n.opacity:1,Q9(r)),e.opacityExit=bt(t.opacity!==void 0?t.opacity:1,0,Z9(r))):i&&(e.opacity=bt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Y9;o++){const l=`border${xR[o]}Radius`;let c=VC(t,l),u=VC(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||FC(c)===FC(u)?(e[l]=Math.max(bt(LC(c),LC(u),r),0),(ss.test(u)||ss.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=bt(t.rotate||0,n.rotate||0,r))}function VC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Q9=wR(0,.5,FP),Z9=wR(.5,.95,Hn);function wR(e,t,n){return r=>r<e?0:r>t?1:n(Sl(e,t,r))}function UC(e,t){e.min=t.min,e.max=t.max}function Xn(e,t){UC(e.x,t.x),UC(e.y,t.y)}function $C(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BC(e,t,n,r,s){return e-=t,e=kh(e,1/n,r),s!==void 0&&(e=kh(e,1/s,r)),e}function X9(e,t=0,n=1,r=.5,s,i=e,o=e){if(ss.test(t)&&(t=parseFloat(t),t=bt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=bt(i.min,i.max,r);e===i&&(l-=t),e.min=BC(e.min,t,n,l,s),e.max=BC(e.max,t,n,l,s)}function WC(e,t,[n,r,s],i,o){X9(e,t[n],t[r],t[s],t.scale,i,o)}const J9=["x","scaleX","originX"],eq=["y","scaleY","originY"];function zC(e,t,n,r){WC(e.x,t,J9,n?n.x:void 0,r?r.x:void 0),WC(e.y,t,eq,n?n.y:void 0,r?r.y:void 0)}function HC(e){return e.translate===0&&e.scale===1}function bR(e){return HC(e.x)&&HC(e.y)}function qC(e,t){return e.min===t.min&&e.max===t.max}function tq(e,t){return qC(e.x,t.x)&&qC(e.y,t.y)}function KC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function SR(e,t){return KC(e.x,t.x)&&KC(e.y,t.y)}function YC(e){return Kn(e.x)/Kn(e.y)}function GC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nq{constructor(){this.members=[]}add(t){mb(this.members,t),t.scheduleRender()}remove(t){if(gb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rq(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const la={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},wc=typeof window<"u"&&window.MotionDebug!==void 0,yg=["","X","Y","Z"],sq={visibility:"hidden"},QC=1e3;let iq=0;function vg(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function CR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=PP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&CR(r)}function NR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=iq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wc&&(la.totalNodes=la.resolvedTargetDeltas=la.recalculatedProjection=0),this.nodes.forEach(lq),this.nodes.forEach(hq),this.nodes.forEach(pq),this.nodes.forEach(cq),wc&&window.MotionDebug.record(la)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new q9)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yb),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=z9(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=K9(h,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(XC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||xq,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!SR(this.targetLayout,y)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...db(g,"layout"),onPlay:w,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||XC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZC);return}this.isUpdating||this.nodes.forEach(dq),this.isUpdating=!1,this.nodes.forEach(fq),this.nodes.forEach(aq),this.nodes.forEach(oq),this.clearAllSnapshots();const l=is.now();Qt.delta=$s(0,1e3/60,l-Qt.timestamp),Qt.timestamp=l,Qt.isProcessing=!0,lg.update.process(Qt),lg.preRender.process(Qt),lg.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uq),this.sharedNodes.forEach(gq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!bR(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||oa(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),wq(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Pt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(bq))){const{scroll:d}=this.root;d&&(To(c.x,d.offset.x),To(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Pt();if(Xn(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Xn(c,o),To(c.x,f.offset.x),To(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Pt();Xn(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_o(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),oa(d.latestValues)&&_o(c,d.latestValues)}return oa(this.latestValues)&&_o(c,this.latestValues),c}removeTransform(o){const l=Pt();Xn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!oa(u.latestValues))continue;Cv(u.latestValues)&&u.updateSnapshot();const d=Pt(),f=u.measurePageBox();Xn(d,f),zC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return oa(this.latestValues)&&zC(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Vc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),mR(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Vc(this.relativeTargetOrigin,this.target,m.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wc&&la.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cv(this.parent.latestValues)||pR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Xn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;I9(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pt());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($C(this.prevProjectionDelta.x,this.projectionDelta.x),$C(this.prevProjectionDelta.y,this.projectionDelta.y)),Fc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!GC(this.projectionDelta.x,this.prevProjectionDelta.x)||!GC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),wc&&la.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Pt(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,w=this.getStack(),x=!w||w.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(vq));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const C=S/1e3;JC(f.x,o.x,C),JC(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yq(this.relativeTarget,this.relativeTargetOrigin,h,C),b&&tq(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Pt()),Xn(b,this.relativeTarget)),g&&(this.animationValues=d,G9(d,u,this.latestValues,C,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{kf.hasAnimatedSinceResize=!0,this.currentAnimation=W9(0,QC,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&jR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pt();const f=Kn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Kn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Xn(l,c),_o(l,d),Fc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nq),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&vg("z",o,u,this.animationValues);for(let d=0;d<yg.length;d++)vg(`rotate${yg[d]}`,o,u,this.animationValues),vg(`skew${yg[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sq;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=jf(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=jf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=rq(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Sh){if(h[g]===void 0)continue;const{correct:w,applyTo:x}=Sh[g],v=u.transform==="none"?h[g]:w(h[g],f);if(x){const b=x.length;for(let S=0;S<b;S++)u[x[S]]=v}else u[g]=v}return this.options.layoutId&&(u.pointerEvents=f===this?jf(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ZC),this.root.sharedNodes.clear()}}}function aq(e){e.updateLayout()}function oq(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Jn(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Kn(h);h.min=r[f].min,h.max=h.min+m}):jR(i,n.layoutBox,r)&&Jn(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],m=Kn(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ko();Fc(l,r,n.layoutBox);const c=ko();o?Fc(c,e.applyTransform(s,!0),n.measuredBox):Fc(c,r,n.layoutBox);const u=!bR(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=Pt();Vc(y,n.layoutBox,h.layoutBox);const g=Pt();Vc(g,r,m.layoutBox),SR(y,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lq(e){wc&&la.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uq(e){e.clearSnapshot()}function ZC(e){e.clearMeasurements()}function dq(e){e.isLayoutDirty=!1}function fq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function XC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hq(e){e.resolveTargetDelta()}function pq(e){e.calcProjection()}function mq(e){e.resetSkewAndRotation()}function gq(e){e.removeLeadSnapshot()}function JC(e,t,n){e.translate=bt(t.translate,0,n),e.scale=bt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function eN(e,t,n,r){e.min=bt(t.min,n.min,r),e.max=bt(t.max,n.max,r)}function yq(e,t,n,r){eN(e.x,t.x,n.x,r),eN(e.y,t.y,n.y,r)}function vq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xq={duration:.45,ease:[.4,0,.1,1]},tN=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nN=tN("applewebkit/")&&!tN("chrome/")?Math.round:Hn;function rN(e){e.min=nN(e.min),e.max=nN(e.max)}function wq(e){rN(e.x),rN(e.y)}function jR(e,t,n){return e==="position"||e==="preserve-aspect"&&!C9(YC(t),YC(n),.2)}function bq(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Sq=NR({attachResizeListener:(e,t)=>Su(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xg={current:void 0},ER=NR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xg.current){const e=new Sq({});e.mount(window),e.setOptions({layoutScroll:!0}),xg.current=e}return xg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Cq={pan:{Feature:V9},drag:{Feature:F9,ProjectionNode:ER,MeasureLayout:vR}};function sN(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&gt.postRender(()=>i(t,fd(t)))}class Nq extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=C7(t,n=>(sN(this.node,n,"Start"),r=>sN(this.node,r,"End"))))}unmount(){}}class jq extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dd(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iN(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&gt.postRender(()=>i(t,fd(t)))}class Eq extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=k7(t,n=>(iN(this.node,n,"Start"),(r,{success:s})=>iN(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jv=new WeakMap,wg=new WeakMap,kq=e=>{const t=jv.get(e.target);t&&t(e)},Tq=e=>{e.forEach(kq)};function _q({root:e,...t}){const n=e||document;wg.has(n)||wg.set(n,{});const r=wg.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Tq,{root:e,...t})),r[s]}function Aq(e,t,n){const r=_q(t);return jv.set(e,n),r.observe(e),()=>{jv.delete(e),r.unobserve(e)}}const Pq={some:0,all:1};class Rq extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Pq[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Aq(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Iq(t,n))&&this.startObserver()}unmount(){}}function Iq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Mq={inView:{Feature:Rq},tap:{Feature:Eq},focus:{Feature:jq},hover:{Feature:Nq}},Oq={layout:{ProjectionNode:ER,MeasureLayout:vR}},Ev={current:null},kR={current:!1};function Dq(){if(kR.current=!0,!!Qw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ev.current=e.matches;e.addListener(t),t()}else Ev.current=!1}const Lq=[...XP,sn,zi],Fq=e=>Lq.find(ZP(e)),aN=new WeakMap;function Vq(e,t,n){for(const r in t){const s=t[r],i=n[r];if(un(s))e.addValue(r,s);else if(un(i))e.addValue(r,wu(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,wu(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const oN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uq{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=is.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,gt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Hp(n),this.isVariantNode=aP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const y=h[m];c[m]!==void 0&&un(y)&&y.set(c[m],!1)}}mount(t){this.current=t,aN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kR.current||Dq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ev.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aN.delete(this.current),this.projection&&this.projection.unmount(),Wi(this.notifyUpdate),Wi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=eo.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Cl){const n=Cl[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oN.length;r++){const s=oN[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Vq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(GP(s)||UP(s))?s=parseFloat(s):!Fq(s)&&zi.test(n)&&(s=qP(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=rb(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!un(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class TR extends Uq{constructor(){super(...arguments),this.KeyframeResolver=JP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $q(e){return window.getComputedStyle(e)}class Bq extends TR{constructor(){super(...arguments),this.type="html",this.renderInstance=mP}readValueFromInstance(t,n){if(eo.has(n)){const r=Sb(n);return r&&r.default||0}else{const r=$q(t),s=(fP(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gR(t,n)}build(t,n,r){ab(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ub(t,n,r)}}class Wq extends TR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(eo.has(n)){const r=Sb(n);return r&&r.default||0}return n=gP.has(n)?n:eb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return xP(t,n,r)}build(t,n,r){ob(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){yP(t,n,r,s)}mount(t){this.isSVGTag=cb(t.tagName),super.mount(t)}}const zq=(e,t)=>nb(e)?new Wq(t):new Bq(t,{allowProjection:e!==p.Fragment}),Hq=g7({...p9,...Mq,...Cq,...Oq},zq),Xs=P8(Hq),qq=Ja("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function He({className:e,variant:t,...n}){return a.jsx("div",{className:re(qq({variant:t}),e),...n})}function Kq({name:e,description:t,image:n,address:r,phone:s,hours:i}){return a.jsxs("div",{className:"relative",children:[n&&a.jsxs("div",{className:"relative h-48 md:h-64 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),a.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 z-20 text-white",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2","data-testid":"text-restaurant-name",children:e}),t&&a.jsx("p",{className:"text-white/90 max-w-2xl",children:t})]})]}),!n&&a.jsxs("div",{className:"py-8 px-4",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2","data-testid":"text-restaurant-name",children:e}),t&&a.jsx("p",{className:"text-muted-foreground max-w-2xl",children:t})]}),(r||s||i)&&a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[r&&a.jsxs(He,{variant:"secondary",className:"gap-2 py-2",children:[a.jsx(ow,{className:"h-4 w-4"}),r]}),s&&a.jsxs(He,{variant:"secondary",className:"gap-2 py-2",children:[a.jsx(Q3,{className:"h-4 w-4"}),s]}),i&&a.jsxs(He,{variant:"secondary",className:"gap-2 py-2",children:[a.jsx(Fa,{className:"h-4 w-4"}),i]})]})})})]})}function Yq({categories:e,activeCategory:t,onCategoryChange:n}){return a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:e.map(r=>a.jsx(Y,{variant:t===r.value?"default":"outline",size:"sm",onClick:()=>n(r.value),className:"shrink-0","data-testid":`button-category-${r.value.toLowerCase().replace(/\s+/g,"-")}`,children:r.label},r.value))})}function Gq({name:e,description:t,price:n,image:r,spiceLevel:s,isVegan:i,isVegetarian:o,isHalal:l,isKosher:c,allergens:u,onAddToCart:d,onClick:f}){const{formatCurrency:h}=Ot();return a.jsxs(pe,{className:"overflow-hidden shadow-card-hover glass-card group cursor-pointer relative",onClick:f,"data-testid":`card-menu-item-${e.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),a.jsxs("div",{className:"aspect-[4/3] overflow-hidden relative",children:[a.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-2 shadow-lg",children:a.jsx(Va,{className:"h-4 w-4 text-primary"})})})]}),a.jsxs("div",{className:"p-6 relative z-10",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[a.jsx("h3",{className:"font-bold text-lg group-hover:text-primary transition-colors leading-tight","data-testid":`text-item-name-${e.toLowerCase().replace(/\s+/g,"-")}`,children:e}),a.jsx("div",{className:"text-right shrink-0",children:a.jsx("span",{className:"font-bold text-xl gradient-text","data-testid":`text-item-price-${e.toLowerCase().replace(/\s+/g,"-")}`,children:h(n)})})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2 leading-relaxed",children:t}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[typeof s=="number"&&s>0&&a.jsxs(He,{variant:"secondary",className:"gap-1 bg-red-100 text-red-700 border-red-200 hover:bg-red-200 transition-colors",children:[a.jsx(PT,{className:"h-3 w-3"}),Array(s).fill("").join("")]}),i&&a.jsxs(He,{variant:"secondary",className:"gap-1 bg-green-100 text-green-700 border-green-200 hover:bg-green-200 transition-colors",children:[a.jsx(ih,{className:"h-3 w-3"}),"Vegan"]}),o&&!i&&a.jsxs(He,{variant:"secondary",className:"gap-1 bg-green-100 text-green-700 border-green-200 hover:bg-green-200 transition-colors",children:[a.jsx(ih,{className:"h-3 w-3"}),"Vegetarian"]}),l&&a.jsxs(He,{variant:"secondary",className:"gap-1 bg-blue-100 text-blue-700 border-blue-200 hover:bg-blue-200 transition-colors",children:[a.jsx(IT,{className:"h-3 w-3"}),"Halal"]}),c&&a.jsxs(He,{variant:"secondary",className:"gap-1 bg-purple-100 text-purple-700 border-purple-200 hover:bg-purple-200 transition-colors",children:[a.jsx(uu,{className:"h-3 w-3"}),"Kosher"]})]}),u&&u.length>0&&a.jsx("div",{className:"mb-4 p-2 bg-yellow-50 border border-yellow-200 rounded-md",children:a.jsxs("p",{className:"text-xs text-yellow-800 font-medium",children:[" Allergens: ",u.join(", ")]})}),a.jsxs(Y,{className:"w-full gap-2 btn-glow hover-lift font-semibold",onClick:m=>{m.stopPropagation(),d==null||d()},"data-testid":`button-add-to-cart-${e.toLowerCase().replace(/\s+/g,"-")}`,children:[a.jsx(Va,{className:"h-4 w-4"}),"Add to Cart"]})]})]})}const _R=Rw,Qq=nA,Zq=Iw,AR=p.forwardRef(({className:e,...t},n)=>a.jsx(Xu,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));AR.displayName=Xu.displayName;const Xq=Ja("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),kb=p.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(Zq,{children:[a.jsx(AR,{}),a.jsxs(Ju,{ref:s,className:re(Xq({side:e}),t),...r,children:[n,a.jsxs(Dp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(uw,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kb.displayName=Ju.displayName;const Tb=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Tb.displayName="SheetHeader";const _b=p.forwardRef(({className:e,...t},n)=>a.jsx(ed,{ref:n,className:re("text-lg font-semibold text-foreground",e),...t}));_b.displayName=ed.displayName;const PR=p.forwardRef(({className:e,...t},n)=>a.jsx(td,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));PR.displayName=td.displayName;var Jq=p.createContext(void 0);function zl(e){const t=p.useContext(Jq);return e||t||"ltr"}var bg="rovingFocusGroup.onEntryFocus",eK={bubbles:!1,cancelable:!0},hd="RovingFocusGroup",[kv,RR,tK]=vp(hd),[nK,Hl]=fn(hd,[tK]),[rK,sK]=nK(hd),IR=p.forwardRef((e,t)=>a.jsx(kv.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(kv.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(iK,{...e,ref:t})})}));IR.displayName=hd;var iK=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Oe(t,h),y=zl(i),[g,w]=Fr({prop:o,defaultProp:l??null,onChange:c,caller:hd}),[x,v]=p.useState(!1),b=Mt(u),S=RR(n),C=p.useRef(!1),[k,E]=p.useState(0);return p.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(bg,b),()=>N.removeEventListener(bg,b)},[b]),a.jsx(rK,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(N=>w(N),[w]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:p.useCallback(()=>E(N=>N-1),[]),children:a.jsx(Ne.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{C.current=!0}),onFocus:se(e.onFocus,N=>{const j=!C.current;if(N.target===N.currentTarget&&j&&!x){const T=new CustomEvent(bg,eK);if(N.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=S().filter(U=>U.focusable),I=O.find(U=>U.active),B=O.find(U=>U.id===g),M=[I,B,...O].filter(Boolean).map(U=>U.ref.current);DR(M,d)}}C.current=!1}),onBlur:se(e.onBlur,()=>v(!1))})})}),MR="RovingFocusGroupItem",OR=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Or(),u=i||c,d=sK(MR,n),f=d.currentTabStopId===u,h=RR(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=d;return p.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),a.jsx(kv.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Ne.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:se(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:se(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:se(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=lK(w,d.orientation,d.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const S=b.indexOf(w.currentTarget);b=d.loop?cK(b,S+1):b.slice(S+1)}setTimeout(()=>DR(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});OR.displayName=MR;var aK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oK(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lK(e,t,n){const r=oK(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aK[r]}function DR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function cK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Ab=IR,Pb=OR;function Yp(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Rb="Radio",[uK,LR]=fn(Rb),[dK,fK]=uK(Rb),FR=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=p.useState(null),m=Oe(t,w=>h(w)),y=p.useRef(!1),g=f?u||!!f.closest("form"):!0;return a.jsxs(dK,{scope:n,checked:s,disabled:o,children:[a.jsx(Ne.button,{type:"button",role:"radio","aria-checked":s,"data-state":BR(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:se(e.onClick,w=>{s||c==null||c(),g&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),g&&a.jsx($R,{control:f,bubbles:!y.current,name:r,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});FR.displayName=Rb;var VR="RadioIndicator",UR=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=fK(VR,n);return a.jsx(en,{present:r||i.checked,children:a.jsx(Ne.span,{"data-state":BR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});UR.displayName=VR;var hK="RadioBubbleInput",$R=p.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=p.useRef(null),l=Oe(o,i),c=Yp(n),u=kp(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),a.jsx(Ne.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$R.displayName=hK;function BR(e){return e?"checked":"unchecked"}var pK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gp="RadioGroup",[mK]=fn(Gp,[Hl,LR]),WR=Hl(),zR=LR(),[gK,yK]=mK(Gp),HR=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=WR(n),y=zl(u),[g,w]=Fr({prop:i,defaultProp:s??null,onChange:f,caller:Gp});return a.jsx(gK,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:w,children:a.jsx(Ab,{asChild:!0,...m,orientation:c,dir:y,loop:d,children:a.jsx(Ne.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...h,ref:t})})})});HR.displayName=Gp;var qR="RadioGroupItem",KR=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=yK(qR,n),o=i.disabled||r,l=WR(n),c=zR(n),u=p.useRef(null),d=Oe(t,u),f=i.value===s.value,h=p.useRef(!1);return p.useEffect(()=>{const m=g=>{pK.includes(g.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",y)}},[]),a.jsx(Pb,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(FR,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:se(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:se(s.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});KR.displayName=qR;var vK="RadioGroupIndicator",YR=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=zR(n);return a.jsx(UR,{...s,...r,ref:t})});YR.displayName=vK;var GR=HR,QR=KR,xK=YR;const ZR=p.forwardRef(({className:e,...t},n)=>a.jsx(GR,{className:re("grid gap-2",e),...t,ref:n}));ZR.displayName=GR.displayName;const Tv=p.forwardRef(({className:e,...t},n)=>a.jsx(QR,{ref:n,className:re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(xK,{className:"flex items-center justify-center",children:a.jsx(AT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Tv.displayName=QR.displayName;function wK({items:e,onUpdateQuantity:t,onRemoveItem:n,paymentMethod:r,onPaymentMethodChange:s,onCheckout:i,stripeOnboardingComplete:o=!1,paystackOnboardingComplete:l=!1}){const{t:c,formatCurrency:u}=Ot(),d=e.reduce((g,w)=>g+w.price*w.quantity,0),f=d*.1,h=d+f,m=e.reduce((g,w)=>g+w.quantity,0),y=o||l;return p.useEffect(()=>{!y&&r==="online"&&s("cash")},[y,r,s]),a.jsxs(_R,{children:[a.jsx(Qq,{asChild:!0,children:a.jsxs("div",{className:"relative inline-block",children:[a.jsx(Y,{variant:"outline",size:"icon","data-testid":"button-open-cart",children:a.jsx(BS,{className:"h-5 w-5"})}),m>0&&a.jsx("span",{className:"absolute -top-1 -right-1 pointer-events-none translate-x-1/2 -translate-y-1/2",children:a.jsx(He,{variant:"destructive",className:"h-5 min-w-5 px-1 rounded-full flex items-center justify-center text-xs","data-testid":"badge-cart-count",children:m})})]})}),a.jsxs(kb,{className:"w-full sm:max-w-lg overflow-y-auto",children:[a.jsx(Tb,{children:a.jsx(_b,{children:c("yourCart")})}),e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[a.jsx(BS,{className:"h-16 w-16 mb-4"}),a.jsx("p",{children:c("emptyCart")})]}):a.jsxs("div",{className:"mt-6 space-y-4",children:[e.map(g=>a.jsxs("div",{className:"flex gap-4","data-testid":`cart-item-${g.id}`,children:[a.jsx("img",{src:g.image,alt:g.name,className:"w-20 h-20 object-cover rounded-md"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:g.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:u(g.price)}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(Y,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>t(g.id,Math.max(0,g.quantity-1)),"data-testid":`button-decrease-${g.id}`,children:a.jsx(OT,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center","data-testid":`text-quantity-${g.id}`,children:g.quantity}),a.jsx(Y,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>t(g.id,g.quantity+1),"data-testid":`button-increase-${g.id}`,children:a.jsx(Va,{className:"h-3 w-3"})}),a.jsx(Y,{size:"icon",variant:"ghost",className:"h-7 w-7 ml-auto",onClick:()=>n(g.id),"data-testid":`button-remove-${g.id}`,children:a.jsx(Qu,{className:"h-4 w-4"})})]})]})]},g.id)),a.jsx(zt,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:c("subtotal")}),a.jsx("span",{"data-testid":"text-subtotal",children:u(d)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:c("tax")}),a.jsx("span",{"data-testid":"text-tax",children:u(f)})]}),a.jsx(zt,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:c("total")}),a.jsx("span",{"data-testid":"text-total",children:u(h)})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{className:"text-sm font-medium",children:c("paymentMethod")}),a.jsxs(ZR,{value:r,onValueChange:g=>s(g),children:[y&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tv,{value:"online",id:"online","data-testid":"radio-payment-online"}),a.jsx(Ze,{htmlFor:"online",className:"cursor-pointer",children:c("payOnline")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tv,{value:"cash",id:"cash","data-testid":"radio-payment-cash"}),a.jsx(Ze,{htmlFor:"cash",className:"cursor-pointer",children:c("payWithCash")})]})]})]}),a.jsx(Y,{className:"w-full",size:"lg",onClick:i,"data-testid":"button-checkout",children:c("checkout")})]})]})]})}function bK({open:e,onOpenChange:t,item:n,onAddToCart:r}){const[s,i]=p.useState(1),{formatCurrency:o}=Ot(),l=()=>{r==null||r(s),i(1),t(!1)};return a.jsx(vn,{open:e,onOpenChange:t,children:a.jsxs(ln,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:n.name}),a.jsxs(hr,{className:"sr-only",children:["Details and customization options for ",n.name]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"aspect-video overflow-hidden rounded-lg",children:a.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx("p",{className:"text-muted-foreground",children:n.description}),a.jsx("span",{className:"font-semibold text-2xl text-primary shrink-0",children:o(n.price)})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-semibold",children:"Dietary Information"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.spiceLevel&&n.spiceLevel>0&&a.jsxs(He,{variant:"secondary",className:"gap-1",children:[a.jsx(PT,{className:"h-4 w-4"}),"Spice Level: ",n.spiceLevel]}),n.isVegan&&a.jsxs(He,{variant:"secondary",className:"gap-1",children:[a.jsx(ih,{className:"h-4 w-4"}),"Vegan"]}),n.isVegetarian&&!n.isVegan&&a.jsxs(He,{variant:"secondary",className:"gap-1",children:[a.jsx(ih,{className:"h-4 w-4"}),"Vegetarian"]}),n.isHalal&&a.jsxs(He,{variant:"secondary",className:"gap-1",children:[a.jsx(IT,{className:"h-4 w-4"}),"Halal"]}),n.isKosher&&a.jsxs(He,{variant:"secondary",className:"gap-1",children:[a.jsx(uu,{className:"h-4 w-4"}),"Kosher"]})]})]}),n.allergens&&n.allergens.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold",children:"Allergen Information"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.allergens.map(c=>a.jsx(He,{variant:"outline",children:c},c))})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{size:"icon",variant:"outline",onClick:()=>i(Math.max(1,s-1)),"data-testid":"button-decrease-quantity",children:a.jsx(OT,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-12 text-center font-medium","data-testid":"text-dialog-quantity",children:s}),a.jsx(Y,{size:"icon",variant:"outline",onClick:()=>i(s+1),"data-testid":"button-increase-quantity",children:a.jsx(Va,{className:"h-4 w-4"})})]}),a.jsxs(Y,{onClick:l,className:"gap-2","data-testid":"button-dialog-add-to-cart",children:[a.jsx(Va,{className:"h-4 w-4"}),"Add to Cart - ",o(n.price*s)]})]})]})]})})}function SK(e){const t=CK(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(jK);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function CK(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=kK(s),l=EK(i,s.props);return s.type!==p.Fragment&&(l.ref=r?zs(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NK=Symbol("radix.slottable");function jK(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NK}function EK(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function kK(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _v=["Enter"," "],TK=["ArrowDown","PageUp","Home"],XR=["ArrowUp","PageDown","End"],_K=[...TK,...XR],AK={ltr:[..._v,"ArrowRight"],rtl:[..._v,"ArrowLeft"]},PK={ltr:["ArrowLeft"],rtl:["ArrowRight"]},pd="Menu",[Cu,RK,IK]=vp(pd),[to,JR]=fn(pd,[IK,Vl,Hl]),Qp=Vl(),e2=Hl(),[MK,no]=to(pd),[OK,md]=to(pd),t2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,l=Qp(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Mt(i),h=zl(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(ww,{...l,children:a.jsx(MK,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(OK,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};t2.displayName=pd;var DK="MenuAnchor",Ib=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Qp(n);return a.jsx(bw,{...s,...r,ref:t})});Ib.displayName=DK;var Mb="MenuPortal",[LK,n2]=to(Mb,{forceMount:void 0}),r2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=no(Mb,t);return a.jsx(LK,{scope:t,forceMount:n,children:a.jsx(en,{present:n||i.open,children:a.jsx(Yu,{asChild:!0,container:s,children:r})})})};r2.displayName=Mb;var ur="MenuContent",[FK,Ob]=to(ur),s2=p.forwardRef((e,t)=>{const n=n2(ur,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=no(ur,e.__scopeMenu),o=md(ur,e.__scopeMenu);return a.jsx(Cu.Provider,{scope:e.__scopeMenu,children:a.jsx(en,{present:r||i.open,children:a.jsx(Cu.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(VK,{...s,ref:t}):a.jsx(UK,{...s,ref:t})})})})}),VK=p.forwardRef((e,t)=>{const n=no(ur,e.__scopeMenu),r=p.useRef(null),s=Oe(t,r);return p.useEffect(()=>{const i=r.current;if(i)return Tw(i)},[]),a.jsx(Db,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),UK=p.forwardRef((e,t)=>{const n=no(ur,e.__scopeMenu);return a.jsx(Db,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$K=SK("MenuContent.ScrollLock"),Db=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...g}=e,w=no(ur,n),x=md(ur,n),v=Qp(n),b=e2(n),S=RK(n),[C,k]=p.useState(null),E=p.useRef(null),N=Oe(t,E,w.onContentChange),j=p.useRef(0),T=p.useRef(""),O=p.useRef(0),I=p.useRef(null),B=p.useRef("right"),D=p.useRef(0),M=y?Mp:p.Fragment,U=y?{as:$K,allowPinchZoom:!0}:void 0,$=R=>{var K,F;const H=T.current+R,q=S().filter(de=>!de.disabled),te=document.activeElement,Q=(K=q.find(de=>de.ref.current===te))==null?void 0:K.textValue,oe=q.map(de=>de.textValue),be=JK(oe,H,Q),z=(F=q.find(de=>de.textValue===be))==null?void 0:F.ref.current;(function de(J){T.current=J,window.clearTimeout(j.current),J!==""&&(j.current=window.setTimeout(()=>de(""),1e3))})(H),z&&setTimeout(()=>z.focus())};p.useEffect(()=>()=>window.clearTimeout(j.current),[]),kw();const _=p.useCallback(R=>{var q,te;return B.current===((q=I.current)==null?void 0:q.side)&&tY(R,(te=I.current)==null?void 0:te.area)},[]);return a.jsx(FK,{scope:n,searchRef:T,onItemEnter:p.useCallback(R=>{_(R)&&R.preventDefault()},[_]),onItemLeave:p.useCallback(R=>{var H;_(R)||((H=E.current)==null||H.focus(),k(null))},[_]),onTriggerLeave:p.useCallback(R=>{_(R)&&R.preventDefault()},[_]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(R=>{I.current=R},[]),children:a.jsx(M,{...U,children:a.jsx(Rp,{asChild:!0,trapped:s,onMountAutoFocus:se(i,R=>{var H;R.preventDefault(),(H=E.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Ol,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(Ab,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:k,onEntryFocus:se(c,R=>{x.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Sw,{role:"menu","aria-orientation":"vertical","data-state":w2(w.open),"data-radix-menu-content":"",dir:x.dir,...v,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:se(g.onKeyDown,R=>{const q=R.target.closest("[data-radix-menu-content]")===R.currentTarget,te=R.ctrlKey||R.altKey||R.metaKey,Q=R.key.length===1;q&&(R.key==="Tab"&&R.preventDefault(),!te&&Q&&$(R.key));const oe=E.current;if(R.target!==oe||!_K.includes(R.key))return;R.preventDefault();const z=S().filter(K=>!K.disabled).map(K=>K.ref.current);XR.includes(R.key)&&z.reverse(),ZK(z)}),onBlur:se(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(j.current),T.current="")}),onPointerMove:se(e.onPointerMove,Nu(R=>{const H=R.target,q=D.current!==R.clientX;if(R.currentTarget.contains(H)&&q){const te=R.clientX>D.current?"right":"left";B.current=te,D.current=R.clientX}}))})})})})})})});s2.displayName=ur;var BK="MenuGroup",Lb=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Ne.div,{role:"group",...r,ref:t})});Lb.displayName=BK;var WK="MenuLabel",i2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Ne.div,{...r,ref:t})});i2.displayName=WK;var Th="MenuItem",lN="menu.itemSelect",Zp=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=p.useRef(null),o=md(Th,e.__scopeMenu),l=Ob(Th,e.__scopeMenu),c=Oe(t,i),u=p.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const h=new CustomEvent(lN,{bubbles:!0,cancelable:!0});f.addEventListener(lN,m=>r==null?void 0:r(m),{once:!0}),nw(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(a2,{...s,ref:c,disabled:n,onClick:se(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:se(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:se(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||_v.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zp.displayName=Th;var a2=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=Ob(Th,n),l=e2(n),c=p.useRef(null),u=Oe(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),a.jsx(Cu.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:a.jsx(Pb,{asChild:!0,...l,focusable:!r,children:a.jsx(Ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:se(e.onPointerMove,Nu(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,Nu(y=>o.onItemLeave(y))),onFocus:se(e.onFocus,()=>f(!0)),onBlur:se(e.onBlur,()=>f(!1))})})})}),zK="MenuCheckboxItem",o2=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(f2,{scope:e.__scopeMenu,checked:n,children:a.jsx(Zp,{role:"menuitemcheckbox","aria-checked":_h(n)?"mixed":n,...s,ref:t,"data-state":Vb(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(_h(n)?!0:!n),{checkForDefaultPrevented:!1})})})});o2.displayName=zK;var l2="MenuRadioGroup",[HK,qK]=to(l2,{value:void 0,onValueChange:()=>{}}),c2=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Mt(r);return a.jsx(HK,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(Lb,{...s,ref:t})})});c2.displayName=l2;var u2="MenuRadioItem",d2=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=qK(u2,e.__scopeMenu),i=n===s.value;return a.jsx(f2,{scope:e.__scopeMenu,checked:i,children:a.jsx(Zp,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Vb(i),onSelect:se(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});d2.displayName=u2;var Fb="MenuItemIndicator",[f2,KK]=to(Fb,{checked:!1}),h2=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=KK(Fb,n);return a.jsx(en,{present:r||_h(i.checked)||i.checked===!0,children:a.jsx(Ne.span,{...s,ref:t,"data-state":Vb(i.checked)})})});h2.displayName=Fb;var YK="MenuSeparator",p2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});p2.displayName=YK;var GK="MenuArrow",m2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Qp(n);return a.jsx(Cw,{...s,...r,ref:t})});m2.displayName=GK;var QK="MenuSub",[Dee,g2]=to(QK),bc="MenuSubTrigger",y2=p.forwardRef((e,t)=>{const n=no(bc,e.__scopeMenu),r=md(bc,e.__scopeMenu),s=g2(bc,e.__scopeMenu),i=Ob(bc,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Ib,{asChild:!0,...u,children:a.jsx(a2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":w2(n.open),...e,ref:zs(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,Nu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(e.onPointerLeave,Nu(f=>{var m,y;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(y=n.content)==null?void 0:y.dataset.side,w=g==="right",x=w?-5:5,v=h[w?"left":"right"],b=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||AK[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});y2.displayName=bc;var v2="MenuSubContent",x2=p.forwardRef((e,t)=>{const n=n2(ur,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=no(ur,e.__scopeMenu),o=md(ur,e.__scopeMenu),l=g2(v2,e.__scopeMenu),c=p.useRef(null),u=Oe(t,c);return a.jsx(Cu.Provider,{scope:e.__scopeMenu,children:a.jsx(en,{present:r||i.open,children:a.jsx(Cu.Slot,{scope:e.__scopeMenu,children:a.jsx(Db,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:se(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=PK[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});x2.displayName=v2;function w2(e){return e?"open":"closed"}function _h(e){return e==="indeterminate"}function Vb(e){return _h(e)?"indeterminate":e?"checked":"unchecked"}function ZK(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function XK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function JK(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=XK(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function eY(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function tY(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return eY(n,t)}function Nu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nY=t2,rY=Ib,sY=r2,iY=s2,aY=Lb,oY=i2,lY=Zp,cY=o2,uY=c2,dY=d2,fY=h2,hY=p2,pY=m2,mY=y2,gY=x2,Xp="DropdownMenu",[yY]=fn(Xp,[JR]),Nn=JR(),[vY,b2]=yY(Xp),S2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Nn(t),u=p.useRef(null),[d,f]=Fr({prop:s,defaultProp:i??!1,onChange:o,caller:Xp});return a.jsx(vY,{scope:t,triggerId:Or(),triggerRef:u,contentId:Or(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(nY,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};S2.displayName=Xp;var C2="DropdownMenuTrigger",N2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=b2(C2,n),o=Nn(n);return a.jsx(rY,{asChild:!0,...o,children:a.jsx(Ne.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:zs(t,i.triggerRef),onPointerDown:se(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:se(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});N2.displayName=C2;var xY="DropdownMenuPortal",j2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Nn(t);return a.jsx(sY,{...r,...n})};j2.displayName=xY;var E2="DropdownMenuContent",k2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=b2(E2,n),i=Nn(n),o=p.useRef(!1);return a.jsx(iY,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k2.displayName=E2;var wY="DropdownMenuGroup",bY=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(aY,{...s,...r,ref:t})});bY.displayName=wY;var SY="DropdownMenuLabel",T2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(oY,{...s,...r,ref:t})});T2.displayName=SY;var CY="DropdownMenuItem",_2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(lY,{...s,...r,ref:t})});_2.displayName=CY;var NY="DropdownMenuCheckboxItem",A2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(cY,{...s,...r,ref:t})});A2.displayName=NY;var jY="DropdownMenuRadioGroup",EY=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(uY,{...s,...r,ref:t})});EY.displayName=jY;var kY="DropdownMenuRadioItem",P2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(dY,{...s,...r,ref:t})});P2.displayName=kY;var TY="DropdownMenuItemIndicator",R2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(fY,{...s,...r,ref:t})});R2.displayName=TY;var _Y="DropdownMenuSeparator",I2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(hY,{...s,...r,ref:t})});I2.displayName=_Y;var AY="DropdownMenuArrow",PY=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(pY,{...s,...r,ref:t})});PY.displayName=AY;var RY="DropdownMenuSubTrigger",M2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(mY,{...s,...r,ref:t})});M2.displayName=RY;var IY="DropdownMenuSubContent",O2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Nn(n);return a.jsx(gY,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O2.displayName=IY;var MY=S2,OY=N2,DY=j2,D2=k2,L2=T2,F2=_2,V2=A2,U2=P2,$2=R2,B2=I2,W2=M2,z2=O2;const LY=MY,FY=OY,VY=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(W2,{ref:s,className:re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,a.jsx(O3,{className:"ml-auto"})]}));VY.displayName=W2.displayName;const UY=p.forwardRef(({className:e,...t},n)=>a.jsx(z2,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));UY.displayName=z2.displayName;const H2=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(DY,{children:a.jsx(D2,{ref:r,sideOffset:t,className:re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));H2.displayName=D2.displayName;const q2=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(F2,{ref:r,className:re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));q2.displayName=F2.displayName;const $Y=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(V2,{ref:s,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($2,{children:a.jsx(Hr,{className:"h-4 w-4"})})}),t]}));$Y.displayName=V2.displayName;const BY=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(U2,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx($2,{children:a.jsx(AT,{className:"h-2 w-2 fill-current"})})}),t]}));BY.displayName=U2.displayName;const WY=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(L2,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));WY.displayName=L2.displayName;const zY=p.forwardRef(({className:e,...t},n)=>a.jsx(B2,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));zY.displayName=B2.displayName;function HY(){const{language:e,setLanguage:t}=Ot();return Jy.find(n=>n.code===e),a.jsxs(LY,{children:[a.jsx(FY,{asChild:!0,children:a.jsxs(Y,{variant:"ghost",size:"icon","data-testid":"button-language-selector","aria-label":"Select language",children:[a.jsx(MT,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Select language"})]})}),a.jsx(H2,{align:"end",className:"w-48",children:Jy.map(n=>a.jsxs(q2,{onClick:()=>t(n.code),className:"flex items-center justify-between","data-testid":`language-option-${n.code}`,children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:n.flag}),a.jsx("span",{children:n.nativeName})]}),e===n.code&&a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:""})]},n.code))})]})}const qY=p.createContext(void 0);function Jp({children:e,currencyCode:t,defaultLanguage:n}){const{setCurrencyCode:r,setLanguage:s}=Ot();return p.useEffect(()=>(t&&r(t),()=>{r(void 0)}),[t,r]),p.useEffect(()=>{n&&s(n)},[n,s]),a.jsx(qY.Provider,{value:{currencyCode:t,defaultLanguage:n},children:e})}const K2="/assets/ChatGPT%20Image%20Oct%2022_%202025_%2007_35_55%20PM_1761180288922-B6CcGUJR.png";class ju{static getAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}static playAck(){try{const t=this.getAudioContext(),n=t.currentTime,r=t.createOscillator(),s=t.createGain();r.connect(s),s.connect(t.destination),r.frequency.value=784,r.type="sine",s.gain.setValueAtTime(0,n),s.gain.linearRampToValueAtTime(.15,n+.01),s.gain.exponentialRampToValueAtTime(.01,n+.12),r.start(n),r.stop(n+.12)}catch(t){console.debug("Audio acknowledgment skipped:",t)}}}fm(ju,"audioContext",null);const KY=[{phrase:"Let me help you with that.",file:"phrase_1.mp3"},{phrase:"Great choice!",file:"phrase_2.mp3"},{phrase:"I'd be happy to help.",file:"phrase_3.mp3"},{phrase:"That sounds delicious!",file:"phrase_4.mp3"},{phrase:"Absolutely!",file:"phrase_5.mp3"},{phrase:"Perfect!",file:"phrase_6.mp3"},{phrase:"Good question!",file:"phrase_7.mp3"},{phrase:"Of course!",file:"phrase_8.mp3"}],Uc=new Map;let $c=!1;function Sg(){if(!$c)try{KY.forEach(({phrase:e,file:t})=>{const n=new Audio(`/attached_assets/cached_tts/${t}`);n.preload="auto",Uc.set(e.toLowerCase(),n)}),$c=!0,console.log("Audio cache initialized with",Uc.size,"phrases")}catch(e){console.warn("Failed to initialize audio cache:",e)}}class Y2{static tryPlayCachedPhrase(t){$c||Sg();const n=t.toLowerCase().trim();for(const[r,s]of Array.from(Uc.entries()))if(n.startsWith(r)){console.log("Found cached phrase:",r);const i=s.cloneNode(!0);try{return i.play().catch(o=>{console.debug("Cached audio play failed:",o)}),i}catch(o){return console.debug("Error playing cached audio:",o),null}}return null}static getCachedPhrases(){return $c||Sg(),Array.from(Uc.keys())}static hasCachedPhrase(t){$c||Sg();const n=t.toLowerCase().trim();for(const r of Array.from(Uc.keys()))if(n.startsWith(r))return!0;return!1}}function YY({onWakeWordDetected:e,enabled:t,language:n="en-US"}){const[r,s]=p.useState(!1),[i,o]=p.useState(!1),l=p.useRef(null),c=p.useRef(null),u=p.useRef(t),d=p.useRef(!1),f=p.useRef(0);p.useEffect(()=>{u.current=t},[t]),p.useEffect(()=>{const g=window.SpeechRecognition||window.webkitSpeechRecognition;o(!!g)},[]);const h=p.useCallback(g=>{const w=g.toLowerCase().trim();return["hey waiterix","hey waitrix","hey wait tricks","hey wait trix","waiterix","waitrix"].some(v=>w.includes(v))},[]),m=p.useCallback(()=>{if(!(!i||!u.current))try{const g=window.SpeechRecognition||window.webkitSpeechRecognition;if(l.current||(l.current=new g,l.current.continuous=!0,l.current.interimResults=!0,l.current.lang=n,l.current.onstart=()=>{console.log("[Wake Word] Continuous listening started"),s(!0),d.current=!1},l.current.onresult=w=>{for(let x=w.resultIndex;x<w.results.length;x++){const v=w.results[x][0].transcript;console.log("[Wake Word] Heard:",v,"(final:",w.results[x].isFinal,")"),h(v)&&(console.log("[Wake Word] Wake word detected!"),e())}},l.current.onerror=w=>{if(console.warn("[Wake Word] Recognition error:",w.error),w.error==="not-allowed"||w.error==="service-not-allowed"){console.error("[Wake Word] Microphone permission denied"),u.current=!1,s(!1);return}if(w.error==="no-speech"||w.error==="audio-capture"){const x=Date.now();x-f.current>3e3&&u.current&&!d.current&&(console.log("[Wake Word] Will restart after error in 2 seconds..."),f.current=x,c.current=setTimeout(()=>{if(u.current&&!d.current&&l.current)try{l.current.start()}catch(b){console.warn("[Wake Word] Restart failed:",b)}},2e3))}},l.current.onend=()=>{if(console.log("[Wake Word] Recognition ended, user stopped:",d.current),d.current){s(!1);return}const w=Date.now(),x=w-f.current;u.current&&!d.current&&x>1e3&&(console.log("[Wake Word] Auto-restarting after normal end..."),f.current=w,c.current=setTimeout(()=>{if(u.current&&!d.current&&l.current)try{l.current.start()}catch(v){console.warn("[Wake Word] Auto-restart failed:",v)}},1e3))}),r){console.log("[Wake Word] Already listening, skipping start");return}l.current.start()}catch(g){console.error("[Wake Word] Failed to start recognition:",g),s(!1)}},[i,n,h,e,r]),y=p.useCallback(()=>{if(console.log("[Wake Word] User-initiated stop"),d.current=!0,c.current&&(clearTimeout(c.current),c.current=null),l.current)try{l.current.stop()}catch(g){console.warn("[Wake Word] Error stopping recognition:",g)}s(!1)},[]);return p.useEffect(()=>(t&&i?m():y(),()=>{y()}),[t,i,m,y]),p.useEffect(()=>()=>{if(c.current&&clearTimeout(c.current),l.current){try{l.current.abort()}catch{}l.current=null}},[]),{isListening:r,isSupported:i,startListening:m,stopListening:y}}const G2=p.forwardRef(({restaurantId:e,restaurantName:t,menuItems:n,onAddToCart:r,initiallyHidden:s=!1},i)=>{const{t:o,language:l}=Ot(),[c,u]=p.useState(!s),[d,f]=p.useState(!1),[h,m]=p.useState("idle"),[y,g]=p.useState("Processing..."),[w,x]=p.useState([]),[v,b]=p.useState(0),[S,C]=p.useState(!1),[k,E]=p.useState(!1),[N,j]=p.useState(()=>{if(typeof window<"u"){const J=localStorage.getItem("waiterix-wake-word-enabled");return J!==null?J==="true":!0}return!0}),[T,O]=p.useState(()=>typeof window<"u"?sessionStorage.getItem("waiterix-mic-permission-granted")==="true":!1),I=p.useRef(null),B=p.useRef([]),D=p.useRef(null),M=p.useRef(null),U=p.useRef(!1),$=p.useRef(`customer-${Date.now()}-${Math.random().toString(36).substr(2,9)}`),_=p.useRef(null),R=p.useRef(null),H=p.useRef(null),q=p.useRef(t?`Hey there! Welcome to ${t}. I'm your AI waiter. Press this button or say "Hey Waiterix" anytime to chat about the menu or place an order!`:"Hey there! I'm your AI waiter. Press this button or say 'Hey Waiterix' anytime to chat about the menu or place an order!");YY({onWakeWordDetected:()=>{console.log("[FloatingAIWaiter] Wake word detected, triggering conversation"),h==="idle"&&F()},enabled:N&&T,language:l}),p.useEffect(()=>{const J=()=>{const fe=sessionStorage.getItem("waiterix-mic-permission-granted")==="true";fe!==T&&O(fe)};J();const X=setInterval(J,1e3);return()=>clearInterval(X)},[T]),p.useEffect(()=>{typeof window<"u"&&localStorage.setItem("waiterix-wake-word-enabled",String(N))},[N]),p.useEffect(()=>(typeof window<"u"&&(D.current=new Audio,D.current.onplay=()=>{console.log("Audio started playing")},D.current.onended=()=>{console.log("Audio finished playing"),U.current||m("idle")},D.current.onpause=()=>{console.log("Audio paused"),U.current||m("idle")},D.current.onerror=J=>{console.error("Audio playback error:",J),U.current||m("idle")}),()=>{D.current&&(D.current.pause(),D.current.src=""),M.current&&clearTimeout(M.current),R.current&&(R.current.disconnect(),R.current=null),H.current&&(H.current.disconnect(),H.current=null),_.current&&(_.current.close(),_.current=null)}),[]),p.useImperativeHandle(i,()=>({triggerWelcome:async()=>{if(d)return;f(!0),console.log("Welcome triggered via overlay, showing AI Waiter and playing welcome"),u(!0),m("responding"),await be(),await oe(q.current)||(console.log("Welcome message failed to play"),m("idle"))}})),p.useEffect(()=>{!s&&!c&&u(!0)},[s,c]),p.useEffect(()=>{let J;if(!J)if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")J="ws://localhost:3006";else{console.warn("[FloatingAIWaiter] VITE_WEBSOCKET_URL not configured. WebSocket disabled.");return}const X=new WebSocket(`${J}?restaurantId=${e}&customerSessionId=${$.current}`);return X.onopen=()=>{console.log("WebSocket connected for customer")},X.onmessage=fe=>{const ve=JSON.parse(fe.data);if(ve.type==="chef-answer"){console.log("Received chef answer:",ve.data);const{answer:Se}=ve.data;x(je=>[...je,{role:"assistant",content:Se}]),oe(Se).catch(je=>{console.error("Failed to speak chef answer:",je)})}},X.onerror=fe=>{console.error("WebSocket error:",fe)},X.onclose=()=>{console.log("WebSocket disconnected")},()=>{X.close()}},[e]);const te=()=>{g("Processing..."),M.current=setTimeout(()=>{g("Answer's almost ready")},3e3)},Q=()=>{M.current&&(clearTimeout(M.current),M.current=null)},oe=async J=>{try{console.log("Speaking message:",J.substring(0,50)+"..."),m("responding"),Q(),U.current=!0;const X=Y2.tryPlayCachedPhrase(J);D.current&&(D.current.pause(),D.current.src="");const ve=await fetch("http://localhost:3005/dev/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:J,language:l,restaurantId:e})});if(console.log("TTS response status:",ve.status),ve.status===503)return console.warn("Voice features temporarily unavailable"),U.current=!1,m("idle"),!1;if(!ve.ok)return console.warn("Text-to-speech unavailable:",ve.statusText),U.current=!1,m("idle"),!1;const Se=await ve.blob();console.log("Audio blob size:",Se.size);const je=URL.createObjectURL(Se);if(D.current){D.current.src=je;try{return console.log("Attempting to play audio..."),D.current.load(),await D.current.play(),console.log("Audio playing successfully"),U.current=!1,!0}catch(xe){return console.error("Audio play error:",xe),console.error("Error details:",JSON.stringify(xe)),U.current=!1,m("idle"),!1}}return console.error("Audio ref not available"),U.current=!1,m("idle"),!1}catch(X){return console.error("Text-to-speech error:",X),U.current=!1,m("idle"),!1}},be=async()=>{if(!(k||!D.current))try{console.log("Unlocking audio for mobile browsers...");const J="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAADhAC7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7//////////////////////////////////////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAA4Tb7VefAAAAAAAAAAAAAAAAAAAA//sQZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZDgP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV";D.current.src=J,D.current.load();try{await D.current.play(),D.current.pause(),D.current.currentTime=0}catch(X){console.log("Silent play failed (expected on some browsers):",X)}D.current.src="",E(!0),console.log("Audio unlocked successfully")}catch(J){console.warn("Audio unlock failed:",J),E(!0)}},z=()=>{R.current&&(R.current.disconnect(),R.current=null),H.current&&(H.current.disconnect(),H.current=null),_.current&&(_.current.close(),_.current=null)},K=()=>{I.current&&I.current.state==="recording"&&(I.current.stop(),I.current.stream.getTracks().forEach(J=>J.stop())),z(),D.current&&(D.current.pause(),D.current.src=""),Q(),m("idle")},F=async()=>{if(console.log("Character clicked, current status:",h),k||await be(),!(h==="listening"||h==="processing")){if(h==="responding"){K();return}try{m("listening"),console.log("Requesting microphone access...");const J=await navigator.mediaDevices.getUserMedia({audio:!0});console.log("Microphone access granted");const X=new MediaRecorder(J,{mimeType:"audio/webm"});B.current=[],X.ondataavailable=Ie=>{Ie.data.size>0&&B.current.push(Ie.data)},X.onstop=async()=>{console.log("Recording stopped"),z(),m("processing"),te();const Ie=new Blob(B.current,{type:"audio/webm"});console.log("Audio blob size:",Ie.size);try{const P=new FormData;P.append("audio",Ie,"recording.webm"),P.append("language",l),P.append("restaurantId",e),console.log("Sending audio to speech-to-text...");const V="http://localhost:3005/dev",W=await fetch(`${V}/api/ai/speech-to-text`,{method:"POST",body:P});if(console.log("STT response status:",W.status),W.status===503){console.warn("Voice input temporarily unavailable"),Q(),m("idle");return}if(!W.ok)throw new Error("Speech-to-text failed");const{text:le}=await W.json();console.log("Transcribed text:",le);const Z=[...w,{role:"user",content:le}];x(Z),console.log("Sending to AI chat...");const G=await fetch(`${V}/api/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurantId:e,messages:Z,menuItems:n,language:l,customerSessionId:$.current})});if(console.log("Chat response status:",G.status),G.status===503){console.warn("AI chat temporarily unavailable"),Q(),m("idle");return}if(!G.ok)throw new Error("Chat failed");const{message:ce,addToCart:Ee}=await G.json();console.log("AI response:",ce.substring(0,50)+"..."),console.log("[FloatingAIWaiter] addToCart:",Ee),Ee&&Ee.length>0&&r&&(console.log("[FloatingAIWaiter] Adding items to cart:",Ee),Ee.forEach(Nt=>{console.log("[FloatingAIWaiter] Adding item:",Nt),r(Nt)}));let Ae=ce;v<2&&(Ae=ce+" Don't forget you have to press this button to speak.",b(Nt=>Nt+1));const Qe=[...Z,{role:"assistant",content:ce}];x(Qe),await oe(Ae)?Q():(console.warn("Speech failed, but conversation was successful"),Q(),setTimeout(()=>m("idle"),500))}catch(P){console.error("Error in voice pipeline:",P),Q(),m("idle")}},I.current=X,X.start(),console.log("Recording started (max 20 seconds, or until silence detected)..."),_.current=new AudioContext,H.current=_.current.createMediaStreamSource(J),R.current=_.current.createAnalyser(),R.current.fftSize=2048,H.current.connect(R.current);const fe=R.current.frequencyBinCount,ve=new Uint8Array(fe);let Se=null;const je=5,xe=1500,Ye=Date.now(),Me=()=>{if(X.state!=="recording"||!R.current)return;R.current.getByteTimeDomainData(ve);let Ie=0;for(let W=0;W<fe;W++){const le=Math.abs(ve[W]-128);Ie+=le}const P=Ie/fe,V=((Date.now()-Ye)/1e3).toFixed(1);if(P<je){if(Se===null)Se=Date.now(),console.log(`Silence started at ${V}s (volume: ${P.toFixed(1)})`);else if(Date.now()-Se>xe){const W=((Date.now()-Ye)/1e3).toFixed(1);console.log(`Silence detected after ${W}s, stopping recording early`),ju.playAck(),X.stop(),J.getTracks().forEach(le=>le.stop());return}}else Se!==null&&console.log(`Sound detected at ${V}s (volume: ${P.toFixed(1)}), continuing recording`),Se=null;requestAnimationFrame(Me)};requestAnimationFrame(Me),setTimeout(()=>{X.state==="recording"&&(console.log("Auto-stopping recording after 20 seconds"),ju.playAck(),X.stop(),J.getTracks().forEach(Ie=>Ie.stop()))},2e4)}catch(J){console.error("Microphone error:",J),z(),m("idle")}}},de=()=>{switch(h){case"listening":return o("listening");case"processing":return o("aiProcessing");case"responding":return o("speaking");default:return""}};return c?a.jsxs("div",{className:`fixed bottom-6 right-6 z-50 flex flex-col items-center gap-3 transition-all duration-500 ${c?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,"data-testid":"floating-ai-waiter",children:[a.jsxs("div",{onClick:F,onTouchStart:()=>C(!0),onTouchEnd:()=>C(!1),onMouseDown:()=>C(!0),onMouseUp:()=>C(!1),onMouseLeave:()=>C(!1),className:`
          relative w-[60px] h-[60px] rounded-full overflow-hidden
          flex items-center justify-center cursor-pointer shadow-2xl
          transition-all duration-200 ease-out
          ${h==="idle"?"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800":"bg-gradient-to-br from-primary to-primary/80"}
          ${h==="idle"?"hover:scale-105":""}
          ${h==="listening"?"scale-110 shadow-[0_0_30px_rgba(59,130,246,0.6)]":""}
          ${h==="processing"?"scale-105":""}
          ${h==="responding"?"scale-110 shadow-[0_0_30px_rgba(59,130,246,0.4)]":""}
          ${S?"scale-95":""}
        `,style:{animation:h==="listening"||h==="processing"?"slowPulse 3s ease-in-out infinite":void 0},"data-testid":"button-ai-waiter",children:[h!=="idle"&&a.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/20",style:{animation:"slowPing 3s cubic-bezier(0, 0, 0.2, 1) infinite"}}),h==="idle"&&a.jsx("img",{src:K2,alt:"AI Waiter",className:"w-full h-full object-cover"}),a.jsxs("div",{className:"relative z-10 text-primary-foreground",children:[h==="listening"&&a.jsx(oh,{className:"w-6 h-6"}),h==="processing"&&a.jsx(Be,{className:"w-6 h-6 animate-spin"}),h==="responding"&&a.jsx(VT,{className:"w-6 h-6",style:{animation:"slowPulse 2s ease-in-out infinite"}})]})]}),a.jsx("div",{onClick:h==="idle"?F:void 0,onTouchStart:h==="idle"?()=>C(!0):void 0,onTouchEnd:h==="idle"?()=>C(!1):void 0,onMouseDown:h==="idle"?()=>C(!0):void 0,onMouseUp:h==="idle"?()=>C(!1):void 0,onMouseLeave:h==="idle"?()=>C(!1):void 0,className:`
          bg-primary text-primary-foreground px-5 py-2 rounded-full 
          text-xs font-medium shadow-lg
          transition-all duration-200
          ${h==="idle"?"cursor-pointer":""}
          ${h==="idle"&&S?"scale-95 shadow-md":"scale-100"}
        `,style:{animation:h==="idle"&&!S?"slowBounce 2s ease-in-out infinite":void 0},"data-testid":"text-status-label",children:h==="idle"?o("tapToTalk"):de()})]}):null});G2.displayName="FloatingAIWaiter";function GY({restaurantName:e,onDismiss:t}){const{t:n}=Ot(),r=s=>{s.preventDefault(),s.stopPropagation(),t()};return a.jsxs(Xs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center",onClick:r,onTouchEnd:r,"data-testid":"welcome-overlay",children:[a.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-lg"}),a.jsxs(Xs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.4,ease:"easeOut"},className:"relative z-10 flex flex-col items-center gap-6 px-8 py-12 max-w-md mx-4",children:[a.jsxs(Xs.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,duration:.5,type:"spring",bounce:.5},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/30 blur-2xl scale-125"}),a.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden bg-gradient-to-br from-primary to-primary/80 shadow-2xl",children:a.jsx("img",{src:K2,alt:"AI Waiter",className:"w-full h-full object-cover"})}),a.jsx(Xs.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-2 -right-2",children:a.jsx(LT,{className:"w-6 h-6 text-primary",fill:"currentColor"})})]}),a.jsxs(Xs.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.4},className:"text-center space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[a.jsx(TT,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium uppercase tracking-wider",children:e})]}),a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:n("welcome")}),a.jsx("p",{className:"text-muted-foreground text-base",children:n("meetYourAIWaiter")})]}),a.jsxs(Xs.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.7,duration:.4,type:"spring"},whileTap:{scale:.95},className:"relative",children:[a.jsx(Xs.div,{animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-full bg-primary/30"}),a.jsx("button",{className:"relative bg-primary text-primary-foreground px-8 py-4 rounded-full text-lg font-semibold shadow-lg","data-testid":"button-tap-to-start",children:n("tapToStart")})]}),a.jsx(Xs.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.4},className:"text-xs text-muted-foreground text-center",children:n("tapAnywhereToContinue")})]})]})}var Q2={exports:{}},QY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZY=QY,XY=ZY;function Z2(){}function X2(){}X2.resetWarningCache=Z2;var JY=function(){function e(r,s,i,o,l,c){if(c!==XY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:X2,resetWarningCache:Z2};return n.PropTypes=n,n};Q2.exports=JY();var eG=Q2.exports;const ot=Jh(eG);function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){J2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tf(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tf=function(t){return typeof t}:Tf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function J2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nG(e,t){if(e==null)return{};var n=tG(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eI(e,t){return rG(e)||sG(e,t)||iG(e,t)||aG()}function rG(e){if(Array.isArray(e))return e}function sG(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function iG(e,t){if(e){if(typeof e=="string")return dN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(e,t)}}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hn=function(t,n,r){var s=!!r,i=ee.useRef(r);ee.useEffect(function(){i.current=r},[r]),ee.useEffect(function(){if(!s||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,o),function(){t.off(n,o)}},[s,n,t,i])},Av=function(t){var n=ee.useRef(t);return ee.useEffect(function(){n.current=t},[t]),n.current},jl=function(t){return t!==null&&Tf(t)==="object"},oG=function(t){return jl(t)&&typeof t.then=="function"},lG=function(t){return jl(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},fN="[object Object]",cG=function e(t,n){if(!jl(t)||!jl(n))return t===n;var r=Array.isArray(t),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(t)===fN,o=Object.prototype.toString.call(n)===fN;if(i!==o)return!1;if(!i&&!r)return t===n;var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var m=t,y=n,g=function(x){return e(m[x],y[x])};return h.every(g)},tI=function(t,n,r){return jl(t)?Object.keys(t).reduce(function(s,i){var o=!jl(n)||!cG(t[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?uN(uN({},s||{}),{},J2({},i,t[i])):s},null):null},nI="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",hN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nI;if(t===null||lG(t))return t;throw new Error(n)},uG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nI;if(oG(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return hN(s,n)})};var r=hN(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},dG=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),t.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},em=ee.createContext(null);em.displayName="ElementsContext";var rI=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},sI=function(t){var n=t.stripe,r=t.options,s=t.children,i=ee.useMemo(function(){return uG(n)},[n]),o=ee.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),l=eI(o,2),c=l[0],u=l[1];ee.useEffect(function(){var h=!0,m=function(g){u(function(w){return w.stripe?w:{stripe:g,elements:g.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(y){y&&h&&m(y)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){h=!1}},[i,c,r]);var d=Av(n);ee.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=Av(r);return ee.useEffect(function(){if(c.elements){var h=tI(r,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,f,c.elements]),ee.useEffect(function(){dG(c.stripe)},[c.stripe]),ee.createElement(em.Provider,{value:c},s)};sI.propTypes={stripe:ot.any,options:ot.object};var fG=function(t){var n=ee.useContext(em);return rI(n,t)},hG=function(){var t=fG("calls useElements()"),n=t.elements;return n};ot.func.isRequired;var iI=ee.createContext(null);iI.displayName="CheckoutContext";ot.any,ot.shape({clientSecret:ot.oneOfType([ot.string,ot.instanceOf(Promise)]).isRequired,elementsOptions:ot.object}).isRequired;var Pv=function(t){var n=ee.useContext(iI),r=ee.useContext(em);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return rI(r,t)},pG=["mode"],mG=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},On=function(t,n){var r="".concat(mG(t),"Element"),s=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,m=c.onBlur,y=c.onFocus,g=c.onReady,w=c.onChange,x=c.onEscape,v=c.onClick,b=c.onLoadError,S=c.onLoaderStart,C=c.onNetworksChange,k=c.onConfirm,E=c.onCancel,N=c.onShippingAddressChange,j=c.onShippingRateChange,T=c.onSavedPaymentMethodRemove,O=c.onSavedPaymentMethodUpdate,I=Pv("mounts <".concat(r,">")),B="elements"in I?I.elements:null,D="checkoutState"in I?I.checkoutState:null,M=(D==null?void 0:D.type)==="success"||(D==null?void 0:D.type)==="loading"?D.sdk:null,U=ee.useState(null),$=eI(U,2),_=$[0],R=$[1],H=ee.useRef(null),q=ee.useRef(null);hn(_,"blur",m),hn(_,"focus",y),hn(_,"escape",x),hn(_,"click",v),hn(_,"loaderror",b),hn(_,"loaderstart",S),hn(_,"networkschange",C),hn(_,"confirm",k),hn(_,"cancel",E),hn(_,"shippingaddresschange",N),hn(_,"shippingratechange",j),hn(_,"savedpaymentmethodremove",T),hn(_,"savedpaymentmethodupdate",O),hn(_,"change",w);var te;g&&(t==="expressCheckout"?te=g:te=function(){g(_)}),hn(_,"ready",te),ee.useLayoutEffect(function(){if(H.current===null&&q.current!==null&&(B||M)){var oe=null;if(M)switch(t){case"paymentForm":oe=M.createPaymentFormElement();break;case"payment":oe=M.createPaymentElement(h);break;case"address":if("mode"in h){var be=h.mode,z=nG(h,pG);if(be==="shipping")oe=M.createShippingAddressElement(z);else if(be==="billing")oe=M.createBillingAddressElement(z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":oe=M.createExpressCheckoutElement(h);break;case"currencySelector":oe=M.createCurrencySelectorElement();break;case"taxId":oe=M.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else B&&(oe=B.create(t,h));H.current=oe,R(oe),oe&&oe.mount(q.current)}},[B,M,h]);var Q=Av(h);return ee.useEffect(function(){if(H.current){var oe=tI(h,Q,["paymentRequest"]);oe&&"update"in H.current&&H.current.update(oe)}},[h,Q]),ee.useLayoutEffect(function(){return function(){if(H.current&&typeof H.current.destroy=="function")try{H.current.destroy(),H.current=null}catch{}}},[]),ee.createElement("div",{id:u,className:d,ref:q})},i=function(c){Pv("mounts <".concat(r,">"));var u=c.id,d=c.className;return ee.createElement("div",{id:u,className:d})},o=n?i:s;return o.propTypes={id:ot.string,className:ot.string,onChange:ot.func,onBlur:ot.func,onFocus:ot.func,onReady:ot.func,onEscape:ot.func,onClick:ot.func,onLoadError:ot.func,onLoaderStart:ot.func,onNetworksChange:ot.func,onConfirm:ot.func,onCancel:ot.func,onShippingAddressChange:ot.func,onShippingRateChange:ot.func,onSavedPaymentMethodRemove:ot.func,onSavedPaymentMethodUpdate:ot.func,options:ot.object},o.displayName=r,o.__elementType=t,o},Dn=typeof window>"u",gG=ee.createContext(null);gG.displayName="EmbeddedCheckoutProviderContext";var yG=function(){var t=Pv("calls useStripe()"),n=t.stripe;return n};On("auBankAccount",Dn);On("card",Dn);On("cardNumber",Dn);On("cardExpiry",Dn);On("cardCvc",Dn);On("iban",Dn);var vG=On("payment",Dn);On("expressCheckout",Dn);On("paymentRequestButton",Dn);On("linkAuthentication",Dn);On("address",Dn);On("shippingAddress",Dn);On("paymentMethodMessaging",Dn);On("taxId",Dn);var aI="clover",xG=function(t){return t===3?"v3":t},oI="https://js.stripe.com",wG="".concat(oI,"/").concat(aI,"/stripe.js"),bG=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,SG=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var CG=function(t){return bG.test(t)||SG.test(t)},NG=function(){for(var t=document.querySelectorAll('script[src^="'.concat(oI,'"]')),n=0;n<t.length;n++){var r=t[n];if(CG(r.src))return r}return null},pN=function(t){var n="",r=document.createElement("script");r.src="".concat(wG).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},jG=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:n})},ic=null,Zd=null,Xd=null,EG=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},kG=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},TG=function(t){return ic!==null?ic:(ic=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=NG();if(!(s&&t)){if(!s)s=pN(t);else if(s&&Xd!==null&&Zd!==null){var i;s.removeEventListener("load",Xd),s.removeEventListener("error",Zd),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=pN(t)}}Xd=kG(n,r),Zd=EG(r),s.addEventListener("load",Xd),s.addEventListener("error",Zd)}catch(o){r(o);return}}),ic.catch(function(n){return ic=null,Promise.reject(n)}))},_G=function(t,n,r){if(t===null)return null;var s=n[0],i=s.match(/^pk_test/),o=xG(t.version),l=aI;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return jG(c,r),c},ac,lI=!1,cI=function(){return ac||(ac=TG(null).catch(function(t){return ac=null,Promise.reject(t)}),ac)};Promise.resolve().then(function(){return cI()}).catch(function(e){lI||console.warn(e)});var uI=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];lI=!0;var s=Date.now();return cI().then(function(i){return _G(i,n,s)})};const mr=p.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));mr.displayName="Textarea";const AG=Ja("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Eu=p.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:re(AG({variant:t}),e),...n}));Eu.displayName="Alert";const dI=p.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));dI.displayName="AlertTitle";const ku=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",e),...t}));ku.displayName="AlertDescription";function PG({items:e,subtotal:t,tax:n,tip:r,total:s,restaurantId:i,tableId:o,stripeAccountId:l,onSuccess:c,onOrderComplete:u}){const d=yG(),f=hG(),{toast:h}=it(),[,m]=ls(),[y,g]=p.useState(!1),[w,x]=p.useState(""),{formatCurrency:v}=Ot(),b=async S=>{if(S.preventDefault(),!(!d||!f)){g(!0);try{const C={restaurantId:i,tableId:o,items:e.map(O=>({...O,price:O.price.toFixed(2)})),subtotal:t.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"online",customerNote:w,stripeAccountId:l,timestamp:Date.now()};localStorage.setItem("pendingOrder",JSON.stringify(C));const k=`${window.location.origin}/menu/${i}?payment=success`,{error:E,paymentIntent:N}=await d.confirmPayment({elements:f,redirect:"if_required",confirmParams:{return_url:k}});if(E){localStorage.removeItem("pendingOrder"),h({title:"Payment Failed",description:E.message,variant:"destructive"}),g(!1);return}const j=await Pe("POST","/api/orders",{restaurantId:i,tableId:o,items:e.map(O=>({...O,price:O.price.toFixed(2)})),subtotal:t.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"online",customerNote:w,stripePaymentIntentId:N.id});if(!j.ok){const O=await j.json();throw new Error(O.message||"Order creation failed")}const T=await j.json();localStorage.removeItem("pendingOrder"),u?(u(T.id),c()):m(`/receipt/${T.id}`)}catch(C){localStorage.removeItem("pendingOrder");try{const E=(C.message||String(C)).match(/:\s*(\{.*\})\s*$/);if(E){const N=JSON.parse(E[1]);if(N.error==="subscription_required"){h({title:"Orders Not Available",description:N.message||"This restaurant is not currently accepting orders.",variant:"destructive"}),g(!1);return}}}catch{}h({title:"Order Failed",description:"Payment was successful but order creation failed. Please contact support.",variant:"destructive"}),g(!1)}}};return a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{children:"Customer Notes (Optional)"}),a.jsx(mr,{placeholder:"Any special requests or dietary requirements...",value:w,onChange:S=>x(S.target.value),"data-testid":"input-customer-note"})]}),a.jsxs("div",{children:[a.jsx(Ze,{className:"mb-3 block",children:"Payment Information"}),a.jsx(vG,{})]}),a.jsx(Y,{type:"submit",className:"w-full",size:"lg",disabled:!d||y,"data-testid":"button-confirm-payment",children:y?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):`Pay ${v(s)}`})]})}function RG({items:e,subtotal:t,tax:n,tip:r,total:s,restaurantId:i,tableId:o,onSuccess:l,onOrderComplete:c}){const{toast:u}=it(),[,d]=ls(),[f,h]=p.useState(!1),[m,y]=p.useState(""),{formatCurrency:g}=Ot(),w=async x=>{x.preventDefault(),h(!0);try{const v=await Pe("POST","/api/orders",{restaurantId:i,tableId:o,items:e.map(S=>({...S,price:S.price.toFixed(2)})),subtotal:t.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"cash",customerNote:m});if(!v.ok){const S=await v.json();throw new Error(S.message||"Order creation failed")}const b=await v.json();c?(c(b.id),l()):d(`/receipt/${b.id}`)}catch(v){try{const S=(v.message||String(v)).match(/:\s*(\{.*\})\s*$/);if(S){const C=JSON.parse(S[1]);if(C.error==="subscription_required"){u({title:"Orders Not Available",description:C.message||"This restaurant is not currently accepting orders.",variant:"destructive"}),h(!1);return}}}catch{}u({title:"Order Failed",description:"Failed to place order. Please try again.",variant:"destructive"}),h(!1)}};return a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{children:"Customer Notes (Optional)"}),a.jsx(mr,{placeholder:"Any special requests or dietary requirements...",value:m,onChange:x=>y(x.target.value),"data-testid":"input-customer-note"})]}),a.jsx("div",{className:"rounded-lg bg-muted p-4 space-y-2",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Vi,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Cash Payment"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Please pay ",g(s)," at the register when you pick up your order."]})]})]})}),a.jsx(Y,{type:"submit",className:"w-full",size:"lg",disabled:f,"data-testid":"button-confirm-cash-order",children:f?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Placing Order..."]}):"Place Order"})]})}function IG({items:e,subtotal:t,tax:n,tip:r,total:s,restaurantId:i,tableId:o,onSuccess:l,onOrderComplete:c}){const{toast:u}=it(),[d,f]=p.useState(!1),[h,m]=p.useState(""),[y,g]=p.useState(""),{formatCurrency:w}=Ot(),x=async v=>{if(v.preventDefault(),y&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y)){u({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"});return}f(!0);try{const b=await Pe("POST","/api/orders",{restaurantId:i,tableId:o,items:e.map(j=>({...j,price:j.price.toFixed(2)})),subtotal:t.toFixed(2),tax:n.toFixed(2),tip:r.toFixed(2),total:s.toFixed(2),paymentMethod:"online",customerNote:h});if(!b.ok){const j=await b.json();throw new Error(j.message||"Order creation failed")}const C=(await b.json()).id,k=y||`customer-${C.slice(0,8)}@waiterix.app`,E=await Pe("POST","/api/paystack/initialize-payment",{orderId:C,customerEmail:k});if(!E.ok){const j=await E.json();if(j.paymentUnavailable){u({title:"Payment Unavailable",description:j.message||"Online payment is not available. Please choose cash payment.",variant:"destructive"}),f(!1);return}throw new Error(j.message||"Payment initialization failed")}const N=await E.json();window.location.href=N.authorizationUrl}catch(b){u({title:"Error",description:b.message||"Failed to initialize payment. Please try again.",variant:"destructive"}),f(!1)}};return a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{children:"Email Address (Optional)"}),a.jsx(ze,{type:"email",placeholder:"your@email.com (optional)",value:y,onChange:v=>g(v.target.value),"data-testid":"input-customer-email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional: We can send your receipt to this email"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ze,{children:"Customer Notes (Optional)"}),a.jsx(mr,{placeholder:"Any special requests or dietary requirements...",value:h,onChange:v=>m(v.target.value),"data-testid":"input-customer-note"})]}),a.jsx("div",{className:"rounded-lg bg-muted p-4 space-y-2",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Fo,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Secure Online Payment"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["You'll be redirected to Paystack to complete your payment of ",w(s)," securely."]})]})]})}),a.jsx(Y,{type:"submit",className:"w-full",size:"lg",disabled:d,"data-testid":"button-confirm-paystack-payment",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Redirecting to Payment..."]}):`Pay ${w(s)} with Paystack`})]})}function MG({open:e,onOpenChange:t,items:n,subtotal:r,tax:s,total:i,paymentMethod:o,restaurantId:l,tableId:c,onSuccess:u,onOrderComplete:d}){const{toast:f}=it(),{formatCurrency:h,currencyCode:m}=Ot(),[y,g]=p.useState(null),[w,x]=p.useState(null),[v,b]=p.useState(null),[S,C]=p.useState(!1),[k,E]=p.useState(null),[N,j]=p.useState(null),[T,O]=p.useState(""),{data:I}=Je({queryKey:["/api/public/restaurant",l],enabled:!!l}),B=!!(I!=null&&I.paystackSubaccountCode),D=T?parseFloat(T)||0:N?r*(N/100):0,M=i+D;p.useEffect(()=>{e&&o==="online"&&!B&&(console.log("CheckoutDialog: Starting payment intent creation for amount:",M),C(!0),g(null),E(null),Pe("POST","/api/create-payment-intent",{amount:M,restaurantId:l}).then(async $=>{const _=await $.json();if(_.error==="subscription_required"){E(_.message||"This restaurant is not currently accepting orders."),C(!1);return}console.log("Payment intent created successfully:",_),console.log("Client secret received:",_.clientSecret?"yes":"no"),console.log("Stripe account ID received:",_.stripeAccountId?"yes":"no"),g(_.clientSecret),x(_.stripeAccountId);const R="pk_test_51SXnfY2VZXX1nihiLJ78hL5DVPaOqoXhU2TwGCldGBJzrAgGNJ6lTxYsNW6bE1bMFJ7KIBH9Gdz7NJdOUyCYz2AE00Ux84umtM";if(!_.stripeAccountId){console.error("Stripe account ID not received from server"),E("Restaurant payment setup is incomplete. Please contact support."),C(!1);return}const H=uI(R,{stripeAccount:_.stripeAccountId});b(H),C(!1)}).catch($=>{console.error("Failed to create payment intent:",$);try{const R=($.message||String($)).match(/:\s*(\{.*\})\s*$/);if(R){const H=JSON.parse(R[1]);if(H.error==="subscription_required"){E(H.message||"This restaurant is not currently accepting orders."),C(!1);return}}}catch{}f({title:"Payment Error",description:"Failed to initialize payment. Please try again.",variant:"destructive"}),C(!1)}))},[e,o,M,l,f]);const U=()=>{u(),t(!1)};return a.jsx(vn,{open:e,onOpenChange:t,children:a.jsxs(ln,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(xn,{children:a.jsx(cn,{children:"Checkout"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Order Summary"}),a.jsx("div",{className:"space-y-3",children:n.map($=>a.jsxs("div",{className:"space-y-1","data-testid":`checkout-item-${$.id}`,children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[$.quantity,"x ",$.name]}),a.jsx("span",{children:h($.price*$.quantity)})]}),$.customerNote&&a.jsxs("p",{className:"text-xs text-muted-foreground italic pl-6","data-testid":`checkout-item-note-${$.id}`,children:["Note: ",$.customerNote]})]},$.id))}),a.jsx(zt,{}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),a.jsx("span",{"data-testid":"checkout-subtotal",children:h(r)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax (10%)"}),a.jsx("span",{"data-testid":"checkout-tax",children:h(s)})]}),D>0&&a.jsxs("div",{className:"flex justify-between text-primary",children:[a.jsx("span",{children:"Tip"}),a.jsx("span",{"data-testid":"checkout-tip",children:h(D)})]}),a.jsx(zt,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{"data-testid":"checkout-total",children:h(M)})]})]})]}),a.jsx(zt,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ze,{className:"text-base font-semibold",children:"Add a Tip (Optional)"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Show your appreciation for great service"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(Y,{type:"button",variant:N===10?"default":"outline",onClick:()=>{j(10),O("")},"data-testid":"button-tip-10",children:"10%"}),a.jsx(Y,{type:"button",variant:N===15?"default":"outline",onClick:()=>{j(15),O("")},"data-testid":"button-tip-15",children:"15%"}),a.jsx(Y,{type:"button",variant:N===20?"default":"outline",onClick:()=>{j(20),O("")},"data-testid":"button-tip-20",children:"20%"}),a.jsx(Y,{type:"button",variant:N===null&&!T?"default":"outline",onClick:()=>{j(null),O("")},"data-testid":"button-tip-none",children:"None"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"custom-tip",children:"Custom Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:m&&i1[m]?i1[m]:"$"}),a.jsx("input",{id:"custom-tip",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:T,onChange:$=>{O($.target.value),j(null)},className:"w-full pl-7 pr-3 py-2 border rounded-md","data-testid":"input-custom-tip"})]})]})]}),a.jsx(zt,{}),k&&a.jsx(Eu,{variant:"destructive","data-testid":"alert-subscription-error",children:a.jsx(ku,{children:k})}),o==="online"?B?a.jsx(IG,{items:n,subtotal:r,tax:s,tip:D,total:M,restaurantId:l,tableId:c,onSuccess:U,onOrderComplete:d}):k?null:S||!y||!v?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsx(sI,{stripe:v,options:{clientSecret:y,appearance:{theme:"stripe"}},children:a.jsx(PG,{items:n,subtotal:r,tax:s,tip:D,total:M,restaurantId:l,tableId:c,stripeAccountId:w,onSuccess:U,onOrderComplete:d})}):a.jsx(RG,{items:n,subtotal:r,tax:s,tip:D,total:M,restaurantId:l,tableId:c,onSuccess:U,onOrderComplete:d})]})]})})}function ut(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Hi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const fI=6048e5,OG=864e5,Jd=43200,mN=1440;let DG={};function gd(){return DG}function Tu(e,t){var l,c,u,d;const n=gd(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ut(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ah(e){return Tu(e,{weekStartsOn:1})}function hI(e){const t=ut(e),n=t.getFullYear(),r=Hi(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ah(r),i=Hi(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ah(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function gN(e){const t=ut(e);return t.setHours(0,0,0,0),t}function Ph(e){const t=ut(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function LG(e,t){const n=gN(e),r=gN(t),s=+n-Ph(n),i=+r-Ph(r);return Math.round((s-i)/OG)}function FG(e){const t=hI(e),n=Hi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ah(n)}function _f(e,t){const n=ut(e),r=ut(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function VG(e){return Hi(e,Date.now())}function UG(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $G(e){if(!UG(e)&&typeof e!="number")return!1;const t=ut(e);return!isNaN(Number(t))}function BG(e,t){const n=ut(e),r=ut(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function WG(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function zG(e,t){return+ut(e)-+ut(t)}function HG(e){const t=ut(e);return t.setHours(23,59,59,999),t}function qG(e){const t=ut(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function KG(e){const t=ut(e);return+HG(t)==+qG(t)}function YG(e,t){const n=ut(e),r=ut(t),s=_f(n,r),i=Math.abs(BG(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=_f(n,r)===-s;KG(ut(e))&&i===1&&_f(e,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function GG(e,t,n){const r=zG(e,t)/1e3;return WG(n==null?void 0:n.roundingMethod)(r)}function QG(e){const t=ut(e),n=Hi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ZG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XG=(e,t,n)=>{let r;const s=ZG[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const JG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nQ={date:Cg({formats:JG,defaultWidth:"full"}),time:Cg({formats:eQ,defaultWidth:"full"}),dateTime:Cg({formats:tQ,defaultWidth:"full"})},rQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sQ=(e,t,n,r)=>rQ[e];function oc(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const iQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dQ=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fQ={ordinalNumber:dQ,era:oc({values:iQ,defaultWidth:"wide"}),quarter:oc({values:aQ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:oc({values:oQ,defaultWidth:"wide"}),day:oc({values:lQ,defaultWidth:"wide"}),dayPeriod:oc({values:cQ,defaultWidth:"wide",formattingValues:uQ,defaultFormattingWidth:"wide"})};function lc(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pQ(l,f=>f.test(o)):hQ(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function hQ(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function pQ(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mQ(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const gQ=/^(\d+)(th|st|nd|rd)?/i,yQ=/\d+/i,vQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xQ={any:[/^b/i,/^(a|c)/i]},wQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bQ={any:[/1/i,/2/i,/3/i,/4/i]},SQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TQ={ordinalNumber:mQ({matchPattern:gQ,parsePattern:yQ,valueCallback:e=>parseInt(e,10)}),era:lc({matchPatterns:vQ,defaultMatchWidth:"wide",parsePatterns:xQ,defaultParseWidth:"any"}),quarter:lc({matchPatterns:wQ,defaultMatchWidth:"wide",parsePatterns:bQ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lc({matchPatterns:SQ,defaultMatchWidth:"wide",parsePatterns:CQ,defaultParseWidth:"any"}),day:lc({matchPatterns:NQ,defaultMatchWidth:"wide",parsePatterns:jQ,defaultParseWidth:"any"}),dayPeriod:lc({matchPatterns:EQ,defaultMatchWidth:"any",parsePatterns:kQ,defaultParseWidth:"any"})},pI={code:"en-US",formatDistance:XG,formatLong:nQ,formatRelative:sQ,localize:fQ,match:TQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _Q(e){const t=ut(e);return LG(t,QG(t))+1}function AQ(e){const t=ut(e),n=+Ah(t)-+FG(t);return Math.round(n/fI)+1}function mI(e,t){var d,f,h,m;const n=ut(e),r=n.getFullYear(),s=gd(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Hi(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Tu(o,t),c=Hi(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Tu(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function PQ(e,t){var l,c,u,d;const n=gd(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=mI(e,t),i=Hi(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Tu(i,t)}function RQ(e,t){const n=ut(e),r=+Tu(n,t)-+PQ(n,t);return Math.round(r/fI)+1}function nt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Js={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return nt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):nt(n+1,2)},d(e,t){return nt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return nt(e.getHours()%12||12,t.length)},H(e,t){return nt(e.getHours(),t.length)},m(e,t){return nt(e.getMinutes(),t.length)},s(e,t){return nt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return nt(s,t.length)}},oo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yN={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Js.y(e,t)},Y:function(e,t,n,r){const s=mI(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return nt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):nt(i,t.length)},R:function(e,t){const n=hI(e);return nt(n,t.length)},u:function(e,t){const n=e.getFullYear();return nt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Js.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=RQ(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):nt(s,t.length)},I:function(e,t,n){const r=AQ(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):nt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Js.d(e,t)},D:function(e,t,n){const r=_Q(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):nt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return nt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return nt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return nt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=oo.noon:r===0?s=oo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=oo.evening:r>=12?s=oo.afternoon:r>=4?s=oo.morning:s=oo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Js.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Js.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Js.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Js.s(e,t)},S:function(e,t){return Js.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return xN(r);case"XXXX":case"XX":return ca(r);case"XXXXX":case"XXX":default:return ca(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return xN(r);case"xxxx":case"xx":return ca(r);case"xxxxx":case"xxx":default:return ca(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vN(r,":");case"OOOO":default:return"GMT"+ca(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vN(r,":");case"zzzz":default:return"GMT"+ca(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return nt(r,t.length)},T:function(e,t,n){const r=e.getTime();return nt(r,t.length)}};function vN(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+nt(i,2)}function xN(e,t){return e%60===0?(e>0?"-":"+")+nt(Math.abs(e)/60,2):ca(e,t)}function ca(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=nt(Math.trunc(r/60),2),i=nt(r%60,2);return n+s+t+i}const wN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},gI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},IQ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return wN(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",wN(r,t)).replace("{{time}}",gI(s,t))},MQ={p:gI,P:IQ},OQ=/^D+$/,DQ=/^Y+$/,LQ=["D","DD","YY","YYYY"];function FQ(e){return OQ.test(e)}function VQ(e){return DQ.test(e)}function UQ(e,t,n){const r=$Q(e,t,n);if(console.warn(r),LQ.includes(e))throw new RangeError(r)}function $Q(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const BQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zQ=/^'([^]*?)'?$/,HQ=/''/g,qQ=/[a-zA-Z]/;function Ps(e,t,n){var d,f,h,m;const r=gd(),s=r.locale??pI,i=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=ut(e);if(!$G(l))throw new RangeError("Invalid time value");let c=t.match(WQ).map(y=>{const g=y[0];if(g==="p"||g==="P"){const w=MQ[g];return w(y,s.formatLong)}return y}).join("").match(BQ).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:KQ(y)};if(yN[g])return{isToken:!0,value:y};if(g.match(qQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const g=y.value;(VQ(g)||FQ(g))&&UQ(g,t,String(e));const w=yN[g[0]];return w(l,g,s.localize,u)}).join("")}function KQ(e){const t=e.match(zQ);return t?t[1].replace(HQ,"'"):e}function YQ(e,t,n){const r=gd(),s=(n==null?void 0:n.locale)??r.locale??pI,i=2520,o=_f(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=ut(t),u=ut(e)):(c=ut(e),u=ut(t));const d=GG(u,c),f=(Ph(u)-Ph(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<mN){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<Jd){const y=Math.round(h/mN);return s.formatDistance("xDays",y,l)}else if(h<Jd*2)return m=Math.round(h/Jd),s.formatDistance("aboutXMonths",m,l)}if(m=YG(u,c),m<12){const y=Math.round(h/Jd);return s.formatDistance("xMonths",y,l)}else{const y=m%12,g=Math.trunc(m/12);return y<3?s.formatDistance("aboutXYears",g,l):y<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function Ub(e,t){return YQ(e,VG(e),t)}function GQ({orderId:e,open:t,onOpenChange:n}){const[r,s]=p.useState(!1),[i,o]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(!1),{toast:f}=it(),{t:h,formatCurrency:m}=Ot();p.useEffect(()=>{if(!t||!e)return;const x=document.createElement("style");return x.textContent=`
      @media print {
        body * {
          visibility: hidden;
        }
        .receipt-printable-dialog,
        .receipt-printable-dialog * {
          visibility: visible;
        }
        .receipt-printable-dialog {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
        }
        @page {
          margin: 1cm;
        }
      }
    `,document.head.appendChild(x),()=>{document.head.removeChild(x)}},[t,e]);const{data:y,isLoading:g}=Je({queryKey:["/api/orders",e,"receipt"],enabled:!!e&&t}),w=async()=>{if(!i||!e)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){f({title:h("invalidEmail"),description:h("pleaseEnterValidEmail"),variant:"destructive"});return}c(!0);try{const v=await Pe("POST",`/api/orders/${e}/email-receipt`,{email:i});if(v.ok)f({title:h("receiptSent"),description:`${h("receiptSentTo")} ${i}`}),s(!1),o("");else{const b=await v.json();throw new Error(b.message||"Failed to send email")}}catch(v){console.error("Error sending receipt email:",v),f({title:h("failedToSend"),description:v instanceof Error?v.message:h("couldNotSendEmail"),variant:"destructive"})}finally{c(!1)}};return e?a.jsxs(a.Fragment,{children:[a.jsx(vn,{open:t,onOpenChange:n,children:a.jsx(ln,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-receipt",children:g?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-receipt"})}):y?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-6 print:hidden",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full mb-4",children:a.jsx(aw,{className:"h-8 w-8 text-green-600 dark:text-green-400","data-testid":"icon-success"})}),a.jsx(cn,{className:"text-3xl font-bold mb-2",children:y.order.paymentMethod==="cash"?h("invoice"):h("receipt")}),a.jsx(hr,{className:"text-base",children:h("thankYouForYourOrder")})]}),a.jsxs("div",{className:"space-y-6 receipt-printable-dialog",children:[a.jsxs("div",{className:"text-center border-b pb-6",children:[a.jsx("img",{src:Ba,alt:"Waiterix",className:"h-12 w-12 mx-auto mb-3","data-testid":"img-logo"}),a.jsx("h2",{className:"text-2xl font-bold mb-1",children:y.restaurant.name}),y.restaurant.address&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.restaurant.address,y.restaurant.city&&`, ${y.restaurant.city}`,y.restaurant.country&&`, ${y.restaurant.country}`]}),y.restaurant.phone&&a.jsx("p",{className:"text-sm text-muted-foreground",children:y.restaurant.phone})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("orderNumber")}),a.jsxs("p",{className:"font-medium","data-testid":"text-order-number",children:["#",y.order.id.slice(0,8).toUpperCase()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("dateAndTime")}),a.jsx("p",{className:"font-medium","data-testid":"text-order-date",children:Ps(new Date(y.order.createdAt),"MMM d, yyyy 'at' h:mm a")})]}),y.table&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("table")}),a.jsxs("p",{className:"font-medium","data-testid":"text-table-number",children:[h("table")," ",y.table.tableNumber]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:h("paymentMethod")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{variant:"secondary","data-testid":"badge-payment-method",children:y.order.paymentMethod==="card"?"Card":y.order.paymentMethod.charAt(0).toUpperCase()+y.order.paymentMethod.slice(1)}),y.order.paymentStatus==="completed"&&a.jsx(He,{variant:"outline",className:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400",children:h("paid")}),y.order.paymentStatus==="pending"&&a.jsx(He,{variant:"outline",className:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400",children:h("pending")})]})]})]}),a.jsx(zt,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:h("orderItems")}),a.jsx("div",{className:"space-y-3",children:y.items.map(x=>a.jsxs("div",{className:"flex justify-between items-start","data-testid":`item-${x.id}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:x.name}),a.jsxs("span",{className:"text-muted-foreground",children:["x",x.quantity]})]}),x.modifiers&&x.modifiers.length>0&&a.jsx("div",{className:"text-sm text-muted-foreground ml-4 mt-1",children:x.modifiers.map((v,b)=>a.jsxs("div",{children:["+ ",v.name," ",parseFloat(v.price)>0&&`(+${m(parseFloat(v.price))})`]},b))}),x.customerNote&&a.jsxs("p",{className:"text-sm text-muted-foreground ml-4 mt-1",children:["Note: ",x.customerNote]})]}),a.jsx("span",{className:"font-medium ml-4","data-testid":`item-price-${x.id}`,children:m(parseFloat(x.price)*x.quantity)})]},x.id))})]}),a.jsx(zt,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:h("subtotal")}),a.jsx("span",{"data-testid":"text-subtotal",children:m(parseFloat(y.order.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:h("tax")}),a.jsx("span",{"data-testid":"text-tax",children:m(parseFloat(y.order.tax))})]}),parseFloat(y.order.tip)>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tip"}),a.jsx("span",{"data-testid":"text-tip",children:m(parseFloat(y.order.tip))})]}),a.jsx(zt,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:h("total")}),a.jsx("span",{"data-testid":"text-total",children:m(parseFloat(y.order.total))})]})]}),y.order.customerNote&&a.jsxs(a.Fragment,{children:[a.jsx(zt,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:h("specialInstructions")}),a.jsx("p",{className:"text-sm",children:y.order.customerNote})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 print:hidden",children:[a.jsxs(Y,{variant:"outline",className:"flex-1",onClick:()=>s(!0),"data-testid":"button-email-receipt",children:[a.jsx(gl,{className:"h-4 w-4 mr-2"}),h("emailReceipt")]}),a.jsxs(Y,{variant:"outline",className:"flex-1",disabled:u,onClick:()=>{u||(d(!0),window.print(),setTimeout(()=>d(!1),2e3))},"data-testid":"button-print-receipt",children:[a.jsx(Sp,{className:"h-4 w-4 mr-2"}),h(u?"printing":"printSavePDF")]})]}),a.jsxs("div",{className:"space-y-3 pt-4 print:hidden",children:[a.jsxs(Y,{className:"w-full",onClick:()=>{f({title:h("openingOrderTracking"),description:h("orderTrackingWillOpen")}),window.open(`/track/${e}`,"_blank")},"data-testid":"button-track-order",children:[a.jsx(ow,{className:"h-4 w-4 mr-2"}),h("trackYourOrder")]}),a.jsx(Y,{variant:"outline",onClick:()=>n(!1),className:"w-full","data-testid":"button-close-receipt",children:h("continueBrowsingMenu")})]}),a.jsx("div",{className:"text-center pt-4 border-t mt-4 print:hidden",children:a.jsx("a",{href:"https://waiterix.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover-elevate inline-block px-3 py-1.5 rounded-md transition-colors","data-testid":"link-waiterix-branding-receipt",children:"Powered by Waiterix.com - AI Ordering Made Simple"})})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:h("receiptNotFound")})})})}),a.jsx(vn,{open:r,onOpenChange:s,children:a.jsxs(ln,{"data-testid":"dialog-email-receipt",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:h("emailReceipt")}),a.jsx(hr,{children:h("enterEmailToReceiveReceipt")})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{children:[a.jsx(Ze,{htmlFor:"email",children:h("emailAddress")}),a.jsx(ze,{id:"email",type:"email",placeholder:"your@email.com",value:i,onChange:x=>o(x.target.value),onKeyDown:x=>x.key==="Enter"&&w(),"data-testid":"input-email"})]})}),a.jsxs(Bi,{children:[a.jsx(Y,{variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-email",children:h("cancel")}),a.jsx(Y,{onClick:w,disabled:l,"data-testid":"button-send-email",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),h("sending")]}):a.jsxs(a.Fragment,{children:[a.jsx(gl,{className:"mr-2 h-4 w-4"}),h("sendReceipt")]})})]})]})})]}):null}function QQ({restaurantId:e,tableId:t,orderId:n,variant:r="default",className:s}){const[i,o]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(!1),{toast:f}=it(),{t:h}=Ot(),m=Xe({mutationFn:async g=>{const w=await Pe("POST","/api/assistance-requests",{...g,requestType:"call_waiter"});if(!w.ok){const x=await w.json();throw new Error(x.message||"Failed to call waiter")}return w.json()},onSuccess:()=>{d(!0),f({title:h("waiterCalled"),description:h("staffMemberWillBeWithYouShortly")}),setTimeout(()=>{o(!1),d(!1),c("")},2e3)},onError:g=>{f({title:h("error"),description:g.message,variant:"destructive"})}}),y=()=>{if(!e||!e.trim()){f({title:h("error"),description:h("unableToContactRestaurant"),variant:"destructive"});return}m.mutate({restaurantId:e,tableId:t,orderId:n,customerMessage:l||void 0})};return a.jsxs(a.Fragment,{children:[a.jsx(Y,{variant:r,size:"icon",onClick:()=>o(!0),className:s,"data-testid":"button-call-waiter",children:a.jsx(Wy,{className:"h-5 w-5 text-red-500"})}),a.jsx(vn,{open:i,onOpenChange:o,children:a.jsxs(ln,{"data-testid":"dialog-call-waiter",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:h("callForAssistance")}),a.jsx(hr,{children:h("staffNotified")})]}),u?a.jsxs("div",{className:"py-8 flex flex-col items-center justify-center text-center",children:[a.jsx(Vi,{className:"h-16 w-16 text-green-500 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:h("requestSent")}),a.jsx("p",{className:"text-muted-foreground",children:h("someoneWillBeWithYouSoon")})]}):a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:h("assistanceQuestion")}),a.jsx(mr,{placeholder:h("assistancePlaceholder"),value:l,onChange:g=>c(g.target.value),rows:3,"data-testid":"textarea-waiter-message"})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(Y,{variant:"outline",onClick:()=>o(!1),disabled:m.isPending,"data-testid":"button-cancel-call",children:h("cancel")}),a.jsxs(Y,{onClick:y,disabled:m.isPending,"data-testid":"button-confirm-call",children:[m.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),h("callWaiter")]})]})]})]})})]})}function rn({className:e,...t}){return a.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}const ef="/assets/stock_images/restaurant_interior__df0b7770.jpg";function ZQ(){var oe,be;const{id:e}=Ku(),[,t]=ls(),{t:n,setLanguage:r,language:s}=Ot(),{toast:i}=it(),[o,l]=p.useState("ALL"),[c,u]=p.useState([]),[d,f]=p.useState("online"),[h,m]=p.useState(null),[y,g]=p.useState(!1),[w,x]=p.useState(!1),[v,b]=p.useState(null),[S,C]=p.useState(!1),k=p.useRef(null),E=new URLSearchParams(window.location.search).get("table");p.useEffect(()=>{e&&(sessionStorage.getItem(`restaurant-${e}-welcome-seen`)||x(!0))},[e]);const{data:N,isLoading:j,error:T}=Je({queryKey:["/api/public/restaurant",e],queryFn:async()=>{const K=await fetch(`http://localhost:3005/dev/api/public/restaurant/${e}`);if(!K.ok)throw new Error("Restaurant not found");return K.json()},enabled:!!e});p.useEffect(()=>{if(N!=null&&N.defaultLanguage&&e){const z=localStorage.getItem(`restaurant-${e}-language`);z?z!==s&&r(z):(r(N.defaultLanguage),localStorage.setItem(`restaurant-${e}-language`,N.defaultLanguage))}},[N==null?void 0:N.defaultLanguage,e]),p.useEffect(()=>{if(e&&s&&N){const z=localStorage.getItem(`restaurant-${e}-language`);z&&z!==s&&localStorage.setItem(`restaurant-${e}-language`,s)}},[s,e,N]),p.useEffect(()=>{(async()=>{if(e&&E&&!sessionStorage.getItem(`restaurant-${e}-table-${E}-tracked`))try{await fetch("http://localhost:3005/dev/api/analytics/table-scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({restaurantId:e,tableId:E})}),sessionStorage.setItem(`restaurant-${e}-table-${E}-tracked`,"true")}catch(F){console.error("Failed to track table scan:",F)}})()},[e,E]),p.useEffect(()=>{(async()=>{const K=new URLSearchParams(window.location.search),F=K.get("payment_intent"),de=K.get("payment_intent_client_secret");if(F&&de){console.log("[Payment Return] Detected payment redirect return");const J=localStorage.getItem("pendingOrder");if(!J){console.error("[Payment Return] No pending order data found in localStorage"),i({title:"Order Error",description:"Could not find pending order data. Please contact support if payment was charged.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname);return}const X=JSON.parse(J),fe=60*60*1e3,ve=Date.now()-X.timestamp;if(ve>fe){console.error("[Payment Return] Pending order data has expired:",ve,"ms old"),localStorage.removeItem("pendingOrder"),i({title:"Order Expired",description:"This order session has expired. Please place a new order.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname);return}try{const Se="pk_test_51SXnfY2VZXX1nihiLJ78hL5DVPaOqoXhU2TwGCldGBJzrAgGNJ6lTxYsNW6bE1bMFJ7KIBH9Gdz7NJdOUyCYz2AE00Ux84umtM",je=await uI(Se,{stripeAccount:X.stripeAccountId});if(!je)throw new Error("Failed to load Stripe");const{paymentIntent:xe}=await je.retrievePaymentIntent(de);if((xe==null?void 0:xe.status)==="succeeded"){console.log("[Payment Return] Payment successful, creating order");const Ye=await Pe("POST","/api/orders",{...X,stripePaymentIntentId:F});if(!Ye.ok){const Ie=await Ye.json();console.error("[Payment Return] Order creation failed:",Ie),i({title:"Order Creation Failed",description:Ie.message||"Payment succeeded but order creation failed. Please contact support with your payment confirmation.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname);return}const Me=await Ye.json();console.log("[Payment Return] Order created successfully:",Me),localStorage.removeItem("pendingOrder"),u([]),t(`/receipt/${Me.id}`)}else console.error("[Payment Return] Payment not successful:",xe==null?void 0:xe.status),localStorage.removeItem("pendingOrder"),i({title:"Payment Issue",description:`Payment status: ${xe==null?void 0:xe.status}. Please contact support if you were charged.`,variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname)}catch(Se){console.error("[Payment Return] Error creating order after redirect:",Se),i({title:"Order Failed",description:"Payment verification or order creation failed. Please contact support with your payment confirmation.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname)}}})()},[e,i]);const{data:O=[],isLoading:I}=Je({queryKey:["/api/menu-items",e],queryFn:async()=>{const K=await fetch(`http://localhost:3005/dev/api/menu-items?restaurantId=${e}`);if(!K.ok)throw new Error("Failed to fetch menu items");return K.json()},enabled:!!e}),B=Array.from(new Set(O.map(z=>z.category))),D=[{value:"ALL",label:n("allCategories")},...B.map(z=>({value:z,label:z}))],M=o==="ALL"?O.filter(z=>z.available):O.filter(z=>z.category===o&&z.available),U=(z,K=1)=>{console.log("[CustomerMenu] addToCart called with item:",z),console.log("[CustomerMenu] Current cart items:",c);const F={id:z.id,name:z.name,description:z.description,price:z.price,quantity:K,image:z.imageUrl||ef,category:z.category,spiceLevel:z.spiceLevel,isVegan:z.isVegan,isVegetarian:z.isVegetarian,isHalal:z.isHalal,isKosher:z.isKosher,allergens:z.allergens};console.log("[CustomerMenu] Created cart item:",F),c.find(J=>J.id===z.id)?(console.log("[CustomerMenu] Item exists in cart, updating quantity"),u(c.map(J=>J.id===z.id?{...J,quantity:J.quantity+K}:J))):(console.log("[CustomerMenu] Adding new item to cart"),u([...c,F]))},$=(z,K)=>{u(K===0?c.filter(F=>F.id!==z):c.map(F=>F.id===z?{...F,quantity:K}:F))},_=()=>{g(!0)},R=()=>{u([]),g(!1)},H=z=>{b(z),C(!0),g(!1)},q=c.reduce((z,K)=>z+parseFloat(K.price)*K.quantity,0),te=q*.1,Q=q+te;return j||I?a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"relative mb-8 overflow-hidden rounded-xl",children:[a.jsx(rn,{className:"h-64 w-full pulse-enhanced"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),a.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[a.jsx(rn,{className:"h-8 w-3/4 mb-2 pulse-enhanced"}),a.jsx(rn,{className:"h-4 w-1/2 pulse-enhanced"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(rn,{className:"h-6 w-20 pulse-enhanced"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(rn,{className:"h-10 w-24 pulse-enhanced"}),a.jsx(rn,{className:"h-10 w-24 pulse-enhanced"}),a.jsx(rn,{className:"h-10 w-24 pulse-enhanced"})]})]}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(z=>a.jsx(rn,{className:"h-8 w-20 pulse-enhanced"},z))})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(z=>a.jsxs("div",{className:"glass-card rounded-lg overflow-hidden",children:[a.jsx(rn,{className:"h-48 w-full pulse-enhanced"}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx(rn,{className:"h-6 w-3/4 pulse-enhanced"}),a.jsx(rn,{className:"h-6 w-16 pulse-enhanced"})]}),a.jsx(rn,{className:"h-4 w-full mb-2 pulse-enhanced"}),a.jsx(rn,{className:"h-4 w-2/3 mb-4 pulse-enhanced"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx(rn,{className:"h-6 w-16 pulse-enhanced"}),a.jsx(rn,{className:"h-6 w-20 pulse-enhanced"})]}),a.jsx(rn,{className:"h-10 w-full pulse-enhanced"})]})]},z))})]})}):T||!N?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(Eu,{variant:"destructive",className:"max-w-md",children:[a.jsx(bp,{className:"h-4 w-4"}),a.jsx(dI,{children:"Restaurant Not Found"}),a.jsx(ku,{children:"The restaurant you're looking for doesn't exist or has been removed."})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Kq,{name:N.name,description:N.description||"",image:N.coverImageUrl||ef,address:N.address||"",phone:N.phone||"",hours:N.hours||""}),a.jsx("div",{className:"sticky top-0 z-40 glass backdrop-blur-md border-b",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold gradient-text",children:n("menu")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(HY,{}),a.jsx(QQ,{restaurantId:e||"",tableId:E||void 0,variant:"outline",className:"hover-lift"}),a.jsx(wK,{items:c.map(z=>({...z,price:parseFloat(z.price)})),onUpdateQuantity:$,onRemoveItem:z=>u(c.filter(K=>K.id!==z)),paymentMethod:d,onPaymentMethodChange:f,onCheckout:_,stripeOnboardingComplete:N.stripeOnboardingComplete,paystackOnboardingComplete:!!N.paystackSubaccountCode})]})]}),a.jsx(Yq,{categories:D,activeCategory:o,onCategoryChange:l})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-chart-2/5 pointer-events-none"}),M.length===0?a.jsx("div",{className:"text-center py-20 relative z-10",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-muted to-muted/50 rounded-full flex items-center justify-center",children:a.jsx(_a,{className:"h-12 w-12 text-muted-foreground"})}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Items Available"}),a.jsx("p",{className:"text-muted-foreground",children:"No menu items available in this category at the moment."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 relative z-10",children:M.map((z,K)=>{var F,de;return a.jsx("div",{className:"bounce-in",style:{animationDelay:`${K*.1}s`},children:a.jsx(Gq,{name:z.name,description:z.description,price:parseFloat(z.price),image:(F=z.imageUrl)!=null&&F.startsWith("http")||(de=z.imageUrl)!=null&&de.startsWith("/")?z.imageUrl:`/assets/stock_images/${z.imageUrl}`||ef,spiceLevel:z.spiceLevel?parseInt(z.spiceLevel):void 0,isVegan:z.isVegan,isVegetarian:z.isVegetarian,isHalal:z.isHalal,isKosher:z.isKosher,allergens:z.allergens||[],onAddToCart:()=>U(z),onClick:()=>m(z)})},z.id)})})]}),h&&a.jsx(bK,{open:!!h,onOpenChange:z=>!z&&m(null),item:{...h,price:parseFloat(h.price),spiceLevel:h.spiceLevel?parseInt(h.spiceLevel):void 0,allergens:h.allergens||[],image:(oe=h.imageUrl)!=null&&oe.startsWith("http")||(be=h.imageUrl)!=null&&be.startsWith("/")?h.imageUrl:`/assets/stock_images/${h.imageUrl}`||ef},onAddToCart:z=>U(h,z)}),e&&a.jsx(MG,{open:y,onOpenChange:g,items:c.map(z=>({...z,price:parseFloat(z.price)})),subtotal:q,tax:te,total:Q,paymentMethod:d,restaurantId:e,tableId:E||void 0,onSuccess:R,onOrderComplete:H}),a.jsx(GQ,{orderId:v,open:S,onOpenChange:z=>{C(z),z||u([])}}),a.jsx(C8,{children:w&&N&&N.aiWaiterEnabled&&a.jsx(GY,{restaurantName:N.name,onDismiss:async()=>{const z=localStorage.getItem("waiterix-wake-word-enabled");if(z===null||z==="true")try{console.log("[CustomerMenu] Requesting mic permission for wake word detection...");const K=await navigator.mediaDevices.getUserMedia({audio:!0});console.log("[CustomerMenu] Mic permission granted"),sessionStorage.setItem("waiterix-mic-permission-granted","true"),K.getTracks().forEach(F=>F.stop())}catch(K){console.warn("[CustomerMenu] Mic permission denied:",K),sessionStorage.setItem("waiterix-mic-permission-granted","false")}e&&sessionStorage.setItem(`restaurant-${e}-welcome-seen`,"true"),x(!1),k.current?k.current.triggerWelcome().catch(K=>{console.error("Welcome trigger failed:",K)}):console.error("AI Waiter ref not available when overlay was dismissed")}})}),e&&(N==null?void 0:N.aiWaiterEnabled)&&a.jsx(G2,{ref:k,restaurantId:e,restaurantName:N.name,menuItems:O,onAddToCart:z=>U(z),initiallyHidden:w}),a.jsx("footer",{className:"mt-8 pb-4 text-center border-t pt-4",children:a.jsx("a",{href:"https://waiterix.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground hover-elevate inline-block px-3 py-1.5 rounded-md transition-colors","data-testid":"link-waiterix-branding",children:"Powered by Waiterix.com - AI Ordering Made Simple"})})]})}function XQ(){const{id:e}=Ku(),{data:t}=Je({queryKey:["/api/public/restaurant",e],queryFn:async()=>{const r=await fetch(`http://localhost:3005/dev/api/public/restaurant/${e}`);if(!r.ok)throw new Error("Restaurant not found");return r.json()},enabled:!!e});return a.jsx(Jp,{currencyCode:t==null?void 0:t.currencyCode,defaultLanguage:t==null?void 0:t.defaultLanguage,children:a.jsx(ZQ,{})})}const Ng=768;function JQ(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ng-1}px)`),r=()=>{t(window.innerWidth<Ng)};return n.addEventListener("change",r),t(window.innerWidth<Ng),()=>n.removeEventListener("change",r)},[]),!!e}const eZ="sidebar_state",tZ=60*60*24*7,nZ="16rem",rZ="18rem",sZ="3rem",iZ="b",yI=p.createContext(null);function $b(){const e=p.useContext(yI);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function aZ({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:i,...o}){const l=JQ(),[c,u]=p.useState(!1),[d,f]=p.useState(e),h=t??d,m=p.useCallback(x=>{const v=typeof x=="function"?x(h):x;n?n(v):f(v),document.cookie=`${eZ}=${v}; path=/; max-age=${tZ}`},[n,h]),y=p.useCallback(()=>l?u(x=>!x):m(x=>!x),[l,m,u]);p.useEffect(()=>{const x=v=>{v.key===iZ&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),y())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[y]);const g=h?"expanded":"collapsed",w=p.useMemo(()=>({state:g,open:h,setOpen:m,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:y}),[g,h,m,l,c,u,y]);return a.jsx(yI.Provider,{value:w,children:a.jsx(j_,{delayDuration:0,children:a.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":nZ,"--sidebar-width-icon":sZ,...s},className:re("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:i})})})}function oZ({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...i}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:u}=$b();return n==="none"?a.jsx("div",{"data-slot":"sidebar",className:re("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...i,children:s}):o?a.jsx(_R,{open:c,onOpenChange:u,...i,children:a.jsxs(kb,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":rZ},side:e,children:[a.jsxs(Tb,{className:"sr-only",children:[a.jsx(_b,{children:"Sidebar"}),a.jsx(PR,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):a.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[a.jsx("div",{"data-slot":"sidebar-gap",className:re("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),a.jsx("div",{"data-slot":"sidebar-container",className:re("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:a.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function lZ({className:e,onClick:t,...n}){const{toggleSidebar:r}=$b();return a.jsxs(Y,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:re("h-7 w-7",e),onClick:s=>{t==null||t(s),r()},...n,children:[a.jsx(Y3,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function cZ({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:re("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function uZ({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:re("relative flex w-full min-w-0 flex-col p-2",e),...t})}function dZ({className:e,asChild:t=!1,...n}){const r=t?Pp:"div";return a.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:re("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function fZ({className:e,...t}){return a.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:re("w-full text-sm",e),...t})}function hZ({className:e,...t}){return a.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:re("flex w-full min-w-0 flex-col gap-1",e),...t})}function pZ({className:e,...t}){return a.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:re("group/menu-item relative",e),...t})}const mZ=Ja("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function gZ({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o}){const l=e?Pp:"button",{isMobile:c,state:u}=$b(),d=a.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:re(mZ({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(TU,{children:[a.jsx(_U,{asChild:!0,children:d}),a.jsx(E_,{side:"right",align:"center",hidden:u!=="collapsed"||c,...s})]})):d}function cc({orderId:e,items:t,total:n,tip:r,paymentMethod:s,status:i,createdAt:o,customerNote:l,tableNumber:c,onStatusChange:u}){const{formatCurrency:d}=Ot(),f={new:"bg-blue-500",preparing:"bg-yellow-500",ready:"bg-green-500",completed:"bg-gray-500"},m=(()=>{const y=["new","preparing","ready","completed"],g=y.indexOf(i);return g<y.length-1?y[g+1]:null})();return a.jsxs(pe,{className:"p-4","data-testid":`card-order-${e}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("h4",{className:"font-semibold","data-testid":`text-order-id-${e}`,children:["Order #",e]}),c&&a.jsxs(He,{variant:"outline",className:"flex items-center gap-1","data-testid":`badge-table-${e}`,children:[a.jsx(RT,{className:"h-3 w-3"}),"Table ",c]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground mt-1",children:[a.jsx(Fa,{className:"h-3 w-3"}),Ub(o,{addSuffix:!0})]})]}),a.jsx(He,{className:f[i],"data-testid":`badge-status-${e}`,children:i.charAt(0).toUpperCase()+i.slice(1)})]}),a.jsx("div",{className:"space-y-2 mb-3",children:t.map((y,g)=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:[y.quantity,"x"]})," ",y.name]}),y.customerNote&&a.jsxs("p",{className:"text-xs text-muted-foreground italic pl-6","data-testid":`text-item-note-${g}`,children:["Note: ",y.customerNote]})]},g))}),l&&a.jsx("div",{className:"bg-muted p-2 rounded-md mb-3",children:a.jsxs("p",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:["Note: ",l]})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hy,{className:"h-4 w-4"}),a.jsx("span",{className:"font-semibold","data-testid":`text-order-total-${e}`,children:d(n)})]}),r&&r>0&&a.jsxs("span",{className:"text-xs text-muted-foreground","data-testid":`text-order-tip-${e}`,children:["Includes ",d(r)," tip"]})]}),a.jsx(He,{variant:s==="online"?"default":"outline","data-testid":`badge-payment-${e}`,children:s==="online"?"Paid Online":"Cash"})]}),u&&m&&a.jsx("div",{className:"mt-3 pt-3 border-t",children:a.jsxs(Y,{size:"sm",className:"w-full",onClick:()=>u(e,m),"data-testid":`button-update-status-${e}`,children:["Mark as ",m.charAt(0).toUpperCase()+m.slice(1)]})})]})}function yZ({order:e,items:t,tableNumber:n,restaurantName:r}){const{formatCurrency:s}=Ot();return a.jsxs("div",{className:"printable-order hidden print:block",children:[a.jsx("style",{children:`
          @media print {
            body * {
              visibility: hidden;
            }
            .printable-order,
            .printable-order * {
              visibility: visible;
            }
            .printable-order {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              background: white;
              color: black;
              padding: 20px;
            }
            @page {
              margin: 10mm;
            }
          }
        `}),a.jsxs("div",{className:"max-w-md mx-auto text-black bg-white",children:[a.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2 border-black",children:[r&&a.jsx("h1",{className:"text-2xl font-bold mb-2",children:r}),a.jsx("h2",{className:"text-xl font-semibold",children:"ORDER RECEIPT"})]}),a.jsxs("div",{className:"mb-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Order ID:"}),a.jsx("span",{className:"font-mono",children:e.id.substring(0,8).toUpperCase()})]}),n&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Table:"}),a.jsx("span",{children:n})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Date:"}),a.jsx("span",{children:Ps(new Date(e.createdAt),"MMM dd, yyyy")})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Time:"}),a.jsx("span",{children:Ps(new Date(e.createdAt),"hh:mm a")})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Status:"}),a.jsx("span",{className:"uppercase font-bold",children:e.status})]})]}),a.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-dashed border-gray-400",children:[a.jsx("h3",{className:"font-bold mb-3 text-lg",children:"ITEMS"}),a.jsx("div",{className:"space-y-3",children:t.map((i,o)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-semibold",children:[i.quantity,"x"]})," ",a.jsx("span",{children:i.name})]}),a.jsx("span",{className:"font-mono",children:s(parseFloat(i.price))})]}),i.customerNote&&a.jsxs("div",{className:"ml-6 mt-1 text-sm italic text-gray-700",children:["Note: ",i.customerNote]})]},o))})]}),e.customerNote&&a.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-dashed border-gray-400",children:[a.jsx("h3",{className:"font-bold mb-2",children:"CUSTOMER NOTE"}),a.jsx("p",{className:"text-sm font-semibold bg-gray-100 p-3 rounded border-2 border-gray-800",children:e.customerNote})]}),a.jsxs("div",{className:"mb-6 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(e.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tax:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(e.tax))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tip:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(e.tip))})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t-2 border-black",children:[a.jsx("span",{children:"TOTAL:"}),a.jsx("span",{className:"font-mono",children:s(parseFloat(e.total))})]})]}),a.jsxs("div",{className:"mb-6 pb-4 border-b-2 border-dashed border-gray-400",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Payment Method:"}),a.jsx("span",{className:"uppercase",children:e.paymentMethod})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-semibold",children:"Payment Status:"}),a.jsx("span",{className:"uppercase font-bold",children:e.paymentStatus})]})]}),a.jsxs("div",{className:"text-center text-sm text-gray-600",children:[a.jsx("p",{children:"Thank you for your order!"}),a.jsxs("p",{className:"mt-2",children:["Printed: ",Ps(new Date,"MMM dd, yyyy hh:mm a")]})]})]})]})}var yd=e=>e.type==="checkbox",ya=e=>e instanceof Date,Tn=e=>e==null;const vI=e=>typeof e=="object";var Ut=e=>!Tn(e)&&!Array.isArray(e)&&vI(e)&&!ya(e),xI=e=>Ut(e)&&e.target?yd(e.target)?e.target.checked:e.target.value:e,vZ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,wI=(e,t)=>e.has(vZ(t)),xZ=e=>{const t=e.constructor&&e.constructor.prototype;return Ut(t)&&t.hasOwnProperty("isPrototypeOf")},Bb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Bb&&(e instanceof Blob||r))&&(n||Ut(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!xZ(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=$t(e[s]));else return e;return t}var tm=e=>/^\w*$/.test(e),_t=e=>e===void 0,Wb=e=>Array.isArray(e)?e.filter(Boolean):[],zb=e=>Wb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ue=(e,t,n)=>{if(!t||!Ut(e))return n;const r=(tm(t)?[t]:zb(t)).reduce((s,i)=>Tn(s)?s:s[i],e);return _t(r)||r===e?_t(e[t])?n:e[t]:r},Vn=e=>typeof e=="boolean",tt=(e,t,n)=>{let r=-1;const s=tm(t)?[t]:zb(t),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=Ut(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Rh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_r={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Hb=ee.createContext(null);Hb.displayName="HookFormContext";const nm=()=>ee.useContext(Hb),wZ=e=>{const{children:t,...n}=e;return ee.createElement(Hb.Provider,{value:n},t)};var bI=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==_r.all&&(t._proxyFormState[o]=!r||_r.all),n&&(n[o]=!0),e[o]}});return s};const qb=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;function bZ(e){const t=nm(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[o,l]=ee.useState(n._formState),c=ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return qb(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),ee.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ee.useMemo(()=>bI(o,n,c.current,!1),[o,n])}var $n=e=>typeof e=="string",Rv=(e,t,n,r,s)=>$n(e)?(r&&t.watch.add(e),ue(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),ue(n,i))):(r&&(t.watchAll=!0),n),Iv=e=>Tn(e)||!vI(e);function Ar(e,t,n=new WeakSet){if(Iv(e)||Iv(t))return Object.is(e,t);if(ya(e)&&ya(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ya(o)&&ya(l)||Ut(o)&&Ut(l)||Array.isArray(o)&&Array.isArray(l)?!Ar(o,l,n):!Object.is(o,l))return!1}}return!0}function SZ(e){const t=nm(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:o,compute:l}=e||{},c=ee.useRef(s),u=ee.useRef(l),d=ee.useRef(void 0),f=ee.useRef(n),h=ee.useRef(r);u.current=l;const[m,y]=ee.useState(()=>{const S=n._getWatch(r,c.current);return u.current?u.current(S):S}),g=ee.useCallback(S=>{const C=Rv(r,n._names,S||n._formValues,!1,c.current);return u.current?u.current(C):C},[n._formValues,n._names,r]),w=ee.useCallback(S=>{if(!i){const C=Rv(r,n._names,S||n._formValues,!1,c.current);if(u.current){const k=u.current(C);Ar(k,d.current)||(y(k),d.current=k)}else y(C)}},[n._formValues,n._names,i,r]);qb(()=>((f.current!==n||!Ar(h.current,r))&&(f.current=n,h.current=r,w()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:S=>{w(S.values)}})),[n,o,r,w]),ee.useEffect(()=>n._removeUnmounted());const x=f.current!==n,v=h.current,b=ee.useMemo(()=>{if(i)return null;const S=!x&&!Ar(v,r);return x||S?g():null},[i,x,r,v,g]);return b!==null?b:m}function CZ(e){const t=nm(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i,defaultValue:o}=e,l=wI(s._names.array,n),c=ee.useMemo(()=>ue(s._formValues,n,ue(s._defaultValues,n,o)),[s,n,o]),u=SZ({control:s,name:n,defaultValue:c,exact:!0}),d=bZ({control:s,name:n,exact:!0}),f=ee.useRef(e),h=ee.useRef(void 0),m=ee.useRef(s.register(n,{...e.rules,value:u,...Vn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const y=ee.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ue(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ue(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ue(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ue(d.validatingFields,n)},error:{enumerable:!0,get:()=>ue(d.errors,n)}}),[d,n]),g=ee.useCallback(b=>m.current.onChange({target:{value:xI(b),name:n},type:Rh.CHANGE}),[n]),w=ee.useCallback(()=>m.current.onBlur({target:{value:ue(s._formValues,n),name:n},type:Rh.BLUR}),[n,s._formValues]),x=ee.useCallback(b=>{const S=ue(s._fields,n);S&&b&&(S._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:C=>b.setCustomValidity(C),reportValidity:()=>b.reportValidity()})},[s._fields,n]),v=ee.useMemo(()=>({name:n,value:u,...Vn(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:g,onBlur:w,ref:x}),[n,r,d.disabled,g,w,x,u]);return ee.useEffect(()=>{const b=s._options.shouldUnregister||i,S=h.current;S&&S!==n&&!l&&s.unregister(S),s.register(n,{...f.current.rules,...Vn(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(k,E)=>{const N=ue(s._fields,k);N&&N._f&&(N._f.mount=E)};if(C(n,!0),b){const k=$t(ue(s._options.defaultValues,n,f.current.defaultValue));tt(s._defaultValues,n,k),_t(ue(s._formValues,n))&&tt(s._formValues,n,k)}return!l&&s.register(n),h.current=n,()=>{(l?b&&!s._state.action:b)?s.unregister(n):C(n,!1)}},[n,s,l,i]),ee.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),ee.useMemo(()=>({field:v,formState:d,fieldState:y}),[v,d,y])}const NZ=e=>e.render(CZ(e));var SI=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Bc=e=>Array.isArray(e)?e:[e],bN=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function CI(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],i=t[r];if(s&&Ut(s)&&i){const o=CI(s,i);Ut(o)&&(n[r]=o)}else e[r]&&(n[r]=i)}return n}var gn=e=>Ut(e)&&!Object.keys(e).length,Kb=e=>e.type==="file",Pr=e=>typeof e=="function",Ih=e=>{if(!Bb)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},NI=e=>e.type==="select-multiple",Yb=e=>e.type==="radio",jZ=e=>Yb(e)||yd(e),jg=e=>Ih(e)&&e.isConnected;function EZ(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=_t(e)?r++:e[t[r++]];return e}function kZ(e){for(const t in e)if(e.hasOwnProperty(t)&&!_t(e[t]))return!1;return!0}function Dt(e,t){const n=Array.isArray(t)?t:tm(t)?[t]:zb(t),r=n.length===1?e:EZ(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ut(r)&&gn(r)||Array.isArray(r)&&kZ(r))&&Dt(e,n.slice(0,-1)),e}var TZ=e=>{for(const t in e)if(Pr(e[t]))return!0;return!1};function jI(e){return Array.isArray(e)||Ut(e)&&!TZ(e)}function Mv(e,t={}){for(const n in e){const r=e[n];jI(r)?(t[n]=Array.isArray(r)?[]:{},Mv(r,t[n])):_t(r)||(t[n]=!0)}return t}function co(e,t,n){n||(n=Mv(t));for(const r in e){const s=e[r];if(jI(s))_t(t)||Iv(n[r])?n[r]=Mv(s,Array.isArray(s)?[]:{}):co(s,Tn(t)?{}:t[r],n[r]);else{const i=t[r];n[r]=!Ar(s,i)}}return n}const SN={value:!1,isValid:!1},CN={value:!0,isValid:!0};var EI=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_t(e[0].attributes.value)?_t(e[0].value)||e[0].value===""?CN:{value:e[0].value,isValid:!0}:CN:SN}return SN},kI=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>_t(e)?e:t?e===""?NaN:e&&+e:n&&$n(e)?new Date(e):r?r(e):e;const NN={isValid:!1,value:null};var TI=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,NN):NN;function jN(e){const t=e.ref;return Kb(t)?t.files:Yb(t)?TI(e.refs).value:NI(t)?[...t.selectedOptions].map(({value:n})=>n):yd(t)?EI(e.refs).value:kI(_t(t.value)?e.ref.value:t.value,e)}var _Z=(e,t,n,r)=>{const s={};for(const i of e){const o=ue(t,i);o&&tt(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Mh=e=>e instanceof RegExp,uc=e=>_t(e)?e:Mh(e)?e.source:Ut(e)?Mh(e.value)?e.value.source:e.value:e,EN=e=>({isOnSubmit:!e||e===_r.onSubmit,isOnBlur:e===_r.onBlur,isOnChange:e===_r.onChange,isOnAll:e===_r.all,isOnTouch:e===_r.onTouched});const kN="AsyncFunction";var AZ=e=>!!e&&!!e.validate&&!!(Pr(e.validate)&&e.validate.constructor.name===kN||Ut(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===kN)),PZ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),TN=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Wc=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=ue(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Wc(l,t))break}else if(Ut(l)&&Wc(l,t))break}}};function _N(e,t,n){const r=ue(e,n);if(r||tm(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ue(t,i),l=ue(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var RZ=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return gn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||_r.all))},IZ=(e,t,n)=>!e||!t||e===t||Bc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),MZ=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,OZ=(e,t)=>!Wb(ue(e,t)).length&&Dt(e,t),DZ=(e,t,n)=>{const r=Bc(ue(e,n));return tt(r,"root",t[n]),tt(e,n,r),e};function AN(e,t,n="validate"){if($n(e)||Array.isArray(e)&&e.every($n)||Vn(e)&&!e)return{type:n,message:$n(e)?e:"",ref:t}}var lo=e=>Ut(e)&&!Mh(e)?e:{value:e,message:""},PN=async(e,t,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:g,valueAsNumber:w,mount:x}=e._f,v=ue(n,g);if(!x||t.has(g))return{};const b=l?l[0]:o,S=I=>{s&&b.reportValidity&&(b.setCustomValidity(Vn(I)?"":I||""),b.reportValidity())},C={},k=Yb(o),E=yd(o),N=k||E,j=(w||Kb(o))&&_t(o.value)&&_t(v)||Ih(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=SI.bind(null,g,r,C),O=(I,B,D,M=hs.maxLength,U=hs.minLength)=>{const $=I?B:D;C[g]={type:I?M:U,message:$,ref:o,...T(I?M:U,$)}};if(i?!Array.isArray(v)||!v.length:c&&(!N&&(j||Tn(v))||Vn(v)&&!v||E&&!EI(l).isValid||k&&!TI(l).isValid)){const{value:I,message:B}=$n(c)?{value:!!c,message:c}:lo(c);if(I&&(C[g]={type:hs.required,message:B,ref:b,...T(hs.required,B)},!r))return S(B),C}if(!j&&(!Tn(f)||!Tn(h))){let I,B;const D=lo(h),M=lo(f);if(!Tn(v)&&!isNaN(v)){const U=o.valueAsNumber||v&&+v;Tn(D.value)||(I=U>D.value),Tn(M.value)||(B=U<M.value)}else{const U=o.valueAsDate||new Date(v),$=H=>new Date(new Date().toDateString()+" "+H),_=o.type=="time",R=o.type=="week";$n(D.value)&&v&&(I=_?$(v)>$(D.value):R?v>D.value:U>new Date(D.value)),$n(M.value)&&v&&(B=_?$(v)<$(M.value):R?v<M.value:U<new Date(M.value))}if((I||B)&&(O(!!I,D.message,M.message,hs.max,hs.min),!r))return S(C[g].message),C}if((u||d)&&!j&&($n(v)||i&&Array.isArray(v))){const I=lo(u),B=lo(d),D=!Tn(I.value)&&v.length>+I.value,M=!Tn(B.value)&&v.length<+B.value;if((D||M)&&(O(D,I.message,B.message),!r))return S(C[g].message),C}if(m&&!j&&$n(v)){const{value:I,message:B}=lo(m);if(Mh(I)&&!v.match(I)&&(C[g]={type:hs.pattern,message:B,ref:o,...T(hs.pattern,B)},!r))return S(B),C}if(y){if(Pr(y)){const I=await y(v,n),B=AN(I,b);if(B&&(C[g]={...B,...T(hs.validate,B.message)},!r))return S(B.message),C}else if(Ut(y)){let I={};for(const B in y){if(!gn(I)&&!r)break;const D=AN(await y[B](v,n),b,B);D&&(I={...D,...T(B,D.message)},S(D.message),r&&(C[g]=I))}if(!gn(I)&&(C[g]={ref:b,...I},!r))return C}}return S(!0),C};const LZ={mode:_r.onSubmit,reValidateMode:_r.onChange,shouldFocusError:!0};function FZ(e={}){let t={...LZ,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Ut(t.defaultValues)||Ut(t.values)?$t(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:$t(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:bN(),state:bN()},m=t.criteriaMode===_r.all,y=P=>V=>{clearTimeout(u),u=setTimeout(P,V)},g=async P=>{if(!t.disabled&&(d.isValid||f.isValid||P)){const V=t.resolver?gn((await E()).errors):await j(r,!0);V!==n.isValid&&h.state.next({isValid:V})}},w=(P,V)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((P||Array.from(l.mount)).forEach(W=>{W&&(V?tt(n.validatingFields,W,V):Dt(n.validatingFields,W))}),h.state.next({validatingFields:n.validatingFields,isValidating:!gn(n.validatingFields)}))},x=(P,V=[],W,le,Z=!0,G=!0)=>{if(le&&W&&!t.disabled){if(o.action=!0,G&&Array.isArray(ue(r,P))){const ce=W(ue(r,P),le.argA,le.argB);Z&&tt(r,P,ce)}if(G&&Array.isArray(ue(n.errors,P))){const ce=W(ue(n.errors,P),le.argA,le.argB);Z&&tt(n.errors,P,ce),OZ(n.errors,P)}if((d.touchedFields||f.touchedFields)&&G&&Array.isArray(ue(n.touchedFields,P))){const ce=W(ue(n.touchedFields,P),le.argA,le.argB);Z&&tt(n.touchedFields,P,ce)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=co(s,i)),h.state.next({name:P,isDirty:O(P,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else tt(i,P,V)},v=(P,V)=>{tt(n.errors,P,V),h.state.next({errors:n.errors})},b=P=>{n.errors=P,h.state.next({errors:n.errors,isValid:!1})},S=(P,V,W,le)=>{const Z=ue(r,P);if(Z){const G=ue(i,P,_t(W)?ue(s,P):W);_t(G)||le&&le.defaultChecked||V?tt(i,P,V?G:jN(Z._f)):D(P,G),o.mount&&!o.action&&g()}},C=(P,V,W,le,Z)=>{let G=!1,ce=!1;const Ee={name:P};if(!t.disabled){if(!W||le){(d.isDirty||f.isDirty)&&(ce=n.isDirty,n.isDirty=Ee.isDirty=O(),G=ce!==Ee.isDirty);const Ae=Ar(ue(s,P),V);ce=!!ue(n.dirtyFields,P),Ae?Dt(n.dirtyFields,P):tt(n.dirtyFields,P,!0),Ee.dirtyFields=n.dirtyFields,G=G||(d.dirtyFields||f.dirtyFields)&&ce!==!Ae}if(W){const Ae=ue(n.touchedFields,P);Ae||(tt(n.touchedFields,P,W),Ee.touchedFields=n.touchedFields,G=G||(d.touchedFields||f.touchedFields)&&Ae!==W)}G&&Z&&h.state.next(Ee)}return G?Ee:{}},k=(P,V,W,le)=>{const Z=ue(n.errors,P),G=(d.isValid||f.isValid)&&Vn(V)&&n.isValid!==V;if(t.delayError&&W?(c=y(()=>v(P,W)),c(t.delayError)):(clearTimeout(u),c=null,W?tt(n.errors,P,W):Dt(n.errors,P)),(W?!Ar(Z,W):Z)||!gn(le)||G){const ce={...le,...G&&Vn(V)?{isValid:V}:{},errors:n.errors,name:P};n={...n,...ce},h.state.next(ce)}},E=async P=>{w(P,!0);const V=await t.resolver(i,t.context,_Z(P||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(P),V},N=async P=>{const{errors:V}=await E(P);if(P)for(const W of P){const le=ue(V,W);le?tt(n.errors,W,le):Dt(n.errors,W)}else n.errors=V;return V},j=async(P,V,W={valid:!0})=>{for(const le in P){const Z=P[le];if(Z){const{_f:G,...ce}=Z;if(G){const Ee=l.array.has(G.name),Ae=Z._f&&AZ(Z._f);Ae&&d.validatingFields&&w([G.name],!0);const Qe=await PN(Z,l.disabled,i,m,t.shouldUseNativeValidation&&!V,Ee);if(Ae&&d.validatingFields&&w([G.name]),Qe[G.name]&&(W.valid=!1,V))break;!V&&(ue(Qe,G.name)?Ee?DZ(n.errors,Qe,G.name):tt(n.errors,G.name,Qe[G.name]):Dt(n.errors,G.name))}!gn(ce)&&await j(ce,V,W)}}return W.valid},T=()=>{for(const P of l.unMount){const V=ue(r,P);V&&(V._f.refs?V._f.refs.every(W=>!jg(W)):!jg(V._f.ref))&&K(P)}l.unMount=new Set},O=(P,V)=>!t.disabled&&(P&&V&&tt(i,P,V),!Ar(H(),s)),I=(P,V,W)=>Rv(P,l,{...o.mount?i:_t(V)?s:$n(P)?{[P]:V}:V},W,V),B=P=>Wb(ue(o.mount?i:s,P,t.shouldUnregister?ue(s,P,[]):[])),D=(P,V,W={})=>{const le=ue(r,P);let Z=V;if(le){const G=le._f;G&&(!G.disabled&&tt(i,P,kI(V,G)),Z=Ih(G.ref)&&Tn(V)?"":V,NI(G.ref)?[...G.ref.options].forEach(ce=>ce.selected=Z.includes(ce.value)):G.refs?yd(G.ref)?G.refs.forEach(ce=>{(!ce.defaultChecked||!ce.disabled)&&(Array.isArray(Z)?ce.checked=!!Z.find(Ee=>Ee===ce.value):ce.checked=Z===ce.value||!!Z)}):G.refs.forEach(ce=>ce.checked=ce.value===Z):Kb(G.ref)?G.ref.value="":(G.ref.value=Z,G.ref.type||h.state.next({name:P,values:$t(i)})))}(W.shouldDirty||W.shouldTouch)&&C(P,Z,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&R(P)},M=(P,V,W)=>{for(const le in V){if(!V.hasOwnProperty(le))return;const Z=V[le],G=P+"."+le,ce=ue(r,G);(l.array.has(P)||Ut(Z)||ce&&!ce._f)&&!ya(Z)?M(G,Z,W):D(G,Z,W)}},U=(P,V,W={})=>{const le=ue(r,P),Z=l.array.has(P),G=$t(V);tt(i,P,G),Z?(h.array.next({name:P,values:$t(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&W.shouldDirty&&h.state.next({name:P,dirtyFields:co(s,i),isDirty:O(P,G)})):le&&!le._f&&!Tn(G)?M(P,G,W):D(P,G,W),TN(P,l)&&h.state.next({...n,name:P}),h.state.next({name:o.mount?P:void 0,values:$t(i)})},$=async P=>{o.mount=!0;const V=P.target;let W=V.name,le=!0;const Z=ue(r,W),G=Ae=>{le=Number.isNaN(Ae)||ya(Ae)&&isNaN(Ae.getTime())||Ar(Ae,ue(i,W,Ae))},ce=EN(t.mode),Ee=EN(t.reValidateMode);if(Z){let Ae,Qe;const vr=V.type?jN(Z._f):xI(P),Nt=P.type===Rh.BLUR||P.type===Rh.FOCUS_OUT,jn=!PZ(Z._f)&&!t.resolver&&!ue(n.errors,W)&&!Z._f.deps||MZ(Nt,ue(n.touchedFields,W),n.isSubmitted,Ee,ce),xr=TN(W,l,Nt);tt(i,W,vr),Nt?(!V||!V.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(P),c&&c(0)):Z._f.onChange&&Z._f.onChange(P);const Ks=C(W,vr,Nt),vd=!gn(Ks)||xr;if(!Nt&&h.state.next({name:W,type:P.type,values:$t(i)}),jn)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Nt&&g():Nt||g()),vd&&h.state.next({name:W,...xr?{}:Ks});if(!Nt&&xr&&h.state.next({...n}),t.resolver){const{errors:Kl}=await E([W]);if(G(vr),le){const L=_N(n.errors,r,W),ke=_N(Kl,r,L.name||W);Ae=ke.error,W=ke.name,Qe=gn(Kl)}}else w([W],!0),Ae=(await PN(Z,l.disabled,i,m,t.shouldUseNativeValidation))[W],w([W]),G(vr),le&&(Ae?Qe=!1:(d.isValid||f.isValid)&&(Qe=await j(r,!0)));le&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&R(Z._f.deps),k(W,Qe,Ae,Ks))}},_=(P,V)=>{if(ue(n.errors,V)&&P.focus)return P.focus(),1},R=async(P,V={})=>{let W,le;const Z=Bc(P);if(t.resolver){const G=await N(_t(P)?P:Z);W=gn(G),le=P?!Z.some(ce=>ue(G,ce)):W}else P?(le=(await Promise.all(Z.map(async G=>{const ce=ue(r,G);return await j(ce&&ce._f?{[G]:ce}:ce)}))).every(Boolean),!(!le&&!n.isValid)&&g()):le=W=await j(r);return h.state.next({...!$n(P)||(d.isValid||f.isValid)&&W!==n.isValid?{}:{name:P},...t.resolver||!P?{isValid:W}:{},errors:n.errors}),V.shouldFocus&&!le&&Wc(r,_,P?Z:l.mount),le},H=(P,V)=>{let W={...o.mount?i:s};return V&&(W=CI(V.dirtyFields?n.dirtyFields:n.touchedFields,W)),_t(P)?W:$n(P)?ue(W,P):P.map(le=>ue(W,le))},q=(P,V)=>({invalid:!!ue((V||n).errors,P),isDirty:!!ue((V||n).dirtyFields,P),error:ue((V||n).errors,P),isValidating:!!ue(n.validatingFields,P),isTouched:!!ue((V||n).touchedFields,P)}),te=P=>{P&&Bc(P).forEach(V=>Dt(n.errors,V)),h.state.next({errors:P?n.errors:{}})},Q=(P,V,W)=>{const le=(ue(r,P,{_f:{}})._f||{}).ref,Z=ue(n.errors,P)||{},{ref:G,message:ce,type:Ee,...Ae}=Z;tt(n.errors,P,{...Ae,...V,ref:le}),h.state.next({name:P,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&le&&le.focus&&le.focus()},oe=(P,V)=>Pr(P)?h.state.subscribe({next:W=>"values"in W&&P(I(void 0,V),W)}):I(P,V,!0),be=P=>h.state.subscribe({next:V=>{IZ(P.name,V.name,P.exact)&&RZ(V,P.formState||d,Ye,P.reRenderRoot)&&P.callback({values:{...i},...n,...V,defaultValues:s})}}).unsubscribe,z=P=>(o.mount=!0,f={...f,...P.formState},be({...P,formState:f})),K=(P,V={})=>{for(const W of P?Bc(P):l.mount)l.mount.delete(W),l.array.delete(W),V.keepValue||(Dt(r,W),Dt(i,W)),!V.keepError&&Dt(n.errors,W),!V.keepDirty&&Dt(n.dirtyFields,W),!V.keepTouched&&Dt(n.touchedFields,W),!V.keepIsValidating&&Dt(n.validatingFields,W),!t.shouldUnregister&&!V.keepDefaultValue&&Dt(s,W);h.state.next({values:$t(i)}),h.state.next({...n,...V.keepDirty?{isDirty:O()}:{}}),!V.keepIsValid&&g()},F=({disabled:P,name:V})=>{(Vn(P)&&o.mount||P||l.disabled.has(V))&&(P?l.disabled.add(V):l.disabled.delete(V))},de=(P,V={})=>{let W=ue(r,P);const le=Vn(V.disabled)||Vn(t.disabled);return tt(r,P,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:P}},name:P,mount:!0,...V}}),l.mount.add(P),W?F({disabled:Vn(V.disabled)?V.disabled:t.disabled,name:P}):S(P,!0,V.value),{...le?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:uc(V.min),max:uc(V.max),minLength:uc(V.minLength),maxLength:uc(V.maxLength),pattern:uc(V.pattern)}:{},name:P,onChange:$,onBlur:$,ref:Z=>{if(Z){de(P,V),W=ue(r,P);const G=_t(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,ce=jZ(G),Ee=W._f.refs||[];if(ce?Ee.find(Ae=>Ae===G):G===W._f.ref)return;tt(r,P,{_f:{...W._f,...ce?{refs:[...Ee.filter(jg),G,...Array.isArray(ue(s,P))?[{}]:[]],ref:{type:G.type,name:P}}:{ref:G}}}),S(P,!1,void 0,G)}else W=ue(r,P,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(wI(l.array,P)&&o.action)&&l.unMount.add(P)}}},J=()=>t.shouldFocusError&&Wc(r,_,l.mount),X=P=>{Vn(P)&&(h.state.next({disabled:P}),Wc(r,(V,W)=>{const le=ue(r,W);le&&(V.disabled=le._f.disabled||P,Array.isArray(le._f.refs)&&le._f.refs.forEach(Z=>{Z.disabled=le._f.disabled||P}))},0,!1))},fe=(P,V)=>async W=>{let le;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let Z=$t(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:G,values:ce}=await E();n.errors=G,Z=$t(ce)}else await j(r);if(l.disabled.size)for(const G of l.disabled)Dt(Z,G);if(Dt(n.errors,"root"),gn(n.errors)){h.state.next({errors:{}});try{await P(Z,W)}catch(G){le=G}}else V&&await V({...n.errors},W),J(),setTimeout(J);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gn(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},ve=(P,V={})=>{ue(r,P)&&(_t(V.defaultValue)?U(P,$t(ue(s,P))):(U(P,V.defaultValue),tt(s,P,$t(V.defaultValue))),V.keepTouched||Dt(n.touchedFields,P),V.keepDirty||(Dt(n.dirtyFields,P),n.isDirty=V.defaultValue?O(P,$t(ue(s,P))):O()),V.keepError||(Dt(n.errors,P),d.isValid&&g()),h.state.next({...n}))},Se=(P,V={})=>{const W=P?$t(P):s,le=$t(W),Z=gn(P),G=Z?s:le;if(V.keepDefaultValues||(s=W),!V.keepValues){if(V.keepDirtyValues){const ce=new Set([...l.mount,...Object.keys(co(s,i))]);for(const Ee of Array.from(ce))ue(n.dirtyFields,Ee)?tt(G,Ee,ue(i,Ee)):U(Ee,ue(G,Ee))}else{if(Bb&&_t(P))for(const ce of l.mount){const Ee=ue(r,ce);if(Ee&&Ee._f){const Ae=Array.isArray(Ee._f.refs)?Ee._f.refs[0]:Ee._f.ref;if(Ih(Ae)){const Qe=Ae.closest("form");if(Qe){Qe.reset();break}}}}if(V.keepFieldsRef)for(const ce of l.mount)U(ce,ue(G,ce));else r={}}i=t.shouldUnregister?V.keepDefaultValues?$t(s):{}:$t(G),h.array.next({values:{...G}}),h.state.next({values:{...G}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!t.shouldUnregister&&!gn(G),o.watch=!!t.shouldUnregister,h.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:Z?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!Ar(P,s)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Z?{}:V.keepDirtyValues?V.keepDefaultValues&&i?co(s,i):n.dirtyFields:V.keepDefaultValues&&P?co(s,P):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},je=(P,V)=>Se(Pr(P)?P(i):P,V),xe=(P,V={})=>{const W=ue(r,P),le=W&&W._f;if(le){const Z=le.refs?le.refs[0]:le.ref;Z.focus&&(Z.focus(),V.shouldSelect&&Pr(Z.select)&&Z.select())}},Ye=P=>{n={...n,...P}},Ie={control:{register:de,unregister:K,getFieldState:q,handleSubmit:fe,setError:Q,_subscribe:be,_runSchema:E,_focusError:J,_getWatch:I,_getDirty:O,_setValid:g,_setFieldArray:x,_setDisabledField:F,_setErrors:b,_getFieldArray:B,_reset:Se,_resetDefaultValues:()=>Pr(t.defaultValues)&&t.defaultValues().then(P=>{je(P,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:X,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(P){o=P},get _defaultValues(){return s},get _names(){return l},set _names(P){l=P},get _formState(){return n},get _options(){return t},set _options(P){t={...t,...P}}},subscribe:z,trigger:R,register:de,handleSubmit:fe,watch:oe,setValue:U,getValues:H,reset:je,resetField:ve,clearErrors:te,unregister:K,setError:Q,setFocus:xe,getFieldState:q};return{...Ie,formControl:Ie}}function _I(e={}){const t=ee.useRef(void 0),n=ee.useRef(void 0),[r,s]=ee.useState({isDirty:!1,isValidating:!1,isLoading:Pr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Pr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Pr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=FZ(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,qb(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ee.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ee.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ee.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ee.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ee.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ee.useEffect(()=>{var o;e.values&&!Ar(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),n.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),ee.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=bI(r,i),t.current}const RN=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ue(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},AI=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?RN(r.ref,n,e):r.refs&&r.refs.forEach(s=>RN(s,n,e))}},VZ=(e,t)=>{t.shouldUseNativeValidation&&AI(e,t);const n={};for(const r in e){const s=ue(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(UZ(t.names||Object.keys(e),r)){const o=Object.assign({},ue(n,r));tt(o,"root",i),tt(n,r,o)}else tt(n,r,i)}return n},UZ=(e,t)=>e.some(n=>n.startsWith(t+"."));var $Z=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=SI(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},PI=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&AI({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:VZ($Z(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ge;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ge||(Ge={}));var IN;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(IN||(IN={}));const we=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ii=e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return Number.isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},ie=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Bs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Bs.create=e=>new Bs(e);const Ov=(e,t)=>{let n;switch(e.code){case ie.invalid_type:e.received===we.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ge.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ge.joinValues(e.keys,", ")}`;break;case ie.invalid_union:n="Invalid input";break;case ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ge.joinValues(e.options)}`;break;case ie.invalid_enum_value:n=`Invalid enum value. Expected ${Ge.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:n="Invalid function arguments";break;case ie.invalid_return_type:n="Invalid function return type";break;case ie.invalid_date:n="Invalid date";break;case ie.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ge.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ie.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ie.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ie.custom:n="Invalid input";break;case ie.invalid_intersection_types:n="Intersection results could not be merged";break;case ie.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ge.assertNever(e)}return{message:n}};let BZ=Ov;function WZ(){return BZ}const zZ=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function he(e,t){const n=WZ(),r=zZ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ov?void 0:Ov].filter(s=>!!s)});e.common.issues.push(r)}class Yn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return De;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Yn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return De;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const De=Object.freeze({status:"aborted"}),Sc=e=>({status:"dirty",value:e}),gr=e=>({status:"valid",value:e}),MN=e=>e.status==="aborted",ON=e=>e.status==="dirty",El=e=>e.status==="valid",Oh=e=>typeof Promise<"u"&&e instanceof Promise;var Ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ce||(Ce={}));class qi{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const DN=(e,t)=>{if(El(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Bs(e.common.issues);return this._error=n,this._error}}};function Ve(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class Ke{get description(){return this._def.description}_getType(t){return ii(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ii(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Yn,ctx:{common:t.parent.common,data:t.data,parsedType:ii(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Oh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ii(t)},s=this._parseSync({data:t,path:r.path,parent:r});return DN(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ii(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return El(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>El(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ii(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Oh(s)?s:Promise.resolve(s));return DN(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:ie.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Tl({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Oi.create(this,this._def)}nullable(){return _l.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return as.create(this)}promise(){return Vh.create(this,this._def)}or(t){return Lh.create([this,t],this._def)}and(t){return Fh.create(this,t,this._def)}transform(t){return new Tl({...Ve(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Fv({...Ve(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new hX({typeName:Le.ZodBranded,type:this,...Ve(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vv({...Ve(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Gb.create(this,t)}readonly(){return Uv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HZ=/^c[^\s-]{8,}$/i,qZ=/^[0-9a-z]+$/,KZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,YZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,GZ=/^[a-z0-9_-]{21}$/i,QZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Eg;const eX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aX=new RegExp(`^${RI}$`);function II(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function oX(e){return new RegExp(`^${II(e)}$`)}function lX(e){let t=`${RI}T${II(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function cX(e,t){return!!((t==="v4"||!t)&&eX.test(e)||(t==="v6"||!t)&&nX.test(e))}function uX(e,t){if(!QZ.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function dX(e,t){return!!((t==="v4"||!t)&&tX.test(e)||(t==="v6"||!t)&&rX.test(e))}class Ci extends Ke{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const i=this._getOrReturnCtx(t);return he(i,{code:ie.invalid_type,expected:we.string,received:i.parsedType}),De}const r=new Yn;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?he(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&he(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")XZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"email",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Eg||(Eg=new RegExp(JZ,"u")),Eg.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"emoji",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")YZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"uuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")GZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"nanoid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")HZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")qZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid2",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")KZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ulid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),he(s,{validation:"url",code:ie.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"regex",code:ie.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),he(s,{code:ie.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:ie.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:ie.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?lX(i).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:ie.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?aX.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:ie.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?oX(i).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:ie.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?ZZ.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"duration",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?cX(t.data,i.version)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ip",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?uX(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"jwt",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?dX(t.data,i.version)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cidr",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?sX.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"base64",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?iX.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"base64url",code:ie.invalid_string,message:i.message}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:ie.invalid_string,...Ce.errToObj(r)})}_addCheck(t){return new Ci({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ce.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ce.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ce.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ce.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ce.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ce.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ce.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ce.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ce.errToObj(n)})}nonempty(t){return this.min(1,Ce.errToObj(t))}trim(){return new Ci({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ci({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ci({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ci.create=e=>new Ci({checks:[],typeName:Le.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ve(e)});function fX(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class _u extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const i=this._getOrReturnCtx(t);return he(i,{code:ie.invalid_type,expected:we.number,received:i.parsedType}),De}let r;const s=new Yn;for(const i of this._def.checks)i.kind==="int"?Ge.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),he(r,{code:ie.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:ie.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:ie.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?fX(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),he(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),he(r,{code:ie.not_finite,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,r,s){return new _u({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ce.toString(s)}]})}_addCheck(t){return new _u({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ge.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}_u.create=e=>new _u({checks:[],typeName:Le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ve(e)});class Au extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let r;const s=new Yn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:ie.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),he(r,{code:ie.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),he(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return he(n,{code:ie.invalid_type,expected:we.bigint,received:n.parsedType}),De}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,r,s){return new Au({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ce.toString(s)}]})}_addCheck(t){return new Au({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Au.create=e=>new Au({checks:[],typeName:Le.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ve(e)});class Dv extends Ke{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const r=this._getOrReturnCtx(t);return he(r,{code:ie.invalid_type,expected:we.boolean,received:r.parsedType}),De}return gr(t.data)}}Dv.create=e=>new Dv({typeName:Le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ve(e)});class Dh extends Ke{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const i=this._getOrReturnCtx(t);return he(i,{code:ie.invalid_type,expected:we.date,received:i.parsedType}),De}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return he(i,{code:ie.invalid_date}),De}const r=new Yn;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ie.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ie.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Dh({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ce.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ce.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Dh.create=e=>new Dh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Le.ZodDate,...Ve(e)});class LN extends Ke{_parse(t){if(this._getType(t)!==we.symbol){const r=this._getOrReturnCtx(t);return he(r,{code:ie.invalid_type,expected:we.symbol,received:r.parsedType}),De}return gr(t.data)}}LN.create=e=>new LN({typeName:Le.ZodSymbol,...Ve(e)});class FN extends Ke{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return he(r,{code:ie.invalid_type,expected:we.undefined,received:r.parsedType}),De}return gr(t.data)}}FN.create=e=>new FN({typeName:Le.ZodUndefined,...Ve(e)});class VN extends Ke{_parse(t){if(this._getType(t)!==we.null){const r=this._getOrReturnCtx(t);return he(r,{code:ie.invalid_type,expected:we.null,received:r.parsedType}),De}return gr(t.data)}}VN.create=e=>new VN({typeName:Le.ZodNull,...Ve(e)});class UN extends Ke{constructor(){super(...arguments),this._any=!0}_parse(t){return gr(t.data)}}UN.create=e=>new UN({typeName:Le.ZodAny,...Ve(e)});class $N extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(t){return gr(t.data)}}$N.create=e=>new $N({typeName:Le.ZodUnknown,...Ve(e)});class Ki extends Ke{_parse(t){const n=this._getOrReturnCtx(t);return he(n,{code:ie.invalid_type,expected:we.never,received:n.parsedType}),De}}Ki.create=e=>new Ki({typeName:Le.ZodNever,...Ve(e)});class BN extends Ke{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return he(r,{code:ie.invalid_type,expected:we.void,received:r.parsedType}),De}return gr(t.data)}}BN.create=e=>new BN({typeName:Le.ZodVoid,...Ve(e)});class as extends Ke{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==we.array)return he(n,{code:ie.invalid_type,expected:we.array,received:n.parsedType}),De;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(he(n,{code:o?ie.too_big:ie.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(he(n,{code:ie.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(he(n,{code:ie.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new qi(n,o,n.path,l)))).then(o=>Yn.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new qi(n,o,n.path,l)));return Yn.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new as({...this._def,minLength:{value:t,message:Ce.toString(n)}})}max(t,n){return new as({...this._def,maxLength:{value:t,message:Ce.toString(n)}})}length(t,n){return new as({...this._def,exactLength:{value:t,message:Ce.toString(n)}})}nonempty(t){return this.min(1,t)}}as.create=(e,t)=>new as({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...Ve(t)});function uo(e){if(e instanceof Ft){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Oi.create(uo(r))}return new Ft({...e._def,shape:()=>t})}else return e instanceof as?new as({...e._def,type:uo(e.element)}):e instanceof Oi?Oi.create(uo(e.unwrap())):e instanceof _l?_l.create(uo(e.unwrap())):e instanceof Ha?Ha.create(e.items.map(t=>uo(t))):e}class Ft extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ge.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==we.object){const u=this._getOrReturnCtx(t);return he(u,{code:ie.invalid_type,expected:we.object,received:u.parsedType}),De}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ki&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qi(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ki){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(he(s,{code:ie.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qi(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Yn.mergeObjectSync(r,u)):Yn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Ce.errToObj,new Ft({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ce.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ft({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ft({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Le.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ft({...this._def,catchall:t})}pick(t){const n={};for(const r of Ge.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ft({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Ge.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Ft({...this._def,shape:()=>n})}deepPartial(){return uo(this)}partial(t){const n={};for(const r of Ge.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new Ft({...this._def,shape:()=>n})}required(t){const n={};for(const r of Ge.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Oi;)i=i._def.innerType;n[r]=i}return new Ft({...this._def,shape:()=>n})}keyof(){return MI(Ge.objectKeys(this.shape))}}Ft.create=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strip",catchall:Ki.create(),typeName:Le.ZodObject,...Ve(t)});Ft.strictCreate=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strict",catchall:Ki.create(),typeName:Le.ZodObject,...Ve(t)});Ft.lazycreate=(e,t)=>new Ft({shape:e,unknownKeys:"strip",catchall:Ki.create(),typeName:Le.ZodObject,...Ve(t)});class Lh extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Bs(l.ctx.common.issues));return he(n,{code:ie.invalid_union,unionErrors:o}),De}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Bs(c));return he(n,{code:ie.invalid_union,unionErrors:l}),De}}get options(){return this._def.options}}Lh.create=(e,t)=>new Lh({options:e,typeName:Le.ZodUnion,...Ve(t)});function Lv(e,t){const n=ii(e),r=ii(t);if(e===t)return{valid:!0,data:e};if(n===we.object&&r===we.object){const s=Ge.objectKeys(t),i=Ge.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Lv(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===we.array&&r===we.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Lv(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===we.date&&r===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fh extends Ke{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,o)=>{if(MN(i)||MN(o))return De;const l=Lv(i.value,o.value);return l.valid?((ON(i)||ON(o))&&n.dirty(),{status:n.value,value:l.data}):(he(r,{code:ie.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Fh.create=(e,t,n)=>new Fh({left:e,right:t,typeName:Le.ZodIntersection,...Ve(n)});class Ha extends Ke{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.array)return he(r,{code:ie.invalid_type,expected:we.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return he(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Yn.mergeArray(n,o)):Yn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ha({...this._def,rest:t})}}Ha.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ha({items:e,typeName:Le.ZodTuple,rest:null,...Ve(t)})};class WN extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.map)return he(r,{code:ie.invalid_type,expected:we.map,received:r.parsedType}),De;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new qi(r,l,r.path,[u,"key"])),value:i._parse(new qi(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return De;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return De;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}WN.create=(e,t,n)=>new WN({valueType:t,keyType:e,typeName:Le.ZodMap,...Ve(n)});class Pu extends Ke{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.set)return he(r,{code:ie.invalid_type,expected:we.set,received:r.parsedType}),De;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(he(r,{code:ie.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(he(r,{code:ie.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return De;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new qi(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Pu({...this._def,minSize:{value:t,message:Ce.toString(n)}})}max(t,n){return new Pu({...this._def,maxSize:{value:t,message:Ce.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Pu.create=(e,t)=>new Pu({valueType:e,minSize:null,maxSize:null,typeName:Le.ZodSet,...Ve(t)});class zN extends Ke{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zN.create=(e,t)=>new zN({getter:e,typeName:Le.ZodLazy,...Ve(t)});class HN extends Ke{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return he(n,{received:n.data,code:ie.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:t.data}}get value(){return this._def.value}}HN.create=(e,t)=>new HN({value:e,typeName:Le.ZodLiteral,...Ve(t)});function MI(e,t){return new kl({values:e,typeName:Le.ZodEnum,...Ve(t)})}class kl extends Ke{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return he(n,{expected:Ge.joinValues(r),received:n.parsedType,code:ie.invalid_type}),De}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return he(n,{received:n.data,code:ie.invalid_enum_value,options:r}),De}return gr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return kl.create(t,{...this._def,...n})}exclude(t,n=this._def){return kl.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}kl.create=MI;class qN extends Ke{_parse(t){const n=Ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==we.string&&r.parsedType!==we.number){const s=Ge.objectValues(n);return he(r,{expected:Ge.joinValues(s),received:r.parsedType,code:ie.invalid_type}),De}if(this._cache||(this._cache=new Set(Ge.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ge.objectValues(n);return he(r,{received:r.data,code:ie.invalid_enum_value,options:s}),De}return gr(t.data)}get enum(){return this._def.values}}qN.create=(e,t)=>new qN({values:e,typeName:Le.ZodNativeEnum,...Ve(t)});class Vh extends Ke{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.promise&&n.common.async===!1)return he(n,{code:ie.invalid_type,expected:we.promise,received:n.parsedType}),De;const r=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return gr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Vh.create=(e,t)=>new Vh({type:e,typeName:Le.ZodPromise,...Ve(t)});class Tl extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{he(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return De;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?De:c.status==="dirty"||n.value==="dirty"?Sc(c.value):c});{if(n.value==="aborted")return De;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?De:l.status==="dirty"||n.value==="dirty"?Sc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?De:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?De:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!El(o))return De;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>El(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):De);Ge.assertNever(s)}}Tl.create=(e,t,n)=>new Tl({schema:e,typeName:Le.ZodEffects,effect:t,...Ve(n)});Tl.createWithPreprocess=(e,t,n)=>new Tl({schema:t,effect:{type:"preprocess",transform:e},typeName:Le.ZodEffects,...Ve(n)});class Oi extends Ke{_parse(t){return this._getType(t)===we.undefined?gr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Oi.create=(e,t)=>new Oi({innerType:e,typeName:Le.ZodOptional,...Ve(t)});class _l extends Ke{_parse(t){return this._getType(t)===we.null?gr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_l.create=(e,t)=>new _l({innerType:e,typeName:Le.ZodNullable,...Ve(t)});class Fv extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Fv.create=(e,t)=>new Fv({innerType:e,typeName:Le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ve(t)});class Vv extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Oh(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Bs(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Bs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vv.create=(e,t)=>new Vv({innerType:e,typeName:Le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ve(t)});class KN extends Ke{_parse(t){if(this._getType(t)!==we.nan){const r=this._getOrReturnCtx(t);return he(r,{code:ie.invalid_type,expected:we.nan,received:r.parsedType}),De}return{status:"valid",value:t.data}}}KN.create=e=>new KN({typeName:Le.ZodNaN,...Ve(e)});class hX extends Ke{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Gb extends Ke{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?De:i.status==="dirty"?(n.dirty(),Sc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?De:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Gb({in:t,out:n,typeName:Le.ZodPipeline})}}class Uv extends Ke{_parse(t){const n=this._def.innerType._parse(t),r=s=>(El(s)&&(s.value=Object.freeze(s.value)),s);return Oh(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Uv.create=(e,t)=>new Uv({innerType:e,typeName:Le.ZodReadonly,...Ve(t)});var Le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Le||(Le={}));const Rt=Ci.create,tf=Dv.create;Ki.create;as.create;const Qb=Ft.create;Lh.create;Fh.create;Ha.create;kl.create;Vh.create;Oi.create;_l.create;const OI=wZ,DI=p.createContext({}),xt=({...e})=>a.jsx(DI.Provider,{value:{name:e.name},children:a.jsx(NZ,{...e})}),rm=()=>{const e=p.useContext(DI),t=p.useContext(LI),{getFieldState:n,formState:r}=nm(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},LI=p.createContext({}),pt=p.forwardRef(({className:e,...t},n)=>{const r=p.useId();return a.jsx(LI.Provider,{value:{id:r},children:a.jsx("div",{ref:n,className:re("space-y-2",e),...t})})});pt.displayName="FormItem";const lt=p.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=rm();return a.jsx(Ze,{ref:n,className:re(r&&"text-destructive",e),htmlFor:s,...t})});lt.displayName="FormLabel";const yt=p.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=rm();return a.jsx(Pp,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});yt.displayName="FormControl";const Ss=p.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=rm();return a.jsx("p",{ref:n,id:r,className:re("text-sm text-muted-foreground",e),...t})});Ss.displayName="FormDescription";const Lt=p.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=rm(),o=s?String((s==null?void 0:s.message)??""):t;return o?a.jsx("p",{ref:r,id:i,className:re("text-sm font-medium text-destructive",e),...n,children:o}):null});Lt.displayName="FormMessage";function $v(e,[t,n]){return Math.min(n,Math.max(t,e))}function pX(e){const t=mX(e),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(yX);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function mX(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=xX(s),l=vX(i,s.props);return s.type!==p.Fragment&&(l.ref=r?zs(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gX=Symbol("radix.slottable");function yX(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gX}function vX(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function xX(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wX=[" ","Enter","ArrowUp","ArrowDown"],bX=[" ","Enter"],qa="Select",[sm,im,SX]=vp(qa),[ql]=fn(qa,[SX,Vl]),am=Vl(),[CX,ta]=ql(qa),[NX,jX]=ql(qa),FI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=e,g=am(t),[w,x]=p.useState(null),[v,b]=p.useState(null),[S,C]=p.useState(!1),k=zl(u),[E,N]=Fr({prop:r,defaultProp:s??!1,onChange:i,caller:qa}),[j,T]=Fr({prop:o,defaultProp:l,onChange:c,caller:qa}),O=p.useRef(null),I=w?y||!!w.closest("form"):!0,[B,D]=p.useState(new Set),M=Array.from(B).map(U=>U.props.value).join(";");return a.jsx(ww,{...g,children:a.jsxs(CX,{required:m,scope:t,trigger:w,onTriggerChange:x,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Or(),value:j,onValueChange:T,open:E,onOpenChange:N,dir:k,triggerPointerDownPosRef:O,disabled:h,children:[a.jsx(sm.Provider,{scope:t,children:a.jsx(NX,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(U=>{D($=>new Set($).add(U))},[]),onNativeOptionRemove:p.useCallback(U=>{D($=>{const _=new Set($);return _.delete(U),_})},[]),children:n})}),I?a.jsxs(lM,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:U=>T(U.target.value),disabled:h,form:y,children:[j===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},M):null]})})};FI.displayName=qa;var VI="SelectTrigger",UI=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=am(n),o=ta(VI,n),l=o.disabled||r,c=Oe(t,o.onTriggerChange),u=im(n),d=p.useRef("touch"),[f,h,m]=uM(g=>{const w=u().filter(b=>!b.disabled),x=w.find(b=>b.value===o.value),v=dM(w,g,x);v!==void 0&&o.onValueChange(v.value)}),y=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(bw,{asChild:!0,...i,children:a.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cM(o.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:se(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:se(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&wX.includes(g.key)&&(y(),g.preventDefault())})})})});UI.displayName=VI;var $I="SelectValue",BI=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=e,c=ta($I,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Oe(t,c.onValueNodeChange);return Yt(()=>{u(d)},[u,d]),a.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:cM(c.value)?a.jsx(a.Fragment,{children:o}):i})});BI.displayName=$I;var EX="SelectIcon",WI=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(Ne.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});WI.displayName=EX;var kX="SelectPortal",zI=e=>a.jsx(Yu,{asChild:!0,...e});zI.displayName=kX;var Ka="SelectContent",HI=p.forwardRef((e,t)=>{const n=ta(Ka,e.__scopeSelect),[r,s]=p.useState();if(Yt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Za.createPortal(a.jsx(qI,{scope:e.__scopeSelect,children:a.jsx(sm.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(KI,{...e,ref:t})});HI.displayName=Ka;var Cr=10,[qI,na]=ql(Ka),TX="SelectContentImpl",_X=pX("SelectContent.RemoveScroll"),KI=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w,...x}=e,v=ta(Ka,n),[b,S]=p.useState(null),[C,k]=p.useState(null),E=Oe(t,K=>S(K)),[N,j]=p.useState(null),[T,O]=p.useState(null),I=im(n),[B,D]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(b)return Tw(b)},[b]),kw();const U=p.useCallback(K=>{const[F,...de]=I().map(fe=>fe.ref.current),[J]=de.slice(-1),X=document.activeElement;for(const fe of K)if(fe===X||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===F&&C&&(C.scrollTop=0),fe===J&&C&&(C.scrollTop=C.scrollHeight),fe==null||fe.focus(),document.activeElement!==X))return},[I,C]),$=p.useCallback(()=>U([N,b]),[U,N,b]);p.useEffect(()=>{B&&$()},[B,$]);const{onOpenChange:_,triggerPointerDownPosRef:R}=v;p.useEffect(()=>{if(b){let K={x:0,y:0};const F=J=>{var X,fe;K={x:Math.abs(Math.round(J.pageX)-(((X=R.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(J.pageY)-(((fe=R.current)==null?void 0:fe.y)??0))}},de=J=>{K.x<=10&&K.y<=10?J.preventDefault():b.contains(J.target)||_(!1),document.removeEventListener("pointermove",F),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",de,{capture:!0})}}},[b,_,R]),p.useEffect(()=>{const K=()=>_(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[_]);const[H,q]=uM(K=>{const F=I().filter(X=>!X.disabled),de=F.find(X=>X.ref.current===document.activeElement),J=dM(F,K,de);J&&setTimeout(()=>J.ref.current.focus())}),te=p.useCallback((K,F,de)=>{const J=!M.current&&!de;(v.value!==void 0&&v.value===F||J)&&(j(K),J&&(M.current=!0))},[v.value]),Q=p.useCallback(()=>b==null?void 0:b.focus(),[b]),oe=p.useCallback((K,F,de)=>{const J=!M.current&&!de;(v.value!==void 0&&v.value===F||J)&&O(K)},[v.value]),be=r==="popper"?Bv:YI,z=be===Bv?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(qI,{scope:n,content:b,viewport:C,onViewportChange:k,itemRefCallback:te,selectedItem:N,onItemLeave:Q,itemTextRefCallback:oe,focusSelectedItem:$,selectedItemText:T,position:r,isPositioned:B,searchRef:H,children:a.jsx(Mp,{as:_X,allowPinchZoom:!0,children:a.jsx(Rp,{asChild:!0,trapped:v.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:se(s,K=>{var F;(F=v.trigger)==null||F.focus({preventScroll:!0}),K.preventDefault()}),children:a.jsx(Ol,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(be,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:K=>K.preventDefault(),...x,...z,onPlaced:()=>D(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:se(x.onKeyDown,K=>{const F=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!F&&K.key.length===1&&q(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let J=I().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(K.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const X=K.target,fe=J.indexOf(X);J=J.slice(fe+1)}setTimeout(()=>U(J)),K.preventDefault()}})})})})})})});KI.displayName=TX;var AX="SelectItemAlignedPosition",YI=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=ta(Ka,n),o=na(Ka,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=Oe(t,E=>d(E)),h=im(n),m=p.useRef(!1),y=p.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:x,focusSelectedItem:v}=o,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&w&&x){const E=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const X=T.left-N.left,fe=j.left-X,ve=E.left-fe,Se=E.width+ve,je=Math.max(Se,N.width),xe=window.innerWidth-Cr,Ye=$v(fe,[Cr,Math.max(Cr,xe-je)]);l.style.minWidth=Se+"px",l.style.left=Ye+"px"}else{const X=N.right-T.right,fe=window.innerWidth-j.right-X,ve=window.innerWidth-E.right-fe,Se=E.width+ve,je=Math.max(Se,N.width),xe=window.innerWidth-Cr,Ye=$v(fe,[Cr,Math.max(Cr,xe-je)]);l.style.minWidth=Se+"px",l.style.right=Ye+"px"}const O=h(),I=window.innerHeight-Cr*2,B=g.scrollHeight,D=window.getComputedStyle(u),M=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),$=parseInt(D.borderBottomWidth,10),_=parseInt(D.paddingBottom,10),R=M+U+B+_+$,H=Math.min(w.offsetHeight*5,R),q=window.getComputedStyle(g),te=parseInt(q.paddingTop,10),Q=parseInt(q.paddingBottom,10),oe=E.top+E.height/2-Cr,be=I-oe,z=w.offsetHeight/2,K=w.offsetTop+z,F=M+U+K,de=R-F;if(F<=oe){const X=O.length>0&&w===O[O.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-g.offsetTop-g.offsetHeight,ve=Math.max(be,z+(X?Q:0)+fe+$),Se=F+ve;l.style.height=Se+"px"}else{const X=O.length>0&&w===O[0].ref.current;l.style.top="0px";const ve=Math.max(oe,M+g.offsetTop+(X?te:0)+z)+de;l.style.height=ve+"px",g.scrollTop=F-oe+g.offsetTop}l.style.margin=`${Cr}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,w,x,i.dir,r]);Yt(()=>b(),[b]);const[S,C]=p.useState();Yt(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(E=>{E&&y.current===!0&&(b(),v==null||v(),y.current=!1)},[b,v]);return a.jsx(RX,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});YI.displayName=AX;var PX="SelectPopperPosition",Bv=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Cr,...i}=e,o=am(n);return a.jsx(Sw,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bv.displayName=PX;var[RX,Zb]=ql(Ka,{}),Wv="SelectViewport",GI=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=na(Wv,n),o=Zb(Wv,n),l=Oe(t,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(sm.Slot,{scope:n,children:a.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-Cr*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),x=Math.max(g,w);if(x<y){const v=x+m,b=Math.min(y,v),S=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});GI.displayName=Wv;var QI="SelectGroup",[IX,MX]=ql(QI),OX=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Or();return a.jsx(IX,{scope:n,id:s,children:a.jsx(Ne.div,{role:"group","aria-labelledby":s,...r,ref:t})})});OX.displayName=QI;var ZI="SelectLabel",XI=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=MX(ZI,n);return a.jsx(Ne.div,{id:s.id,...r,ref:t})});XI.displayName=ZI;var Uh="SelectItem",[DX,JI]=ql(Uh),eM=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,l=ta(Uh,n),c=na(Uh,n),u=l.value===r,[d,f]=p.useState(i??""),[h,m]=p.useState(!1),y=Oe(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),g=Or(),w=p.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(DX,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(sm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(Ne.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:se(o.onFocus,()=>m(!0)),onBlur:se(o.onBlur,()=>m(!1)),onClick:se(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:se(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:se(o.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:se(o.onPointerMove,v=>{var b;w.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:se(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(bX.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});eM.displayName=Uh;var Cc="SelectItemText",tM=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=ta(Cc,n),l=na(Cc,n),c=JI(Cc,n),u=jX(Cc,n),[d,f]=p.useState(null),h=Oe(t,x=>f(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return Yt(()=>(g(y),()=>w(y)),[g,w,y]),a.jsxs(a.Fragment,{children:[a.jsx(Ne.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Za.createPortal(i.children,o.valueNode):null]})});tM.displayName=Cc;var nM="SelectItemIndicator",rM=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return JI(nM,n).isSelected?a.jsx(Ne.span,{"aria-hidden":!0,...r,ref:t}):null});rM.displayName=nM;var zv="SelectScrollUpButton",sM=p.forwardRef((e,t)=>{const n=na(zv,e.__scopeSelect),r=Zb(zv,e.__scopeSelect),[s,i]=p.useState(!1),o=Oe(t,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(aM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});sM.displayName=zv;var Hv="SelectScrollDownButton",iM=p.forwardRef((e,t)=>{const n=na(Hv,e.__scopeSelect),r=Zb(Hv,e.__scopeSelect),[s,i]=p.useState(!1),o=Oe(t,r.onScrollButtonChange);return Yt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(aM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});iM.displayName=Hv;var aM=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=na("SelectScrollButton",n),o=p.useRef(null),l=im(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Yt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),LX="SelectSeparator",oM=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(Ne.div,{"aria-hidden":!0,...r,ref:t})});oM.displayName=LX;var qv="SelectArrow",FX=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=am(n),i=ta(qv,n),o=na(qv,n);return i.open&&o.position==="popper"?a.jsx(Cw,{...s,...r,ref:t}):null});FX.displayName=qv;var VX="SelectBubbleInput",lM=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),i=Oe(r,s),o=Yp(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Ne.select,{...n,style:{...iT,...n.style},ref:i,defaultValue:t})});lM.displayName=VX;function cM(e){return e===""||e===void 0}function uM(e){const t=Mt(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function dM(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=UX(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function UX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $X=FI,fM=UI,BX=BI,WX=WI,zX=zI,hM=HI,HX=GI,pM=XI,mM=eM,qX=tM,KX=rM,gM=sM,yM=iM,vM=oM;const $h=$X,Bh=BX,Ru=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(fM,{ref:r,className:re("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(WX,{asChild:!0,children:a.jsx(_T,{className:"h-4 w-4 opacity-50"})})]}));Ru.displayName=fM.displayName;const xM=p.forwardRef(({className:e,...t},n)=>a.jsx(gM,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(D3,{className:"h-4 w-4"})}));xM.displayName=gM.displayName;const wM=p.forwardRef(({className:e,...t},n)=>a.jsx(yM,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(_T,{className:"h-4 w-4"})}));wM.displayName=yM.displayName;const Iu=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(zX,{children:a.jsxs(hM,{ref:s,className:re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(xM,{}),a.jsx(HX,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(wM,{})]})}));Iu.displayName=hM.displayName;const YX=p.forwardRef(({className:e,...t},n)=>a.jsx(pM,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));YX.displayName=pM.displayName;const Gr=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(mM,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(KX,{children:a.jsx(Hr,{className:"h-4 w-4"})})}),a.jsx(qX,{children:t})]}));Gr.displayName=mM.displayName;const GX=p.forwardRef(({className:e,...t},n)=>a.jsx(vM,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));GX.displayName=vM.displayName;function bM({buttonClassName:e,children:t}){const{toast:n}=it(),r=()=>{n({title:"Uploads Disabled",description:"File uploads are temporarily disabled for maintenance. Please check back later.",variant:"destructive"})};return a.jsx(Y,{onClick:r,type:"button",className:e,children:t})}const QX=[{code:"US",name:"United States",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"CA",name:"Canada",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""},{code:"ES",name:"Spain",flag:""},{code:"IT",name:"Italy",flag:""},{code:"NL",name:"Netherlands",flag:""},{code:"BE",name:"Belgium",flag:""},{code:"CH",name:"Switzerland",flag:""},{code:"AT",name:"Austria",flag:""},{code:"SE",name:"Sweden",flag:""},{code:"NO",name:"Norway",flag:""},{code:"DK",name:"Denmark",flag:""},{code:"FI",name:"Finland",flag:""},{code:"IE",name:"Ireland",flag:""},{code:"PT",name:"Portugal",flag:""},{code:"GR",name:"Greece",flag:""},{code:"PL",name:"Poland",flag:""},{code:"CZ",name:"Czech Republic",flag:""},{code:"HU",name:"Hungary",flag:""},{code:"RO",name:"Romania",flag:""},{code:"BG",name:"Bulgaria",flag:""},{code:"HR",name:"Croatia",flag:""},{code:"SK",name:"Slovakia",flag:""},{code:"SI",name:"Slovenia",flag:""},{code:"EE",name:"Estonia",flag:""},{code:"LV",name:"Latvia",flag:""},{code:"LT",name:"Lithuania",flag:""},{code:"JP",name:"Japan",flag:""},{code:"KR",name:"South Korea",flag:""},{code:"CN",name:"China",flag:""},{code:"HK",name:"Hong Kong",flag:""},{code:"SG",name:"Singapore",flag:""},{code:"MY",name:"Malaysia",flag:""},{code:"TH",name:"Thailand",flag:""},{code:"VN",name:"Vietnam",flag:""},{code:"PH",name:"Philippines",flag:""},{code:"ID",name:"Indonesia",flag:""},{code:"IN",name:"India",flag:""},{code:"AE",name:"United Arab Emirates",flag:""},{code:"SA",name:"Saudi Arabia",flag:""},{code:"IL",name:"Israel",flag:""},{code:"TR",name:"Turkey",flag:""},{code:"ZA",name:"South Africa",flag:""},{code:"NG",name:"Nigeria",flag:""},{code:"KE",name:"Kenya",flag:""},{code:"EG",name:"Egypt",flag:""},{code:"MX",name:"Mexico",flag:""},{code:"BR",name:"Brazil",flag:""},{code:"AR",name:"Argentina",flag:""},{code:"CL",name:"Chile",flag:""},{code:"CO",name:"Colombia",flag:""},{code:"PE",name:"Peru",flag:""},{code:"NZ",name:"New Zealand",flag:""},{code:"RU",name:"Russia",flag:""},{code:"UA",name:"Ukraine",flag:""}],SM=Qb({name:Rt().min(1,"Restaurant name is required"),description:Rt().optional(),address:Rt().optional(),city:Rt().min(1,"City is required"),country:Rt().min(1,"Country is required"),phone:Rt().optional(),hours:Rt().optional(),coverImageUrl:Rt().optional(),defaultLanguage:Rt().default("en")}),ZX=Qb({adminPasscode:Rt().regex(/^\d{6}$/,"Admin passcode must be exactly 6 digits"),securityQuestion1:Rt().min(1,"Security question 1 is required"),securityAnswer1:Rt().min(1,"Security answer 1 is required"),securityQuestion2:Rt().min(1,"Security question 2 is required"),securityAnswer2:Rt().min(1,"Security answer 2 is required")}),XX=SM.merge(ZX);function CM({restaurantId:e,initialData:t,onSubmit:n,showSecurityFields:r=!0}){const[s,i]=p.useState(t==null?void 0:t.coverImageUrl),[o,l]=p.useState(!1),{toast:c}=it(),d=_I({resolver:PI(r?XX:SM),defaultValues:{name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",address:(t==null?void 0:t.address)||"",city:(t==null?void 0:t.city)||"",country:(t==null?void 0:t.country)||"",phone:(t==null?void 0:t.phone)||"",hours:(t==null?void 0:t.hours)||"",coverImageUrl:(t==null?void 0:t.coverImageUrl)||"",defaultLanguage:(t==null?void 0:t.defaultLanguage)||"en",...r&&{adminPasscode:"",securityQuestion1:"",securityAnswer1:"",securityQuestion2:"",securityAnswer2:""}}}),f=async()=>({method:"PUT",url:(await(await Pe("POST","/api/objects/upload",{})).json()).uploadURL}),h=async y=>{if(!e){c({title:"Error",description:"Cannot upload cover image: Restaurant ID is missing",variant:"destructive"});return}if(y.successful&&y.successful.length>0){const g=y.successful[0].uploadURL;l(!0);try{const x=await(await Pe("PUT",`/api/restaurant/${e}/cover-image`,{coverImageUrl:g})).json();i(x.coverImageUrl),d.setValue("coverImageUrl",x.coverImageUrl),c({title:"Success",description:"Cover image uploaded successfully"})}catch(w){c({title:"Error",description:w instanceof Error?w.message:"Failed to set cover image",variant:"destructive"})}finally{l(!1)}}},m=y=>{n({...y,coverImageUrl:s})};return a.jsxs(pe,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Restaurant Information"}),a.jsx(OI,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4",children:[a.jsx(xt,{control:d.control,name:"name",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Restaurant Name *"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"The Golden Bistro","data-testid":"input-restaurant-name"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"description",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Description"}),a.jsx(yt,{children:a.jsx(mr,{...y,placeholder:"Brief description of your restaurant","data-testid":"input-restaurant-description"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"address",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Address"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"123 Main Street","data-testid":"input-restaurant-address"})}),a.jsx(Lt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(xt,{control:d.control,name:"city",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"City *"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"New York","data-testid":"input-restaurant-city",disabled:!!(t!=null&&t.city),className:t!=null&&t.city?"bg-muted cursor-not-allowed":""})}),(t==null?void 0:t.city)&&a.jsx(Ss,{className:"text-xs text-muted-foreground",children:"City cannot be changed once set"}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"country",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Country *"}),a.jsxs($h,{onValueChange:y.onChange,defaultValue:y.value,disabled:!!(t!=null&&t.country),children:[a.jsx(yt,{children:a.jsx(Ru,{"data-testid":"select-restaurant-country",className:t!=null&&t.country?"bg-muted cursor-not-allowed":"",children:a.jsx(Bh,{placeholder:"Select a country"})})}),a.jsx(Iu,{children:QX.map(g=>a.jsx(Gr,{value:g.name,"data-testid":`country-option-${g.code}`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{children:g.flag}),a.jsx("span",{children:g.name})]})},g.code))})]}),a.jsx(Ss,{className:"text-xs",children:t!=null&&t.country?"Country cannot be changed once set (required for payment processing)":"Required for payment processing"}),a.jsx(Lt,{})]})})]}),a.jsx(xt,{control:d.control,name:"phone",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Phone Number"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"(555) 123-4567","data-testid":"input-restaurant-phone"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"hours",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Operating Hours"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"Mon-Sun: 11AM - 10PM","data-testid":"input-restaurant-hours"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"defaultLanguage",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Default Language"}),a.jsxs($h,{onValueChange:y.onChange,defaultValue:y.value,children:[a.jsx(yt,{children:a.jsx(Ru,{"data-testid":"select-default-language",children:a.jsx(Bh,{placeholder:"Select a language"})})}),a.jsx(Iu,{children:Jy.map(g=>a.jsx(Gr,{value:g.code,"data-testid":`language-option-${g.code}`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{children:g.flag}),a.jsx("span",{children:g.nativeName})]})},g.code))})]}),a.jsx(Ss,{children:"This will be the default language shown to customers when they scan your QR code"}),a.jsx(Lt,{})]})}),r&&a.jsxs("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h4",{className:"font-semibold text-base mb-4",children:"Admin Security Setup"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set up your admin passcode and security questions for account recovery"}),a.jsx(xt,{control:d.control,name:"adminPasscode",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Admin Passcode (6 digits) *"}),a.jsx(yt,{children:a.jsx(ze,{...y,type:"password",inputMode:"numeric",maxLength:6,placeholder:"123456","data-testid":"input-admin-passcode"})}),a.jsx(Ss,{children:"You'll use this to access the admin panel and kitchen dashboard"}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"securityQuestion1",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Security Question 1 *"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"e.g., What was your first pet's name?","data-testid":"input-security-question-1"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"securityAnswer1",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Answer 1 *"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"Your answer (case-insensitive)","data-testid":"input-security-answer-1"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"securityQuestion2",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Security Question 2 *"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"e.g., What city were you born in?","data-testid":"input-security-question-2"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:d.control,name:"securityAnswer2",render:({field:y})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Answer 2 *"}),a.jsx(yt,{children:a.jsx(ze,{...y,placeholder:"Your answer (case-insensitive)","data-testid":"input-security-answer-2"})}),a.jsx(Ss,{children:"Once set, security questions cannot be changed for security reasons"}),a.jsx(Lt,{})]})})]}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(lt,{children:"Cover Image"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a cover image for your restaurant"})]}),s&&a.jsx("div",{className:"relative w-full aspect-[21/9] rounded-lg overflow-hidden border",children:a.jsx("img",{src:s,alt:"Restaurant cover",className:"w-full h-full object-cover","data-testid":"img-restaurant-cover"})}),a.jsx(bM,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:f,onComplete:h,buttonClassName:"w-full",children:o?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(B3,{className:"h-4 w-4 mr-2"}),s?"Change Cover Image":"Upload Cover Image"]})})]}),a.jsx(Y,{type:"submit",className:"w-full","data-testid":"button-save-info",children:"Save Information"})]})})]})}var om="Checkbox",[JX]=fn(om),[eJ,Xb]=JX(om);function tJ(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Fr({prop:n,defaultProp:s??!1,onChange:c,caller:om}),[y,g]=p.useState(null),[w,x]=p.useState(null),v=p.useRef(!1),b=y?!!o||!!y.closest("form"):!0,S={checked:h,disabled:i,setChecked:m,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Di(s)?!1:s,isFormControl:b,bubbleInput:w,setBubbleInput:x};return a.jsx(eJ,{scope:t,...S,children:nJ(f)?f(S):r})}var NM="CheckboxTrigger",jM=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:y}=Xb(NM,e),g=Oe(s,d),w=p.useRef(c);return p.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const v=()=>f(w.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[i,f]),a.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":Di(c)?"mixed":c,"aria-required":u,"data-state":AM(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:se(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:se(n,x=>{f(v=>Di(v)?!0:!v),y&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});jM.displayName=NM;var Jb=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(tJ,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(jM,{...f,ref:t,__scopeCheckbox:n}),h&&a.jsx(_M,{__scopeCheckbox:n})]})})});Jb.displayName=om;var EM="CheckboxIndicator",kM=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=Xb(EM,n);return a.jsx(en,{present:r||Di(i.checked)||i.checked===!0,children:a.jsx(Ne.span,{"data-state":AM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});kM.displayName=EM;var TM="CheckboxBubbleInput",_M=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=Xb(TM,e),y=Oe(n,m),g=Yp(i),w=kp(r);p.useEffect(()=>{const v=h;if(!v)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,k=!s.current;if(g!==i&&C){const E=new Event("click",{bubbles:k});v.indeterminate=Di(i),C.call(v,Di(i)?!1:i),v.dispatchEvent(E)}},[h,g,i,s]);const x=p.useRef(Di(i)?!1:i);return a.jsx(Ne.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_M.displayName=TM;function nJ(e){return typeof e=="function"}function Di(e){return e==="indeterminate"}function AM(e){return Di(e)?"indeterminate":e?"checked":"unchecked"}const Ao=p.forwardRef(({className:e,...t},n)=>a.jsx(Jb,{ref:n,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(kM,{className:re("flex items-center justify-center text-current"),children:a.jsx(Hr,{className:"h-4 w-4"})})}));Ao.displayName=Jb.displayName;const rJ=Qb({name:Rt().min(1,"Item name is required"),description:Rt().min(1,"Description is required"),price:Rt().min(1,"Price is required"),category:Rt().min(1,"Category is required"),spiceLevel:Rt().optional(),isVegan:tf().default(!1),isVegetarian:tf().default(!1),isHalal:tf().default(!1),isKosher:tf().default(!1),allergens:Rt().optional(),imageUrl:Rt().optional()});function sJ({onSubmit:e,onCancel:t,menuItem:n}){var d;const[r,s]=p.useState((n==null?void 0:n.imageUrl)||void 0),{toast:i}=it(),o=_I({resolver:PI(rJ),defaultValues:{name:(n==null?void 0:n.name)||"",description:(n==null?void 0:n.description)||"",price:(n==null?void 0:n.price)||"",category:(n==null?void 0:n.category)||"",spiceLevel:(n==null?void 0:n.spiceLevel)||"0",isVegan:(n==null?void 0:n.isVegan)||!1,isVegetarian:(n==null?void 0:n.isVegetarian)||!1,isHalal:(n==null?void 0:n.isHalal)||!1,isKosher:(n==null?void 0:n.isKosher)||!1,allergens:((d=n==null?void 0:n.allergens)==null?void 0:d.join(", "))||"",imageUrl:(n==null?void 0:n.imageUrl)||void 0}}),l=async()=>{try{const f=await Pe("POST","/api/objects/upload");if(!f.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await f.json()).uploadURL}}catch(f){throw console.error("Error getting upload parameters:",f),i({title:"Upload Failed",description:"Could not prepare image upload. Please try again.",variant:"destructive"}),f}},c=async f=>{try{if(f.successful&&f.successful.length>0){const h=f.successful[0].uploadURL;if(n!=null&&n.id){const m=await Pe("PUT",`/api/menu-items/${n.id}/image`,{imageUrl:h});let y;try{y=await m.json()}catch{y=null}if(!m.ok){const w=(y==null?void 0:y.error)||(y==null?void 0:y.message)||"Failed to update image";throw new Error(w)}const g=(y==null?void 0:y.imageUrl)||h;s(g),i({title:"Image Updated",description:"Menu item image has been successfully updated"})}else s(h),i({title:"Image Uploaded",description:"Image uploaded successfully. Save the item to complete."})}}catch(h){throw console.error("Error uploading image:",h),i({title:"Upload Failed",description:h instanceof Error?h.message:"Could not upload image. Please try again.",variant:"destructive"}),h}},u=f=>{const h=f.allergens?f.allergens.split(",").map(m=>m.trim()).filter(Boolean):[];e({...f,allergens:h,imageUrl:r})};return a.jsx(OI,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-4",children:[a.jsx(xt,{control:o.control,name:"name",render:({field:f})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Item Name *"}),a.jsx(yt,{children:a.jsx(ze,{...f,placeholder:"Classic Burger","data-testid":"input-item-name"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:o.control,name:"description",render:({field:f})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Description *"}),a.jsx(yt,{children:a.jsx(mr,{...f,placeholder:"Delicious burger with fresh ingredients","data-testid":"input-item-description"})}),a.jsx(Lt,{})]})}),a.jsxs(pt,{children:[a.jsx(lt,{children:"Item Image"}),a.jsxs("div",{className:"space-y-4",children:[r&&a.jsx("div",{className:"relative w-full max-w-xs",children:a.jsx("img",{src:r!=null&&r.startsWith("http")||r!=null&&r.startsWith("/")?r:`/assets/stock_images/${r}`,alt:"Menu item",className:"w-full h-48 object-cover rounded-md","data-testid":"img-menu-item-preview"})}),a.jsxs(bM,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:l,onComplete:c,buttonClassName:"w-full",children:[a.jsx(cw,{className:"h-4 w-4 mr-2"}),r?"Change Image":"Upload Image"]})]}),a.jsx(Ss,{children:"Upload a high-quality image of the menu item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(xt,{control:o.control,name:"price",render:({field:f})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Price *"}),a.jsx(yt,{children:a.jsx(ze,{...f,type:"number",step:"0.01",placeholder:"14.99","data-testid":"input-item-price"})}),a.jsx(Lt,{})]})}),a.jsx(xt,{control:o.control,name:"category",render:({field:f})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Category *"}),a.jsx(yt,{children:a.jsx(ze,{...f,placeholder:"e.g., Appetizers, Main Course, Desserts","data-testid":"input-item-category"})}),a.jsx(Ss,{children:"Create your own categories or use common ones like Appetizers, Main Course, Sides, Drinks, Desserts"}),a.jsx(Lt,{})]})})]}),a.jsx(xt,{control:o.control,name:"spiceLevel",render:({field:f})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Spice Level"}),a.jsxs($h,{onValueChange:f.onChange,defaultValue:f.value,children:[a.jsx(yt,{children:a.jsx(Ru,{"data-testid":"select-spice-level",children:a.jsx(Bh,{placeholder:"Select spice level"})})}),a.jsxs(Iu,{children:[a.jsx(Gr,{value:"0",children:"Not Spicy"}),a.jsx(Gr,{value:"1",children:"Mild"}),a.jsx(Gr,{value:"2",children:"Medium"}),a.jsx(Gr,{value:"3",children:"Hot"}),a.jsx(Gr,{value:"4",children:"Very Hot"}),a.jsx(Gr,{value:"5",children:"Extreme"})]})]}),a.jsx(Lt,{})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(lt,{children:"Dietary Options"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xt,{control:o.control,name:"isVegan",render:({field:f})=>a.jsxs(pt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(yt,{children:a.jsx(Ao,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-vegan"})}),a.jsx(lt,{className:"!mt-0 cursor-pointer",children:"Vegan"})]})}),a.jsx(xt,{control:o.control,name:"isVegetarian",render:({field:f})=>a.jsxs(pt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(yt,{children:a.jsx(Ao,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-vegetarian"})}),a.jsx(lt,{className:"!mt-0 cursor-pointer",children:"Vegetarian"})]})}),a.jsx(xt,{control:o.control,name:"isHalal",render:({field:f})=>a.jsxs(pt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(yt,{children:a.jsx(Ao,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-halal"})}),a.jsx(lt,{className:"!mt-0 cursor-pointer",children:"Halal"})]})}),a.jsx(xt,{control:o.control,name:"isKosher",render:({field:f})=>a.jsxs(pt,{className:"flex items-center space-x-2 space-y-0",children:[a.jsx(yt,{children:a.jsx(Ao,{checked:f.value,onCheckedChange:f.onChange,"data-testid":"checkbox-kosher"})}),a.jsx(lt,{className:"!mt-0 cursor-pointer",children:"Kosher"})]})})]})]}),a.jsx(xt,{control:o.control,name:"allergens",render:({field:f})=>a.jsxs(pt,{children:[a.jsx(lt,{children:"Allergens"}),a.jsx(yt,{children:a.jsx(ze,{...f,placeholder:"Gluten, Dairy, Nuts (comma separated)","data-testid":"input-allergens"})}),a.jsx(Ss,{children:"Enter allergens separated by commas"}),a.jsx(Lt,{})]})}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Y,{type:"submit",className:"flex-1","data-testid":"button-save-item",children:"Save Item"}),a.jsx(Y,{type:"button",variant:"outline",onClick:t,className:"flex-1","data-testid":"button-cancel",children:"Cancel"})]})]})})}function iJ({menuItemId:e,menuItemName:t,restaurantId:n,interviewType:r="menu_item",onComplete:s}){const{toast:i}=it(),[o,l]=p.useState(!1),[c,u]=p.useState("idle"),[d,f]=p.useState([]),[h,m]=p.useState({}),y=p.useRef(null),g=p.useRef([]),w=p.useRef(null),x=p.useRef(null),v=p.useRef(null),b=p.useRef(null);p.useEffect(()=>(typeof window<"u"&&(w.current=new Audio,w.current.onplay=()=>{u("responding")},w.current.onended=()=>{u("idle")},w.current.onpause=()=>{u("idle")},w.current.onerror=()=>{u("idle")}),()=>{w.current&&(w.current.pause(),w.current.src=""),v.current&&(v.current.disconnect(),v.current=null),b.current&&(b.current.disconnect(),b.current=null),x.current&&(x.current.close(),x.current=null)}),[]),p.useEffect(()=>{!o&&n&&(l(!0),setTimeout(async()=>{const M=r==="menu_item"?`Hi! I'm here to help you add rich details about ${t||"this menu item"}. Let's chat about how you make it, where your ingredients come from, and what makes it special. Ready to start?`:"Hi! I'd love to learn about your restaurant's story. Tell me about how you started, your cooking philosophy, and what makes your restaurant unique. Ready?";await C({role:"assistant",content:M},!0)},100))},[o,n,e,t,r]);const S=async M=>{try{Y2.tryPlayCachedPhrase(M),w.current&&(w.current.pause(),w.current.src="");const $=await fetch("http://localhost:3005/dev/api/ai/text-to-speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:M,language:"en"})});if($.status===503||!$.ok)return u("idle"),!1;const _=await $.blob(),R=URL.createObjectURL(_);if(w.current){w.current.src=R;try{return await w.current.play(),!0}catch{return u("idle"),!1}}return!1}catch(U){return console.error("TTS error:",U),u("idle"),!1}},C=async(M,U=!1)=>{const $=U?[M]:[...d,M];if(f($),M.role==="assistant"){await S(M.content);return}try{u("processing");const R=await fetch("http://localhost:3005/dev/api/ai/interview",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({messages:$,menuItemId:e,restaurantId:n,interviewType:r})});if(!R.ok)throw new Error("Interview request failed");const H=await R.json(),q={role:"assistant",content:H.message};f([...$,q]),await S(H.message)}catch(_){console.error("Interview error:",_),i({title:"Interview Error",description:"Something went wrong. Please try again.",variant:"destructive"}),u("idle")}},k=async()=>{try{const M=await navigator.mediaDevices.getUserMedia({audio:!0}),U=new MediaRecorder(M,{mimeType:"audio/webm"});y.current=U,g.current=[],U.ondataavailable=oe=>{oe.data.size>0&&g.current.push(oe.data)},U.onstop=async()=>{E();const oe=new Blob(g.current,{type:"audio/webm"});await j(oe),M.getTracks().forEach(be=>be.stop())},U.start(),u("listening"),console.log("Recording started (max 20 seconds, or until silence detected)..."),x.current=new AudioContext,b.current=x.current.createMediaStreamSource(M),v.current=x.current.createAnalyser(),v.current.fftSize=2048,b.current.connect(v.current);const $=v.current.frequencyBinCount,_=new Uint8Array($);let R=null;const H=5,q=1500,te=Date.now(),Q=()=>{if(U.state!=="recording"||!v.current)return;v.current.getByteTimeDomainData(_);let oe=0;for(let K=0;K<$;K++){const F=Math.abs(_[K]-128);oe+=F}const be=oe/$,z=((Date.now()-te)/1e3).toFixed(1);if(be<H){if(R===null)R=Date.now(),console.log(`Silence started at ${z}s (volume: ${be.toFixed(1)})`);else if(Date.now()-R>q){const K=((Date.now()-te)/1e3).toFixed(1);console.log(`Silence detected after ${K}s, stopping recording early`),ju.playAck(),U.stop(),M.getTracks().forEach(F=>F.stop());return}}else R!==null&&console.log(`Sound detected at ${z}s (volume: ${be.toFixed(1)}), continuing recording`),R=null;requestAnimationFrame(Q)};requestAnimationFrame(Q),setTimeout(()=>{U.state==="recording"&&(console.log("Auto-stopping recording after 20 seconds"),ju.playAck(),U.stop(),M.getTracks().forEach(oe=>oe.stop()))},2e4)}catch(M){console.error("Recording error:",M),E(),i({title:"Microphone Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"}),u("idle")}},E=()=>{v.current&&(v.current.disconnect(),v.current=null),b.current&&(b.current.disconnect(),b.current=null),x.current&&(x.current.close(),x.current=null)},N=()=>{y.current&&y.current.state==="recording"&&(y.current.stop(),u("processing")),E()},j=async M=>{try{const U=new FormData;U.append("audio",M,"recording.webm"),U.append("language","en");const _=await fetch("http://localhost:3005/dev/api/ai/speech-to-text",{method:"POST",body:U});if(!_.ok)throw new Error("Transcription failed");const R=await _.json();R.text&&R.text.trim()?await C({role:"user",content:R.text}):u("idle")}catch(U){console.error("Transcription error:",U),i({title:"Transcription Error",description:"Could not transcribe audio. Please try again.",variant:"destructive"}),u("idle")}},T=()=>{c==="listening"?N():c==="idle"&&k()},O=async()=>{try{u("saving");const M=I();if(!(await fetch("http://localhost:3005/dev/api/ai/interview/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({menuItemId:e,restaurantId:n,interviewType:r,data:M})})).ok)throw new Error("Save failed");i({title:"Interview Saved",description:"Your details have been saved successfully!"}),u("idle"),s&&s()}catch(M){console.error("Save error:",M),i({title:"Save Error",description:"Could not save interview. Please try again.",variant:"destructive"}),u("idle")}},I=()=>{const M=d.filter(U=>U.role==="user").map(U=>U.content).join(" ");return{preparationMethod:M.substring(0,500),ingredientSources:"",pairingSuggestions:"",chefNotes:M,cookingTime:"",specialTechniques:""}},B=()=>{switch(c){case"listening":return"Listening...";case"processing":return"Processing...";case"responding":return"Speaking...";case"saving":return"Saving...";default:return"Press to speak"}},D=d.length>2&&c==="idle";return a.jsxs(pe,{className:"w-full max-w-2xl mx-auto","data-testid":"card-interview-assistant",children:[a.jsxs(or,{children:[a.jsxs(lr,{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"w-5 h-5"}),"Menu Interview Assistant"]}),a.jsx(Jr,{children:r==="menu_item"?`Adding details for: ${t||"Menu Item"}`:"Share your restaurant story"})]}),a.jsxs(Pn,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Y,{size:"lg",variant:c==="listening"?"destructive":"default",className:"w-32 h-32 rounded-full",onClick:T,disabled:c==="processing"||c==="responding"||c==="saving","data-testid":"button-voice-interview",children:c==="processing"||c==="responding"||c==="saving"?a.jsx(Be,{className:"w-12 h-12 animate-spin"}):c==="listening"?a.jsx(VT,{className:"w-12 h-12 animate-pulse"}):a.jsx(oh,{className:"w-12 h-12"})}),a.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-interview-status",children:B()})]}),d.length>0&&a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto rounded-md border p-4",children:d.map((M,U)=>a.jsxs("div",{className:`text-sm ${M.role==="assistant"?"text-muted-foreground italic":"font-medium"}`,"data-testid":`text-message-${U}`,children:[a.jsx("strong",{children:M.role==="assistant"?"AI: ":"You: "}),M.content]},U))}),D&&a.jsxs(Y,{className:"w-full",onClick:O,disabled:c!=="idle","data-testid":"button-save-interview",children:[a.jsx(DT,{className:"w-4 h-4 mr-2"}),"Save Interview"]})]})]})}class e0{static getAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}static playChime(){try{const t=this.getAudioContext(),n=t.currentTime,r=t.createOscillator(),s=t.createGain();r.connect(s),s.connect(t.destination),r.frequency.value=800,r.type="sine",s.gain.setValueAtTime(0,n),s.gain.linearRampToValueAtTime(.3,n+.01),s.gain.exponentialRampToValueAtTime(.01,n+.15),r.start(n),r.stop(n+.15);const i=t.createOscillator(),o=t.createGain();i.connect(o),o.connect(t.destination),i.frequency.value=600,i.type="sine",o.gain.setValueAtTime(0,n+.1),o.gain.linearRampToValueAtTime(.3,n+.11),o.gain.exponentialRampToValueAtTime(.01,n+.3),i.start(n+.1),i.stop(n+.3)}catch(t){console.error("Error playing notification sound:",t)}}}fm(e0,"audioContext",null);function aJ({restaurantId:e}){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState("voice"),[u,d]=p.useState(""),{toast:f}=it(),{user:h}=$p(),m=p.useRef(null),y=p.useRef([]),{data:g=[],isLoading:w}=Je({queryKey:["/api/chef/questions"],refetchInterval:5e3});p.useEffect(()=>{if(!h)return;let C;if(!C)if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")C="ws://localhost:3006";else return;const k=new WebSocket(`${C}?restaurantId=${e}&role=chef`);return k.onopen=()=>{console.log("WebSocket connected for chef")},k.onmessage=E=>{JSON.parse(E.data).type==="new-question"&&(rt.invalidateQueries({queryKey:["/api/chef/questions"]}),e0.playChime(),f({title:"New Question",description:"A customer has a question that needs your answer!"}))},k.onerror=E=>{console.error("WebSocket error:",E)},k.onclose=()=>{console.log("WebSocket disconnected")},()=>{k.close()}},[e,h,f]);const x=async()=>{try{const C=await navigator.mediaDevices.getUserMedia({audio:!0}),k=new MediaRecorder(C);m.current=k,y.current=[],k.ondataavailable=E=>{E.data.size>0&&y.current.push(E.data)},k.onstop=()=>{const E=new Blob(y.current,{type:"audio/webm"});o(E),C.getTracks().forEach(N=>N.stop())},k.start(),s(!0)}catch(C){console.error("Error starting recording:",C),f({title:"Error",description:"Failed to access microphone",variant:"destructive"})}},v=()=>{m.current&&r&&(m.current.stop(),s(!1))},b=Xe({mutationFn:async()=>{if(!t)throw new Error("No question selected");if(l==="voice"&&!i)throw new Error("No audio recorded");if(l==="text"&&!u.trim())throw new Error("Please enter an answer");const C=new FormData;C.append("questionId",t.id),C.append("language",t.language),l==="voice"&&i?C.append("audio",i,"answer.webm"):C.append("textAnswer",u.trim());const E=await fetch("http://localhost:3005/dev/api/chef/answer",{method:"POST",body:C,credentials:"include"});if(!E.ok){const N=await E.json();throw new Error(N.error||"Failed to send answer")}return E.json()},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/chef/questions"]}),rt.invalidateQueries({queryKey:["/api/faqs"]}),n(null),o(null),d(""),c("voice"),f({title:"Success",description:"Your answer has been sent to the customer!"})},onError:C=>{f({title:"Error",description:C.message,variant:"destructive"})}}),S=g.filter(C=>C.status==="pending");return w?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-questions"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Customer Questions"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Answer customer questions via voice - your responses will be sent back instantly"})]}),S.length===0?a.jsx(pe,{className:"p-12",children:a.jsx("p",{className:"text-muted-foreground text-center","data-testid":"text-no-questions",children:"No pending questions. When customers ask questions that the AI can't answer, they'll appear here."})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(C=>a.jsxs(pe,{className:"p-6 space-y-4","data-testid":`card-question-${C.id}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:Ps(new Date(C.createdAt),"MMM d, h:mm a")}),a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-primary/10 text-primary",children:C.language.toUpperCase()})]}),a.jsx("p",{className:"font-medium text-lg mb-2","data-testid":`text-question-${C.id}`,children:C.question}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Session: ",C.customerSessionId.substring(0,8),"..."]})]}),(t==null?void 0:t.id)===C.id?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{onClick:()=>c("voice"),variant:l==="voice"?"default":"outline",className:"flex-1",size:"sm","data-testid":`button-mode-voice-${C.id}`,children:[a.jsx(oh,{className:"h-4 w-4 mr-2"}),"Voice"]}),a.jsxs(Y,{onClick:()=>c("text"),variant:l==="text"?"default":"outline",className:"flex-1",size:"sm","data-testid":`button-mode-text-${C.id}`,children:[a.jsx(ah,{className:"h-4 w-4 mr-2"}),"Text"]})]}),l==="voice"&&!i&&a.jsx(Y,{onClick:r?v:x,className:"w-full",variant:r?"destructive":"default","data-testid":`button-record-${C.id}`,children:r?a.jsxs(a.Fragment,{children:[a.jsx(tV,{className:"h-4 w-4 mr-2"}),"Stop Recording"]}):a.jsxs(a.Fragment,{children:[a.jsx(oh,{className:"h-4 w-4 mr-2"}),"Record Answer"]})}),l==="voice"&&i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Answer recorded"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{onClick:()=>b.mutate(),disabled:b.isPending,className:"flex-1","data-testid":`button-send-${C.id}`,children:[b.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(qy,{className:"h-4 w-4 mr-2"}),"Send Answer"]}),a.jsx(Y,{onClick:()=>o(null),variant:"outline","data-testid":`button-re-record-${C.id}`,children:"Re-record"})]})]}),l==="text"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(mr,{value:u,onChange:k=>d(k.target.value),placeholder:"Type your answer here...",className:"min-h-[100px]","data-testid":`input-answer-${C.id}`}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(Y,{onClick:()=>b.mutate(),disabled:b.isPending||!u.trim(),className:"flex-1","data-testid":`button-send-text-${C.id}`,children:[b.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(qy,{className:"h-4 w-4 mr-2"}),"Send Answer"]})})]}),a.jsx(Y,{onClick:()=>{o(null),d(""),n(null)},variant:"outline",className:"w-full","data-testid":`button-cancel-${C.id}`,children:"Cancel"})]}):a.jsx(Y,{onClick:()=>n(C),variant:"outline",className:"w-full","data-testid":`button-answer-${C.id}`,children:"Answer Question"})]},C.id))})]})}const YN=()=>{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createOscillator(),r=e.createGain();t.connect(r),n.connect(r),r.connect(e.destination),t.frequency.value=800,n.frequency.value=1e3,r.gain.value=.3;const s=e.currentTime;t.start(s),t.stop(s+.2),n.start(s+.2),n.stop(s+.4)};function oJ(){const{toast:e}=it(),[t,n]=p.useState("pending"),r=p.useRef(0),s=p.useRef(!0),{data:i}=Je({queryKey:["/api/restaurant"]}),o=t==="all"?"/api/assistance-requests":`/api/assistance-requests?status=${t}`,{data:l=[],isLoading:c}=Je({queryKey:[o],refetchInterval:1e4});p.useEffect(()=>{if(!(i!=null&&i.id))return;let h;if(!h)if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")h="ws://localhost:3006";else{console.warn("[AssistanceTab] VITE_WS_URL not configured. WebSocket disabled (polling only).");return}const m=`${h}?restaurantId=${i.id}&role=chef`,y=new WebSocket(m);return y.onopen=()=>{console.log("WebSocket connected to assistance requests")},y.onmessage=g=>{try{JSON.parse(g.data).type==="new-assistance-request"&&(rt.invalidateQueries({predicate:x=>{const v=x.queryKey[0];return v==null?void 0:v.startsWith("/api/assistance-requests")}}),YN(),e({title:"New Assistance Request",description:"A customer needs help!"}))}catch(w){console.error("WebSocket message error:",w)}},y.onerror=g=>{console.error("WebSocket error for assistance requests:",g)},()=>{y.close()}},[i==null?void 0:i.id,e]),p.useEffect(()=>{if(s.current){s.current=!1,r.current=l.filter(m=>m.status==="pending").length;return}const h=l.filter(m=>m.status==="pending").length;h>r.current&&YN(),r.current=h},[l]);const u=Xe({mutationFn:async({id:h,status:m})=>{const y=await Pe("PATCH",`/api/assistance-requests/${h}/status`,{status:m});if(!y.ok)throw new Error("Failed to update request status");return y.json()},onSuccess:()=>{rt.invalidateQueries({predicate:h=>{const m=h.queryKey[0];return m==null?void 0:m.startsWith("/api/assistance-requests")}}),e({title:"Status Updated",description:"Request status has been updated."})},onError:h=>{e({title:"Error",description:h.message,variant:"destructive"})}}),d=l,f=l.filter(h=>h.status==="pending").length;return c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fa,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading requests..."})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-assistance-title",children:"Assistance Requests"}),f>0&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[f," pending ",f===1?"request":"requests"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{variant:t==="pending"?"default":"outline",size:"sm",onClick:()=>n("pending"),"data-testid":"button-filter-pending",children:["Pending ",f>0&&`(${f})`]}),a.jsx(Y,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),"data-testid":"button-filter-all",children:"All"}),a.jsx(Y,{variant:t==="resolved"?"default":"outline",size:"sm",onClick:()=>n("resolved"),"data-testid":"button-filter-resolved",children:"Resolved"})]})]}),d.length===0?a.jsxs(pe,{className:"p-12 text-center",children:[a.jsx(Wy,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Assistance Requests"}),a.jsx("p",{className:"text-muted-foreground",children:t==="pending"?"No pending requests at the moment":"No assistance requests found"})]}):a.jsx("div",{className:"space-y-3",children:d.map(h=>a.jsx(pe,{className:"p-4","data-testid":`card-request-${h.id}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(He,{className:h.status==="pending"?"bg-yellow-500":h.status==="acknowledged"?"bg-blue-500":"bg-green-500","data-testid":`badge-status-${h.id}`,children:[h.status==="pending"&&a.jsx(Wy,{className:"h-3 w-3 mr-1"}),h.status==="resolved"&&a.jsx(Vi,{className:"h-3 w-3 mr-1"}),h.status.charAt(0).toUpperCase()+h.status.slice(1)]}),h.tableId&&a.jsxs(He,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(RT,{className:"h-3 w-3"}),"Table ",h.tableNumber||"Unknown"]})]}),h.customerMessage&&a.jsxs("div",{className:"flex items-start gap-2 mb-3 p-3 bg-muted rounded-md",children:[a.jsx(ah,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),a.jsx("p",{className:"text-sm","data-testid":`text-message-${h.id}`,children:h.customerMessage})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(Fa,{className:"h-3 w-3"}),Ub(new Date(h.createdAt),{addSuffix:!0})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[h.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(Y,{size:"sm",variant:"outline",onClick:()=>u.mutate({id:h.id,status:"acknowledged"}),disabled:u.isPending,"data-testid":`button-acknowledge-${h.id}`,children:"Acknowledge"}),a.jsx(Y,{size:"sm",onClick:()=>u.mutate({id:h.id,status:"resolved"}),disabled:u.isPending,"data-testid":`button-resolve-${h.id}`,children:"Resolve"})]}),h.status==="acknowledged"&&a.jsx(Y,{size:"sm",onClick:()=>u.mutate({id:h.id,status:"resolved"}),disabled:u.isPending,"data-testid":`button-resolve-${h.id}`,children:"Resolve"})]})]})},h.id))})]})}function lJ({restaurantName:e}){const[t,n]=p.useState(""),[r,s]=p.useState(""),{toast:i}=it(),o=Xe({mutationFn:async c=>(await Pe("POST","/api/contact-support",c)).json(),onSuccess:()=>{i({title:"Message Sent",description:"Your message has been sent to Waiterix support. We'll get back to you soon!"}),n(""),s("")},onError:c=>{i({title:"Error",description:c.message||"Failed to send message. Please try again.",variant:"destructive"})}}),l=c=>{if(c.preventDefault(),!t.trim()||!r.trim()){i({title:"Error",description:"Please fill in both subject and message fields.",variant:"destructive"});return}o.mutate({subject:t,message:r})};return a.jsxs("div",{className:"p-6 max-w-3xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Contact Waiterix Support"}),a.jsx("p",{className:"text-muted-foreground",children:"Need help or have questions? Reach out to our support team and we'll get back to you as soon as possible."})]}),a.jsxs(pe,{children:[a.jsx(or,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(gl,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx(lr,{children:"Send us a message"}),a.jsx(Jr,{children:"Messages will be sent to support@harmoniaenterprisesllc.com"})]})]})}),a.jsx(Pn,{children:a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"restaurant-name",children:"Restaurant Name"}),a.jsx(ze,{id:"restaurant-name",value:e,disabled:!0,className:"bg-muted","data-testid":"input-restaurant-name"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your restaurant information will be automatically included in the message"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"subject",children:"Subject *"}),a.jsx(ze,{id:"subject",placeholder:"Brief description of your inquiry",value:t,onChange:c=>n(c.target.value),disabled:o.isPending,"data-testid":"input-subject"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"message",children:"Message *"}),a.jsx(mr,{id:"message",placeholder:"Please describe your question or issue in detail...",value:r,onChange:c=>s(c.target.value),disabled:o.isPending,rows:8,className:"resize-none","data-testid":"input-message"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Y,{type:"submit",disabled:o.isPending||!t.trim()||!r.trim(),"data-testid":"button-send-message",children:o.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qy,{className:"h-4 w-4 mr-2"}),"Send Message"]})})})]})})]}),a.jsxs(pe,{children:[a.jsx(or,{children:a.jsx(lr,{className:"text-base",children:"Support Information"})}),a.jsxs(Pn,{className:"space-y-2 text-sm",children:[a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[100px]",children:"Email:"}),a.jsx("span",{className:"text-muted-foreground",children:"support@harmoniaenterprisesllc.com"})]}),a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-semibold min-w-[100px]",children:"Response Time:"}),a.jsx("span",{className:"text-muted-foreground",children:"We typically respond within 24-48 hours"})]})]})]})]})}function cJ(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var t0="ScrollArea",[PM]=fn(t0),[uJ,yr]=PM(t0),RM=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,y]=p.useState(null),[g,w]=p.useState(null),[x,v]=p.useState(0),[b,S]=p.useState(0),[C,k]=p.useState(!1),[E,N]=p.useState(!1),j=Oe(t,O=>c(O)),T=zl(s);return a.jsx(uJ,{scope:n,type:r,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:N,onCornerWidthChange:v,onCornerHeightChange:S,children:a.jsx(Ne.div,{dir:T,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});RM.displayName=t0;var IM="ScrollAreaViewport",MM=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=yr(IM,n),l=p.useRef(null),c=Oe(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});MM.displayName=IM;var us="ScrollAreaScrollbar",n0=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yr(us,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(dJ,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(fJ,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(OM,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(r0,{...r,ref:t}):null});n0.displayName=us;var dJ=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yr(us,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(en,{present:n||i,children:a.jsx(OM,{"data-state":i?"visible":"hidden",...r,ref:t})})}),fJ=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yr(us,e.__scopeScrollArea),i=e.orientation==="horizontal",o=cm(()=>c("SCROLL_END"),100),[l,c]=cJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(en,{present:n||l!=="hidden",children:a.jsx(r0,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:se(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),OM=p.forwardRef((e,t)=>{const n=yr(us,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",c=cm(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Al(n.viewport,c),Al(n.content,c),a.jsx(en,{present:r||i,children:a.jsx(r0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),r0=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=yr(us,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=UM(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return vJ(h,o.current,l,m)}return n==="horizontal"?a.jsx(hJ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=GN(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?a.jsx(pJ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=GN(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),hJ=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=yr(us,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Oe(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(LM,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),BM(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zh(o.paddingLeft),paddingEnd:zh(o.paddingRight)}})}})}),pJ=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=yr(us,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Oe(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(LM,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),BM(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zh(o.paddingTop),paddingEnd:zh(o.paddingBottom)}})}})}),[mJ,DM]=PM(us),LM=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=yr(us,n),[y,g]=p.useState(null),w=Oe(t,j=>g(j)),x=p.useRef(null),v=p.useRef(""),b=m.viewport,S=r.content-r.viewport,C=Mt(d),k=Mt(c),E=cm(f,10);function N(j){if(x.current){const T=j.clientX-x.current.left,O=j.clientY-x.current.top;u({x:T,y:O})}}return p.useEffect(()=>{const j=T=>{const O=T.target;(y==null?void 0:y.contains(O))&&C(T,S)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[b,y,S,C]),p.useEffect(k,[r,k]),Al(y,E),Al(m.content,E),a.jsx(mJ,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Mt(i),onThumbPointerUp:Mt(o),onThumbPositionChange:k,onThumbPointerDown:Mt(l),children:a.jsx(Ne.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:se(e.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),x.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(j))}),onPointerMove:se(e.onPointerMove,N),onPointerUp:se(e.onPointerUp,j=>{const T=j.target;T.hasPointerCapture(j.pointerId)&&T.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Wh="ScrollAreaThumb",FM=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=DM(Wh,e.__scopeScrollArea);return a.jsx(en,{present:n||s.hasThumb,children:a.jsx(gJ,{ref:t,...r})})}),gJ=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=yr(Wh,n),o=DM(Wh,n),{onThumbPositionChange:l}=o,c=Oe(t,f=>o.onThumbChange(f)),u=p.useRef(void 0),d=cm(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=xJ(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Ne.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:se(e.onPointerUp,o.onThumbPointerUp)})});FM.displayName=Wh;var s0="ScrollAreaCorner",VM=p.forwardRef((e,t)=>{const n=yr(s0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(yJ,{...e,ref:t}):null});VM.displayName=s0;var yJ=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=yr(s0,n),[i,o]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return Al(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Al(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Ne.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zh(e){return e?parseInt(e,10):0}function UM(e,t){const n=e/t;return isNaN(n)?0:n}function lm(e){const t=UM(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function vJ(e,t,n,r="ltr"){const s=lm(n),i=s/2,o=t||i,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return $M([c,u],f)(e)}function GN(e,t,n="ltr"){const r=lm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=$v(e,c);return $M([0,o],[0,l])(u)}function $M(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function BM(e,t){return e>0&&e<t}var xJ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function cm(e,t){const n=Mt(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Al(e,t){const n=Mt(t);Yt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var WM=RM,wJ=MM,bJ=VM;const zM=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(WM,{ref:r,className:re("relative overflow-hidden",e),...n,children:[a.jsx(wJ,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(HM,{}),a.jsx(bJ,{})]}));zM.displayName=WM.displayName;const HM=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(n0,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(FM,{className:"relative flex-1 rounded-full bg-border"})}));HM.displayName=n0.displayName;function QN({open:e,onAccept:t}){const[n,r]=p.useState(!1),{toast:s}=it(),i=Xe({mutationFn:async()=>{const c=await fetch("http://localhost:3005/dev/api/auth/accept-terms",{method:"POST",credentials:"include"});if(!c.ok)throw new Error("Failed to accept terms");return c.json()},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/auth/user"]}),t(),s({title:"Welcome!",description:"You've successfully accepted the terms and conditions."})},onError:()=>{s({title:"Error",description:"Failed to accept terms. Please try again.",variant:"destructive"})}}),o=()=>{if(!n){s({title:"Please accept terms",description:"You must agree to the terms and conditions to continue.",variant:"destructive"});return}i.mutate()};return a.jsx(vn,{open:e,onOpenChange:()=>{},children:a.jsxs(ln,{className:"max-w-3xl max-h-[90vh]","data-testid":"dialog-terms-acceptance",children:[a.jsxs(xn,{children:[a.jsx(cn,{className:"text-2xl",children:"Terms and Conditions"}),a.jsx(hr,{children:"Please read and accept our terms and conditions to continue using Waiterix."})]}),a.jsx(zM,{className:"h-[400px] pr-4",children:a.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[a.jsx("h3",{className:"font-bold mb-2",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"mb-4",children:"By using Waiterix, you accept and agree to be bound by these terms. If you do not agree, please do not use our service."}),a.jsx("h3",{className:"font-bold mb-2",children:"2. Service Description"}),a.jsx("p",{className:"mb-4",children:"Waiterix provides AI-powered restaurant ordering solutions including voice assistance, QR code menus, online ordering, and payment processing."}),a.jsx("h3",{className:"font-bold mb-2",children:"3. Subscription & Money-Back Guarantee"}),a.jsx("p",{className:"mb-4",children:"Waiterix costs $50/month plus AI usage costs (typically $15-20/month). If you're not satisfied within 30 days, you can request a full refund. Contact support within the guarantee period for a no-questions-asked refund."}),a.jsx("h3",{className:"font-bold mb-2",children:"4. AI Usage"}),a.jsx("p",{className:"mb-4",children:"Our AI features are powered by OpenAI. You acknowledge that AI responses may not always be accurate and you are responsible for monitoring customer interactions."}),a.jsx("h3",{className:"font-bold mb-2",children:"5. User Content"}),a.jsx("p",{className:"mb-4",children:"You retain ownership of all content you upload. By using our service, you grant us a license to use, store, and process this content to provide the service."}),a.jsx("h3",{className:"font-bold mb-2",children:"6. Account Termination"}),a.jsx("p",{className:"mb-4",children:"You may permanently delete your account at any time. Upon deletion, all your data will be permanently removed and cannot be recovered."}),a.jsx("h3",{className:"font-bold mb-2",children:"7. Limitation of Liability"}),a.jsx("p",{className:"mb-4",children:'Waiterix is provided "as is" without warranties. We are not liable for service interruptions, data loss, errors in AI responses, or third-party service failures.'}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-6",children:["For complete terms, please visit our"," ",a.jsx(ou,{href:"/terms",className:"text-primary hover:underline","data-testid":"link-full-terms",children:"full Terms and Conditions page"}),"."]})]})}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[a.jsx(Ao,{id:"terms",checked:n,onCheckedChange:l=>r(l),"data-testid":"checkbox-agree-terms"}),a.jsx("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I have read and agree to the Terms and Conditions"})]}),a.jsx(Bi,{children:a.jsx(Y,{onClick:o,disabled:!n||i.isPending,className:"w-full","data-testid":"button-accept-terms",children:i.isPending?"Accepting...":"Accept and Continue"})})]})})}const qM=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",e),...t})}));qM.displayName="Table";const KM=p.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:re("[&_tr]:border-b",e),...t}));KM.displayName="TableHeader";const YM=p.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",e),...t}));YM.displayName="TableBody";const SJ=p.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));SJ.displayName="TableFooter";const Af=p.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Af.displayName="TableRow";const fo=p.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));fo.displayName="TableHead";const ua=p.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ua.displayName="TableCell";const CJ=p.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",e),...t}));CJ.displayName="TableCaption";var GM={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(ZO,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},c=0,u={};function d(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var T=C(j);T.chunkSize=parseInt(T.chunkSize),j.step||j.chunk||(T.chunkSize=null),this._handle=new g(T),(this._handle.streamer=this)._config=T}).call(this,N),this.parseChunk=function(j,T){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let B=this._config.newline;B||(I=this._config.quoteChar||'"',B=this._handle.guessLineEndings(j,I)),j=[...j.split(B).slice(O)].join(B)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(j))!==void 0&&(j=I),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+j,I=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=I.meta.cursor,O=(this._finished||(this._partialLine=O.substring(j-this._baseIndex),this._baseIndex=j),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:I,workerId:u.WORKER_ID,finished:O});else if(E(this._config.chunk)&&!T){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!O||!E(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(j){E(this._config.error)?this._config.error(j):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:j,finished:!1})}}function f(N){var j;(N=N||{}).chunkSize||(N.chunkSize=u.RemoteChunkSize),d.call(this,N),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),i||(j.onload=k(this._chunkLoaded,this),j.onerror=k(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var T,O=this._config.downloadRequestHeaders;for(T in O)j.setRequestHeader(T,O[T])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+I));try{j.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}i&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(T){T=j.statusText||T,this._sendError(new Error(T))}}function h(N){(N=N||{}).chunkSize||(N.chunkSize=u.LocalChunkSize),d.call(this,N);var j,T,O=typeof FileReader<"u";this.stream=function(I){this._input=I,T=I.slice||I.webkitSlice||I.mozSlice,O?((j=new FileReader).onload=k(this._chunkLoaded,this),j.onerror=k(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),I=T.call(I,this._start,B)),j.readAsText(I,this._config.encoding));O||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(j.error)}}function m(N){var j;d.call(this,N=N||{}),this.stream=function(T){return j=T,this._nextChunk()},this._nextChunk=function(){var T,O;if(!this._finished)return T=this._config.chunkSize,j=T?(O=j.substring(0,T),j.substring(T)):(O=j,""),this._finished=!j,this.parseChunk(O)}}function y(N){d.call(this,N=N||{});var j=[],T=!0,O=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):T=!0},this._streamData=k(function(I){try{j.push(typeof I=="string"?I:I.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(B){this._streamError(B)}},this),this._streamError=k(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=k(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(N){var j,T,O,I,B=Math.pow(2,53),D=-B,M=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,$=this,_=0,R=0,H=!1,q=!1,te=[],Q={data:[],errors:[],meta:{}};function oe(F){return N.skipEmptyLines==="greedy"?F.join("").trim()==="":F.length===1&&F[0].length===0}function be(){if(Q&&O&&(K("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),O=!1),N.skipEmptyLines&&(Q.data=Q.data.filter(function(fe){return!oe(fe)})),z()){let fe=function(ve,Se){E(N.transformHeader)&&(ve=N.transformHeader(ve,Se)),te.push(ve)};var X=fe;if(Q)if(Array.isArray(Q.data[0])){for(var F=0;z()&&F<Q.data.length;F++)Q.data[F].forEach(fe);Q.data.splice(0,1)}else Q.data.forEach(fe)}function de(fe,ve){for(var Se=N.header?{}:[],je=0;je<fe.length;je++){var xe=je,Ye=fe[je],Ye=((Me,Ie)=>(P=>(N.dynamicTypingFunction&&N.dynamicTyping[P]===void 0&&(N.dynamicTyping[P]=N.dynamicTypingFunction(P)),(N.dynamicTyping[P]||N.dynamicTyping)===!0))(Me)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((P=>{if(M.test(P)&&(P=parseFloat(P),D<P&&P<B))return 1})(Ie)?parseFloat(Ie):U.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(xe=N.header?je>=te.length?"__parsed_extra":te[je]:xe,Ye=N.transform?N.transform(Ye,xe):Ye);xe==="__parsed_extra"?(Se[xe]=Se[xe]||[],Se[xe].push(Ye)):Se[xe]=Ye}return N.header&&(je>te.length?K("FieldMismatch","TooManyFields","Too many fields: expected "+te.length+" fields but parsed "+je,R+ve):je<te.length&&K("FieldMismatch","TooFewFields","Too few fields: expected "+te.length+" fields but parsed "+je,R+ve)),Se}var J;Q&&(N.header||N.dynamicTyping||N.transform)&&(J=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(de),J=Q.data.length):Q.data=de(Q.data,0),N.header&&Q.meta&&(Q.meta.fields=te),R+=J)}function z(){return N.header&&te.length===0}function K(F,de,J,X){F={type:F,code:de,message:J},X!==void 0&&(F.row=X),Q.errors.push(F)}E(N.step)&&(I=N.step,N.step=function(F){Q=F,z()?be():(be(),Q.data.length!==0&&(_+=F.data.length,N.preview&&_>N.preview?T.abort():(Q.data=Q.data[0],I(Q,$))))}),this.parse=function(F,de,J){var X=N.quoteChar||'"',X=(N.newline||(N.newline=this.guessLineEndings(F,X)),O=!1,N.delimiter?E(N.delimiter)&&(N.delimiter=N.delimiter(F),Q.meta.delimiter=N.delimiter):((X=((fe,ve,Se,je,xe)=>{var Ye,Me,Ie,P;xe=xe||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var V=0;V<xe.length;V++){for(var W,le=xe[V],Z=0,G=0,ce=0,Ee=(Ie=void 0,new x({comments:je,delimiter:le,newline:ve,preview:10}).parse(fe)),Ae=0;Ae<Ee.data.length;Ae++)Se&&oe(Ee.data[Ae])?ce++:(W=Ee.data[Ae].length,G+=W,Ie===void 0?Ie=W:0<W&&(Z+=Math.abs(W-Ie),Ie=W));0<Ee.data.length&&(G/=Ee.data.length-ce),(Me===void 0||Z<=Me)&&(P===void 0||P<G)&&1.99<G&&(Me=Z,Ye=le,P=G)}return{successful:!!(N.delimiter=Ye),bestDelimiter:Ye}})(F,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=X.bestDelimiter:(O=!0,N.delimiter=u.DefaultDelimiter),Q.meta.delimiter=N.delimiter),C(N));return N.preview&&N.header&&X.preview++,j=F,T=new x(X),Q=T.parse(j,de,J),be(),H?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,T.abort(),j=E(N.chunk)?"":j.substring(T.getCharIndex())},this.resume=function(){$.streamer._halted?(H=!1,$.streamer.parseChunk(j,!0)):setTimeout($.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,T.abort(),Q.meta.aborted=!0,E(N.complete)&&N.complete(Q),j=""},this.guessLineEndings=function(fe,X){fe=fe.substring(0,1048576);var X=new RegExp(w(X)+"([^]*?)"+w(X),"gm"),J=(fe=fe.replace(X,"")).split("\r"),X=fe.split(`
`),fe=1<X.length&&X[0].length<J[0].length;if(J.length===1||fe)return`
`;for(var ve=0,Se=0;Se<J.length;Se++)J[Se][0]===`
`&&ve++;return ve>=J.length/2?`\r
`:"\r"}}function w(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(N){var j=(N=N||{}).delimiter,T=N.newline,O=N.comments,I=N.step,B=N.preview,D=N.fastMode,M=null,U=!1,$=N.quoteChar==null?'"':N.quoteChar,_=$;if(N.escapeChar!==void 0&&(_=N.escapeChar),(typeof j!="string"||-1<u.BAD_DELIMITERS.indexOf(j))&&(j=","),O===j)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var R=0,H=!1;this.parse=function(q,te,Q){if(typeof q!="string")throw new Error("Input must be a string");var oe=q.length,be=j.length,z=T.length,K=O.length,F=E(I),de=[],J=[],X=[],fe=R=0;if(!q)return Z();if(D||D!==!1&&q.indexOf($)===-1){for(var ve=q.split(T),Se=0;Se<ve.length;Se++){if(X=ve[Se],R+=X.length,Se!==ve.length-1)R+=T.length;else if(Q)return Z();if(!O||X.substring(0,K)!==O){if(F){if(de=[],P(X.split(j)),G(),H)return Z()}else P(X.split(j));if(B&&B<=Se)return de=de.slice(0,B),Z(!0)}}return Z()}for(var je=q.indexOf(j,R),xe=q.indexOf(T,R),Ye=new RegExp(w(_)+w($),"g"),Me=q.indexOf($,R);;)if(q[R]===$)for(Me=R,R++;;){if((Me=q.indexOf($,Me+1))===-1)return Q||J.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:R}),W();if(Me===oe-1)return W(q.substring(R,Me).replace(Ye,$));if($===_&&q[Me+1]===_)Me++;else if($===_||Me===0||q[Me-1]!==_){je!==-1&&je<Me+1&&(je=q.indexOf(j,Me+1));var Ie=V((xe=xe!==-1&&xe<Me+1?q.indexOf(T,Me+1):xe)===-1?je:Math.min(je,xe));if(q.substr(Me+1+Ie,be)===j){X.push(q.substring(R,Me).replace(Ye,$)),q[R=Me+1+Ie+be]!==$&&(Me=q.indexOf($,R)),je=q.indexOf(j,R),xe=q.indexOf(T,R);break}if(Ie=V(xe),q.substring(Me+1+Ie,Me+1+Ie+z)===T){if(X.push(q.substring(R,Me).replace(Ye,$)),le(Me+1+Ie+z),je=q.indexOf(j,R),Me=q.indexOf($,R),F&&(G(),H))return Z();if(B&&de.length>=B)return Z(!0);break}J.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:R}),Me++}}else if(O&&X.length===0&&q.substring(R,R+K)===O){if(xe===-1)return Z();R=xe+z,xe=q.indexOf(T,R),je=q.indexOf(j,R)}else if(je!==-1&&(je<xe||xe===-1))X.push(q.substring(R,je)),R=je+be,je=q.indexOf(j,R);else{if(xe===-1)break;if(X.push(q.substring(R,xe)),le(xe+z),F&&(G(),H))return Z();if(B&&de.length>=B)return Z(!0)}return W();function P(ce){de.push(ce),fe=R}function V(ce){var Ee=0;return Ee=ce!==-1&&(ce=q.substring(Me+1,ce))&&ce.trim()===""?ce.length:Ee}function W(ce){return Q||(ce===void 0&&(ce=q.substring(R)),X.push(ce),R=oe,P(X),F&&G()),Z()}function le(ce){R=ce,P(X),X=[],xe=q.indexOf(T,R)}function Z(ce){if(N.header&&!te&&de.length&&!U){var Ee=de[0],Ae=Object.create(null),Qe=new Set(Ee);let vr=!1;for(let Nt=0;Nt<Ee.length;Nt++){let jn=Ee[Nt];if(Ae[jn=E(N.transformHeader)?N.transformHeader(jn,Nt):jn]){let xr,Ks=Ae[jn];for(;xr=jn+"_"+Ks,Ks++,Qe.has(xr););Qe.add(xr),Ee[Nt]=xr,Ae[jn]++,vr=!0,(M=M===null?{}:M)[xr]=jn}else Ae[jn]=1,Ee[Nt]=jn;Qe.add(jn)}vr&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:de,errors:J,meta:{delimiter:j,linebreak:T,aborted:H,truncated:!!ce,cursor:fe+(te||0),renamedHeaders:M}}}function G(){I(Z()),de=[],J=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return R}}function v(N){var j=N.data,T=l[j.workerId],O=!1;if(j.error)T.userError(j.error,j.file);else if(j.results&&j.results.data){var I={abort:function(){O=!0,b(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(E(T.userStep)){for(var B=0;B<j.results.data.length&&(T.userStep({data:j.results.data[B],errors:j.results.errors,meta:j.results.meta},I),!O);B++);delete j.results}else E(T.userChunk)&&(T.userChunk(j.results,I,j.file),delete j.results)}j.finished&&!O&&b(j.workerId,j.results)}function b(N,j){var T=l[N];E(T.userComplete)&&T.userComplete(j),T.terminate(),delete l[N]}function S(){throw new Error("Not implemented.")}function C(N){if(typeof N!="object"||N===null)return N;var j,T=Array.isArray(N)?[]:{};for(j in N)T[j]=C(N[j]);return T}function k(N,j){return function(){N.apply(j,arguments)}}function E(N){return typeof N=="function"}return u.parse=function(N,j){var T=(j=j||{}).dynamicTyping||!1;if(E(T)&&(j.dynamicTypingFunction=T,T={}),j.dynamicTyping=T,j.transform=!!E(j.transform)&&j.transform,!j.worker||!u.WORKERS_SUPPORTED)return T=null,u.NODE_STREAM_INPUT,typeof N=="string"?(N=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(N),T=new(j.download?f:m)(j)):N.readable===!0&&E(N.read)&&E(N.on)?T=new y(j):(r.File&&N instanceof File||N instanceof Object)&&(T=new h(j)),T.stream(N);(T=(()=>{var O;return!!u.WORKERS_SUPPORTED&&(O=(()=>{var I=r.URL||r.webkitURL||null,B=n.toString();return u.BLOB_URL||(u.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=v,O.id=c++,l[O.id]=O)})()).userStep=j.step,T.userChunk=j.chunk,T.userComplete=j.complete,T.userError=j.error,j.step=E(j.step),j.chunk=E(j.chunk),j.complete=E(j.complete),j.error=E(j.error),delete j.worker,T.postMessage({input:N,config:j,workerId:T.id})},u.unparse=function(N,j){var T=!1,O=!0,I=",",B=`\r
`,D='"',M=D+D,U=!1,$=null,_=!1,R=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||u.BAD_DELIMITERS.filter(function(te){return j.delimiter.indexOf(te)!==-1}).length||(I=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(T=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(U=j.skipEmptyLines),typeof j.newline=="string"&&(B=j.newline),typeof j.quoteChar=="string"&&(D=j.quoteChar),typeof j.header=="boolean"&&(O=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");$=j.columns}j.escapeChar!==void 0&&(M=j.escapeChar+D),j.escapeFormulae instanceof RegExp?_=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(_=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(D),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return H(null,N,U);if(typeof N[0]=="object")return H($||Object.keys(N[0]),N,U)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||$),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),H(N.fields||[],N.data||[],U);throw new Error("Unable to serialize unrecognized input");function H(te,Q,oe){var be="",z=(typeof te=="string"&&(te=JSON.parse(te)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(te)&&0<te.length),K=!Array.isArray(Q[0]);if(z&&O){for(var F=0;F<te.length;F++)0<F&&(be+=I),be+=q(te[F],F);0<Q.length&&(be+=B)}for(var de=0;de<Q.length;de++){var J=(z?te:Q[de]).length,X=!1,fe=z?Object.keys(Q[de]).length===0:Q[de].length===0;if(oe&&!z&&(X=oe==="greedy"?Q[de].join("").trim()==="":Q[de].length===1&&Q[de][0].length===0),oe==="greedy"&&z){for(var ve=[],Se=0;Se<J;Se++){var je=K?te[Se]:Se;ve.push(Q[de][je])}X=ve.join("").trim()===""}if(!X){for(var xe=0;xe<J;xe++){0<xe&&!fe&&(be+=I);var Ye=z&&K?te[xe]:xe;be+=q(Q[de][Ye],xe)}de<Q.length-1&&(!oe||0<J&&!fe)&&(be+=B)}}return be}function q(te,Q){var oe,be;return te==null?"":te.constructor===Date?JSON.stringify(te).slice(1,25):(be=!1,_&&typeof te=="string"&&_.test(te)&&(te="'"+te,be=!0),oe=te.toString().replace(R,M),(be=be||T===!0||typeof T=="function"&&T(te,Q)||Array.isArray(T)&&T[Q]||((z,K)=>{for(var F=0;F<K.length;F++)if(-1<z.indexOf(K[F]))return!0;return!1})(oe,u.BAD_DELIMITERS)||-1<oe.indexOf(I)||oe.charAt(0)===" "||oe.charAt(oe.length-1)===" ")?D+oe+D:oe)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=g,u.NetworkStreamer=f,u.FileStreamer=h,u.StringStreamer=m,u.ReadableStreamStreamer=y,r.jQuery&&((s=r.jQuery).fn.parse=function(N){var j=N.config||{},T=[];return this.each(function(B){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)T.push({file:this.files[D],inputElem:this,instanceConfig:s.extend({},j)})}),O(),this;function O(){if(T.length===0)E(N.complete)&&N.complete();else{var B,D,M,U,$=T[0];if(E(N.before)){var _=N.before($.file,$.inputElem);if(typeof _=="object"){if(_.action==="abort")return B="AbortError",D=$.file,M=$.inputElem,U=_.reason,void(E(N.error)&&N.error({name:B},D,M,U));if(_.action==="skip")return void I();typeof _.config=="object"&&($.instanceConfig=s.extend($.instanceConfig,_.config))}else if(_==="skip")return void I()}var R=$.instanceConfig.complete;$.instanceConfig.complete=function(H){E(R)&&R(H,$.file,$.inputElem),I()},u.parse($.file,$.instanceConfig)}}function I(){T.splice(0,1),O()}}),o&&(r.onmessage=function(N){N=N.data,u.WORKER_ID===void 0&&N&&(u.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=u.parse(N.input,N.config))&&r.postMessage({workerId:u.WORKER_ID,results:N,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(d.prototype)).constructor=y,u})})(GM);var NJ=GM.exports;const jJ=Jh(NJ);function EJ({open:e,onOpenChange:t,onImportComplete:n}){const[r,s]=p.useState(null),[i,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(!1),{toast:f}=it(),h=async g=>{var x;const w=(x=g.target.files)==null?void 0:x[0];if(w){s(w),o(null),c(!0);try{const v=await w.text();if(jJ.parse(v,{header:!0,preview:1}).errors.length>0){f({title:"Invalid CSV file",description:"The file could not be parsed as CSV",variant:"destructive"}),s(null),c(!1);return}const C=await(await Pe("POST","/api/menu-items/import/preview",{csvData:v})).json();o(C),C.errors.length>0?f({title:"Validation errors found",description:`${C.validRows} of ${C.totalRows} rows are valid`,variant:"default"}):f({title:"CSV validated",description:`${C.validRows} items ready to import`})}catch(v){console.error("Error processing CSV:",v),f({title:"Error processing CSV",description:v instanceof Error?v.message:"Failed to process file",variant:"destructive"}),s(null)}finally{c(!1)}}},m=async()=>{if(!(!i||i.validRows===0)){d(!0);try{const w=await(await Pe("POST","/api/menu-items/import/confirm",{items:i.items})).json();if(w.count===0){f({title:"Import failed",description:w.errors&&w.errors.length>0?`All items failed: ${w.errors[0]}`:"No items were imported. Check the data format.",variant:"destructive"});return}w.errors&&w.errors.length>0?(f({title:"Import partially successful",description:`${w.count} items imported, ${w.errors.length} failed. Check console for details.`,variant:"default"}),console.error("Import errors:",w.errors)):f({title:"Import successful",description:`${w.count} menu items imported successfully`}),n(),y()}catch(g){console.error("Error importing menu items:",g),f({title:"Import failed",description:g instanceof Error?g.message:"Failed to import items",variant:"destructive"})}finally{d(!1)}}},y=()=>{s(null),o(null),c(!1),d(!1),t(!1)};return a.jsx(vn,{open:e,onOpenChange:y,children:a.jsxs(ln,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:"Import Menu Items from CSV"}),a.jsx(hr,{children:"Upload a CSV file to bulk import menu items. Download your existing items first to see the correct format."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"csv-upload",className:"text-sm font-medium",children:"Select CSV File"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{id:"csv-upload",type:"file",accept:".csv",onChange:h,disabled:l||u,"data-testid":"input-csv-file"}),r&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx($3,{className:"h-4 w-4"}),r.name]})]})]}),l&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Be,{className:"h-4 w-4 animate-spin"}),"Processing CSV file..."]}),i&&i.errors.length>0&&a.jsxs(Eu,{variant:"destructive",children:[a.jsx(bp,{className:"h-4 w-4"}),a.jsxs(ku,{children:[a.jsxs("div",{className:"font-semibold mb-2",children:["Found ",i.errors.length," validation error(s):"]}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[i.errors.slice(0,10).map((g,w)=>a.jsx("li",{children:g},w)),i.errors.length>10&&a.jsxs("li",{children:["... and ",i.errors.length-10," more"]})]})]})]}),i&&i.validRows>0&&a.jsxs(Eu,{children:[a.jsx(aw,{className:"h-4 w-4"}),a.jsxs(ku,{children:[a.jsx("strong",{children:i.validRows})," valid items ready to import",i.errors.length>0&&` (${i.errors.length} errors will be skipped)`]})]}),i&&i.items.length>0&&a.jsx("div",{className:"border rounded-md",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsxs(qM,{children:[a.jsx(KM,{children:a.jsxs(Af,{children:[a.jsx(fo,{children:"Name"}),a.jsx(fo,{children:"Price"}),a.jsx(fo,{children:"Category"}),a.jsx(fo,{children:"Dietary"}),a.jsx(fo,{children:"Spice"})]})}),a.jsxs(YM,{children:[i.items.slice(0,50).map((g,w)=>a.jsxs(Af,{"data-testid":`preview-row-${w}`,children:[a.jsx(ua,{className:"font-medium",children:g.name}),a.jsxs(ua,{children:["$",g.price]}),a.jsx(ua,{children:g.category}),a.jsx(ua,{className:"text-sm",children:[g.isVegan&&"Vegan",g.isVegetarian&&"Vegetarian",g.isHalal&&"Halal",g.isKosher&&"Kosher"].filter(Boolean).join(", ")||"-"}),a.jsx(ua,{children:g.spiceLevel||"-"})]},w)),i.items.length>50&&a.jsx(Af,{children:a.jsxs(ua,{colSpan:5,className:"text-center text-muted-foreground",children:["... and ",i.items.length-50," more items"]})})]})]})})}),!r&&a.jsxs("div",{className:"bg-muted p-4 rounded-lg text-sm space-y-2",children:[a.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[a.jsx(cw,{className:"h-4 w-4"}),"CSV Format Guide"]}),a.jsx("p",{children:"Required columns: name, price, category"}),a.jsx("p",{children:"Optional columns: description, isVegan, isVegetarian, isHalal, isKosher, spiceLevel, allergens, available, imageUrl"}),a.jsx("p",{className:"text-muted-foreground",children:"Tip: Download your existing menu items to see the exact format"})]})]}),a.jsxs(Bi,{children:[a.jsx(Y,{variant:"outline",onClick:y,disabled:l||u,"data-testid":"button-cancel-import",children:"Cancel"}),a.jsx(Y,{onClick:m,disabled:!i||i.validRows===0||u,"data-testid":"button-confirm-import",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}),"Importing..."]}):a.jsxs(a.Fragment,{children:["Import ",(i==null?void 0:i.validRows)||0," Items"]})})]})]})})}function QM(e){return/^401: .*Unauthorized/.test(e.message)}function ZN(){var vd,Kl;const[e,t]=ls(),[n,r]=p.useState("overview"),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(null),[y,g]=p.useState(!1),[w,x]=p.useState(!1),[v,b]=p.useState(!1),[S,C]=p.useState(""),[k,E]=p.useState(!1),[N,j]=p.useState(""),[T,O]=p.useState(""),[I,B]=p.useState(""),[D,M]=p.useState(""),{user:U,isLoading:$}=$p(),{toast:_}=it(),{formatCurrency:R}=Ot(),H=p.useRef(0),q=p.useRef(!1),te=p.useRef(new Set),[Q,oe]=p.useState(null),[be,z]=p.useState(null),{data:K}=Je({queryKey:["/api/auth/user"],enabled:!!U});p.useEffect(()=>{K&&!K.acceptedTerms&&g(!0)},[K]),p.useEffect(()=>{const L=e.split("/").pop();L&&["overview","menu","orders","questions","assistance","contact"].includes(L)?r(L):e==="/dashboard"&&r("overview")},[e]);const{data:F,isLoading:de,error:J}=Je({queryKey:["/api/restaurant"],enabled:!!U});p.useEffect(()=>{F&&(F.subscriptionId&&(F.subscriptionStatus==="active"||F.subscriptionStatus==="trialing")||t("/subscribe"))},[F,t]);const{data:X=[],isLoading:fe}=Je({queryKey:[`/api/menu-items?restaurantId=${F==null?void 0:F.id}`],enabled:!!F}),{data:ve=[],isLoading:Se}=Je({queryKey:["/api/orders"],enabled:!!F,refetchInterval:1e4}),{data:je}=Je({queryKey:["/api/admin/security-questions"],enabled:!!F}),{data:xe=0}=Je({queryKey:["/api/chef/questions"],select:L=>Array.isArray(L)?L.filter(ke=>ke.status==="pending").length:0,refetchInterval:5e3,enabled:!!F}),{data:Ye=[]}=Je({queryKey:["/api/restaurant",F==null?void 0:F.id,"tables"],enabled:!!F}),Me=E4({queries:ve.map(L=>({queryKey:[`/api/orders/${L.id}/items`],enabled:!!L.id}))});p.useEffect(()=>{if(!Se&&Me.length>0){if(!q.current)H.current=ve.length,te.current=new Set(ve.map(L=>L.id)),q.current=!0;else if(ve.length>H.current){const L=new Set(ve.map(at=>at.id)),ke=ve.filter(at=>!te.current.has(at.id));ke.length>0&&(e0.playChime(),_({title:"New Order",description:`You have ${ke.length} new order(s)!`}),F!=null&&F.autoPrintOrders&&ke[0]&&(console.log("[Auto-Print] New order detected, queuing for print:",ke[0].id),z(ke[0].id)),H.current=ve.length,te.current=L)}}},[ve,Se,Me,_,F==null?void 0:F.autoPrintOrders]),p.useEffect(()=>{if(be&&ve.length>0&&Me.length>0){const L=ve.findIndex(wr=>wr.id===be);if(L<0){console.warn("[Auto-Print] Order disappeared before printing:",be),z(null);return}const ke=Me[L],at=ke==null?void 0:ke.data;at&&!(ke!=null&&ke.isLoading)?(F!=null&&F.autoPrintOrders?(console.log("[Auto-Print] Order items loaded, triggering print for order:",be),oe({order:ve[L],items:at})):console.log("[Auto-Print] Auto-print was disabled, skipping print for order:",be),z(null)):!(ke!=null&&ke.isLoading)&&!at&&(console.warn("[Auto-Print] Order items failed to load for order:",be),_({title:"Auto-Print Failed",description:"Could not load order details for printing",variant:"destructive"}),z(null))}},[be,ve,Me,F==null?void 0:F.autoPrintOrders,_]),p.useEffect(()=>{Q&&setTimeout(()=>{window.print(),oe(null)},100)},[Q]);const Ie=Xe({mutationFn:async L=>(await Pe("POST","/api/restaurant",L)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/restaurant"]}),_({title:"Success",description:"Restaurant created successfully"})},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}});Xe({mutationFn:async L=>(await Pe("PUT",`/api/restaurant/${F==null?void 0:F.id}`,L)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/restaurant"]}),_({title:"Success",description:"Restaurant information updated successfully"})},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}}),Xe({mutationFn:async()=>{await Pe("DELETE",`/api/restaurant/${F==null?void 0:F.id}`)},onSuccess:()=>{_({title:"Restaurant Deleted",description:"Your restaurant has been permanently deleted"}),window.location.href="/"},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}}),Xe({mutationFn:async()=>{await Pe("DELETE","/api/auth/delete-account")},onSuccess:()=>{_({title:"Account Deleted",description:"Your account has been permanently deleted. Redirecting..."}),setTimeout(()=>{window.location.href="/"},2e3)},onError:L=>{_({title:"Error",description:L.message||"Failed to delete account",variant:"destructive"})}});const P=Xe({mutationFn:async L=>(await Pe("POST","/api/menu-items",{...L,restaurantId:F==null?void 0:F.id})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${F==null?void 0:F.id}`]}),i(!1),f(null),_({title:"Success",description:"Menu item created successfully"})},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}}),V=Xe({mutationFn:async({id:L,data:ke})=>(await Pe("PUT",`/api/menu-items/${L}`,ke)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${F==null?void 0:F.id}`]}),i(!1),f(null),_({title:"Success",description:"Menu item updated successfully"})},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}}),W=Xe({mutationFn:async L=>{await Pe("DELETE",`/api/menu-items/${L}`)},onSuccess:()=>{rt.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${F==null?void 0:F.id}`]}),_({title:"Success",description:"Menu item deleted successfully"})},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}}),le=Xe({mutationFn:async({id:L,available:ke})=>(await Pe("PUT",`/api/menu-items/${L}`,{available:ke})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${F==null?void 0:F.id}`]}),_({title:"Success",description:"Menu item availability updated"})},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}}),Z=async()=>{try{const ke=await fetch("http://localhost:3005/dev/api/menu-items/export",{credentials:"include"});if(!ke.ok)throw new Error("Failed to export menu items");const at=await ke.blob(),wr=window.URL.createObjectURL(at),ds=document.createElement("a");ds.href=wr,ds.download=`menu-items-${(F==null?void 0:F.name)||"export"}.csv`,document.body.appendChild(ds),ds.click(),window.URL.revokeObjectURL(wr),document.body.removeChild(ds),_({title:"CSV Downloaded",description:`${X.length} menu items exported`})}catch(L){console.error("Error downloading CSV:",L),_({title:"Download failed",description:L instanceof Error?L.message:"Failed to download CSV",variant:"destructive"})}},G=Xe({mutationFn:async({orderId:L,status:ke,paymentMethod:at})=>{const wr=ke==="ready"&&at==="online"?"completed":ke;return(await Pe("PUT",`/api/orders/${L}/status`,{status:wr})).json()},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/orders"]}),_({title:"Success",description:"Order status updated successfully"})},onError:L=>{_({title:"Error",description:L.message,variant:"destructive"})}}),ce=async()=>{if(F){E(!0);try{const L=await Pe("POST","/api/admin/password/check"),{hasPassword:ke}=await L.json();if(!ke){t("/admin"),x(!1);return}const at=await Pe("POST","/api/admin/password/verify",{password:S}),{valid:wr}=await at.json();wr?(t("/admin"),x(!1),C("")):_({title:"Invalid Password",description:"The admin password you entered is incorrect",variant:"destructive"})}catch(L){console.error("Admin verification error:",L),_({title:"Error",description:"Failed to verify admin password",variant:"destructive"})}finally{E(!1)}}},Ee=async()=>{if(F){if(!N||!T){_({title:"Error",description:"Please answer both security questions",variant:"destructive"});return}if(!I||!D){_({title:"Error",description:"Please enter and confirm your new password",variant:"destructive"});return}if(I!==D){_({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(I.length<6){_({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}E(!0);try{(await Pe("POST","/api/admin/password/reset",{answer1:N,answer2:T,newPassword:I})).ok&&(_({title:"Success",description:"Admin password reset successfully"}),b(!1),j(""),O(""),B(""),M(""),C(I),setTimeout(()=>{x(!0)},500))}catch(L){console.error("Password recovery error:",L),_({title:"Error",description:L instanceof Error?L.message:"Failed to reset password",variant:"destructive"})}finally{E(!1)}}};if(J&&QM(J))return t("/"),null;if($)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-auth"})});if(!U)return t("/"),null;if(de)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-restaurant"})});if(!F)return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx("header",{className:"border-b p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:Ba,alt:"Waiterix",className:"h-8 w-8","data-testid":"img-waiterix-logo"}),a.jsx("span",{className:"text-xl font-bold",children:"Waiterix"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y,{variant:"ghost",size:"icon",onClick:async()=>{console.log("Logout button clicked");try{await yu(),await Pe("POST","/api/logout"),console.log("Logout complete, redirecting..."),window.location.href="/"}catch(L){console.error("Logout error:",L),window.location.href="/"}},"data-testid":"button-logout-setup",title:"Log out",children:a.jsx($S,{className:"h-4 w-4"})}),a.jsx(ev,{})]})]})}),a.jsx("div",{className:"flex items-center justify-center flex-1 p-6",children:a.jsxs("div",{className:"max-w-2xl w-full",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Welcome! Let's set up your restaurant"}),a.jsx(CM,{onSubmit:L=>Ie.mutate(L)})]})})]}),a.jsx(QN,{open:y,onAccept:()=>g(!1)})]});const Ae=ve.map((L,ke)=>{var wr;const at=((wr=Me[ke])==null?void 0:wr.data)||[];return{orderId:L.id,items:at.map(ds=>({name:ds.name,quantity:ds.quantity})),total:parseFloat(L.total),tip:L.tip?parseFloat(L.tip):void 0,paymentMethod:L.paymentMethod,status:L.status,createdAt:new Date(L.createdAt),customerNote:L.customerNote||void 0,tableNumber:L.tableNumber||void 0}}),Qe={new:Ae.filter(L=>L.status==="new"),preparing:Ae.filter(L=>L.status==="preparing"),ready:Ae.filter(L=>L.status==="ready"),completed:Ae.filter(L=>L.status==="completed")},vr=Ae.filter(L=>{const ke=new Date;return ke.setHours(0,0,0,0),L.createdAt>=ke}),Nt=vr.reduce((L,ke)=>L+ke.total,0),jn=Ae.filter(L=>L.status==="new"||L.status==="preparing").length,xr=[{title:"Overview",icon:z3,id:"overview"},{title:"Menu",icon:FT,id:"menu"},{title:"Orders",icon:J3,id:"orders"},{title:"Active Questions",icon:H3,id:"questions",badge:xe>0?xe:null},{title:"Assistance",icon:L3,id:"assistance"},{title:"Contact Us",icon:gl,id:"contact"}],Ks={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return a.jsx(Jp,{currencyCode:F==null?void 0:F.currencyCode,defaultLanguage:F==null?void 0:F.defaultLanguage,children:a.jsxs(aZ,{style:Ks,children:[a.jsxs("div",{className:"flex h-screen w-full",children:[a.jsx(oZ,{children:a.jsx(cZ,{children:a.jsxs(uZ,{children:[a.jsx(dZ,{className:"text-lg font-semibold px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:Ba,alt:"Waiterix",className:"h-6 w-6"}),a.jsx("span",{children:"Waiterix"})]})}),a.jsx(fZ,{children:a.jsx(hZ,{children:xr.map(L=>a.jsx(pZ,{children:a.jsxs(gZ,{onClick:()=>t(`/dashboard/${L.id}`),isActive:n===L.id,"data-testid":`button-nav-${L.id}`,children:[a.jsx(L.icon,{className:"h-4 w-4"}),a.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[a.jsx("span",{children:L.title}),L.badge&&a.jsx("span",{className:"h-2 w-2 rounded-full bg-destructive","data-testid":`badge-${L.id}`})]})]})},L.id))})})]})})}),a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-card",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lZ,{"data-testid":"button-sidebar-toggle"}),a.jsx("h1",{className:"text-xl font-semibold",children:"Dashboard"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>x(!0),"data-testid":"button-admin",title:"Admin Settings",children:a.jsx(lw,{className:"h-4 w-4"})}),a.jsx(Y,{variant:"ghost",size:"icon",onClick:async()=>{console.log("Logout button clicked");try{await yu(),await Pe("POST","/api/logout"),console.log("Logout complete, redirecting..."),window.location.href="/"}catch(L){console.error("Logout error:",L),window.location.href="/"}},"data-testid":"button-logout",title:"Log out",children:a.jsx($S,{className:"h-4 w-4"})}),a.jsx(ev,{})]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[n==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(pe,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders Today"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-orders-today",children:vr.length})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue Today"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-revenue-today",children:R(Nt)})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Menu Items"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-menu-items-count",children:X.length})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Orders"}),a.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-active-orders",children:jn})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs(pe,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Recent Orders"}),Se?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin","data-testid":"loader-orders"})}):Ae.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8","data-testid":"text-no-orders",children:"No orders yet"}):a.jsx("div",{className:"space-y-3",children:Ae.slice(0,2).map(L=>a.jsx(cc,{...L,onStatusChange:(ke,at)=>G.mutate({orderId:ke,status:at,paymentMethod:L.paymentMethod})},L.orderId))})]})})]}),n==="menu"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Menu Items"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Y,{variant:"outline",onClick:Z,disabled:X.length===0,"data-testid":"button-download-csv",children:[a.jsx(Sp,{className:"h-4 w-4 mr-2"}),"Download CSV"]}),a.jsxs(Y,{variant:"outline",onClick:()=>u(!0),"data-testid":"button-upload-csv",children:[a.jsx(cw,{className:"h-4 w-4 mr-2"}),"Upload CSV"]}),a.jsxs(Y,{onClick:()=>i(!0),"data-testid":"button-add-menu-item",children:[a.jsx(Va,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),fe?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-menu-items"})}):X.length===0?a.jsx(pe,{className:"p-12",children:a.jsx("p",{className:"text-muted-foreground text-center","data-testid":"text-no-menu-items",children:'No menu items yet. Click "Add Item" to create your first menu item.'})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(L=>a.jsx(pe,{className:"p-4","data-testid":`card-menu-item-${L.id}`,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:L.name}),!L.available&&a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-muted text-muted-foreground",children:"Unavailable"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:L.description}),a.jsx("p",{className:"text-lg font-semibold mt-2",children:R(parseFloat(L.price))}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 capitalize",children:L.category})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[a.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{m(L),l(!0)},"data-testid":`button-add-details-${L.id}`,children:[a.jsx(_a,{className:"h-3 w-3 mr-1"}),"AI Details"]}),a.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{f(L),i(!0)},"data-testid":`button-edit-${L.id}`,children:[a.jsx(eV,{className:"h-3 w-3 mr-1"}),"Edit"]}),a.jsx(Y,{size:"sm",variant:"outline",onClick:()=>le.mutate({id:L.id,available:!L.available}),"data-testid":`button-toggle-availability-${L.id}`,children:L.available?a.jsxs(a.Fragment,{children:[a.jsx(V3,{className:"h-3 w-3 mr-1"}),"Hide"]}):a.jsxs(a.Fragment,{children:[a.jsx(U3,{className:"h-3 w-3 mr-1"}),"Show"]})}),a.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this menu item?")&&W.mutate(L.id)},"data-testid":`button-delete-${L.id}`,children:[a.jsx(Qu,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})},L.id))})]}),n==="orders"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Orders"}),Se?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-all-orders"})}):Ae.length===0?a.jsx(pe,{className:"p-12",children:a.jsx("p",{className:"text-muted-foreground text-center","data-testid":"text-no-all-orders",children:"No orders yet"})}):a.jsxs("div",{className:"space-y-8",children:[Qe.new.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"New Orders"}),a.jsx(He,{variant:"default",className:"bg-blue-500",children:Qe.new.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qe.new.map(L=>a.jsx(cc,{...L,onStatusChange:(ke,at)=>G.mutate({orderId:ke,status:at,paymentMethod:L.paymentMethod})},L.orderId))}),a.jsx("div",{className:"border-t-2 border-border"})]}),Qe.preparing.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Preparing"}),a.jsx(He,{variant:"default",className:"bg-yellow-500",children:Qe.preparing.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qe.preparing.map(L=>a.jsx(cc,{...L,onStatusChange:(ke,at)=>G.mutate({orderId:ke,status:at,paymentMethod:L.paymentMethod})},L.orderId))}),a.jsx("div",{className:"border-t-2 border-border"})]}),Qe.ready.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Ready for Pickup"}),a.jsx(He,{variant:"default",className:"bg-green-500",children:Qe.ready.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qe.ready.map(L=>a.jsx(cc,{...L,onStatusChange:(ke,at)=>G.mutate({orderId:ke,status:at,paymentMethod:L.paymentMethod})},L.orderId))}),a.jsx("div",{className:"border-t-2 border-border"})]}),Qe.completed.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Completed"}),a.jsx(He,{variant:"secondary",children:Qe.completed.length})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qe.completed.map(L=>a.jsx(cc,{...L,onStatusChange:(ke,at)=>G.mutate({orderId:ke,status:at,paymentMethod:L.paymentMethod})},L.orderId))})]})]})]}),n==="questions"&&a.jsx(aJ,{restaurantId:F.id}),n==="assistance"&&a.jsx(oJ,{}),n==="contact"&&F&&a.jsx(lJ,{restaurantName:F.name})]})]})]}),a.jsx(vn,{open:s,onOpenChange:L=>{i(L),L||f(null)},children:a.jsxs(ln,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(xn,{children:a.jsx(cn,{children:d?"Edit Menu Item":"Add Menu Item"})}),a.jsx(sJ,{menuItem:d||void 0,onSubmit:L=>{d?V.mutate({id:d.id,data:L}):P.mutate(L)},onCancel:()=>{i(!1),f(null)}})]})}),a.jsx(vn,{open:o,onOpenChange:L=>{l(L),L||m(null)},children:a.jsxs(ln,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx(xn,{children:a.jsx(cn,{children:"AI Menu Interview"})}),h&&F&&a.jsx(iJ,{menuItemId:h.id,menuItemName:h.name,restaurantId:F.id,interviewType:"menu_item",onComplete:()=>{l(!1),m(null),_({title:"Interview Complete",description:"Menu details saved successfully!"})}})]})}),a.jsx(vn,{open:w,onOpenChange:L=>{x(L),L||C("")},children:a.jsxs(ln,{"data-testid":"dialog-admin-password",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:"Admin Access Required"}),a.jsx(hr,{children:"Enter your admin password to access admin settings and analytics."})]}),a.jsxs("form",{onSubmit:L=>{L.preventDefault(),ce()},children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"admin-password",children:"Admin Password"}),a.jsx(ze,{id:"admin-password",type:"password",placeholder:"Enter admin password",value:S,onChange:L=>C(L.target.value),disabled:k,"data-testid":"input-admin-password"})]}),(je==null?void 0:je.hasQuestions)&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>{x(!1),C(""),b(!0)},disabled:k,className:"text-sm text-primary hover:underline","data-testid":"button-forgot-password",children:"Forgot password?"})})]}),a.jsxs(Bi,{className:"mt-6",children:[a.jsx(Y,{type:"button",variant:"outline",onClick:()=>{x(!1),C("")},disabled:k,"data-testid":"button-cancel-admin",children:"Cancel"}),a.jsx(Y,{type:"submit",disabled:k||!S,"data-testid":"button-verify-admin",children:k?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}),"Verifying..."]}):"Access Admin"})]})]})]})}),a.jsx(vn,{open:v,onOpenChange:L=>{b(L),L||(j(""),O(""),B(""),M(""))},children:a.jsxs(ln,{"data-testid":"dialog-password-recovery",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:"Reset Admin Password"}),a.jsx(hr,{children:"Answer your security questions to reset your admin password."})]}),a.jsxs("form",{onSubmit:L=>{L.preventDefault(),Ee()},children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"recovery-question-1",children:((vd=je==null?void 0:je.questions)==null?void 0:vd.question1)||"Security Question 1"}),a.jsx(ze,{id:"recovery-answer-1",type:"text",placeholder:"Your answer",value:N,onChange:L=>j(L.target.value),disabled:k,required:!0,"data-testid":"input-recovery-answer-1"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"recovery-question-2",children:((Kl=je==null?void 0:je.questions)==null?void 0:Kl.question2)||"Security Question 2"}),a.jsx(ze,{id:"recovery-answer-2",type:"text",placeholder:"Your answer",value:T,onChange:L=>O(L.target.value),disabled:k,required:!0,"data-testid":"input-recovery-answer-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"new-recovery-password",children:"New Password"}),a.jsx(ze,{id:"new-recovery-password",type:"password",placeholder:"Enter new password (min 6 characters)",value:I,onChange:L=>B(L.target.value),disabled:k,required:!0,"data-testid":"input-new-recovery-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"confirm-recovery-password",children:"Confirm New Password"}),a.jsx(ze,{id:"confirm-recovery-password",type:"password",placeholder:"Confirm new password",value:D,onChange:L=>M(L.target.value),disabled:k,required:!0,"data-testid":"input-confirm-recovery-password"})]})]}),a.jsxs(Bi,{className:"mt-6",children:[a.jsx(Y,{type:"button",variant:"outline",onClick:()=>{b(!1),j(""),O(""),B(""),M("")},disabled:k,"data-testid":"button-cancel-recovery",children:"Cancel"}),a.jsx(Y,{type:"submit",disabled:k,"data-testid":"button-submit-recovery",children:k?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}),"Resetting..."]}):"Reset Password"})]})]})]})}),a.jsx(QN,{open:y,onAccept:()=>g(!1)}),a.jsx(EJ,{open:c,onOpenChange:u,onImportComplete:()=>{rt.invalidateQueries({queryKey:[`/api/menu-items?restaurantId=${F==null?void 0:F.id}`]})}}),Q&&a.jsx(yZ,{order:Q.order,items:Q.items,tableNumber:Q.order.tableNumber,restaurantName:F==null?void 0:F.name})]})})}var um="Tabs",[kJ]=fn(um,[Hl]),ZM=Hl(),[TJ,i0]=kJ(um),XM=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=zl(l),[f,h]=Fr({prop:r,onChange:s,defaultProp:i??"",caller:um});return a.jsx(TJ,{scope:n,baseId:Or(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Ne.div,{dir:d,"data-orientation":o,...u,ref:t})})});XM.displayName=um;var JM="TabsList",eO=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=i0(JM,n),o=ZM(n);return a.jsx(Ab,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Ne.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});eO.displayName=JM;var tO="TabsTrigger",nO=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=i0(tO,n),l=ZM(n),c=iO(o.baseId,r),u=aO(o.baseId,r),d=r===o.value;return a.jsx(Pb,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:se(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:se(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});nO.displayName=tO;var rO="TabsContent",sO=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,l=i0(rO,n),c=iO(l.baseId,r),u=aO(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(en,{present:s||d,children:({present:h})=>a.jsx(Ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});sO.displayName=rO;function iO(e,t){return`${e}-trigger-${t}`}function aO(e,t){return`${e}-content-${t}`}var _J=XM,oO=eO,lO=nO,cO=sO;const AJ=_J,uO=p.forwardRef(({className:e,...t},n)=>a.jsx(oO,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));uO.displayName=oO.displayName;const Pf=p.forwardRef(({className:e,...t},n)=>a.jsx(lO,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Pf.displayName=lO.displayName;const Rf=p.forwardRef(({className:e,...t},n)=>a.jsx(cO,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rf.displayName=cO.displayName;var dm="Switch",[PJ]=fn(dm),[RJ,IJ]=PJ(dm),dO=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),y=Oe(t,b=>m(b)),g=p.useRef(!1),w=h?d||!!h.closest("form"):!0,[x,v]=Fr({prop:s,defaultProp:i??!1,onChange:u,caller:dm});return a.jsxs(RJ,{scope:n,checked:x,disabled:l,children:[a.jsx(Ne.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":mO(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:se(e.onClick,b=>{v(S=>!S),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&a.jsx(pO,{control:h,bubbles:!g.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});dO.displayName=dm;var fO="SwitchThumb",hO=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=IJ(fO,n);return a.jsx(Ne.span,{"data-state":mO(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});hO.displayName=fO;var MJ="SwitchBubbleInput",pO=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=p.useRef(null),l=Oe(o,i),c=Yp(n),u=kp(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pO.displayName=MJ;function mO(e){return e?"checked":"unchecked"}var gO=dO,OJ=hO;const Kv=p.forwardRef(({className:e,...t},n)=>a.jsx(gO,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(OJ,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Kv.displayName=gO.displayName;var DJ=Object.defineProperty,Hh=Object.getOwnPropertySymbols,yO=Object.prototype.hasOwnProperty,vO=Object.prototype.propertyIsEnumerable,XN=(e,t,n)=>t in e?DJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yv=(e,t)=>{for(var n in t||(t={}))yO.call(t,n)&&XN(e,n,t[n]);if(Hh)for(var n of Hh(t))vO.call(t,n)&&XN(e,n,t[n]);return e},Gv=(e,t)=>{var n={};for(var r in e)yO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Hh)for(var r of Hh(e))t.indexOf(r)<0&&vO.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ya;(e=>{const t=class Ue{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Ue.MIN_VERSION||c>Ue.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let y=0;y<this.size;y++)h.push(!1);for(let y=0;y<this.size;y++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let y=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const w=this.getPenaltyScore();w<y&&(f=g,y=w),this.applyMask(g)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Ue.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Ue.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,m=!0){if(!(Ue.MIN_VERSION<=d&&d<=f&&f<=Ue.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let y,g;for(y=d;;y++){const b=Ue.getNumDataCodewords(y,u)*8,S=o.getTotalBits(c,y);if(S<=b){g=S;break}if(y>=f)throw new RangeError("Data too long")}for(const b of[Ue.Ecc.MEDIUM,Ue.Ecc.QUARTILE,Ue.Ecc.HIGH])m&&g<=Ue.getNumDataCodewords(y,b)*8&&(u=b);let w=[];for(const b of c){n(b.mode.modeBits,4,w),n(b.numChars,b.mode.numCharCountBits(y),w);for(const S of b.getData())w.push(S)}s(w.length==g);const x=Ue.getNumDataCodewords(y,u)*8;s(w.length<=x),n(0,Math.min(4,x-w.length),w),n(0,(8-w.length%8)%8,w),s(w.length%8==0);for(let b=236;w.length<x;b^=253)n(b,8,w);let v=[];for(;v.length*8<w.length;)v.push(0);return w.forEach((b,S)=>v[S>>>3]|=b<<7-(S&7)),new Ue(y,u,v,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=c+f,y=u+d;0<=m&&m<this.size&&0<=y&&y<this.size&&this.setFunctionModule(m,y,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Ue.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Ue.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Ue.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(Ue.getNumRawDataModules(u)/8),y=f-m%f,g=Math.floor(m/f);let w=[];const x=Ue.reedSolomonComputeDivisor(h);for(let b=0,S=0;b<f;b++){let C=c.slice(S,S+g-h+(b<y?0:1));S+=C.length;const k=Ue.reedSolomonComputeRemainder(C,x);b<y&&C.push(0),w.push(C.concat(k))}let v=[];for(let b=0;b<w[0].length;b++)w.forEach((S,C)=>{(b!=g-h||C>=y)&&v.push(S[b])});return s(v.length==m),v}drawCodewords(c){if(c.length!=Math.floor(Ue.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,g=(d+1&2)==0?this.size-1-f:f;!this.isFunction[g][m]&&u<c.length*8&&(this.modules[g][m]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let m=!1,y=0,g=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[h][w]==m?(y++,y==5?c+=Ue.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,g),m||(c+=this.finderPenaltyCountPatterns(g)*Ue.PENALTY_N3),m=this.modules[h][w],y=1);c+=this.finderPenaltyTerminateAndCount(m,y,g)*Ue.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,y=0,g=[0,0,0,0,0,0,0];for(let w=0;w<this.size;w++)this.modules[w][h]==m?(y++,y==5?c+=Ue.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,g),m||(c+=this.finderPenaltyCountPatterns(g)*Ue.PENALTY_N3),m=this.modules[w][h],y=1);c+=this.finderPenaltyTerminateAndCount(m,y,g)*Ue.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const y=this.modules[h][m];y==this.modules[h][m+1]&&y==this.modules[h+1][m]&&y==this.modules[h+1][m+1]&&(c+=Ue.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,y)=>m+(y?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),c+=f*Ue.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Ue.MIN_VERSION||c>Ue.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Ue.getNumRawDataModules(c)/8)-Ue.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Ue.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=Ue.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Ue.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((m,y)=>d[y]^=Ue.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class jt{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new jt(jt.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!jt.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new jt(jt.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!jt.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new jt(jt.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:jt.isNumeric(c)?[jt.makeNumeric(c)]:jt.isAlphanumeric(c)?[jt.makeAlphanumeric(c)]:[jt.makeBytes(jt.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new jt(jt.Mode.ECI,0,u)}static isNumeric(c){return jt.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return jt.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(Ya||(Ya={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Ya||(Ya={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Ya||(Ya={}));var Po=Ya;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var LJ={L:Po.QrCode.Ecc.LOW,M:Po.QrCode.Ecc.MEDIUM,Q:Po.QrCode.Ecc.QUARTILE,H:Po.QrCode.Ecc.HIGH},xO=128,wO="L",bO="#FFFFFF",SO="#000000",CO=!1,NO=1,FJ=4,VJ=0,UJ=.1;function jO(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+t} ${s+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push(`M${l+t},${s+t} h1v1H${l+t}z`):n.push(`M${i+t},${s+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),n.join("")}function EO(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function $J(e,t,n,r){if(r==null)return null;const s=e.length+n*2,i=Math.floor(t*UJ),o=s/t,l=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?e.length/2-l/2:r.x*o,d=r.y==null?e.length/2-c/2:r.y*o,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let y=Math.floor(u),g=Math.floor(d),w=Math.ceil(l+u-y),x=Math.ceil(c+d-g);h={x:y,y:g,w,h:x}}const m=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:m}}function BJ(e,t){return t!=null?Math.max(Math.floor(t),0):e?FJ:VJ}function kO({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:l}){let c=ee.useMemo(()=>{const y=(Array.isArray(e)?e:[e]).reduce((g,w)=>(g.push(...Po.QrSegment.makeSegments(w)),g),[]);return Po.QrCode.encodeSegments(y,LJ[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=ee.useMemo(()=>{let m=c.getModules();const y=BJ(r,s),g=m.length+y*2,w=$J(m,o,y,i);return{cells:m,margin:y,numCells:g,calculatedImageSettings:w}},[c,o,i,r,s]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var WJ=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),TO=ee.forwardRef(function(t,n){const r=t,{value:s,size:i=xO,level:o=wO,bgColor:l=bO,fgColor:c=SO,includeMargin:u=CO,minVersion:d=NO,boostLevel:f,marginSize:h,imageSettings:m}=r,g=Gv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:w}=g,x=Gv(g,["style"]),v=m==null?void 0:m.src,b=ee.useRef(null),S=ee.useRef(null),C=ee.useCallback(D=>{b.current=D,typeof n=="function"?n(D):n&&(n.current=D)},[n]),[k,E]=ee.useState(!1),{margin:N,cells:j,numCells:T,calculatedImageSettings:O}=kO({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:i});ee.useEffect(()=>{if(b.current!=null){const D=b.current,M=D.getContext("2d");if(!M)return;let U=j;const $=S.current,_=O!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;_&&O.excavation!=null&&(U=EO(j,O.excavation));const R=window.devicePixelRatio||1;D.height=D.width=i*R;const H=i/T*R;M.scale(H,H),M.fillStyle=l,M.fillRect(0,0,T,T),M.fillStyle=c,WJ?M.fill(new Path2D(jO(U,N))):j.forEach(function(q,te){q.forEach(function(Q,oe){Q&&M.fillRect(oe+N,te+N,1,1)})}),O&&(M.globalAlpha=O.opacity),_&&M.drawImage($,O.x+N,O.y+N,O.w,O.h)}}),ee.useEffect(()=>{E(!1)},[v]);const I=Yv({height:i,width:i},w);let B=null;return v!=null&&(B=ee.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{E(!0)},ref:S,crossOrigin:O==null?void 0:O.crossOrigin})),ee.createElement(ee.Fragment,null,ee.createElement("canvas",Yv({style:I,height:i,width:i,ref:C,role:"img"},x)),B)});TO.displayName="QRCodeCanvas";var zJ=ee.forwardRef(function(t,n){const r=t,{value:s,size:i=xO,level:o=wO,bgColor:l=bO,fgColor:c=SO,includeMargin:u=CO,minVersion:d=NO,boostLevel:f,title:h,marginSize:m,imageSettings:y}=r,g=Gv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:w,cells:x,numCells:v,calculatedImageSettings:b}=kO({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:y,size:i});let S=x,C=null;y!=null&&b!=null&&(b.excavation!=null&&(S=EO(x,b.excavation)),C=ee.createElement("image",{href:y.src,height:b.h,width:b.w,x:b.x+w,y:b.y+w,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const k=jO(S,w);return ee.createElement("svg",Yv({height:i,width:i,viewBox:`0 0 ${v} ${v}`,ref:n,role:"img"},g),!!h&&ee.createElement("title",null,h),ee.createElement("path",{fill:l,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),ee.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),C)});zJ.displayName="QRCodeSVG";var HJ=Symbol("radix.slottable");function qJ(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=HJ,t}var _O="AlertDialog",[KJ]=fn(_O,[U_]),qs=U_(),AO=e=>{const{__scopeAlertDialog:t,...n}=e,r=qs(t);return a.jsx(Rw,{...r,...n,modal:!0})};AO.displayName=_O;var YJ="AlertDialogTrigger",GJ=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=qs(n);return a.jsx(nA,{...s,...r,ref:t})});GJ.displayName=YJ;var QJ="AlertDialogPortal",PO=e=>{const{__scopeAlertDialog:t,...n}=e,r=qs(t);return a.jsx(Iw,{...r,...n})};PO.displayName=QJ;var ZJ="AlertDialogOverlay",RO=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=qs(n);return a.jsx(Xu,{...s,...r,ref:t})});RO.displayName=ZJ;var qo="AlertDialogContent",[XJ,JJ]=KJ(qo),eee=qJ("AlertDialogContent"),IO=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=qs(n),o=p.useRef(null),l=Oe(t,o),c=p.useRef(null);return a.jsx(G6,{contentName:qo,titleName:MO,docsSlug:"alert-dialog",children:a.jsx(XJ,{scope:n,cancelRef:c,children:a.jsxs(Ju,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:se(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(eee,{children:r}),a.jsx(nee,{contentRef:o})]})})})});IO.displayName=qo;var MO="AlertDialogTitle",OO=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=qs(n);return a.jsx(ed,{...s,...r,ref:t})});OO.displayName=MO;var DO="AlertDialogDescription",LO=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=qs(n);return a.jsx(td,{...s,...r,ref:t})});LO.displayName=DO;var tee="AlertDialogAction",FO=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=qs(n);return a.jsx(Dp,{...s,...r,ref:t})});FO.displayName=tee;var VO="AlertDialogCancel",UO=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=JJ(VO,n),i=qs(n),o=Oe(t,s);return a.jsx(Dp,{...i,...r,ref:o})});UO.displayName=VO;var nee=({contentRef:e})=>{const t=`\`${qo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qo}\` by passing a \`${DO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ree=AO,see=PO,$O=RO,BO=IO,WO=FO,zO=UO,HO=OO,qO=LO;const Qv=ree,iee=see,KO=p.forwardRef(({className:e,...t},n)=>a.jsx($O,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));KO.displayName=$O.displayName;const qh=p.forwardRef(({className:e,...t},n)=>a.jsxs(iee,{children:[a.jsx(KO,{}),a.jsx(BO,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));qh.displayName=BO.displayName;const Kh=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});Kh.displayName="AlertDialogHeader";const Yh=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Yh.displayName="AlertDialogFooter";const Gh=p.forwardRef(({className:e,...t},n)=>a.jsx(HO,{ref:n,className:re("text-lg font-semibold",e),...t}));Gh.displayName=HO.displayName;const Qh=p.forwardRef(({className:e,...t},n)=>a.jsx(qO,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Qh.displayName=qO.displayName;const Zh=p.forwardRef(({className:e,...t},n)=>a.jsx(WO,{ref:n,className:re(Ew(),e),...t}));Zh.displayName=WO.displayName;const Xh=p.forwardRef(({className:e,...t},n)=>a.jsx(zO,{ref:n,className:re(Ew({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Xh.displayName=zO.displayName;function aee({restaurantId:e,restaurantName:t}){const{toast:n}=it(),[r,s]=p.useState(null),[i,o]=p.useState(!1),[l,c]=p.useState(""),{data:u=[],isLoading:d}=Je({queryKey:["/api/restaurant",e,"tables"],enabled:!!e}),f=Xe({mutationFn:async w=>{await Pe("DELETE",`/api/restaurant/${e}/tables/${w}`)},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/restaurant",e,"tables"]}),n({title:"Table Deleted",description:"Table has been removed successfully."}),s(null)}}),h=Xe({mutationFn:async w=>await Pe("POST",`/api/restaurant/${e}/tables`,{tableNumber:w}),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/restaurant",e,"tables"]}),n({title:"Table Added",description:"New table has been created successfully."}),o(!1),c("")}}),m=w=>`${window.location.origin}/menu/${e}?table=${w}`,y=(w,x)=>{const v=document.getElementById(`qr-code-${w}`);if(v){const b=v.toDataURL("image/png"),S=document.createElement("a");S.download=`${t}-table-${x}-qr.png`,S.href=b,S.click(),n({title:"QR Code Downloaded",description:`Table ${x} QR code has been saved.`})}},g=()=>{l.trim()&&h.mutate(l.trim())};return d?a.jsx(pe,{className:"p-6",children:"Loading tables..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Table QR Codes"}),a.jsxs(Y,{onClick:()=>o(!0),size:"sm",className:"gap-2","data-testid":"button-add-table",children:[a.jsx(Va,{className:"h-4 w-4"}),"Add Table"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(w=>a.jsx(pe,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsxs("h4",{className:"font-medium",children:["Table ",w.tableNumber]}),a.jsx("div",{className:"bg-white p-2 rounded-lg",children:a.jsx(TO,{id:`qr-code-${w.id}`,value:m(w.tableNumber),size:150,level:"H",includeMargin:!0})}),a.jsx("p",{className:"text-xs text-muted-foreground text-center break-all",children:m(w.tableNumber)}),a.jsxs("div",{className:"flex gap-2 w-full",children:[a.jsxs(Y,{variant:"outline",size:"sm",className:"flex-1 gap-1",onClick:()=>y(w.id,w.tableNumber),"data-testid":`button-download-qr-${w.id}`,children:[a.jsx(Sp,{className:"h-3 w-3"}),"Download"]}),a.jsx(Y,{variant:"outline",size:"sm",onClick:()=>s(w.id),"data-testid":`button-delete-table-${w.id}`,children:a.jsx(Qu,{className:"h-3 w-3"})})]})]})},w.id))}),a.jsx(Qv,{open:i,onOpenChange:o,children:a.jsxs(qh,{children:[a.jsxs(Kh,{children:[a.jsx(Gh,{children:"Add New Table"}),a.jsx(Qh,{children:"Enter a number or name for the new table."})]}),a.jsxs("div",{className:"py-4",children:[a.jsx(Ze,{htmlFor:"tableNumber",children:"Table Number"}),a.jsx(ze,{id:"tableNumber",value:l,onChange:w=>c(w.target.value),placeholder:"e.g., 4, A1, VIP-1","data-testid":"input-table-number"})]}),a.jsxs(Yh,{children:[a.jsx(Xh,{"data-testid":"button-cancel-add",children:"Cancel"}),a.jsx(Zh,{onClick:g,disabled:!l.trim()||h.isPending,"data-testid":"button-confirm-add",children:h.isPending?"Adding...":"Add Table"})]})]})}),a.jsx(Qv,{open:!!r,onOpenChange:()=>s(null),children:a.jsxs(qh,{children:[a.jsxs(Kh,{children:[a.jsx(Gh,{children:"Delete Table"}),a.jsx(Qh,{children:"Are you sure you want to delete this table? This action cannot be undone."})]}),a.jsxs(Yh,{children:[a.jsx(Xh,{"data-testid":"button-cancel-delete",children:"Cancel"}),a.jsx(Zh,{onClick:()=>r&&f.mutate(r),disabled:f.isPending,"data-testid":"button-confirm-delete",children:f.isPending?"Deleting...":"Delete"})]})]})})]})}const oee=["Nigeria","Ghana","Kenya","South Africa"],lee=["United Arab Emirates","UAE","Saudi Arabia","Kuwait","Qatar","Bahrain","Oman","Jordan","Lebanon","Egypt"],cee=["China","Japan","South Korea","Singapore","Malaysia","Thailand","Indonesia","Philippines","Vietnam","India","Pakistan","Bangladesh","Taiwan","Hong Kong"];function uee(e){if(!e)return"stripe";const t=e.trim();return oee.some(n=>t.toLowerCase().includes(n.toLowerCase()))?"paystack":lee.some(n=>t.toLowerCase().includes(n.toLowerCase()))?"telr":cee.some(n=>t.toLowerCase().includes(n.toLowerCase()))?"adyen":"stripe"}function dee(e){switch(e){case"stripe":return"Stripe";case"paystack":return"Paystack";case"telr":return"Telr";case"adyen":return"Adyen";default:return"Stripe"}}function fee(e){switch(e){case"stripe":return"US/Europe/Global";case"paystack":return"Nigeria/West Africa";case"telr":return"Middle East";case"adyen":return"Asia";default:return"Global"}}function hee(e){const t=uee(e);return{gateway:t,name:dee(t),region:fee(t)}}function pee(e,t){switch(t){case"stripe":return!!e.stripeOnboardingComplete;case"paystack":return!!e.paystackOnboardingComplete;case"telr":return!!e.telrOnboardingComplete;case"adyen":return!!e.adyenOnboardingComplete;default:return!1}}function mee({restaurant:e}){const{toast:t}=it(),[n]=ls(),[r,s]=p.useState(!1),i=Xe({mutationFn:async()=>(await Pe("POST","/api/stripe/connect-account")).json(),onSuccess:()=>{t({title:"Stripe Account Created",description:"Now let's complete the onboarding process."}),o.mutate()},onError:()=>{t({title:"Error",description:"Failed to create Stripe account",variant:"destructive"}),s(!1)}}),o=Xe({mutationFn:async()=>(await Pe("POST","/api/stripe/onboarding-link")).json(),onSuccess:f=>{f.url&&(window.location.href=f.url)},onError:()=>{t({title:"Error",description:"Failed to get onboarding link",variant:"destructive"}),s(!1)}}),l=Xe({mutationFn:async()=>(await Pe("GET","/api/stripe/account-status")).json(),onSuccess:f=>{f.isComplete?(t({title:"Success!",description:"Your Stripe account is now active and ready to accept payments"}),rt.invalidateQueries({queryKey:["/api/restaurant"]})):t({title:"Onboarding Incomplete",description:"Please complete the Stripe onboarding process",variant:"destructive"})},onError:()=>{t({title:"Error",description:"Failed to check account status",variant:"destructive"})}});p.useEffect(()=>{n.includes("stripe_refresh=true")&&e.stripeAccountId&&l.mutate()},[n]);const c=()=>{s(!0),e.stripeAccountId?o.mutate():i.mutate()},u=i.isPending||o.isPending||r,d=l.isPending;return a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{onClick:c,disabled:u||d,className:"gap-2","data-testid":"button-setup-stripe",children:u?"Loading...":a.jsxs(a.Fragment,{children:[a.jsx(F3,{className:"h-4 w-4"}),e.stripeAccountId?"Continue Onboarding":"Set Up Stripe Payments"]})}),e.stripeAccountId&&a.jsx(Y,{variant:"outline",onClick:()=>l.mutate(),disabled:u||d,className:"gap-2","data-testid":"button-refresh-stripe-status",children:d?"Checking...":a.jsxs(a.Fragment,{children:[a.jsx(X3,{className:"h-4 w-4"}),"Refresh Status"]})})]})})}function gee({restaurant:e}){var d;const{toast:t}=it(),[n,r]=p.useState(e.paystackBankCode||""),[s,i]=p.useState(e.paystackAccountNumber||""),{data:o}=Je({queryKey:["/api/paystack/banks"],queryFn:async()=>{const h=await fetch("http://localhost:3005/dev/api/paystack/banks",{credentials:"include"});if(!h.ok)throw new Error("Failed to fetch banks");return h.json()}}),l=Xe({mutationFn:async()=>(await Pe("POST","/api/paystack/create-subaccount",{bankCode:n,accountNumber:s})).json(),onSuccess:f=>{t({title:"Success!",description:`Paystack subaccount created for ${f.accountName}`}),rt.invalidateQueries({queryKey:["/api/restaurant"]})},onError:f=>{t({title:"Error",description:f.message||"Failed to create Paystack subaccount",variant:"destructive"})}}),c=()=>{if(!n||!s){t({title:"Missing Information",description:"Please select a bank and enter your account number",variant:"destructive"});return}if(!/^\d{10}$/.test(s)){t({title:"Invalid Account Number",description:"Nigerian bank account numbers must be exactly 10 digits",variant:"destructive"});return}l.mutate()},u=l.isPending;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Ze,{htmlFor:"bank","data-testid":"label-paystack-bank",children:"Bank"}),a.jsxs($h,{value:n,onValueChange:r,disabled:u||!!e.paystackSubaccountCode,children:[a.jsx(Ru,{id:"bank","data-testid":"select-paystack-bank",children:a.jsx(Bh,{placeholder:"Select your bank"})}),a.jsx(Iu,{children:(d=o==null?void 0:o.banks)==null?void 0:d.map(f=>a.jsx(Gr,{value:f.code,"data-testid":`option-bank-${f.code}`,children:f.name},f.code))})]})]}),a.jsxs("div",{children:[a.jsx(Ze,{htmlFor:"accountNumber","data-testid":"label-paystack-account",children:"Account Number"}),a.jsx(ze,{id:"accountNumber",type:"text",placeholder:"0123456789",maxLength:10,value:s,onChange:f=>i(f.target.value.replace(/\D/g,"")),disabled:u||!!e.paystackSubaccountCode,"data-testid":"input-paystack-account"})]}),e.paystackAccountName&&a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Account Name: ",a.jsx("span",{className:"font-medium",children:e.paystackAccountName})]})]}),!e.paystackSubaccountCode&&a.jsx(Y,{onClick:c,disabled:u||!n||!s,className:"gap-2","data-testid":"button-setup-paystack",children:u?"Creating Subaccount...":"Set Up Paystack Payments"})]})}function JN({gatewayName:e}){return a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx(W3,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"API Keys Required"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e," integration is ready. Add your API keys to enable payments."]})]})]})}function yee({restaurant:e}){const t=hee(e.country),n=pee(e,t.gateway);return a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Payment Processing"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Recommended gateway for ",e.country||"your region",": ",a.jsx("span",{className:"font-medium",children:t.name})," (",t.region,")"]})]}),n?a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx(Vi,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Connected"}),a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Your ",t.name," account is active and ready to accept payments"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 dark:bg-amber-950 rounded-lg border border-amber-200 dark:border-amber-800",children:[a.jsx(bp,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Action Required"}),a.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:["Complete ",t.name," onboarding to accept online payments"]})]})]}),t.gateway==="stripe"&&a.jsx(mee,{restaurant:e}),t.gateway==="paystack"&&a.jsx(gee,{restaurant:e}),t.gateway==="telr"&&a.jsx(JN,{gatewayName:"Telr"}),t.gateway==="adyen"&&a.jsx(JN,{gatewayName:"Adyen"})]})]})})}function vee({restaurant:e}){const{toast:t}=it(),{formatCurrency:n}=Ot(),[r,s]=p.useState(!1),i=e.subscriptionStatus==="trialing",o=e.subscriptionStatus==="active",l=e.trialEndsAt?new Date(e.trialEndsAt):null,c=e.currentPeriodEnd?new Date(e.currentPeriodEnd):null,{data:u}=Je({queryKey:["/api/subscription/status"],enabled:i||o}),d=(u==null?void 0:u.aiUsageCount)||0,f=(u==null?void 0:u.currentMonthUsage)||0,h=f*1,m=d*1,y=Xe({mutationFn:async()=>(await Pe("POST","/api/subscription/cancel")).json(),onSuccess:async()=>{rt.invalidateQueries({queryKey:["/api/restaurant"]}),rt.invalidateQueries({queryKey:["/api/subscription/status"]}),t({title:"Subscription Cancelled",description:"Your subscription has been cancelled and your account will be deleted."});try{await yu()}catch(g){console.error("Error signing out:",g)}setTimeout(()=>{window.location.href="/"},2e3)},onError:g=>{t({title:"Error",description:g.message,variant:"destructive"})}});return a.jsxs(pe,{className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Subscription"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your current subscription status"})]}),i&&l&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx(Fa,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Money-Back Guarantee Period"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Full refund available until ",Ps(l,"MMMM d, yyyy")]}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"$50/month + AI usage fees"})]})]}),o&&c&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx(Vi,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Active Subscription"}),a.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["$50/month + AI usage  Renews on ",Ps(c,"MMMM d, yyyy")]})]})]}),!i&&!o&&a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 dark:bg-amber-950 rounded-lg border border-amber-200 dark:border-amber-800",children:[a.jsx(Fo,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Subscription Required"}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Subscribe to continue accepting orders  $50/month + AI usage"})]}),a.jsx(ou,{href:"/subscribe",children:a.jsx(Y,{size:"sm","data-testid":"button-subscribe",children:"Subscribe"})})]}),(i||o)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(_a,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("h4",{className:"text-sm font-medium",children:"AI Waiter Usage"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"This Month"}),a.jsx("p",{className:"text-2xl font-bold","data-testid":"text-usage-month",children:f.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"API calls"}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Hy,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("p",{className:"text-sm font-medium","data-testid":"text-cost-month",children:n(h)})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"All Time"}),a.jsx("p",{className:"text-2xl font-bold","data-testid":"text-usage-total",children:d.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"API calls"}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Hy,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("p",{className:"text-sm font-medium","data-testid":"text-cost-total",children:n(m)})]})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>s(!0),disabled:y.isPending,"data-testid":"button-cancel-subscription",children:[a.jsx(sV,{className:"h-4 w-4 mr-2"}),"Cancel Subscription"]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Cancelling your subscription will delete your restaurant and all data"})]})]})]}),a.jsx(Qv,{open:r,onOpenChange:s,children:a.jsxs(qh,{children:[a.jsxs(Kh,{children:[a.jsx(Gh,{children:"Cancel Subscription & Delete Account?"}),a.jsxs(Qh,{children:["This action cannot be undone. Cancelling your subscription will:",a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"Immediately cancel your Stripe subscription"}),a.jsx("li",{children:"Delete your restaurant and all menu items"}),a.jsx("li",{children:"Delete all orders and customer data"}),a.jsx("li",{children:"Remove all QR codes and analytics"})]}),a.jsx("p",{className:"mt-3 font-semibold",children:"Are you sure you want to proceed?"})]})]}),a.jsxs(Yh,{children:[a.jsx(Xh,{"data-testid":"button-cancel-dialog-no",children:"Keep Subscription"}),a.jsx(Zh,{onClick:()=>y.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-cancel-dialog-yes",children:"Yes, Cancel & Delete Everything"})]})]})})]})}function xee({restaurantId:e}){const{toast:t}=it(),[n,r]=p.useState(null),[s,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),{data:d=[],isLoading:f}=Je({queryKey:["/api/faqs"]}),h=Xe({mutationFn:async({id:x,data:v})=>(await Pe("PUT",`/api/faqs/${x}`,v)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/faqs"]}),r(null),t({title:"Success",description:"FAQ updated successfully"})},onError:x=>{t({title:"Error",description:x.message,variant:"destructive"})}}),m=Xe({mutationFn:async x=>{await Pe("DELETE",`/api/faqs/${x}`)},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/faqs"]}),t({title:"Success",description:"FAQ deleted successfully"})},onError:x=>{t({title:"Error",description:x.message,variant:"destructive"})}}),y=x=>{r(x),i(x.question),l(x.answer),u((x.keywords||[]).join(", "))},g=()=>{if(!n)return;const x=c.split(",").map(v=>v.trim()).filter(v=>v.length>0);h.mutate({id:n.id,data:{question:s,answer:o,keywords:x}})},w=x=>{confirm("Are you sure you want to delete this FAQ? This cannot be undone.")&&m.mutate(x)};return f?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"text-muted-foreground",children:"Loading FAQs..."})}):d.length===0?a.jsxs(pe,{"data-testid":"card-faq-empty",children:[a.jsx(or,{children:a.jsx(lr,{children:"FAQ Knowledge Base"})}),a.jsx(Pn,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{className:"mb-2",children:"No FAQs yet"}),a.jsx("p",{className:"text-sm",children:"FAQs are automatically created when you answer customer questions. They help the AI Waiter provide faster, more accurate responses."})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold","data-testid":"text-faq-title",children:"FAQ Knowledge Base"}),a.jsxs(He,{variant:"secondary","data-testid":"badge-faq-count",children:[d.length," ",d.length===1?"FAQ":"FAQs"]})]}),a.jsx("div",{className:"space-y-3",children:d.map(x=>a.jsx(pe,{className:"hover-elevate","data-testid":`card-faq-${x.id}`,children:a.jsx(Pn,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-muted-foreground",children:"Question"}),a.jsx("p",{className:"font-medium","data-testid":`text-question-${x.id}`,children:x.question})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm text-muted-foreground",children:"Answer"}),a.jsx("p",{className:"text-sm","data-testid":`text-answer-${x.id}`,children:x.answer})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{size:"icon",variant:"ghost",onClick:()=>y(x),"data-testid":`button-edit-${x.id}`,children:a.jsx(G3,{className:"w-4 h-4"})}),a.jsx(Y,{size:"icon",variant:"ghost",onClick:()=>w(x.id),disabled:m.isPending,"data-testid":`button-delete-${x.id}`,children:a.jsx(Qu,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Keywords:"}),(x.keywords||[]).map((v,b)=>a.jsx(He,{variant:"outline",className:"text-xs","data-testid":`badge-keyword-${x.id}-${b}`,children:v},b))]}),a.jsx("div",{className:"flex gap-4 text-xs text-muted-foreground",children:a.jsxs("span",{"data-testid":`text-usage-${x.id}`,children:["Used ",x.usageCount||0," times"]})})]})})},x.id))})]}),a.jsx(vn,{open:!!n,onOpenChange:x=>!x&&r(null),children:a.jsxs(ln,{className:"max-w-2xl","data-testid":"dialog-edit-faq",children:[a.jsx(xn,{children:a.jsx(cn,{children:"Edit FAQ"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Question"}),a.jsx(mr,{value:s,onChange:x=>i(x.target.value),placeholder:"Enter the question...",className:"min-h-[60px]","data-testid":"input-edit-question"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Answer"}),a.jsx(mr,{value:o,onChange:x=>l(x.target.value),placeholder:"Enter the answer...",className:"min-h-[100px]","data-testid":"input-edit-answer"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Keywords (comma-separated)"}),a.jsx(ze,{value:c,onChange:x=>u(x.target.value),placeholder:"e.g., gluten, allergen, vegan, spicy","data-testid":"input-edit-keywords"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keywords help the AI match customer questions to this FAQ"})]})]}),a.jsxs(Bi,{children:[a.jsx(Y,{variant:"outline",onClick:()=>r(null),"data-testid":"button-cancel-edit",children:"Cancel"}),a.jsx(Y,{onClick:g,disabled:h.isPending||!s.trim()||!o.trim(),"data-testid":"button-save-faq",children:h.isPending?"Saving...":"Save Changes"})]})]})})]})}function wee({restaurantId:e}){const[t,n]=p.useState("all"),{data:r=[],isLoading:s}=Je({queryKey:[`/api/restaurants/${e}/ratings`],enabled:!!e}),{data:i=[],isLoading:o}=Je({queryKey:[`/api/menu-items?restaurantId=${e}`],enabled:!!e}),l=r.filter(b=>b.itemRating!==null&&b.menuItemId),c=r.filter(b=>b.serviceRatings&&!b.menuItemId),u=l.length>0?l.reduce((b,S)=>b+(S.itemRating||0),0)/l.length:0,d=new Map;l.forEach(b=>{if(b.menuItemId&&b.itemRating){const S=i.find(C=>C.id===b.menuItemId);S&&(d.has(b.menuItemId)||d.set(b.menuItemId,{ratings:[],name:S.name}),d.get(b.menuItemId).ratings.push(b.itemRating))}});const f=Array.from(d.entries()).map(([b,S])=>({id:b,name:S.name,averageRating:S.ratings.reduce((C,k)=>C+k,0)/S.ratings.length,totalRatings:S.ratings.length})).sort((b,S)=>S.averageRating-b.averageRating),h=b=>{const S=c.map(C=>{var k;return(k=C.serviceRatings)==null?void 0:k[b]}).filter(C=>C!==void 0);return S.length>0?S.reduce((C,k)=>C+k,0)/S.length:0},m=h("foodQuality"),y=h("serviceSpeed"),g=h("cleanliness"),w=h("staffFriendliness"),x=t==="all"?r:t==="items"?l:c,v=b=>a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(S=>a.jsx(uu,{className:`h-4 w-4 ${S<=b?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},S))});return s||o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-analytics"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(pe,{className:"p-4","data-testid":"card-total-ratings",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(ah,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Ratings"}),a.jsx("p",{className:"text-2xl font-bold",children:r.length})]})]})}),a.jsx(pe,{className:"p-4","data-testid":"card-avg-item-rating",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:a.jsx(zS,{className:"h-5 w-5 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Item Rating"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-2xl font-bold",children:u.toFixed(1)}),a.jsx(uu,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]})]})]})}),a.jsx(pe,{className:"p-4","data-testid":"card-item-ratings",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:a.jsx(LT,{className:"h-5 w-5 text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Item Ratings"}),a.jsx("p",{className:"text-2xl font-bold",children:l.length})]})]})}),a.jsx(pe,{className:"p-4","data-testid":"card-service-ratings",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:a.jsx(WS,{className:"h-5 w-5 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Service Ratings"}),a.jsx("p",{className:"text-2xl font-bold",children:c.length})]})]})})]}),f.length>0&&a.jsxs(pe,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Menu Item Ratings"}),a.jsx("div",{className:"space-y-3",children:f.map(b=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium","data-testid":`text-menu-item-${b.id}`,children:b.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.totalRatings," rating",b.totalRatings!==1?"s":""]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-bold","data-testid":`text-avg-rating-${b.id}`,children:b.averageRating.toFixed(1)}),v(Math.round(b.averageRating))]})]},b.id))})]}),c.length>0&&a.jsxs(pe,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Service Quality Metrics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Food Quality"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:m.toFixed(1)}),v(Math.round(m))]})]}),a.jsx(zt,{})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Service Speed"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:y.toFixed(1)}),v(Math.round(y))]})]}),a.jsx(zt,{})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Cleanliness"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:g.toFixed(1)}),v(Math.round(g))]})]}),a.jsx(zt,{})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Staff Friendliness"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-bold",children:w.toFixed(1)}),v(Math.round(w))]})]}),a.jsx(zt,{})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium",children:"Filter:"}),a.jsx(Y,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),"data-testid":"button-filter-all",children:"All Ratings"}),a.jsxs(Y,{variant:t==="items"?"default":"outline",size:"sm",onClick:()=>n("items"),"data-testid":"button-filter-items",children:["Menu Items (",l.length,")"]}),a.jsxs(Y,{variant:t==="service"?"default":"outline",size:"sm",onClick:()=>n("service"),"data-testid":"button-filter-service",children:["Service (",c.length,")"]})]}),x.length===0?a.jsxs(pe,{className:"p-12 text-center",children:[a.jsx(ah,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Ratings Yet"}),a.jsx("p",{className:"text-muted-foreground",children:t==="all"?"No ratings have been submitted yet":t==="items"?"No menu item ratings yet":"No service ratings yet"})]}):a.jsx("div",{className:"space-y-4",children:x.map(b=>a.jsx(pe,{className:"p-4","data-testid":`card-rating-${b.id}`,children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[b.menuItemId&&b.itemRating&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(He,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(zS,{className:"h-3 w-3"}),"Menu Item"]}),v(b.itemRating)]}),b.serviceRatings&&a.jsxs(He,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(WS,{className:"h-3 w-3"}),"Service Rating"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(Fa,{className:"h-3 w-3"}),Ps(new Date(b.createdAt),"MMM d, yyyy")]})]}),b.serviceRatings&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 p-3 bg-muted rounded-md",children:[b.serviceRatings.foodQuality&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Food Quality"}),v(b.serviceRatings.foodQuality)]}),b.serviceRatings.serviceSpeed&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Service Speed"}),v(b.serviceRatings.serviceSpeed)]}),b.serviceRatings.cleanliness&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Cleanliness"}),v(b.serviceRatings.cleanliness)]}),b.serviceRatings.staffFriendliness&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs",children:"Staff Friendliness"}),v(b.serviceRatings.staffFriendliness)]})]}),b.comment&&a.jsx("div",{className:"p-3 bg-muted rounded-md",children:a.jsxs("p",{className:"text-sm italic","data-testid":`text-comment-${b.id}`,children:['"',b.comment,'"']})})]})},b.id))})]})}function bee(){const[,e]=ls(),{user:t,isLoading:n}=$p(),{toast:r}=it(),[s,i]=p.useState("settings"),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,m]=p.useState(!0),[y,g]=p.useState(!1),[w,x]=p.useState("week"),{data:v,isLoading:b,error:S}=Je({queryKey:["/api/restaurant"],enabled:!!t}),{data:C,isLoading:k}=Je({queryKey:["/api/analytics/stats",w],queryFn:async()=>{const U=await fetch(`http://localhost:3005/dev/api/analytics/stats?period=${w}`);if(!U.ok)throw new Error("Failed to fetch analytics");return U.json()},enabled:!!t&&!!v}),E=Xe({mutationFn:async M=>(await Pe("POST","/api/admin/password/set",M)).json(),onSuccess:()=>{r({title:"Success",description:"Admin password updated successfully"}),l(""),u(""),f("")},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}}),N=Xe({mutationFn:async M=>(await Pe("PUT","/api/admin/settings/ai-waiter",{enabled:M})).json(),onSuccess:(M,U)=>{rt.invalidateQueries({queryKey:["/api/restaurant"]}),r({title:"Success",description:`AI Waiter ${U?"enabled":"disabled"} successfully`})},onError:(M,U)=>{r({title:"Error",description:M.message,variant:"destructive"}),m(!U)}}),j=Xe({mutationFn:async M=>(await Pe("PUT","/api/admin/settings/auto-print",{enabled:M})).json(),onSuccess:(M,U)=>{rt.invalidateQueries({queryKey:["/api/restaurant"]}),r({title:"Success",description:`Auto-print ${U?"enabled":"disabled"} successfully`})},onError:(M,U)=>{r({title:"Error",description:M.message,variant:"destructive"}),g(!U)}}),T=Xe({mutationFn:async M=>(await Pe("PUT",`/api/restaurant/${v==null?void 0:v.id}`,M)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/restaurant"]}),r({title:"Success",description:"Restaurant information updated successfully"})},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}});Xe({mutationFn:async()=>{await Pe("DELETE",`/api/restaurant/${v==null?void 0:v.id}`)},onSuccess:async()=>{r({title:"Restaurant Deleted",description:"Your restaurant has been permanently deleted"});try{await yu()}catch(M){console.error("Error signing out:",M)}window.location.href="/"},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}});const O=Xe({mutationFn:async()=>{await Pe("DELETE","/api/auth/delete-account")},onSuccess:async()=>{r({title:"Account Deleted",description:"Your account has been permanently deleted"});try{await yu()}catch(M){console.error("Error signing out:",M)}window.location.href="/"},onError:M=>{r({title:"Error",description:M.message,variant:"destructive"})}});p.useEffect(()=>{v&&(m(v.aiWaiterEnabled??!0),g(v.autoPrintOrders??!1))},[v]);const I=M=>{if(M.preventDefault(),!d){r({title:"Error",description:"Current passcode is required",variant:"destructive"});return}if(o!==c){r({title:"Error",description:"Passcodes do not match",variant:"destructive"});return}if(o.length!==6||!/^\d{6}$/.test(o)){r({title:"Error",description:"New passcode must be exactly 6 digits",variant:"destructive"});return}E.mutate({password:o,currentPassword:d})},B=M=>{m(M),N.mutate(M)},D=M=>{g(M),j.mutate(M)};return S&&QM(S)?(e("/"),null):n||b?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-admin"})}):!t||!v?(e("/"),null):a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx("header",{className:"border-b p-4",children:a.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>e("/dashboard"),"data-testid":"button-back-dashboard",title:"Back to Dashboard",children:a.jsx(I3,{className:"h-5 w-5"})}),a.jsx("img",{src:Ba,alt:"Waiterix",className:"h-8 w-8","data-testid":"img-waiterix-logo"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold",children:"Admin Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.name})]})]})})}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs(AJ,{value:s,onValueChange:i,className:"space-y-6",children:[a.jsxs(uO,{className:"grid w-full max-w-2xl grid-cols-3","data-testid":"tabs-admin",children:[a.jsxs(Pf,{value:"settings","data-testid":"tab-settings",children:[a.jsx(lw,{className:"h-4 w-4 mr-2"}),"Settings"]}),a.jsxs(Pf,{value:"knowledge","data-testid":"tab-knowledge",children:[a.jsx(M3,{className:"h-4 w-4 mr-2"}),"Knowledge"]}),a.jsxs(Pf,{value:"analytics","data-testid":"tab-analytics",children:[a.jsx(zy,{className:"h-4 w-4 mr-2"}),"Analytics"]})]}),a.jsxs(Rf,{value:"settings",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(yee,{restaurant:v}),a.jsx(vee,{restaurant:v})]}),a.jsx(pe,{className:"p-6",children:a.jsx(aee,{restaurantId:v.id,restaurantName:v.name})}),a.jsxs("div",{className:"max-w-2xl",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Restaurant Information"}),a.jsx(CM,{restaurantId:v.id,initialData:{name:v.name,description:v.description||"",address:v.address||"",city:v.city||"",country:v.country||"",phone:v.phone||"",hours:v.hours||"",coverImageUrl:v.coverImageUrl||"",defaultLanguage:v.defaultLanguage||"en"},onSubmit:M=>T.mutate(M),showSecurityFields:!1})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Change Admin Passcode"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Change the passcode required to access admin settings and analytics."}),a.jsxs("form",{onSubmit:I,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"current-password",children:"Current Passcode *"}),a.jsx(ze,{id:"current-password",type:"password",inputMode:"numeric",placeholder:"Enter current passcode",value:d,onChange:M=>f(M.target.value),required:!0,"data-testid":"input-current-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"new-password",children:"New Passcode (6 digits) *"}),a.jsx(ze,{id:"new-password",type:"password",inputMode:"numeric",placeholder:"Enter new passcode",value:o,onChange:M=>l(M.target.value),required:!0,"data-testid":"input-new-password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"confirm-password",children:"Confirm New Passcode *"}),a.jsx(ze,{id:"confirm-password",type:"password",inputMode:"numeric",placeholder:"Confirm new passcode",value:c,onChange:M=>u(M.target.value),required:!0,"data-testid":"input-confirm-password"})]}),a.jsx(Y,{type:"submit",disabled:E.isPending||!o||!c||!d,"data-testid":"button-save-password",children:E.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(DT,{className:"h-4 w-4 mr-2"}),"Change Passcode"]})})]})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"AI Waiter"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Enable or disable the AI Waiter feature for your restaurant's customer menu."}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"AI Waiter Status"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:h?"AI assistance is active":"AI assistance is disabled"})]}),a.jsx(Kv,{checked:h,onCheckedChange:B,disabled:N.isPending,"data-testid":"switch-ai-waiter"})]})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Auto-Print Orders"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Automatically print new orders as they arrive. When enabled, your browser will show the print dialog for each new order."}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Auto-Print Status"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y?"Orders will print automatically":"Manual printing only"})]}),a.jsx(Kv,{checked:y,onCheckedChange:D,disabled:j.isPending,"data-testid":"switch-auto-print"})]})]}),a.jsx(pe,{className:"max-w-2xl border-destructive/50",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-destructive",children:"Danger Zone"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Irreversible action that will permanently delete your data."})]}),a.jsx("div",{className:"space-y-3 pt-3 border-t",children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Permanently delete your entire account, including all restaurants, menu items, orders, and personal data. This cannot be undone."}),a.jsxs(Y,{variant:"destructive",onClick:()=>{confirm(` FINAL WARNING 

This will permanently delete your ENTIRE ACCOUNT including:
- All restaurants
- All menu items
- All orders and customer data
- All personal information

This action is IRREVERSIBLE and cannot be undone.

Are you absolutely certain you want to proceed?`)&&confirm("Type DELETE in the next prompt to confirm account deletion")&&(prompt("Type DELETE (in capital letters) to confirm:")==="DELETE"?O.mutate():r({title:"Cancelled",description:"Account deletion cancelled."}))},"data-testid":"button-delete-account",children:[a.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Delete Account Permanently"]})]})})]})})]}),a.jsx(Rf,{value:"knowledge",className:"space-y-6",children:a.jsx(xee,{restaurantId:v.id})}),a.jsxs(Rf,{value:"analytics",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{variant:w==="week"?"default":"outline",size:"sm",onClick:()=>x("week"),"data-testid":"button-range-week",children:"This Week"}),a.jsx(Y,{variant:w==="lifetime"?"default":"outline",size:"sm",onClick:()=>x("lifetime"),"data-testid":"button-range-lifetime",children:"Lifetime"})]})]}),k?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-analytics"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(pe,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Table Scans"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold","data-testid":"text-total-scans",children:(C==null?void 0:C.tableScans.totalScans)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total QR scans"})]}),(C==null?void 0:C.tableScans.scansByTable)&&C.tableScans.scansByTable.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"By Table:"}),C.tableScans.scansByTable.map(M=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm","data-testid":`text-table-${M.tableNumber}`,children:["Table ",M.tableNumber]}),a.jsxs("span",{className:"text-sm font-medium","data-testid":`text-table-${M.tableNumber}-scans`,children:[M.count," scans"]})]},M.tableNumber))]})]})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"API Usage"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold","data-testid":"text-total-api-calls",children:(C==null?void 0:C.aiCalls.totalCalls)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total AI API calls"})]}),(C==null?void 0:C.aiCalls.callsByType)&&C.aiCalls.callsByType.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"By Type:"}),C.aiCalls.callsByType.map(M=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm capitalize","data-testid":`text-api-${M.callType}`,children:M.callType.replace(/_/g," ")}),a.jsxs("span",{className:"text-sm font-medium","data-testid":`text-api-${M.callType}-count`,children:[M.count," calls"]})]},M.callType))]})]})]})]}),!(C!=null&&C.tableScans.totalScans)&&!(C!=null&&C.aiCalls.totalCalls)&&a.jsx(pe,{className:"p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(zy,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-lg font-medium",children:"No analytics data yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Data will appear here once customers start using your menu"})]})})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Customer Ratings & Feedback"}),v&&a.jsx(wee,{restaurantId:v.id})]})]})]})})})]})}function See(){const[,e]=ls(),{toast:t}=it();p.useEffect(()=>{new URLSearchParams(window.location.search).get("canceled")==="true"&&(t({variant:"destructive",title:"Payment canceled",description:"You can try again when you're ready."}),window.history.replaceState({},"","/subscribe"))},[t]);const{data:n,isLoading:r,error:s}=Je({queryKey:["/api/subscription/create"],queryFn:async()=>{const i=await Pe("POST","/api/subscription/create");if(!i.ok){const o=await i.json().catch(()=>({message:"Failed to create checkout session"}));throw new Error(o.message||"Failed to create checkout session")}return i.json()},retry:!1});return p.useEffect(()=>{n!=null&&n.alreadyActive?e("/dashboard"):n!=null&&n.checkoutUrl&&(window.location.href=n.checkoutUrl)},[n,e]),r?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(pe,{className:"w-full",children:[a.jsxs(or,{children:[a.jsxs(lr,{className:"flex items-center gap-2",children:[a.jsx(Fo,{className:"h-6 w-6"}),"Subscribe to Waiterix"]}),a.jsx(Jr,{children:"Setting up your subscription..."})]}),a.jsxs(Pn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loader-subscription"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Preparing checkout..."})]})]})}):s?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(pe,{className:"w-full",children:[a.jsxs(or,{children:[a.jsxs(lr,{className:"flex items-center gap-2",children:[a.jsx(Fo,{className:"h-6 w-6"}),"Subscribe to Waiterix"]}),a.jsx(Jr,{children:"$50/month + AI usage ($0.10 per request)"})]}),a.jsxs(Pn,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-destructive/10 text-destructive p-4 rounded-md",children:[a.jsx("p",{className:"font-medium",children:"Error creating checkout session"}),a.jsx("p",{className:"text-sm mt-1",children:s instanceof Error?s.message:"An unexpected error occurred"})]}),a.jsx(Y,{variant:"outline",onClick:()=>e("/dashboard"),"data-testid":"button-back-dashboard",children:"Back to Dashboard"})]})]})}):a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(pe,{className:"w-full",children:[a.jsxs(or,{children:[a.jsxs(lr,{className:"flex items-center gap-2",children:[a.jsx(Fo,{className:"h-6 w-6"}),"Subscribe to Waiterix"]}),a.jsx(Jr,{children:"Redirecting to secure checkout..."})]}),a.jsxs(Pn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loader-redirect"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait..."})]})]})})}function ej(){const[,e]=ls(),{toast:t}=it(),r=new URLSearchParams(window.location.search).get("session_id"),{data:s,isLoading:i,error:o}=Je({queryKey:["/api/subscription/checkout-success",r],queryFn:async()=>{const c=await fetch(`http://localhost:3005/dev/api/subscription/checkout-success?session_id=${r}`,{credentials:"include"});if(!c.ok){const u=await c.json().catch(()=>({message:"Failed to verify payment"}));throw new Error(u.message||"Failed to verify payment")}return c.json()},retry:!1,enabled:!!r});return p.useEffect(()=>{s!=null&&s.success&&(t({title:"Welcome to Waiterix!",description:"Your subscription is now active."}),setTimeout(()=>{e("/dashboard")},2e3))},[s,e,t]),r?i?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(pe,{className:"w-full",children:[a.jsxs(or,{children:[a.jsx(lr,{children:"Payment Successful!"}),a.jsx(Jr,{children:"Activating your subscription..."})]}),a.jsxs(Pn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary","data-testid":"loader-activating"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we set up your account..."})]})]})}):o?a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(pe,{className:"w-full",children:[a.jsxs(or,{children:[a.jsxs(lr,{className:"flex items-center gap-2",children:[a.jsx(US,{className:"h-6 w-6 text-destructive"}),"Activation Failed"]}),a.jsx(Jr,{children:"We couldn't activate your subscription"})]}),a.jsxs(Pn,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-destructive/10 text-destructive p-4 rounded-md",children:[a.jsx("p",{className:"font-medium",children:"Error"}),a.jsx("p",{className:"text-sm mt-1",children:o instanceof Error?o.message:"An unexpected error occurred"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment was successful, but we encountered an issue activating your subscription. Please contact support or try logging in again."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{onClick:()=>e("/dashboard"),"data-testid":"button-dashboard",children:"Go to Dashboard"}),a.jsx(Y,{variant:"outline",onClick:()=>e("/subscribe"),"data-testid":"button-try-subscribe",children:"Try Again"})]})]})]})}):a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(pe,{className:"w-full",children:[a.jsxs(or,{children:[a.jsxs(lr,{className:"flex items-center gap-2",children:[a.jsx(Vi,{className:"h-6 w-6 text-green-500"}),"Welcome to Waiterix!"]}),a.jsx(Jr,{children:"Your subscription is now active"})]}),a.jsxs(Pn,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[a.jsx(Vi,{className:"h-16 w-16 text-green-500","data-testid":"icon-success"}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"font-medium",children:"Payment successful!"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to your dashboard..."})]})]})]})}):a.jsx("div",{className:"container max-w-2xl mx-auto py-12 flex items-center justify-center min-h-screen",children:a.jsxs(pe,{className:"w-full",children:[a.jsxs(or,{children:[a.jsxs(lr,{className:"flex items-center gap-2",children:[a.jsx(US,{className:"h-6 w-6 text-destructive"}),"Invalid Session"]}),a.jsx(Jr,{children:"No session ID found in URL"})]}),a.jsxs(Pn,{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:"This page requires a valid checkout session ID. Please try subscribing again."}),a.jsx(Y,{onClick:()=>e("/subscribe"),"data-testid":"button-try-again",children:"Try Again"})]})]})})}function Cee(){return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsxs(ou,{href:"/",className:"flex items-center gap-3","data-testid":"link-home",children:[a.jsx("img",{src:Ba,alt:"Waiterix",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold",children:"Waiterix"})]}),a.jsx(Y,{onClick:()=>window.location.href="/",variant:"ghost","data-testid":"button-back-home",children:"Back to Home"})]})}),a.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms and Conditions"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"Last updated: October 19, 2025"}),a.jsx(pe,{className:"p-8 mb-6",children:a.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"mb-4",children:'By accessing and using Waiterix ("Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these Terms and Conditions, please do not use our Service.'}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"2. Description of Service"}),a.jsx("p",{className:"mb-4",children:"Waiterix is a SaaS platform that provides AI-powered restaurant ordering solutions, including but not limited to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"AI Voice Waiter functionality with multi-language support"}),a.jsx("li",{children:"QR code menu generation and management"}),a.jsx("li",{children:"Online ordering and payment processing"}),a.jsx("li",{children:"Real-time order management"}),a.jsx("li",{children:"Customer analytics and reporting"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"3. User Accounts"}),a.jsx("p",{className:"mb-4",children:"To use Waiterix, you must create an account. You are responsible for:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Maintaining the confidentiality of your account credentials"}),a.jsx("li",{children:"All activities that occur under your account"}),a.jsx("li",{children:"Ensuring that your account information is accurate and up-to-date"}),a.jsx("li",{children:"Notifying us immediately of any unauthorized use of your account"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"4. Free Trial and Subscription"}),a.jsx("p",{className:"mb-4",children:"Waiterix offers a 3-month free trial period with no credit card required. After the trial period:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Service continues at $50/month base subscription fee"}),a.jsx("li",{children:"Additional AI usage fees apply based on OpenAI API consumption"}),a.jsx("li",{children:"You may cancel your subscription at any time"}),a.jsx("li",{children:"No refunds for partial months or unused time"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"5. AI Usage and Third-Party Services"}),a.jsx("p",{className:"mb-4",children:"Our AI features are powered by OpenAI's API. By using Waiterix:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"You acknowledge that AI-generated responses may not always be accurate"}),a.jsx("li",{children:"You are responsible for reviewing and monitoring AI interactions with your customers"}),a.jsx("li",{children:"AI usage fees are charged at cost based on actual OpenAI API consumption"}),a.jsx("li",{children:"We are not responsible for OpenAI service interruptions or changes"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"6. Payment Processing"}),a.jsx("p",{className:"mb-4",children:"Waiterix integrates with third-party payment processors (Stripe, Paystack, Adyen). You acknowledge that:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Payment processing is subject to the terms of the payment provider"}),a.jsx("li",{children:"Waiterix is not responsible for payment processing errors or disputes"}),a.jsx("li",{children:"You are responsible for all payment processing fees charged by providers"}),a.jsx("li",{children:"You must comply with all applicable payment card industry regulations"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"7. User Content and Data"}),a.jsx("p",{className:"mb-4",children:"You retain ownership of all content you upload to Waiterix, including:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Menu items, descriptions, and images"}),a.jsx("li",{children:"Restaurant information and branding"}),a.jsx("li",{children:"Customer order data and interactions"}),a.jsx("li",{children:"Voice recordings and AI conversation logs"})]}),a.jsx("p",{className:"mb-4",children:"By using our Service, you grant Waiterix a license to use, store, and process this content to provide the Service."}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"8. Prohibited Uses"}),a.jsx("p",{className:"mb-4",children:"You agree not to:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Use the Service for any illegal purpose"}),a.jsx("li",{children:"Violate any laws or regulations"}),a.jsx("li",{children:"Infringe on intellectual property rights of others"}),a.jsx("li",{children:"Upload malicious code or attempt to compromise system security"}),a.jsx("li",{children:"Harass, abuse, or harm other users"}),a.jsx("li",{children:"Attempt to reverse engineer or copy the Service"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"9. Account Termination"}),a.jsx("p",{className:"mb-4",children:"You may permanently delete your account at any time through your account settings. Upon deletion:"}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"All your data will be permanently removed from our systems"}),a.jsx("li",{children:"Active subscriptions will be cancelled"}),a.jsx("li",{children:"You will lose access to all content and order history"}),a.jsx("li",{children:"This action cannot be undone"})]}),a.jsx("p",{className:"mb-4",children:"We reserve the right to suspend or terminate accounts that violate these Terms."}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"10. Limitation of Liability"}),a.jsx("p",{className:"mb-4",children:'Waiterix is provided "as is" without warranties of any kind. We are not liable for:'}),a.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[a.jsx("li",{children:"Service interruptions or downtime"}),a.jsx("li",{children:"Data loss or corruption"}),a.jsx("li",{children:"Errors in AI-generated responses"}),a.jsx("li",{children:"Lost profits or business opportunities"}),a.jsx("li",{children:"Third-party service failures (OpenAI, payment processors)"})]}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"11. Modifications to Terms"}),a.jsx("p",{className:"mb-4",children:"We reserve the right to modify these Terms at any time. We will notify users of significant changes via email. Continued use of the Service after changes constitutes acceptance of the new Terms."}),a.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8",children:"12. Contact Information"}),a.jsx("p",{className:"mb-4",children:"For questions about these Terms, please contact us at:"}),a.jsxs("p",{className:"mb-4",children:["Email: support@waiterix.com",a.jsx("br",{}),"Website: https://waiterix.com"]})]})}),a.jsx("div",{className:"text-center",children:a.jsx(Y,{onClick:()=>window.location.href="/",size:"lg","data-testid":"button-accept-terms",children:"Back to Home"})})]}),a.jsx("footer",{className:"border-t py-8 mt-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-muted-foreground",children:a.jsx("p",{children:" 2025 Waiterix. All rights reserved."})})})]})}function Nee(){const[,e]=Ok("/receipt/:orderId"),t=e==null?void 0:e.orderId,[n,r]=p.useState(!1),[s,i]=p.useState(""),[o,l]=p.useState(!1),[c,u]=p.useState(!1),{toast:d}=it(),{t:f,formatCurrency:h}=Ot();p.useEffect(()=>{const k=document.createElement("style");return k.textContent=`
      @media print {
        body * {
          visibility: hidden;
        }
        .receipt-printable,
        .receipt-printable * {
          visibility: visible;
        }
        .receipt-printable {
          position: absolute;
          left: 0;
          top: 0;
          width: 100%;
        }
        @page {
          margin: 1cm;
        }
      }
    `,document.head.appendChild(k),()=>{document.head.removeChild(k)}},[]);const{data:m,isLoading:y,error:g}=Je({queryKey:["/api/orders",t,"receipt"],enabled:!!t}),w=async()=>{if(!s||!t)return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)){d({title:f("invalidEmail"),description:f("pleaseEnterValidEmail"),variant:"destructive"});return}l(!0);try{const E=await Pe("POST",`/api/orders/${t}/email-receipt`,{email:s});if(E.ok)d({title:f("receiptSent"),description:`${f("receiptSentTo")} ${s}`}),r(!1),i("");else{const N=await E.json();throw new Error(N.message||"Failed to send email")}}catch(E){console.error("Error sending receipt email:",E),d({title:f("failedToSend"),description:E instanceof Error?E.message:f("couldNotSendEmail"),variant:"destructive"})}finally{l(!1)}},x=()=>{c||(u(!0),window.print(),setTimeout(()=>u(!1),2e3))};if(y)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Be,{className:"h-8 w-8 animate-spin","data-testid":"loader-receipt"})});if(g||!m)return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(pe,{className:"p-8 max-w-md text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:f("receiptNotFound")}),a.jsx("p",{className:"text-muted-foreground",children:"We couldn't find this order receipt. Please check your order ID and try again."})]})});const{order:v,items:b,restaurant:S,table:C}=m;return a.jsxs("div",{className:"min-h-screen bg-muted/30 p-4 print:bg-white print:p-0",children:[a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-6 print:hidden",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full mb-4",children:a.jsx(aw,{className:"h-8 w-8 text-green-600 dark:text-green-400","data-testid":"icon-success"})}),a.jsx("h1",{className:"text-3xl font-bold mb-2",children:m.order.paymentMethod==="cash"?f("invoice"):f("receipt")}),a.jsx("p",{className:"text-muted-foreground",children:f("thankYouForYourOrder")})]}),a.jsxs(pe,{className:"p-8 print:shadow-none print:border-0 receipt-printable",children:[a.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[a.jsx("img",{src:Ba,alt:"Waiterix",className:"h-12 w-12 mx-auto mb-3","data-testid":"img-logo"}),a.jsx("h2",{className:"text-2xl font-bold mb-1",children:S.name}),S.address&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.address,S.city&&`, ${S.city}`,S.country&&`, ${S.country}`]}),S.phone&&a.jsx("p",{className:"text-sm text-muted-foreground",children:S.phone})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("orderNumber")}),a.jsxs("p",{className:"font-medium","data-testid":"text-order-id",children:["#",v.id.slice(0,8).toUpperCase()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("dateAndTime")}),a.jsx("p",{className:"font-medium","data-testid":"text-order-date",children:Ps(new Date(v.createdAt),"MMM d, yyyy 'at' h:mm a")})]}),C&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("table")}),a.jsxs("p",{className:"font-medium","data-testid":"text-table-number",children:[f("table")," ",C.tableNumber]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:f("paymentMethod")}),a.jsx("p",{className:"font-medium capitalize","data-testid":"text-payment-method",children:v.paymentMethod==="card"?"Card":v.paymentMethod})]})]}),a.jsx(zt,{className:"my-6"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:f("orderItems")}),a.jsx("div",{className:"space-y-3",children:b.map((k,E)=>a.jsxs("div",{className:"flex justify-between items-start","data-testid":`item-${E}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:k.name}),a.jsxs(He,{variant:"secondary",className:"text-xs",children:["",k.quantity]})]}),k.customerNote&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Note: ",k.customerNote]})]}),a.jsx("span",{className:"font-medium ml-4",children:h(parseFloat(k.price)*k.quantity)})]},k.id))})]}),a.jsx(zt,{className:"my-6"}),a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:f("subtotal")}),a.jsx("span",{"data-testid":"text-subtotal",children:h(parseFloat(v.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:f("tax")}),a.jsx("span",{"data-testid":"text-tax",children:h(parseFloat(v.tax))})]}),parseFloat(v.tip)>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tip"}),a.jsx("span",{"data-testid":"text-tip",children:h(parseFloat(v.tip))})]}),a.jsx(zt,{className:"my-2"}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:f("total")}),a.jsx("span",{"data-testid":"text-total",children:h(parseFloat(v.total))})]})]}),v.customerNote&&a.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-6",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:f("specialInstructions")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.customerNote})]}),a.jsx("div",{className:"text-center py-4 bg-green-50 dark:bg-green-900/10 rounded-lg",children:a.jsx(He,{variant:"secondary",className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:v.paymentStatus==="completed"?f("paymentCompleted"):f("paymentPending")})})]}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 print:hidden",children:[a.jsxs(Y,{variant:"default",className:"w-full",onClick:()=>{d({title:f("openingOrderTracking"),description:f("orderTrackingWillOpen")}),window.open(`/track/${t}`,"_blank")},"data-testid":"button-track-order",children:[a.jsx(ow,{className:"h-4 w-4 mr-2"}),f("trackOrder")]}),a.jsxs(Y,{onClick:()=>r(!0),variant:"outline",className:"flex-1","data-testid":"button-email-receipt",children:[a.jsx(gl,{className:"h-4 w-4 mr-2"}),f("emailReceipt")]}),a.jsxs(Y,{onClick:x,variant:"outline",className:"flex-1",disabled:c,"data-testid":"button-print",children:[a.jsx(Sp,{className:"h-4 w-4 mr-2"}),f(c?"printing":"printSavePDF")]})]}),a.jsxs("div",{className:"text-center mt-8 text-sm text-muted-foreground print:hidden",children:[a.jsx("p",{children:f("thankYouForDining")}),a.jsxs("p",{className:"mt-2",children:[f("questionsContact")," ",S.name," ",f("directly")]})]}),a.jsx("div",{className:"text-center mt-6 pt-6 border-t print:hidden",children:a.jsx("a",{href:"https://waiterix.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover-elevate inline-block px-3 py-1.5 rounded-md transition-colors","data-testid":"link-waiterix-branding-receipt-page",children:"Powered by Waiterix.com - AI Ordering Made Simple"})})]}),a.jsx(vn,{open:n,onOpenChange:r,children:a.jsxs(ln,{children:[a.jsxs(xn,{children:[a.jsx(cn,{children:f("emailReceipt")}),a.jsx(hr,{children:f("enterEmailToReceiveReceipt")})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ze,{htmlFor:"email",children:f("emailAddress")}),a.jsx(ze,{id:"email",type:"email",placeholder:"you@example.com",value:s,onChange:k=>i(k.target.value),onKeyDown:k=>{k.key==="Enter"&&w()},"data-testid":"input-email",autoFocus:!0})]})}),a.jsxs(Bi,{children:[a.jsx(Y,{variant:"outline",onClick:()=>r(!1),disabled:o,"data-testid":"button-cancel-email",children:f("cancel")}),a.jsx(Y,{onClick:w,disabled:o||!s,"data-testid":"button-send-email",children:o?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 mr-2 animate-spin"}),f("sending")]}):a.jsxs(a.Fragment,{children:[a.jsx(gl,{className:"h-4 w-4 mr-2"}),f("sendReceipt")]})})]})]})})]})}function jee(){var r,s;const[,e]=Ok("/receipt/:orderId"),t=e==null?void 0:e.orderId,{data:n}=Je({queryKey:["/api/orders",t,"receipt"],enabled:!!t});return a.jsx(Jp,{currencyCode:(r=n==null?void 0:n.restaurant)==null?void 0:r.currencyCode,defaultLanguage:(s=n==null?void 0:n.restaurant)==null?void 0:s.defaultLanguage,children:a.jsx(Nee,{})})}function Eee(){var h,m;const{orderId:e}=Ku(),[t,n]=p.useState(!1),{formatCurrency:r}=Ot(),{data:s,isLoading:i}=Je({queryKey:["/api/orders",e,"track"],refetchInterval:5e3});if(p.useEffect(()=>{var x;if(!s||!("restaurant"in s)||!((x=s.restaurant)!=null&&x.id))return;const g=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws?restaurantId=${s.restaurant.id}&customerSessionId=tracking-${e}&role=customer`,w=new WebSocket(g);return w.onmessage=v=>{try{const b=JSON.parse(v.data);b.type==="order-status-changed"&&b.data.orderId===e&&window.location.reload()}catch(b){console.error("WebSocket message error:",b)}},()=>{w.close()}},[(h=s==null?void 0:s.restaurant)==null?void 0:h.id,e]),p.useEffect(()=>{var y;((y=s==null?void 0:s.order)==null?void 0:y.status)==="completed"&&!(s!=null&&s.hasBeenRated)&&n(!0)},[(m=s==null?void 0:s.order)==null?void 0:m.status,s==null?void 0:s.hasBeenRated]),i)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fa,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading order details..."})]})});if(!(s!=null&&s.order))return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:a.jsxs(pe,{className:"max-w-md w-full p-8 text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Order Not Found"}),a.jsx("p",{className:"text-muted-foreground",children:"We couldn't find an order with this ID."})]})});const{order:o,items:l,restaurant:c,table:u}=s,d=[{key:"new",label:"Order Placed",icon:K3,description:"Your order has been received"},{key:"preparing",label:"Preparing",icon:TT,description:"Our chefs are preparing your food"},{key:"ready",label:"Ready",icon:FT,description:"Your order is ready!"},{key:"completed",label:"Completed",icon:Vi,description:"Enjoy your meal!"}],f=d.findIndex(y=>y.key===o.status);return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-3xl mx-auto p-4 py-8 space-y-6",children:[a.jsx(pe,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold","data-testid":"text-order-title",children:["Order #",o.id.slice(0,8)]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c==null?void 0:c.name}),u&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Table ",u.tableNumber]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed"}),a.jsx("p",{className:"font-medium",children:Ub(new Date(o.createdAt),{addSuffix:!0})})]})]})}),a.jsxs(pe,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Order Status"}),a.jsx("div",{className:"space-y-4",children:d.map((y,g)=>{const w=g===f,x=g<f,v=y.icon;return a.jsxs("div",{className:"flex items-start gap-4","data-testid":`status-step-${y.key}`,children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${x?"bg-green-500 text-white":w?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:a.jsx(v,{className:"h-6 w-6"})}),g<d.length-1&&a.jsx("div",{className:`w-0.5 h-16 ${g<f?"bg-green-500":"bg-muted"}`})]}),a.jsxs("div",{className:"flex-1 pt-2",children:[a.jsx("h3",{className:`font-semibold ${w?"text-primary":""}`,children:y.label}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.description}),w&&a.jsx(He,{className:"mt-2","data-testid":"badge-current-status",children:"Current Status"})]})]},y.key)})})]}),a.jsxs(pe,{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Items"}),a.jsx("div",{className:"space-y-3",children:l==null?void 0:l.map((y,g)=>a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-medium",children:[a.jsxs("span",{className:"text-muted-foreground",children:[y.quantity,"x"]})," ",y.name]}),y.customerNote&&a.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["Note: ",y.customerNote]})]}),a.jsx("p",{className:"font-medium",children:r(parseFloat(y.price))})]},g))}),a.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),a.jsx("span",{children:r(parseFloat(o.subtotal))})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tax"}),a.jsx("span",{children:r(parseFloat(o.tax))})]}),parseFloat(o.tip)>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tip"}),a.jsx("span",{children:r(parseFloat(o.tip))})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:r(parseFloat(o.total))})]})]})]}),o.status==="completed"&&!s.hasBeenRated&&t&&a.jsxs(pe,{className:"p-6 bg-primary/5 border-primary",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"How was your experience?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We'd love to hear your feedback!"}),a.jsx("button",{onClick:()=>{const y=new CustomEvent("open-rating-dialog",{detail:{orderId:o.id,items:l,restaurantId:c.id}});window.dispatchEvent(y)},className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover-elevate active-elevate-2","data-testid":"button-rate-order",children:"Rate Your Order"})]})]})})}function kee(){var n,r;const{orderId:e}=Ku(),{data:t}=Je({queryKey:["/api/orders",e,"track"],refetchInterval:5e3,enabled:!!e});return a.jsx(Jp,{currencyCode:(n=t==null?void 0:t.restaurant)==null?void 0:n.currencyCode,defaultLanguage:(r=t==null?void 0:t.restaurant)==null?void 0:r.defaultLanguage,children:a.jsx(Eee,{})})}function Tee({orderId:e,restaurantId:t,items:n,onClose:r}){const[s,i]=p.useState(!0),[o,l]=p.useState("items"),[c,u]=p.useState(0),[d,f]=p.useState({}),[h,m]=p.useState({foodQuality:0,serviceSpeed:0,cleanliness:0,staffFriendliness:0}),[y,g]=p.useState(""),{toast:w}=it(),{t:x}=Ot(),v=Xe({mutationFn:async j=>{const T=await Pe("POST","/api/ratings",j);if(!T.ok){const O=await T.json();throw new Error(O.message||"Failed to submit rating")}return T.json()},onSuccess:()=>{w({title:x("thankYou"),description:x("ratingSubmittedSuccessfully")}),b()},onError:j=>{w({title:x("error"),description:j.message,variant:"destructive"})}}),b=()=>{i(!1),setTimeout(r,300)},S=({value:j,onChange:T,label:O})=>a.jsxs("div",{className:"space-y-2",children:[O&&a.jsx("p",{className:"text-sm font-medium",children:O}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(I=>a.jsx("button",{type:"button",onClick:()=>T(I),className:"transition-all hover:scale-110 active:scale-95","data-testid":`star-${I}`,children:a.jsx(uu,{className:`h-8 w-8 ${I<=j?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},I))})]}),C=()=>{c<n.length-1?u(c+1):l("service")},k=async()=>{const j=n.map(async T=>{const O=d[T.menuItemId]||0;return O===0?null:v.mutateAsync({orderId:e,restaurantId:t,menuItemId:T.menuItemId,itemRating:O,serviceRatings:null,comment:null})});await v.mutateAsync({orderId:e,restaurantId:t,menuItemId:null,itemRating:null,serviceRatings:h,comment:y||null}),await Promise.all(j)},E=n[c];n.every(j=>d[j.menuItemId]>0);const N=Object.values(h).every(j=>j>0);return a.jsx(vn,{open:s,onOpenChange:i,children:a.jsxs(ln,{className:"sm:max-w-[500px]","data-testid":"dialog-rating",children:[a.jsxs(xn,{children:[a.jsx(cn,{children:x(o==="items"?"rateYourFood":"rateOurService")}),a.jsx(hr,{children:o==="items"?`${x("rateItem")} ${c+1} ${x("of")} ${n.length}`:x("tellUsAboutYourExperience")})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[o==="items"&&E&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:E.name}),a.jsx(S,{value:d[E.menuItemId]||0,onChange:j=>f({...d,[E.menuItemId]:j})})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[c>0&&a.jsx(Y,{variant:"outline",onClick:()=>u(c-1),"data-testid":"button-previous-item",children:x("previous")}),a.jsx(Y,{onClick:C,disabled:!d[E.menuItemId],className:"ml-auto","data-testid":"button-next-item",children:c<n.length-1?x("nextItem"):x("rateService")})]})]}),o==="service"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(S,{label:x("foodQuality"),value:h.foodQuality,onChange:j=>m({...h,foodQuality:j})}),a.jsx(S,{label:x("serviceSpeed"),value:h.serviceSpeed,onChange:j=>m({...h,serviceSpeed:j})}),a.jsx(S,{label:x("cleanliness"),value:h.cleanliness,onChange:j=>m({...h,cleanliness:j})}),a.jsx(S,{label:x("staffFriendliness"),value:h.staffFriendliness,onChange:j=>m({...h,staffFriendliness:j})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:x("additionalComments")}),a.jsx(mr,{placeholder:x("tellUsMoreAboutYourExperience"),value:y,onChange:j=>g(j.target.value),rows:3,"data-testid":"textarea-comment"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{variant:"outline",onClick:()=>l("items"),"data-testid":"button-back-to-items",children:x("back")}),a.jsxs(Y,{onClick:k,disabled:!N||v.isPending,className:"ml-auto","data-testid":"button-submit-rating",children:[v.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),x("submitRating")]})]})]})]})]})})}function _ee(){const[e,t]=p.useState(null);return p.useEffect(()=>{const n=r=>{const{orderId:s,items:i,restaurantId:o}=r.detail;t({orderId:s,restaurantId:o,items:i,onClose:()=>t(null)})};return window.addEventListener("open-rating-dialog",n),()=>window.removeEventListener("open-rating-dialog",n)},[]),e?a.jsx(Tee,{...e}):null}function Aee(){return a.jsxs(XF,{children:[a.jsx(Zn,{path:"/",component:v8}),a.jsx(Zn,{path:"/menu/:id",component:XQ}),a.jsx(Zn,{path:"/receipt/:orderId",component:jee}),a.jsx(Zn,{path:"/track/:orderId",component:kee}),a.jsx(Zn,{path:"/dashboard",component:ZN}),a.jsx(Zn,{path:"/dashboard/:tab",component:ZN}),a.jsx(Zn,{path:"/admin",component:bee}),a.jsx(Zn,{path:"/subscribe",component:See}),a.jsx(Zn,{path:"/subscribe/success",component:ej}),a.jsx(Zn,{path:"/subscribe/success/",component:ej}),a.jsx(Zn,{path:"/terms",component:Cee}),a.jsx(Zn,{component:LU})]})}function Pee(){return a.jsx(C4,{client:rt,children:a.jsx(OU,{children:a.jsxs(j_,{children:[a.jsx(UV,{}),a.jsx(_ee,{}),a.jsx(Aee,{})]})})})}jk(document.getElementById("root")).render(a.jsx(Pee,{}));
//# sourceMappingURL=index-Ctzc8_4r.js.map
